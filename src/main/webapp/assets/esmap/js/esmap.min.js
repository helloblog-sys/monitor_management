/*ESMap v1.2 2019-9-18 2:41:15 PM*/
(window.ESJsonpModules = window.ESJsonpModules || []).push([[1], [function (t, n, e) {
    "use strict";
    n.__esModule = !0, n.default = function (t, n) {
        if (!(t instanceof n)) throw new TypeError("Cannot call a class as a function")
    }
}, function (t, n, e) {
    "use strict";
    n.__esModule = !0;
    var r, o = e(68), i = (r = o) && r.__esModule ? r : {default: r};
    n.default = function () {
        function r(t, n) {
            for (var e = 0; e < n.length; e++) {
                var r = n[e];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), (0, i.default)(t, r.key, r)
            }
        }

        return function (t, n, e) {
            return n && r(t.prototype, n), e && r(t, e), t
        }
    }()
}, function (t, n) {
    var e = t.exports = {version: "2.6.5"};
    "number" == typeof __e && (__e = e)
}, , , , function (t, n, e) {
    var d = e(7), h = e(2), b = e(15), g = e(18), m = e(17), x = "prototype", O = function (t, n, e) {
        var r, o, i, u = t & O.F, f = t & O.G, c = t & O.S, a = t & O.P, s = t & O.B, l = t & O.W,
            p = f ? h : h[n] || (h[n] = {}), v = p[x], y = f ? d : c ? d[n] : (d[n] || {})[x];
        for (r in f && (e = n), e) (o = !u && y && void 0 !== y[r]) && m(p, r) || (i = o ? y[r] : e[r], p[r] = f && "function" != typeof y[r] ? e[r] : s && o ? b(i, d) : l && y[r] == i ? function (r) {
            var t = function (t, n, e) {
                if (this instanceof r) {
                    switch (arguments.length) {
                        case 0:
                            return new r;
                        case 1:
                            return new r(t);
                        case 2:
                            return new r(t, n)
                    }
                    return new r(t, n, e)
                }
                return r.apply(this, arguments)
            };
            return t[x] = r[x], t
        }(i) : a && "function" == typeof i ? b(Function.call, i) : i, a && ((p.virtual || (p.virtual = {}))[r] = i, t & O.R && v && !v[r] && g(v, r, i)))
    };
    O.F = 1, O.G = 2, O.S = 4, O.P = 8, O.B = 16, O.W = 32, O.U = 64, O.R = 128, t.exports = O
}, function (t, n) {
    var e = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = e)
}, function (t, n) {
    t.exports = function (t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}, function (t, n, e) {
    t.exports = {default: e(128), __esModule: !0}
}, function (t, n, e) {
    var r = e(49)("wks"), o = e(37), i = e(7).Symbol, u = "function" == typeof i;
    (t.exports = function (t) {
        return r[t] || (r[t] = u && i[t] || (u ? i : o)("Symbol." + t))
    }).store = r
}, function (t, n, e) {
    var r = e(12), o = e(67), i = e(52), u = Object.defineProperty;
    n.f = e(13) ? Object.defineProperty : function (t, n, e) {
        if (r(t), n = i(n, !0), r(e), o) try {
            return u(t, n, e)
        } catch (t) {
        }
        if ("get" in e || "set" in e) throw TypeError("Accessors not supported!");
        return "value" in e && (t[n] = e.value), t
    }
}, function (t, n, e) {
    var r = e(8);
    t.exports = function (t) {
        if (!r(t)) throw TypeError(t + " is not an object!");
        return t
    }
}, function (t, n, e) {
    t.exports = !e(19)(function () {
        return 7 != Object.defineProperty({}, "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, n, e) {
    "use strict";
    n.__esModule = !0;
    var r = u(e(102)), o = u(e(110)),
        i = "function" == typeof o.default && "symbol" == typeof r.default ? function (t) {
            return typeof t
        } : function (t) {
            return t && "function" == typeof o.default && t.constructor === o.default && t !== o.default.prototype ? "symbol" : typeof t
        };

    function u(t) {
        return t && t.__esModule ? t : {default: t}
    }

    n.default = "function" == typeof o.default && "symbol" === i(r.default) ? function (t) {
        return void 0 === t ? "undefined" : i(t)
    } : function (t) {
        return t && "function" == typeof o.default && t.constructor === o.default && t !== o.default.prototype ? "symbol" : void 0 === t ? "undefined" : i(t)
    }
}, function (t, n, e) {
    var i = e(27);
    t.exports = function (r, o, t) {
        if (i(r), void 0 === o) return r;
        switch (t) {
            case 1:
                return function (t) {
                    return r.call(o, t)
                };
            case 2:
                return function (t, n) {
                    return r.call(o, t, n)
                };
            case 3:
                return function (t, n, e) {
                    return r.call(o, t, n, e)
                }
        }
        return function () {
            return r.apply(o, arguments)
        }
    }
}, function (t, n, e) {
    t.exports = {default: e(121), __esModule: !0}
}, function (t, n) {
    var e = {}.hasOwnProperty;
    t.exports = function (t, n) {
        return e.call(t, n)
    }
}, function (t, n, e) {
    var r = e(11), o = e(28);
    t.exports = e(13) ? function (t, n, e) {
        return r.f(t, n, o(1, e))
    } : function (t, n, e) {
        return t[n] = e, t
    }
}, function (t, n) {
    t.exports = function (t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}, function (t, n, e) {
    t.exports = {default: e(145), __esModule: !0}
}, , function (t, n, e) {
    var r = e(47);
    t.exports = function (t) {
        return Object(r(t))
    }
}, function (t, n, e) {
    var r = e(56), o = e(47);
    t.exports = function (t) {
        return r(o(t))
    }
}, function (t, n, e) {
    var r = e(37)("meta"), o = e(8), i = e(17), u = e(11).f, f = 0, c = Object.isExtensible || function () {
        return !0
    }, a = !e(19)(function () {
        return c(Object.preventExtensions({}))
    }), s = function (t) {
        u(t, r, {value: {i: "O" + ++f, w: {}}})
    }, l = t.exports = {
        KEY: r, NEED: !1, fastKey: function (t, n) {
            if (!o(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!i(t, r)) {
                if (!c(t)) return "F";
                if (!n) return "E";
                s(t)
            }
            return t[r].i
        }, getWeak: function (t, n) {
            if (!i(t, r)) {
                if (!c(t)) return !0;
                if (!n) return !1;
                s(t)
            }
            return t[r].w
        }, onFreeze: function (t) {
            return a && l.NEED && c(t) && !i(t, r) && s(t), t
        }
    }
}, , function (t, n) {
    t.exports = !0
}, function (t, n) {
    t.exports = function (t) {
        if ("function" != typeof t) throw TypeError(t + " is not a function!");
        return t
    }
}, function (t, n) {
    t.exports = function (t, n) {
        return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n}
    }
}, function (t, n, e) {
    "use strict";
    var r = e(104)(!0);
    e(54)(String, "String", function (t) {
        this._t = String(t), this._i = 0
    }, function () {
        var t, n = this._t, e = this._i;
        return e >= n.length ? {value: void 0, done: !0} : (t = r(n, e), this._i += t.length, {value: t, done: !1})
    })
}, function (t, n) {
    t.exports = {}
}, function (t, n, e) {
    var r = e(70), o = e(57);
    t.exports = Object.keys || function (t) {
        return r(t, o)
    }
}, function (t, n) {
    var e = {}.toString;
    t.exports = function (t) {
        return e.call(t).slice(8, -1)
    }
}, function (t, n, e) {
    var r = e(11).f, o = e(17), i = e(10)("toStringTag");
    t.exports = function (t, n, e) {
        t && !o(t = e ? t : t.prototype, i) && r(t, i, {configurable: !0, value: n})
    }
}, function (t, n, e) {
    e(108);
    for (var r = e(7), o = e(18), i = e(30), u = e(10)("toStringTag"), f = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), c = 0; c < f.length; c++) {
        var a = f[c], s = r[a], l = s && s.prototype;
        l && !l[u] && o(l, u, a), i[a] = i.Array
    }
}, function (t, n, e) {
    t.exports = {default: e(139), __esModule: !0}
}, , function (t, n) {
    var e = 0, r = Math.random();
    t.exports = function (t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++e + r).toString(36))
    }
}, function (t, n, r) {
    var o = r(12), i = r(69), u = r(57), f = r(48)("IE_PROTO"), c = function () {
    }, a = "prototype", s = function () {
        var t, n = r(51)("iframe"), e = u.length;
        for (n.style.display = "none", r(71).appendChild(n), n.src = "javascript:", (t = n.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), s = t.F; e--;) delete s[a][u[e]];
        return s()
    };
    t.exports = Object.create || function (t, n) {
        var e;
        return null !== t ? (c[a] = o(t), e = new c, c[a] = null, e[f] = t) : e = s(), void 0 === n ? e : i(e, n)
    }
}, function (t, n, e) {
    var r = e(53), o = Math.min;
    t.exports = function (t) {
        return 0 < t ? o(r(t), 9007199254740991) : 0
    }
}, function (t, n) {
    n.f = {}.propertyIsEnumerable
}, function (t, n) {
}, , , , , , function (t, n) {
    t.exports = function (t) {
        if (null == t) throw TypeError("Can't call method on  " + t);
        return t
    }
}, function (t, n, e) {
    var r = e(49)("keys"), o = e(37);
    t.exports = function (t) {
        return r[t] || (r[t] = o(t))
    }
}, function (t, n, e) {
    var r = e(2), o = e(7), i = "__core-js_shared__", u = o[i] || (o[i] = {});
    (t.exports = function (t, n) {
        return u[t] || (u[t] = void 0 !== n ? n : {})
    })("versions", []).push({
        version: r.version,
        mode: e(26) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}, function (t, n, e) {
    var o = e(6), i = e(2), u = e(19);
    t.exports = function (t, n) {
        var e = (i.Object || {})[t] || Object[t], r = {};
        r[t] = n(e), o(o.S + o.F * u(function () {
            e(1)
        }), "Object", r)
    }
}, function (t, n, e) {
    var r = e(8), o = e(7).document, i = r(o) && r(o.createElement);
    t.exports = function (t) {
        return i ? o.createElement(t) : {}
    }
}, function (t, n, e) {
    var o = e(8);
    t.exports = function (t, n) {
        if (!o(t)) return t;
        var e, r;
        if (n && "function" == typeof (e = t.toString) && !o(r = e.call(t))) return r;
        if ("function" == typeof (e = t.valueOf) && !o(r = e.call(t))) return r;
        if (!n && "function" == typeof (e = t.toString) && !o(r = e.call(t))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (t, n) {
    var e = Math.ceil, r = Math.floor;
    t.exports = function (t) {
        return isNaN(t = +t) ? 0 : (0 < t ? r : e)(t)
    }
}, function (t, n, e) {
    "use strict";
    var m = e(26), x = e(6), O = e(55), S = e(18), w = e(30), _ = e(105), j = e(33), M = e(66), E = e(10)("iterator"),
        P = !([].keys && "next" in [].keys()), L = "values", k = function () {
            return this
        };
    t.exports = function (t, n, e, r, o, i, u) {
        _(e, n, r);
        var f, c, a, s = function (t) {
                if (!P && t in y) return y[t];
                switch (t) {
                    case"keys":
                    case L:
                        return function () {
                            return new e(this, t)
                        }
                }
                return function () {
                    return new e(this, t)
                }
            }, l = n + " Iterator", p = o == L, v = !1, y = t.prototype, d = y[E] || y["@@iterator"] || o && y[o],
            h = d || s(o), b = o ? p ? s("entries") : h : void 0, g = "Array" == n && y.entries || d;
        if (g && (a = M(g.call(new t))) !== Object.prototype && a.next && (j(a, l, !0), m || "function" == typeof a[E] || S(a, E, k)), p && d && d.name !== L && (v = !0, h = function () {
            return d.call(this)
        }), m && !u || !P && !v && y[E] || S(y, E, h), w[n] = h, w[l] = k, o) if (f = {
            values: p ? h : s(L),
            keys: i ? h : s("keys"),
            entries: b
        }, u) for (c in f) c in y || O(y, c, f[c]); else x(x.P + x.F * (P || v), n, f);
        return f
    }
}, function (t, n, e) {
    t.exports = e(18)
}, function (t, n, e) {
    var r = e(32);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
        return "String" == r(t) ? t.split("") : Object(t)
    }
}, function (t, n) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (t, n, e) {
    n.f = e(10)
}, function (t, n, e) {
    var r = e(7), o = e(2), i = e(26), u = e(58), f = e(11).f;
    t.exports = function (t) {
        var n = o.Symbol || (o.Symbol = i ? {} : r.Symbol || {});
        "_" == t.charAt(0) || t in n || f(n, t, {value: u.f(t)})
    }
}, function (t, n) {
    n.f = Object.getOwnPropertySymbols
}, , , , , , function (t, n, e) {
    var r = e(17), o = e(22), i = e(48)("IE_PROTO"), u = Object.prototype;
    t.exports = Object.getPrototypeOf || function (t) {
        return t = o(t), r(t, i) ? t[i] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null
    }
}, function (t, n, e) {
    t.exports = !e(13) && !e(19)(function () {
        return 7 != Object.defineProperty(e(51)("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    })
}, function (t, n, e) {
    t.exports = {default: e(100), __esModule: !0}
}, function (t, n, e) {
    var u = e(11), f = e(12), c = e(31);
    t.exports = e(13) ? Object.defineProperties : function (t, n) {
        f(t);
        for (var e, r = c(n), o = r.length, i = 0; i < o;) u.f(t, e = r[i++], n[e]);
        return t
    }
}, function (t, n, e) {
    var u = e(17), f = e(23), c = e(106)(!1), a = e(48)("IE_PROTO");
    t.exports = function (t, n) {
        var e, r = f(t), o = 0, i = [];
        for (e in r) e != a && u(r, e) && i.push(e);
        for (; n.length > o;) u(r, e = n[o++]) && (~c(i, e) || i.push(e));
        return i
    }
}, function (t, n, e) {
    var r = e(7).document;
    t.exports = r && r.documentElement
}, function (t, n) {
    t.exports = function (t, n) {
        return {value: n, done: !!t}
    }
}, function (t, n, e) {
    var r = e(32);
    t.exports = Array.isArray || function (t) {
        return "Array" == r(t)
    }
}, function (t, n, e) {
    var r = e(70), o = e(57).concat("length", "prototype");
    n.f = Object.getOwnPropertyNames || function (t) {
        return r(t, o)
    }
}, function (t, n, e) {
    var r = e(40), o = e(28), i = e(23), u = e(52), f = e(17), c = e(67), a = Object.getOwnPropertyDescriptor;
    n.f = e(13) ? a : function (t, n) {
        if (t = i(t), n = u(n, !0), c) try {
            return a(t, n)
        } catch (t) {
        }
        if (f(t, n)) return o(!r.f.call(t, n), t[n])
    }
}, function (t, n, e) {
    "use strict";
    var p = e(31), v = e(60), y = e(40), d = e(22), h = e(56), o = Object.assign;
    t.exports = !o || e(19)(function () {
        var t = {}, n = {}, e = Symbol(), r = "abcdefghijklmnopqrst";
        return t[e] = 7, r.split("").forEach(function (t) {
            n[t] = t
        }), 7 != o({}, t)[e] || Object.keys(o({}, n)).join("") != r
    }) ? function (t, n) {
        for (var e = d(t), r = arguments.length, o = 1, i = v.f, u = y.f; o < r;) for (var f, c = h(arguments[o++]), a = i ? p(c).concat(i(c)) : p(c), s = a.length, l = 0; l < s;) u.call(c, f = a[l++]) && (e[f] = c[f]);
        return e
    } : o
}, , function (t, n, e) {
    t.exports = {default: e(138), __esModule: !0}
}, , , , , , , , , , , , , , , , , , , , , , function (t, n, e) {
    e(101);
    var r = e(2).Object;
    t.exports = function (t, n, e) {
        return r.defineProperty(t, n, e)
    }
}, function (t, n, e) {
    var r = e(6);
    r(r.S + r.F * !e(13), "Object", {defineProperty: e(11).f})
}, function (t, n, e) {
    t.exports = {default: e(103), __esModule: !0}
}, function (t, n, e) {
    e(29), e(34), t.exports = e(58).f("iterator")
}, function (t, n, e) {
    var c = e(53), a = e(47);
    t.exports = function (f) {
        return function (t, n) {
            var e, r, o = String(a(t)), i = c(n), u = o.length;
            return i < 0 || u <= i ? f ? "" : void 0 : (e = o.charCodeAt(i)) < 55296 || 56319 < e || i + 1 === u || (r = o.charCodeAt(i + 1)) < 56320 || 57343 < r ? f ? o.charAt(i) : e : f ? o.slice(i, i + 2) : r - 56320 + (e - 55296 << 10) + 65536
        }
    }
}, function (t, n, e) {
    "use strict";
    var r = e(38), o = e(28), i = e(33), u = {};
    e(18)(u, e(10)("iterator"), function () {
        return this
    }), t.exports = function (t, n, e) {
        t.prototype = r(u, {next: o(1, e)}), i(t, n + " Iterator")
    }
}, function (t, n, e) {
    var c = e(23), a = e(39), s = e(107);
    t.exports = function (f) {
        return function (t, n, e) {
            var r, o = c(t), i = a(o.length), u = s(e, i);
            if (f && n != n) {
                for (; u < i;) if ((r = o[u++]) != r) return !0
            } else for (; u < i; u++) if ((f || u in o) && o[u] === n) return f || u || 0;
            return !f && -1
        }
    }
}, function (t, n, e) {
    var r = e(53), o = Math.max, i = Math.min;
    t.exports = function (t, n) {
        return (t = r(t)) < 0 ? o(t + n, 0) : i(t, n)
    }
}, function (t, n, e) {
    "use strict";
    var r = e(109), o = e(72), i = e(30), u = e(23);
    t.exports = e(54)(Array, "Array", function (t, n) {
        this._t = u(t), this._i = 0, this._k = n
    }, function () {
        var t = this._t, n = this._k, e = this._i++;
        return !t || e >= t.length ? (this._t = void 0, o(1)) : o(0, "keys" == n ? e : "values" == n ? t[e] : [e, t[e]])
    }, "values"), i.Arguments = i.Array, r("keys"), r("values"), r("entries")
}, function (t, n) {
    t.exports = function () {
    }
}, function (t, n, e) {
    t.exports = {default: e(111), __esModule: !0}
}, function (t, n, e) {
    e(112), e(41), e(115), e(116), t.exports = e(2).Symbol
}, function (t, n, e) {
    "use strict";
    var r = e(7), u = e(17), o = e(13), i = e(6), f = e(55), c = e(24).KEY, a = e(19), s = e(49), l = e(33), p = e(37),
        v = e(10), y = e(58), d = e(59), h = e(113), b = e(73), g = e(12), m = e(8), x = e(23), O = e(52), S = e(28),
        w = e(38), _ = e(114), j = e(75), M = e(11), E = e(31), P = j.f, L = M.f, k = _.f, N = r.Symbol, T = r.JSON,
        F = T && T.stringify, R = "prototype", A = v("_hidden"), I = v("toPrimitive"), C = {}.propertyIsEnumerable,
        D = s("symbol-registry"), J = s("symbols"), U = s("op-symbols"), G = Object[R], W = "function" == typeof N,
        z = r.QObject, V = !z || !z[R] || !z[R].findChild, Y = o && a(function () {
            return 7 != w(L({}, "a", {
                get: function () {
                    return L(this, "a", {value: 7}).a
                }
            })).a
        }) ? function (t, n, e) {
            var r = P(G, n);
            r && delete G[n], L(t, n, e), r && t !== G && L(G, n, r)
        } : L, q = function (t) {
            var n = J[t] = w(N[R]);
            return n._k = t, n
        }, B = W && "symbol" == typeof N.iterator ? function (t) {
            return "symbol" == typeof t
        } : function (t) {
            return t instanceof N
        }, H = function (t, n, e) {
            return t === G && H(U, n, e), g(t), n = O(n, !0), g(e), u(J, n) ? (e.enumerable ? (u(t, A) && t[A][n] && (t[A][n] = !1), e = w(e, {enumerable: S(0, !1)})) : (u(t, A) || L(t, A, S(1, {})), t[A][n] = !0), Y(t, n, e)) : L(t, n, e)
        }, K = function (t, n) {
            g(t);
            for (var e, r = h(n = x(n)), o = 0, i = r.length; o < i;) H(t, e = r[o++], n[e]);
            return t
        }, $ = function (t) {
            var n = C.call(this, t = O(t, !0));
            return !(this === G && u(J, t) && !u(U, t)) && (!(n || !u(this, t) || !u(J, t) || u(this, A) && this[A][t]) || n)
        }, Q = function (t, n) {
            if (t = x(t), n = O(n, !0), t !== G || !u(J, n) || u(U, n)) {
                var e = P(t, n);
                return !e || !u(J, n) || u(t, A) && t[A][n] || (e.enumerable = !0), e
            }
        }, X = function (t) {
            for (var n, e = k(x(t)), r = [], o = 0; e.length > o;) u(J, n = e[o++]) || n == A || n == c || r.push(n);
            return r
        }, Z = function (t) {
            for (var n, e = t === G, r = k(e ? U : x(t)), o = [], i = 0; r.length > i;) !u(J, n = r[i++]) || e && !u(G, n) || o.push(J[n]);
            return o
        };
    W || (f((N = function () {
        if (this instanceof N) throw TypeError("Symbol is not a constructor!");
        var n = p(0 < arguments.length ? arguments[0] : void 0), e = function (t) {
            this === G && e.call(U, t), u(this, A) && u(this[A], n) && (this[A][n] = !1), Y(this, n, S(1, t))
        };
        return o && V && Y(G, n, {configurable: !0, set: e}), q(n)
    })[R], "toString", function () {
        return this._k
    }), j.f = Q, M.f = H, e(74).f = _.f = X, e(40).f = $, e(60).f = Z, o && !e(26) && f(G, "propertyIsEnumerable", $, !0), y.f = function (t) {
        return q(v(t))
    }), i(i.G + i.W + i.F * !W, {Symbol: N});
    for (var tt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), nt = 0; tt.length > nt;) v(tt[nt++]);
    for (var et = E(v.store), rt = 0; et.length > rt;) d(et[rt++]);
    i(i.S + i.F * !W, "Symbol", {
        for: function (t) {
            return u(D, t += "") ? D[t] : D[t] = N(t)
        }, keyFor: function (t) {
            if (!B(t)) throw TypeError(t + " is not a symbol!");
            for (var n in D) if (D[n] === t) return n
        }, useSetter: function () {
            V = !0
        }, useSimple: function () {
            V = !1
        }
    }), i(i.S + i.F * !W, "Object", {
        create: function (t, n) {
            return void 0 === n ? w(t) : K(w(t), n)
        },
        defineProperty: H,
        defineProperties: K,
        getOwnPropertyDescriptor: Q,
        getOwnPropertyNames: X,
        getOwnPropertySymbols: Z
    }), T && i(i.S + i.F * (!W || a(function () {
        var t = N();
        return "[null]" != F([t]) || "{}" != F({a: t}) || "{}" != F(Object(t))
    })), "JSON", {
        stringify: function (t) {
            for (var n, e, r = [t], o = 1; arguments.length > o;) r.push(arguments[o++]);
            if (e = n = r[1], (m(n) || void 0 !== t) && !B(t)) return b(n) || (n = function (t, n) {
                if ("function" == typeof e && (n = e.call(this, t, n)), !B(n)) return n
            }), r[1] = n, F.apply(T, r)
        }
    }), N[R][I] || e(18)(N[R], I, N[R].valueOf), l(N, "Symbol"), l(Math, "Math", !0), l(r.JSON, "JSON", !0)
}, function (t, n, e) {
    var f = e(31), c = e(60), a = e(40);
    t.exports = function (t) {
        var n = f(t), e = c.f;
        if (e) for (var r, o = e(t), i = a.f, u = 0; o.length > u;) i.call(t, r = o[u++]) && n.push(r);
        return n
    }
}, function (t, n, e) {
    var r = e(23), o = e(74).f, i = {}.toString,
        u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    t.exports.f = function (t) {
        return u && "[object Window]" == i.call(t) ? function (t) {
            try {
                return o(t)
            } catch (t) {
                return u.slice()
            }
        }(t) : o(r(t))
    }
}, function (t, n, e) {
    e(59)("asyncIterator")
}, function (t, n, e) {
    e(59)("observable")
}, , , , , function (t, n, e) {
    e(122);
    var r = e(2).Object;
    t.exports = function (t, n) {
        return r.create(t, n)
    }
}, function (t, n, e) {
    var r = e(6);
    r(r.S, "Object", {create: e(38)})
}, , , function (t, n, v) {
    function c(e) {
        var r = {};

        function o(t) {
            if (r[t]) return r[t].exports;
            var n = r[t] = {i: t, l: !1, exports: {}};
            return e[t].call(n.exports, n, n.exports, o), n.l = !0, n.exports
        }

        o.m = e, o.c = r, o.i = function (t) {
            return t
        }, o.d = function (t, n, e) {
            o.o(t, n) || Object.defineProperty(t, n, {configurable: !1, enumerable: !0, get: e})
        }, o.r = function (t) {
            Object.defineProperty(t, "__esModule", {value: !0})
        }, o.n = function (t) {
            var n = t && t.__esModule ? function () {
                return t.default
            } : function () {
                return t
            };
            return o.d(n, "a", n), n
        }, o.o = function (t, n) {
            return Object.prototype.hasOwnProperty.call(t, n)
        }, o.p = "/", o.oe = function (t) {
            throw t
        };
        var t = o(o.s = ENTRY_MODULE);
        return t.default || t
    }

    var y = "[\\.|\\-|\\+|\\w|/|@]+", d = "\\(\\s*(/\\*.*?\\*/)?\\s*.*?(" + y + ").*?\\)";

    function h(t) {
        return (t + "").replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
    }

    function p(t, n, e) {
        var r = {};
        r[e] = [];
        var o = n.toString(), i = o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
        if (!i) return r;
        for (var u, f = i[1], c = new RegExp("(\\\\n|\\W)" + h(f) + d, "g"); u = c.exec(o);) "dll-reference" !== u[3] && r[e].push(u[3]);
        for (c = new RegExp("\\(" + h(f) + '\\("(dll-reference\\s(' + y + '))"\\)\\)' + d, "g"); u = c.exec(o);) t[u[2]] || (r[e].push(u[1]), t[u[2]] = v(u[1]).m), r[u[2]] = r[u[2]] || [], r[u[2]].push(u[4]);
        for (var a, s = Object.keys(r), l = 0; l < s.length; l++) for (var p = 0; p < r[s[l]].length; p++) a = r[s[l]][p], isNaN(1 * a) || (r[s[l]][p] = 1 * r[s[l]][p]);
        return r
    }

    function b(e) {
        return Object.keys(e).reduce(function (t, n) {
            return t || 0 < e[n].length
        }, !1)
    }

    t.exports = function (t, n) {
        n = n || {};
        var e = {main: v.m}, r = n.all ? {main: Object.keys(e.main)} : function (t, n) {
            for (var e = {main: [n]}, r = {main: []}, o = {main: {}}; b(e);) for (var i = Object.keys(e), u = 0; u < i.length; u++) {
                var f = i[u], c = e[f].pop();
                if (o[f] = o[f] || {}, !o[f][c] && t[f][c]) {
                    o[f][c] = !0, r[f] = r[f] || [], r[f].push(c);
                    for (var a = p(t, t[f][c], f), s = Object.keys(a), l = 0; l < s.length; l++) e[s[l]] = e[s[l]] || [], e[s[l]] = e[s[l]].concat(a[s[l]])
                }
            }
            return r
        }(e, t), o = "";
        Object.keys(r).filter(function (t) {
            return "main" !== t
        }).forEach(function (n) {
            for (var t = 0; r[n][t];) t++;
            r[n].push(t), e[n][t] = "(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })", o = o + "var " + n + " = (" + c.toString().replace("ENTRY_MODULE", JSON.stringify(t)) + ")({" + r[n].map(function (t) {
                return JSON.stringify(t) + ": " + e[n][t].toString()
            }).join(",") + "});\n"
        }), o = o + "new ((" + c.toString().replace("ENTRY_MODULE", JSON.stringify(t)) + ")({" + r.main.map(function (t) {
            return JSON.stringify(t) + ": " + e.main[t].toString()
        }).join(",") + "}))(self);";
        var i = new window.Blob([o], {type: "text/javascript"});
        if (n.bare) return i;
        var u = (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(i),
            f = new window.Worker(u);
        return f.objectURL = u, f
    }
}, , , function (t, n, e) {
    e(129), t.exports = e(2).Object.assign
}, function (t, n, e) {
    var r = e(6);
    r(r.S + r.F, "Object", {assign: e(76)})
}, , function (t, n, e) {
    t.exports = {default: e(132), __esModule: !0}
}, function (t, n, e) {
    e(133), t.exports = e(2).Number.isInteger
}, function (t, n, e) {
    var r = e(6);
    r(r.S, "Number", {isInteger: e(134)})
}, function (t, n, e) {
    var r = e(8), o = Math.floor;
    t.exports = function (t) {
        return !r(t) && isFinite(t) && o(t) === t
    }
}, function (t, n, e) {
    t.exports = {default: e(136), __esModule: !0}
}, function (t, n, e) {
    e(137), t.exports = e(2).Object.freeze
}, function (t, n, e) {
    var r = e(8), o = e(24).onFreeze;
    e(50)("freeze", function (n) {
        return function (t) {
            return n && r(t) ? n(o(t)) : t
        }
    })
}, function (t, n, e) {
    var r = e(2), o = r.JSON || (r.JSON = {stringify: JSON.stringify});
    t.exports = function (t) {
        return o.stringify.apply(o, arguments)
    }
}, function (t, n, e) {
    e(140), t.exports = e(2).Math.sign
}, function (t, n, e) {
    var r = e(6);
    r(r.S, "Math", {sign: e(141)})
}, function (t, n) {
    t.exports = Math.sign || function (t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}, function (t, n, e) {
    t.exports = {default: e(143), __esModule: !0}
}, function (t, n, e) {
    e(144), t.exports = Math.pow(2, -52)
}, function (t, n, e) {
    var r = e(6);
    r(r.S, "Number", {EPSILON: Math.pow(2, -52)})
}, function (t, n, e) {
    e(146);
    var r = e(2).Object;
    t.exports = function (t, n) {
        return r.defineProperties(t, n)
    }
}, function (t, n, e) {
    var r = e(6);
    r(r.S + r.F * !e(13), "Object", {defineProperties: e(69)})
}]]);
(window.ESJsonpModules = window.ESJsonpModules || []).push([[4], [, , , function (t, e, r) {
    t.exports = {default: r(98), __esModule: !0}
}, function (t, e, r) {
    "use strict";
    e.__esModule = !0;
    var n, o = r(14), i = (n = o) && n.__esModule ? n : {default: n};
    e.default = function (t, e) {
        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" !== (void 0 === e ? "undefined" : (0, i.default)(e)) && "function" != typeof e ? t : e
    }
}, function (t, e, r) {
    "use strict";
    e.__esModule = !0;
    var n = u(r(117)), o = u(r(16)), i = u(r(14));

    function u(t) {
        return t && t.__esModule ? t : {default: t}
    }

    e.default = function (t, e) {
        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0, i.default)(e)));
        t.prototype = (0, o.default)(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), e && (n.default ? (0, n.default)(t, e) : t.__proto__ = e)
    }
}, , , , , , , , , , , , , , , , function (t, r, i) {
    "use strict";
    (function (t) {
        var n = r;

        function o(t, e, r) {
            for (var n = Object.keys(e), o = 0; o < n.length; ++o) void 0 !== t[n[o]] && r || (t[n[o]] = e[n[o]]);
            return t
        }

        function e(t) {
            function r(t, e) {
                if (!(this instanceof r)) return new r(t, e);
                Object.defineProperty(this, "message", {
                    get: function () {
                        return t
                    }
                }), Error.captureStackTrace ? Error.captureStackTrace(this, r) : Object.defineProperty(this, "stack", {value: (new Error).stack || ""}), e && o(this, e)
            }

            return (r.prototype = Object.create(Error.prototype)).constructor = r, Object.defineProperty(r.prototype, "name", {
                get: function () {
                    return t
                }
            }), r.prototype.toString = function () {
                return this.name + ": " + this.message
            }, r
        }

        n.asPromise = i(192), n.base64 = i(193), n.EventEmitter = i(194), n.float = i(195), n.inquire = i(196), n.utf8 = i(197), n.pool = i(198), n.LongBits = i(199), n.global = "undefined" != typeof window && window || void 0 !== t && t || "undefined" != typeof self && self || this, n.emptyArray = Object.freeze ? Object.freeze([]) : [], n.emptyObject = Object.freeze ? Object.freeze({}) : {}, n.isNode = Boolean(n.global.process && n.global.process.versions && n.global.process.versions.node), n.isInteger = Number.isInteger || function (t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t
        }, n.isString = function (t) {
            return "string" == typeof t || t instanceof String
        }, n.isObject = function (t) {
            return t && "object" == typeof t
        }, n.isset = n.isSet = function (t, e) {
            var r = t[e];
            return !(null == r || !t.hasOwnProperty(e)) && ("object" != typeof r || 0 < (Array.isArray(r) ? r.length : Object.keys(r).length))
        }, n.Buffer = function () {
            try {
                var t = n.inquire("buffer").Buffer;
                return t.prototype.utf8Write ? t : null
            } catch (t) {
                return null
            }
        }(), n._Buffer_from = null, n._Buffer_allocUnsafe = null, n.newBuffer = function (t) {
            return "number" == typeof t ? n.Buffer ? n._Buffer_allocUnsafe(t) : new n.Array(t) : n.Buffer ? n._Buffer_from(t) : "undefined" == typeof Uint8Array ? t : new Uint8Array(t)
        }, n.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, n.Long = n.global.dcodeIO && n.global.dcodeIO.Long || n.global.Long || n.inquire("long"), n.key2Re = /^true|false|0|1$/, n.key32Re = /^-?(?:0|[1-9][0-9]*)$/, n.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, n.longToHash = function (t) {
            return t ? n.LongBits.from(t).toHash() : n.LongBits.zeroHash
        }, n.longFromHash = function (t, e) {
            var r = n.LongBits.fromHash(t);
            return n.Long ? n.Long.fromBits(r.lo, r.hi, e) : r.toNumber(Boolean(e))
        }, n.merge = o, n.lcFirst = function (t) {
            return t.charAt(0).toLowerCase() + t.substring(1)
        }, n.newError = e, n.ProtocolError = e("ProtocolError"), n.oneOfGetter = function (t) {
            for (var r = {}, e = 0; e < t.length; ++e) r[t[e]] = 1;
            return function () {
                for (var t = Object.keys(this), e = t.length - 1; -1 < e; --e) if (1 === r[t[e]] && void 0 !== this[t[e]] && null !== this[t[e]]) return t[e]
            }
        }, n.oneOfSetter = function (r) {
            return function (t) {
                for (var e = 0; e < r.length; ++e) r[e] !== t && delete this[r[e]]
            }
        }, n.toJSONOptions = {longs: String, enums: String, bytes: String, json: !0}, n._configure = function () {
            var r = n.Buffer;
            r ? (n._Buffer_from = r.from !== Uint8Array.from && r.from || function (t, e) {
                return new r(t, e)
            }, n._Buffer_allocUnsafe = r.allocUnsafe || function (t) {
                return new r(t)
            }) : n._Buffer_from = n._Buffer_allocUnsafe = null
        }
    }).call(this, i(191))
}, , , , function (t, e, r) {
    var h = r(15), p = r(79), y = r(80), d = r(12), v = r(39), g = r(62), m = {}, b = {};
    (e = t.exports = function (t, e, r, n, o) {
        var i, u, s, c, f = o ? function () {
            return t
        } : g(t), a = h(r, n, e ? 2 : 1), l = 0;
        if ("function" != typeof f) throw TypeError(t + " is not iterable!");
        if (y(f)) {
            for (i = v(t.length); l < i; l++) if ((c = e ? a(d(u = t[l])[0], u[1]) : a(t[l])) === m || c === b) return c
        } else for (s = f.call(t); !(u = s.next()).done;) if ((c = p(s, a, u.value, e)) === m || c === b) return c
    }).BREAK = m, e.RETURN = b
}, , , , , , , , , , , function (t, e, r) {
    var n = r(8);
    t.exports = function (t, e) {
        if (!n(t) || t._t !== e) throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}, , , , , , function (t, e, r) {
    var o = r(18);
    t.exports = function (t, e, r) {
        for (var n in e) r && t[n] ? t[n] = e[n] : o(t, n, e[n]);
        return t
    }
}, function (t, e) {
    t.exports = function (t, e, r, n) {
        if (!(t instanceof e) || void 0 !== n && n in t) throw TypeError(r + ": incorrect invocation!");
        return t
    }
}, function (t, e, r) {
    t.exports = {default: r(165), __esModule: !0}
}, function (t, e, r) {
    t.exports = {default: r(167), __esModule: !0}
}, , , , , , , , , , , , , , , , function (t, e, r) {
    var b = r(15), w = r(56), _ = r(22), x = r(39), n = r(159);
    t.exports = function (l, t) {
        var h = 1 == l, p = 2 == l, y = 3 == l, d = 4 == l, v = 6 == l, g = 5 == l || v, m = t || n;
        return function (t, e, r) {
            for (var n, o, i = _(t), u = w(i), s = b(e, r, 3), c = x(u.length), f = 0, a = h ? m(t, c) : p ? m(t, 0) : void 0; f < c; f++) if ((g || f in u) && (o = s(n = u[f], f, i), l)) if (h) a[f] = o; else if (o) switch (l) {
                case 3:
                    return !0;
                case 5:
                    return n;
                case 6:
                    return f;
                case 2:
                    a.push(n)
            } else if (d) return !1;
            return v ? -1 : y || d ? d : a
        }
    }
}, function (t, e, r) {
    var n = r(63), o = r(10)("iterator"), i = r(30);
    t.exports = r(2).getIteratorMethod = function (t) {
        if (null != t) return t[o] || t["@@iterator"] || i[n(t)]
    }
}, function (t, e, r) {
    var o = r(32), i = r(10)("toStringTag"), u = "Arguments" == o(function () {
        return arguments
    }());
    t.exports = function (t) {
        var e, r, n;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = function (t, e) {
            try {
                return t[e]
            } catch (t) {
            }
        }(e = Object(t), i)) ? r : u ? o(e) : "Object" == (n = o(e)) && "function" == typeof e.callee ? "Arguments" : n
    }
}, function (t, e, r) {
    "use strict";
    var o = r(27);

    function n(t) {
        var r, n;
        this.promise = new t(function (t, e) {
            if (void 0 !== r || void 0 !== n) throw TypeError("Bad Promise constructor");
            r = t, n = e
        }), this.resolve = o(r), this.reject = o(n)
    }

    t.exports.f = function (t) {
        return new n(t)
    }
}, , , , , , , , , , , , , , , function (t, e, r) {
    var i = r(12);
    t.exports = function (e, t, r, n) {
        try {
            return n ? t(i(r)[0], r[1]) : t(r)
        } catch (t) {
            var o = e.return;
            throw void 0 !== o && i(o.call(e)), t
        }
    }
}, function (t, e, r) {
    var n = r(30), o = r(10)("iterator"), i = Array.prototype;
    t.exports = function (t) {
        return void 0 !== t && (n.Array === t || i[o] === t)
    }
}, function (t, e, r) {
    "use strict";
    var l = r(7), h = r(6), p = r(24), y = r(19), d = r(18), v = r(42), g = r(25), m = r(43), b = r(8), w = r(33),
        _ = r(11).f, x = r(61)(0), E = r(13);
    t.exports = function (r, t, e, n, o, i) {
        var u = l[r], s = u, c = o ? "set" : "add", f = s && s.prototype, a = {};
        return E && "function" == typeof s && (i || f.forEach && !y(function () {
            (new s).entries().next()
        })) ? (s = t(function (t, e) {
            m(t, s, r, "_c"), t._c = new u, null != e && g(e, o, t[c], t)
        }), x("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","), function (n) {
            var o = "add" == n || "set" == n;
            n in f && (!i || "clear" != n) && d(s.prototype, n, function (t, e) {
                if (m(this, s, n), !o && i && !b(t)) return "get" == n && void 0;
                var r = this._c[n](0 === t ? 0 : t, e);
                return o ? this : r
            })
        }), i || _(s.prototype, "size", {
            get: function () {
                return this._c.size
            }
        })) : (s = n.getConstructor(t, r, o, c), v(s.prototype, e), p.NEED = !0), w(s, r), a[r] = s, h(h.G + h.W + h.F, a), i || n.setStrong(s, r, o), s
    }
}, function (t, e, r) {
    "use strict";
    var n = r(6);
    t.exports = function (t) {
        n(n.S, t, {
            of: function () {
                for (var t = arguments.length, e = new Array(t); t--;) e[t] = arguments[t];
                return new this(e)
            }
        })
    }
}, function (t, e, r) {
    "use strict";
    var n = r(6), u = r(27), s = r(15), c = r(25);
    t.exports = function (t) {
        n(n.S, t, {
            from: function (t) {
                var e, r, n, o, i = arguments[1];
                return u(this), (e = void 0 !== i) && u(i), null == t ? new this : (r = [], e ? (n = 0, o = s(i, arguments[2], 2), c(t, !1, function (t) {
                    r.push(o(t, n++))
                })) : c(t, !1, r.push, r), new this(r))
            }
        })
    }
}, function (t, e, r) {
    var o = r(12), i = r(27), u = r(10)("species");
    t.exports = function (t, e) {
        var r, n = o(t).constructor;
        return void 0 === n || null == (r = o(n)[u]) ? e : i(r)
    }
}, function (t, e, r) {
    var n, o, i, u = r(15), s = r(169), c = r(71), f = r(51), a = r(7), l = a.process, h = a.setImmediate,
        p = a.clearImmediate, y = a.MessageChannel, d = a.Dispatch, v = 0, g = {}, m = "onreadystatechange",
        b = function () {
            var t = +this;
            if (g.hasOwnProperty(t)) {
                var e = g[t];
                delete g[t], e()
            }
        }, w = function (t) {
            b.call(t.data)
        };
    h && p || (h = function (t) {
        for (var e = [], r = 1; arguments.length > r;) e.push(arguments[r++]);
        return g[++v] = function () {
            s("function" == typeof t ? t : Function(t), e)
        }, n(v), v
    }, p = function (t) {
        delete g[t]
    }, "process" == r(32)(l) ? n = function (t) {
        l.nextTick(u(b, t, 1))
    } : d && d.now ? n = function (t) {
        d.now(u(b, t, 1))
    } : y ? (i = (o = new y).port2, o.port1.onmessage = w, n = u(i.postMessage, i, 1)) : a.addEventListener && "function" == typeof postMessage && !a.importScripts ? (n = function (t) {
        a.postMessage(t + "", "*")
    }, a.addEventListener("message", w, !1)) : n = m in f("script") ? function (t) {
        c.appendChild(f("script"))[m] = function () {
            c.removeChild(this), b.call(t)
        }
    } : function (t) {
        setTimeout(u(b, t, 1), 0)
    }), t.exports = {set: h, clear: p}
}, function (t, e) {
    t.exports = function (t) {
        try {
            return {e: !1, v: t()}
        } catch (t) {
            return {e: !0, v: t}
        }
    }
}, function (t, e, r) {
    var n = r(12), o = r(8), i = r(64);
    t.exports = function (t, e) {
        if (n(t), o(e) && e.constructor === t) return e;
        var r = i.f(t);
        return (0, r.resolve)(e), r.promise
    }
}, function (t, e, r) {
    "use strict";
    var n = r(7), o = r(2), i = r(11), u = r(13), s = r(10)("species");
    t.exports = function (t) {
        var e = "function" == typeof o[t] ? o[t] : n[t];
        u && e && !e[s] && i.f(e, s, {
            configurable: !0, get: function () {
                return this
            }
        })
    }
}, function (t, e, r) {
    var i = r(10)("iterator"), u = !1;
    try {
        var n = [7][i]();
        n.return = function () {
            u = !0
        }, Array.from(n, function () {
            throw 2
        })
    } catch (t) {
    }
    t.exports = function (t, e) {
        if (!e && !u) return !1;
        var r = !1;
        try {
            var n = [7], o = n[i]();
            o.next = function () {
                return {done: r = !0}
            }, n[i] = function () {
                return o
            }, t(n)
        } catch (t) {
        }
        return r
    }
}, function (t, e, r) {
    t.exports = {default: r(176), __esModule: !0}
}, function (t, e, r) {
    "use strict";
    t.exports = l;
    var n, o = r(21), i = o.LongBits, u = o.base64, s = o.utf8;

    function c(t, e, r) {
        this.fn = t, this.len = e, this.next = void 0, this.val = r
    }

    function f() {
    }

    function a(t) {
        this.head = t.head, this.tail = t.tail, this.len = t.len, this.next = t.states
    }

    function l() {
        this.len = 0, this.head = new c(f, 0, 0), this.tail = this.head, this.states = null
    }

    function h(t, e, r) {
        e[r] = 255 & t
    }

    function p(t, e) {
        this.len = t, this.next = void 0, this.val = e
    }

    function y(t, e, r) {
        for (; t.hi;) e[r++] = 127 & t.lo | 128, t.lo = (t.lo >>> 7 | t.hi << 25) >>> 0, t.hi >>>= 7;
        for (; 127 < t.lo;) e[r++] = 127 & t.lo | 128, t.lo = t.lo >>> 7;
        e[r++] = t.lo
    }

    function d(t, e, r) {
        e[r] = 255 & t, e[r + 1] = t >>> 8 & 255, e[r + 2] = t >>> 16 & 255, e[r + 3] = t >>> 24
    }

    l.create = o.Buffer ? function () {
        return (l.create = function () {
            return new n
        })()
    } : function () {
        return new l
    }, l.alloc = function (t) {
        return new o.Array(t)
    }, o.Array !== Array && (l.alloc = o.pool(l.alloc, o.Array.prototype.subarray)), l.prototype._push = function (t, e, r) {
        return this.tail = this.tail.next = new c(t, e, r), this.len += e, this
    }, (p.prototype = Object.create(c.prototype)).fn = function (t, e, r) {
        for (; 127 < t;) e[r++] = 127 & t | 128, t >>>= 7;
        e[r] = t
    }, l.prototype.uint32 = function (t) {
        return this.len += (this.tail = this.tail.next = new p((t >>>= 0) < 128 ? 1 : t < 16384 ? 2 : t < 2097152 ? 3 : t < 268435456 ? 4 : 5, t)).len, this
    }, l.prototype.int32 = function (t) {
        return t < 0 ? this._push(y, 10, i.fromNumber(t)) : this.uint32(t)
    }, l.prototype.sint32 = function (t) {
        return this.uint32((t << 1 ^ t >> 31) >>> 0)
    }, l.prototype.int64 = l.prototype.uint64 = function (t) {
        var e = i.from(t);
        return this._push(y, e.length(), e)
    }, l.prototype.sint64 = function (t) {
        var e = i.from(t).zzEncode();
        return this._push(y, e.length(), e)
    }, l.prototype.bool = function (t) {
        return this._push(h, 1, t ? 1 : 0)
    }, l.prototype.sfixed32 = l.prototype.fixed32 = function (t) {
        return this._push(d, 4, t >>> 0)
    }, l.prototype.sfixed64 = l.prototype.fixed64 = function (t) {
        var e = i.from(t);
        return this._push(d, 4, e.lo)._push(d, 4, e.hi)
    }, l.prototype.float = function (t) {
        return this._push(o.float.writeFloatLE, 4, t)
    }, l.prototype.double = function (t) {
        return this._push(o.float.writeDoubleLE, 8, t)
    };
    var v = o.Array.prototype.set ? function (t, e, r) {
        e.set(t, r)
    } : function (t, e, r) {
        for (var n = 0; n < t.length; ++n) e[r + n] = t[n]
    };
    l.prototype.bytes = function (t) {
        var e = t.length >>> 0;
        if (!e) return this._push(h, 1, 0);
        if (o.isString(t)) {
            var r = l.alloc(e = u.length(t));
            u.decode(t, r, 0), t = r
        }
        return this.uint32(e)._push(v, e, t)
    }, l.prototype.string = function (t) {
        var e = s.length(t);
        return e ? this.uint32(e)._push(s.write, e, t) : this._push(h, 1, 0)
    }, l.prototype.fork = function () {
        return this.states = new a(this), this.head = this.tail = new c(f, 0, 0), this.len = 0, this
    }, l.prototype.reset = function () {
        return this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new c(f, 0, 0), this.len = 0), this
    }, l.prototype.ldelim = function () {
        var t = this.head, e = this.tail, r = this.len;
        return this.reset().uint32(r), r && (this.tail.next = t.next, this.tail = e, this.len += r), this
    }, l.prototype.finish = function () {
        for (var t = this.head.next, e = this.constructor.alloc(this.len), r = 0; t;) t.fn(t.val, e, r), r += t.len, t = t.next;
        return e
    }, l._configure = function (t) {
        n = t
    }
}, function (t, e, r) {
    "use strict";
    t.exports = c;
    var n, o = r(21), i = o.LongBits, u = o.utf8;

    function s(t, e) {
        return RangeError("index out of range: " + t.pos + " + " + (e || 1) + " > " + t.len)
    }

    function c(t) {
        this.buf = t, this.pos = 0, this.len = t.length
    }

    var f, a = "undefined" != typeof Uint8Array ? function (t) {
        if (t instanceof Uint8Array || Array.isArray(t)) return new c(t);
        throw Error("illegal buffer")
    } : function (t) {
        if (Array.isArray(t)) return new c(t);
        throw Error("illegal buffer")
    };

    function l() {
        var t = new i(0, 0), e = 0;
        if (!(4 < this.len - this.pos)) {
            for (; e < 3; ++e) {
                if (this.pos >= this.len) throw s(this);
                if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t
            }
            return t.lo = (t.lo | (127 & this.buf[this.pos++]) << 7 * e) >>> 0, t
        }
        for (; e < 4; ++e) if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t;
        if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 28) >>> 0, t.hi = (t.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, this.buf[this.pos++] < 128) return t;
        if (e = 0, 4 < this.len - this.pos) {
            for (; e < 5; ++e) if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t
        } else for (; e < 5; ++e) {
            if (this.pos >= this.len) throw s(this);
            if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t
        }
        throw Error("invalid varint encoding")
    }

    function h(t, e) {
        return (t[e - 4] | t[e - 3] << 8 | t[e - 2] << 16 | t[e - 1] << 24) >>> 0
    }

    function p() {
        if (this.pos + 8 > this.len) throw s(this, 8);
        return new i(h(this.buf, this.pos += 4), h(this.buf, this.pos += 4))
    }

    c.create = o.Buffer ? function (t) {
        return (c.create = function (t) {
            return o.Buffer.isBuffer(t) ? new n(t) : a(t)
        })(t)
    } : a, c.prototype._slice = o.Array.prototype.subarray || o.Array.prototype.slice, c.prototype.uint32 = (f = 4294967295, function () {
        if (f = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128) return f;
        if (f = (f | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128) return f;
        if (f = (f | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128) return f;
        if (f = (f | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128) return f;
        if (f = (f | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128) return f;
        if ((this.pos += 5) > this.len) throw this.pos = this.len, s(this, 10);
        return f
    }), c.prototype.int32 = function () {
        return 0 | this.uint32()
    }, c.prototype.sint32 = function () {
        var t = this.uint32();
        return t >>> 1 ^ -(1 & t) | 0
    }, c.prototype.bool = function () {
        return 0 !== this.uint32()
    }, c.prototype.fixed32 = function () {
        if (this.pos + 4 > this.len) throw s(this, 4);
        return h(this.buf, this.pos += 4)
    }, c.prototype.sfixed32 = function () {
        if (this.pos + 4 > this.len) throw s(this, 4);
        return 0 | h(this.buf, this.pos += 4)
    }, c.prototype.float = function () {
        if (this.pos + 4 > this.len) throw s(this, 4);
        var t = o.float.readFloatLE(this.buf, this.pos);
        return this.pos += 4, t
    }, c.prototype.double = function () {
        if (this.pos + 8 > this.len) throw s(this, 4);
        var t = o.float.readDoubleLE(this.buf, this.pos);
        return this.pos += 8, t
    }, c.prototype.bytes = function () {
        var t = this.uint32(), e = this.pos, r = this.pos + t;
        if (r > this.len) throw s(this, t);
        return this.pos += t, Array.isArray(this.buf) ? this.buf.slice(e, r) : e === r ? new this.buf.constructor(0) : this._slice.call(this.buf, e, r)
    }, c.prototype.string = function () {
        var t = this.bytes();
        return u.read(t, 0, t.length)
    }, c.prototype.skip = function (t) {
        if ("number" == typeof t) {
            if (this.pos + t > this.len) throw s(this, t);
            this.pos += t
        } else do {
            if (this.pos >= this.len) throw s(this)
        } while (128 & this.buf[this.pos++]);
        return this
    }, c.prototype.skipType = function (t) {
        switch (t) {
            case 0:
                this.skip();
                break;
            case 1:
                this.skip(8);
                break;
            case 2:
                this.skip(this.uint32());
                break;
            case 3:
                for (; 4 != (t = 7 & this.uint32());) this.skipType(t);
                break;
            case 5:
                this.skip(4);
                break;
            default:
                throw Error("invalid wire type " + t + " at offset " + this.pos)
        }
        return this
    }, c._configure = function (t) {
        n = t;
        var e = o.Long ? "toLong" : "toNumber";
        o.merge(c.prototype, {
            int64: function () {
                return l.call(this)[e](!1)
            }, uint64: function () {
                return l.call(this)[e](!0)
            }, sint64: function () {
                return l.call(this).zzDecode()[e](!1)
            }, fixed64: function () {
                return p.call(this)[e](!0)
            }, sfixed64: function () {
                return p.call(this)[e](!1)
            }
        })
    }
}, function (t, e, r) {
    t.exports = r(211)
}, function (t, e, r) {
    "use strict";
    e.__esModule = !0;
    var n, o = r(45), c = (n = o) && n.__esModule ? n : {default: n};
    e.default = function (t) {
        return function () {
            var s = t.apply(this, arguments);
            return new c.default(function (i, u) {
                return function e(t, r) {
                    try {
                        var n = s[t](r), o = n.value
                    } catch (t) {
                        return void u(t)
                    }
                    if (!n.done) return c.default.resolve(o).then(function (t) {
                        e("next", t)
                    }, function (t) {
                        e("throw", t)
                    });
                    i(o)
                }("next")
            })
        }
    }
}, , , , function (t, e, r) {
    r(99), t.exports = r(2).Object.getPrototypeOf
}, function (t, e, r) {
    var n = r(22), o = r(66);
    r(50)("getPrototypeOf", function () {
        return function (t) {
            return o(n(t))
        }
    })
}, , , , , , , , , , , , , , , , , , function (t, e, r) {
    t.exports = {default: r(118), __esModule: !0}
}, function (t, e, r) {
    r(119), t.exports = r(2).Object.setPrototypeOf
}, function (t, e, r) {
    var n = r(6);
    n(n.S, "Object", {setPrototypeOf: r(120).set})
}, function (t, e, o) {
    var r = o(8), n = o(12), i = function (t, e) {
        if (n(t), !r(e) && null !== e) throw TypeError(e + ": can't set as prototype!")
    };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, r, n) {
            try {
                (n = o(15)(Function.call, o(75).f(Object.prototype, "__proto__").set, 2))(t, []), r = !(t instanceof Array)
            } catch (t) {
                r = !0
            }
            return function (t, e) {
                return i(t, e), r ? t.__proto__ = e : n(t, e), t
            }
        }({}, !1) : void 0), check: i
    }
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (t, e, r) {
    t.exports = {default: r(157), __esModule: !0}
}, function (t, e, r) {
    r(41), r(34), r(158), r(162), r(163), t.exports = r(2).WeakMap
}, function (t, e, r) {
    "use strict";
    var i, n = r(7), o = r(61)(0), u = r(55), s = r(24), c = r(76), f = r(161), a = r(8), l = r(36), h = r(36),
        p = !n.ActiveXObject && "ActiveXObject" in n, y = "WeakMap", d = s.getWeak, v = Object.isExtensible,
        g = f.ufstore, m = function (t) {
            return function () {
                return t(this, 0 < arguments.length ? arguments[0] : void 0)
            }
        }, b = {
            get: function (t) {
                if (a(t)) {
                    var e = d(t);
                    return !0 === e ? g(l(this, y)).get(t) : e ? e[this._i] : void 0
                }
            }, set: function (t, e) {
                return f.def(l(this, y), t, e)
            }
        }, w = t.exports = r(81)(y, m, b, f, !0, !0);
    h && p && (c((i = f.getConstructor(m, y)).prototype, b), s.NEED = !0, o(["delete", "has", "get", "set"], function (n) {
        var t = w.prototype, o = t[n];
        u(t, n, function (t, e) {
            if (!a(t) || v(t)) return o.call(this, t, e);
            this._f || (this._f = new i);
            var r = this._f[n](t, e);
            return "set" == n ? this : r
        })
    }))
}, function (t, e, r) {
    var n = r(160);
    t.exports = function (t, e) {
        return new (n(t))(e)
    }
}, function (t, e, r) {
    var n = r(8), o = r(73), i = r(10)("species");
    t.exports = function (t) {
        var e;
        return o(t) && ("function" != typeof (e = t.constructor) || e !== Array && !o(e.prototype) || (e = void 0), n(e) && null === (e = e[i]) && (e = void 0)), void 0 === e ? Array : e
    }
}, function (t, e, r) {
    "use strict";
    var u = r(42), s = r(24).getWeak, o = r(12), c = r(8), f = r(43), a = r(25), n = r(61), l = r(17), h = r(36),
        i = n(5), p = n(6), y = 0, d = function (t) {
            return t._l || (t._l = new v)
        }, v = function () {
            this.a = []
        }, g = function (t, e) {
            return i(t.a, function (t) {
                return t[0] === e
            })
        };
    v.prototype = {
        get: function (t) {
            var e = g(this, t);
            if (e) return e[1]
        }, has: function (t) {
            return !!g(this, t)
        }, set: function (t, e) {
            var r = g(this, t);
            r ? r[1] = e : this.a.push([t, e])
        }, delete: function (e) {
            var t = p(this.a, function (t) {
                return t[0] === e
            });
            return ~t && this.a.splice(t, 1), !!~t
        }
    }, t.exports = {
        getConstructor: function (t, r, n, o) {
            var i = t(function (t, e) {
                f(t, i, r, "_i"), t._t = r, t._i = y++, t._l = void 0, null != e && a(e, n, t[o], t)
            });
            return u(i.prototype, {
                delete: function (t) {
                    if (!c(t)) return !1;
                    var e = s(t);
                    return !0 === e ? d(h(this, r)).delete(t) : e && l(e, this._i) && delete e[this._i]
                }, has: function (t) {
                    if (!c(t)) return !1;
                    var e = s(t);
                    return !0 === e ? d(h(this, r)).has(t) : e && l(e, this._i)
                }
            }), i
        }, def: function (t, e, r) {
            var n = s(o(e), !0);
            return !0 === n ? d(t).set(e, r) : n[t._i] = r, t
        }, ufstore: d
    }
}, function (t, e, r) {
    r(82)("WeakMap")
}, function (t, e, r) {
    r(83)("WeakMap")
}, , function (t, e, r) {
    r(166), t.exports = r(2).Object.keys
}, function (t, e, r) {
    var n = r(22), o = r(31);
    r(50)("keys", function () {
        return function (t) {
            return o(n(t))
        }
    })
}, function (t, e, r) {
    r(41), r(29), r(34), r(168), r(172), r(173), t.exports = r(2).Promise
}, function (t, e, r) {
    "use strict";
    var n, o, i, u, s = r(26), c = r(7), f = r(15), a = r(63), l = r(6), h = r(8), p = r(27), y = r(43), d = r(25),
        v = r(84), g = r(85).set, m = r(170)(), b = r(64), w = r(86), _ = r(171), x = r(87), E = "Promise",
        O = c.TypeError, j = c.process, S = j && j.versions, A = S && S.v8 || "", k = c[E], L = "process" == a(j),
        T = function () {
        }, B = o = b.f, P = !!function () {
            try {
                var t = k.resolve(1), e = (t.constructor = {})[r(10)("species")] = function (t) {
                    t(T, T)
                };
                return (L || "function" == typeof PromiseRejectionEvent) && t.then(T) instanceof e && 0 !== A.indexOf("6.6") && -1 === _.indexOf("Chrome/66")
            } catch (t) {
            }
        }(), M = function (t) {
            var e;
            return !(!h(t) || "function" != typeof (e = t.then)) && e
        }, N = function (a, r) {
            if (!a._n) {
                a._n = !0;
                var n = a._c;
                m(function () {
                    for (var c = a._v, f = 1 == a._s, t = 0, e = function (t) {
                        var e, r, n, o = f ? t.ok : t.fail, i = t.resolve, u = t.reject, s = t.domain;
                        try {
                            o ? (f || (2 == a._h && D(a), a._h = 1), !0 === o ? e = c : (s && s.enter(), e = o(c), s && (s.exit(), n = !0)), e === t.promise ? u(O("Promise-chain cycle")) : (r = M(e)) ? r.call(e, i, u) : i(e)) : u(c)
                        } catch (t) {
                            s && !n && s.exit(), u(t)
                        }
                    }; n.length > t;) e(n[t++]);
                    a._c = [], a._n = !1, r && !a._h && z(a)
                })
            }
        }, z = function (i) {
            g.call(c, function () {
                var t, e, r, n = i._v, o = F(i);
                if (o && (t = w(function () {
                    L ? j.emit("unhandledRejection", n, i) : (e = c.onunhandledrejection) ? e({
                        promise: i,
                        reason: n
                    }) : (r = c.console) && r.error && r.error("Unhandled promise rejection", n)
                }), i._h = L || F(i) ? 2 : 1), i._a = void 0, o && t.e) throw t.v
            })
        }, F = function (t) {
            return 1 !== t._h && 0 === (t._a || t._c).length
        }, D = function (e) {
            g.call(c, function () {
                var t;
                L ? j.emit("rejectionHandled", e) : (t = c.onrejectionhandled) && t({promise: e, reason: e._v})
            })
        }, C = function (t) {
            var e = this;
            e._d || (e._d = !0, (e = e._w || e)._v = t, e._s = 2, e._a || (e._a = e._c.slice()), N(e, !0))
        }, R = function (t) {
            var r, n = this;
            if (!n._d) {
                n._d = !0, n = n._w || n;
                try {
                    if (n === t) throw O("Promise can't be resolved itself");
                    (r = M(t)) ? m(function () {
                        var e = {_w: n, _d: !1};
                        try {
                            r.call(t, f(R, e, 1), f(C, e, 1))
                        } catch (t) {
                            C.call(e, t)
                        }
                    }) : (n._v = t, n._s = 1, N(n, !1))
                } catch (t) {
                    C.call({_w: n, _d: !1}, t)
                }
            }
        };
    P || (k = function (t) {
        y(this, k, E, "_h"), p(t), n.call(this);
        try {
            t(f(R, this, 1), f(C, this, 1))
        } catch (t) {
            C.call(this, t)
        }
    }, (n = function (t) {
        this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }).prototype = r(42)(k.prototype, {
        then: function (t, e) {
            var r = B(v(this, k));
            return r.ok = "function" != typeof t || t, r.fail = "function" == typeof e && e, r.domain = L ? j.domain : void 0, this._c.push(r), this._a && this._a.push(r), this._s && N(this, !1), r.promise
        }, catch: function (t) {
            return this.then(void 0, t)
        }
    }), i = function () {
        var t = new n;
        this.promise = t, this.resolve = f(R, t, 1), this.reject = f(C, t, 1)
    }, b.f = B = function (t) {
        return t === k || t === u ? new i(t) : o(t)
    }), l(l.G + l.W + l.F * !P, {Promise: k}), r(33)(k, E), r(88)(E), u = r(2)[E], l(l.S + l.F * !P, E, {
        reject: function (t) {
            var e = B(this);
            return (0, e.reject)(t), e.promise
        }
    }), l(l.S + l.F * (s || !P), E, {
        resolve: function (t) {
            return x(s && this === u ? k : this, t)
        }
    }), l(l.S + l.F * !(P && r(89)(function (t) {
        k.all(t).catch(T)
    })), E, {
        all: function (t) {
            var u = this, e = B(u), s = e.resolve, c = e.reject, r = w(function () {
                var n = [], o = 0, i = 1;
                d(t, !1, function (t) {
                    var e = o++, r = !1;
                    n.push(void 0), i++, u.resolve(t).then(function (t) {
                        r || (r = !0, n[e] = t, --i || s(n))
                    }, c)
                }), --i || s(n)
            });
            return r.e && c(r.v), e.promise
        }, race: function (t) {
            var e = this, r = B(e), n = r.reject, o = w(function () {
                d(t, !1, function (t) {
                    e.resolve(t).then(r.resolve, n)
                })
            });
            return o.e && n(o.v), r.promise
        }
    })
}, function (t, e) {
    t.exports = function (t, e, r) {
        var n = void 0 === r;
        switch (e.length) {
            case 0:
                return n ? t() : t.call(r);
            case 1:
                return n ? t(e[0]) : t.call(r, e[0]);
            case 2:
                return n ? t(e[0], e[1]) : t.call(r, e[0], e[1]);
            case 3:
                return n ? t(e[0], e[1], e[2]) : t.call(r, e[0], e[1], e[2]);
            case 4:
                return n ? t(e[0], e[1], e[2], e[3]) : t.call(r, e[0], e[1], e[2], e[3])
        }
        return t.apply(r, e)
    }
}, function (t, e, r) {
    var s = r(7), c = r(85).set, f = s.MutationObserver || s.WebKitMutationObserver, a = s.process, l = s.Promise,
        h = "process" == r(32)(a);
    t.exports = function () {
        var r, n, o, t = function () {
            var t, e;
            for (h && (t = a.domain) && t.exit(); r;) {
                e = r.fn, r = r.next;
                try {
                    e()
                } catch (t) {
                    throw r ? o() : n = void 0, t
                }
            }
            n = void 0, t && t.enter()
        };
        if (h) o = function () {
            a.nextTick(t)
        }; else if (!f || s.navigator && s.navigator.standalone) if (l && l.resolve) {
            var e = l.resolve(void 0);
            o = function () {
                e.then(t)
            }
        } else o = function () {
            c.call(s, t)
        }; else {
            var i = !0, u = document.createTextNode("");
            new f(t).observe(u, {characterData: !0}), o = function () {
                u.data = i = !i
            }
        }
        return function (t) {
            var e = {fn: t, next: void 0};
            n && (n.next = e), r || (r = e, o()), n = e
        }
    }
}, function (t, e, r) {
    var n = r(7).navigator;
    t.exports = n && n.userAgent || ""
}, function (t, e, r) {
    "use strict";
    var n = r(6), o = r(2), i = r(7), u = r(84), s = r(87);
    n(n.P + n.R, "Promise", {
        finally: function (e) {
            var r = u(this, o.Promise || i.Promise), t = "function" == typeof e;
            return this.then(t ? function (t) {
                return s(r, e()).then(function () {
                    return t
                })
            } : e, t ? function (t) {
                return s(r, e()).then(function () {
                    throw t
                })
            } : e)
        }
    })
}, function (t, e, r) {
    "use strict";
    var n = r(6), o = r(64), i = r(86);
    n(n.S, "Promise", {
        try: function (t) {
            var e = o.f(this), r = i(t);
            return (r.e ? e.reject : e.resolve)(r.v), e.promise
        }
    })
}, , , function (t, e, r) {
    r(29), r(177), t.exports = r(2).Array.from
}, function (t, e, r) {
    "use strict";
    var h = r(15), n = r(6), p = r(22), y = r(79), d = r(80), v = r(39), g = r(178), m = r(62);
    n(n.S + n.F * !r(89)(function (t) {
        Array.from(t)
    }), "Array", {
        from: function (t) {
            var e, r, n, o, i = p(t), u = "function" == typeof this ? this : Array, s = arguments.length,
                c = 1 < s ? arguments[1] : void 0, f = void 0 !== c, a = 0, l = m(i);
            if (f && (c = h(c, 2 < s ? arguments[2] : void 0, 2)), null == l || u == Array && d(l)) for (r = new u(e = v(i.length)); a < e; a++) g(r, a, f ? c(i[a], a) : i[a]); else for (o = l.call(i), r = new u; !(n = o.next()).done; a++) g(r, a, f ? y(o, c, [n.value, a], !0) : n.value);
            return r.length = a, r
        }
    })
}, function (t, e, r) {
    "use strict";
    var n = r(11), o = r(28);
    t.exports = function (t, e, r) {
        e in t ? n.f(t, e, o(0, r)) : t[e] = r
    }
}, , , , , , , , , , , function (t, e, r) {
    "use strict";
    t.exports = r(190)
}, function (t, e, r) {
    "use strict";
    var n = e;

    function o() {
        n.Reader._configure(n.BufferReader), n.util._configure()
    }

    n.build = "minimal", n.Writer = r(91), n.BufferWriter = r(200), n.Reader = r(92), n.BufferReader = r(201), n.util = r(21), n.rpc = r(202), n.roots = r(204), n.configure = o, n.Writer._configure(n.BufferWriter), o()
}, function (t, e) {
    var r;
    r = function () {
        return this
    }();
    try {
        r = r || new Function("return this")()
    } catch (t) {
        "object" == typeof window && (r = window)
    }
    t.exports = r
}, function (t, e, r) {
    "use strict";
    t.exports = function (t, e) {
        var r = new Array(arguments.length - 1), i = 0, n = 2, u = !0;
        for (; n < arguments.length;) r[i++] = arguments[n++];
        return new Promise(function (n, o) {
            r[i] = function (t) {
                if (u) if (u = !1, t) o(t); else {
                    for (var e = new Array(arguments.length - 1), r = 0; r < e.length;) e[r++] = arguments[r];
                    n.apply(null, e)
                }
            };
            try {
                t.apply(e || null, r)
            } catch (t) {
                u && (u = !1, o(t))
            }
        })
    }
}, function (t, e, r) {
    "use strict";
    var n = e;
    n.length = function (t) {
        var e = t.length;
        if (!e) return 0;
        for (var r = 0; 1 < --e % 4 && "=" === t.charAt(e);) ++r;
        return Math.ceil(3 * t.length) / 4 - r
    };
    for (var f = new Array(64), c = new Array(123), o = 0; o < 64;) c[f[o] = o < 26 ? o + 65 : o < 52 ? o + 71 : o < 62 ? o - 4 : o - 59 | 43] = o++;
    n.encode = function (t, e, r) {
        for (var n, o = null, i = [], u = 0, s = 0; e < r;) {
            var c = t[e++];
            switch (s) {
                case 0:
                    i[u++] = f[c >> 2], n = (3 & c) << 4, s = 1;
                    break;
                case 1:
                    i[u++] = f[n | c >> 4], n = (15 & c) << 2, s = 2;
                    break;
                case 2:
                    i[u++] = f[n | c >> 6], i[u++] = f[63 & c], s = 0
            }
            8191 < u && ((o || (o = [])).push(String.fromCharCode.apply(String, i)), u = 0)
        }
        return s && (i[u++] = f[n], i[u++] = 61, 1 === s && (i[u++] = 61)), o ? (u && o.push(String.fromCharCode.apply(String, i.slice(0, u))), o.join("")) : String.fromCharCode.apply(String, i.slice(0, u))
    };
    var a = "invalid encoding";
    n.decode = function (t, e, r) {
        for (var n, o = r, i = 0, u = 0; u < t.length;) {
            var s = t.charCodeAt(u++);
            if (61 === s && 1 < i) break;
            if (void 0 === (s = c[s])) throw Error(a);
            switch (i) {
                case 0:
                    n = s, i = 1;
                    break;
                case 1:
                    e[r++] = n << 2 | (48 & s) >> 4, n = s, i = 2;
                    break;
                case 2:
                    e[r++] = (15 & n) << 4 | (60 & s) >> 2, n = s, i = 3;
                    break;
                case 3:
                    e[r++] = (3 & n) << 6 | s, i = 0
            }
        }
        if (1 === i) throw Error(a);
        return r - o
    }, n.test = function (t) {
        return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)
    }
}, function (t, e, r) {
    "use strict";

    function n() {
        this._listeners = {}
    }

    (t.exports = n).prototype.on = function (t, e, r) {
        return (this._listeners[t] || (this._listeners[t] = [])).push({fn: e, ctx: r || this}), this
    }, n.prototype.off = function (t, e) {
        if (void 0 === t) this._listeners = {}; else if (void 0 === e) this._listeners[t] = []; else for (var r = this._listeners[t], n = 0; n < r.length;) r[n].fn === e ? r.splice(n, 1) : ++n;
        return this
    }, n.prototype.emit = function (t) {
        var e = this._listeners[t];
        if (e) {
            for (var r = [], n = 1; n < arguments.length;) r.push(arguments[n++]);
            for (n = 0; n < e.length;) e[n].fn.apply(e[n++].ctx, r)
        }
        return this
    }
}, function (t, e, r) {
    "use strict";

    function n(s) {
        return "undefined" != typeof Float32Array ? function () {
            var n = new Float32Array([-0]), o = new Uint8Array(n.buffer), t = 128 === o[3];

            function e(t, e, r) {
                n[0] = t, e[r] = o[0], e[r + 1] = o[1], e[r + 2] = o[2], e[r + 3] = o[3]
            }

            function r(t, e, r) {
                n[0] = t, e[r] = o[3], e[r + 1] = o[2], e[r + 2] = o[1], e[r + 3] = o[0]
            }

            function i(t, e) {
                return o[0] = t[e], o[1] = t[e + 1], o[2] = t[e + 2], o[3] = t[e + 3], n[0]
            }

            function u(t, e) {
                return o[3] = t[e], o[2] = t[e + 1], o[1] = t[e + 2], o[0] = t[e + 3], n[0]
            }

            s.writeFloatLE = t ? e : r, s.writeFloatBE = t ? r : e, s.readFloatLE = t ? i : u, s.readFloatBE = t ? u : i
        }() : function () {
            function t(t, e, r, n) {
                var o = e < 0 ? 1 : 0;
                if (o && (e = -e), 0 === e) t(0 < 1 / e ? 0 : 2147483648, r, n); else if (isNaN(e)) t(2143289344, r, n); else if (34028234663852886e22 < e) t((o << 31 | 2139095040) >>> 0, r, n); else if (e < 11754943508222875e-54) t((o << 31 | Math.round(e / 1401298464324817e-60)) >>> 0, r, n); else {
                    var i = Math.floor(Math.log(e) / Math.LN2);
                    t((o << 31 | i + 127 << 23 | 8388607 & Math.round(e * Math.pow(2, -i) * 8388608)) >>> 0, r, n)
                }
            }

            function e(t, e, r) {
                var n = t(e, r), o = 2 * (n >> 31) + 1, i = n >>> 23 & 255, u = 8388607 & n;
                return 255 === i ? u ? NaN : o * (1 / 0) : 0 === i ? 1401298464324817e-60 * o * u : o * Math.pow(2, i - 150) * (u + 8388608)
            }

            s.writeFloatLE = t.bind(null, o), s.writeFloatBE = t.bind(null, i), s.readFloatLE = e.bind(null, u), s.readFloatBE = e.bind(null, c)
        }(), "undefined" != typeof Float64Array ? function () {
            var n = new Float64Array([-0]), o = new Uint8Array(n.buffer), t = 128 === o[7];

            function e(t, e, r) {
                n[0] = t, e[r] = o[0], e[r + 1] = o[1], e[r + 2] = o[2], e[r + 3] = o[3], e[r + 4] = o[4], e[r + 5] = o[5], e[r + 6] = o[6], e[r + 7] = o[7]
            }

            function r(t, e, r) {
                n[0] = t, e[r] = o[7], e[r + 1] = o[6], e[r + 2] = o[5], e[r + 3] = o[4], e[r + 4] = o[3], e[r + 5] = o[2], e[r + 6] = o[1], e[r + 7] = o[0]
            }

            function i(t, e) {
                return o[0] = t[e], o[1] = t[e + 1], o[2] = t[e + 2], o[3] = t[e + 3], o[4] = t[e + 4], o[5] = t[e + 5], o[6] = t[e + 6], o[7] = t[e + 7], n[0]
            }

            function u(t, e) {
                return o[7] = t[e], o[6] = t[e + 1], o[5] = t[e + 2], o[4] = t[e + 3], o[3] = t[e + 4], o[2] = t[e + 5], o[1] = t[e + 6], o[0] = t[e + 7], n[0]
            }

            s.writeDoubleLE = t ? e : r, s.writeDoubleBE = t ? r : e, s.readDoubleLE = t ? i : u, s.readDoubleBE = t ? u : i
        }() : function () {
            function t(t, e, r, n, o, i) {
                var u = n < 0 ? 1 : 0;
                if (u && (n = -n), 0 === n) t(0, o, i + e), t(0 < 1 / n ? 0 : 2147483648, o, i + r); else if (isNaN(n)) t(0, o, i + e), t(2146959360, o, i + r); else if (17976931348623157e292 < n) t(0, o, i + e), t((u << 31 | 2146435072) >>> 0, o, i + r); else {
                    var s;
                    if (n < 22250738585072014e-324) t((s = n / 5e-324) >>> 0, o, i + e), t((u << 31 | s / 4294967296) >>> 0, o, i + r); else {
                        var c = Math.floor(Math.log(n) / Math.LN2);
                        1024 === c && (c = 1023), t(4503599627370496 * (s = n * Math.pow(2, -c)) >>> 0, o, i + e), t((u << 31 | c + 1023 << 20 | 1048576 * s & 1048575) >>> 0, o, i + r)
                    }
                }
            }

            function e(t, e, r, n, o) {
                var i = t(n, o + e), u = t(n, o + r), s = 2 * (u >> 31) + 1, c = u >>> 20 & 2047,
                    f = 4294967296 * (1048575 & u) + i;
                return 2047 === c ? f ? NaN : s * (1 / 0) : 0 === c ? 5e-324 * s * f : s * Math.pow(2, c - 1075) * (f + 4503599627370496)
            }

            s.writeDoubleLE = t.bind(null, o, 0, 4), s.writeDoubleBE = t.bind(null, i, 4, 0), s.readDoubleLE = e.bind(null, u, 0, 4), s.readDoubleBE = e.bind(null, c, 4, 0)
        }(), s
    }

    function o(t, e, r) {
        e[r] = 255 & t, e[r + 1] = t >>> 8 & 255, e[r + 2] = t >>> 16 & 255, e[r + 3] = t >>> 24
    }

    function i(t, e, r) {
        e[r] = t >>> 24, e[r + 1] = t >>> 16 & 255, e[r + 2] = t >>> 8 & 255, e[r + 3] = 255 & t
    }

    function u(t, e) {
        return (t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0
    }

    function c(t, e) {
        return (t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]) >>> 0
    }

    t.exports = n(n)
}, function (module, exports, __webpack_require__) {
    "use strict";

    function inquire(moduleName) {
        try {
            var mod = eval("quire".replace(/^/, "re"))(moduleName);
            if (mod && (mod.length || Object.keys(mod).length)) return mod
        } catch (t) {
        }
        return null
    }

    module.exports = inquire
}, function (t, e, r) {
    "use strict";
    var n = e;
    n.length = function (t) {
        for (var e = 0, r = 0, n = 0; n < t.length; ++n) (r = t.charCodeAt(n)) < 128 ? e += 1 : r < 2048 ? e += 2 : 55296 == (64512 & r) && 56320 == (64512 & t.charCodeAt(n + 1)) ? (++n, e += 4) : e += 3;
        return e
    }, n.read = function (t, e, r) {
        if (r - e < 1) return "";
        for (var n, o = null, i = [], u = 0; e < r;) (n = t[e++]) < 128 ? i[u++] = n : 191 < n && n < 224 ? i[u++] = (31 & n) << 6 | 63 & t[e++] : 239 < n && n < 365 ? (n = ((7 & n) << 18 | (63 & t[e++]) << 12 | (63 & t[e++]) << 6 | 63 & t[e++]) - 65536, i[u++] = 55296 + (n >> 10), i[u++] = 56320 + (1023 & n)) : i[u++] = (15 & n) << 12 | (63 & t[e++]) << 6 | 63 & t[e++], 8191 < u && ((o || (o = [])).push(String.fromCharCode.apply(String, i)), u = 0);
        return o ? (u && o.push(String.fromCharCode.apply(String, i.slice(0, u))), o.join("")) : String.fromCharCode.apply(String, i.slice(0, u))
    }, n.write = function (t, e, r) {
        for (var n, o, i = r, u = 0; u < t.length; ++u) (n = t.charCodeAt(u)) < 128 ? e[r++] = n : (n < 2048 ? e[r++] = n >> 6 | 192 : (55296 == (64512 & n) && 56320 == (64512 & (o = t.charCodeAt(u + 1))) ? (n = 65536 + ((1023 & n) << 10) + (1023 & o), ++u, e[r++] = n >> 18 | 240, e[r++] = n >> 12 & 63 | 128) : e[r++] = n >> 12 | 224, e[r++] = n >> 6 & 63 | 128), e[r++] = 63 & n | 128);
        return r - i
    }
}, function (t, e, r) {
    "use strict";
    t.exports = function (r, n, t) {
        var o = t || 8192, i = o >>> 1, u = null, s = o;
        return function (t) {
            if (t < 1 || i < t) return r(t);
            o < s + t && (u = r(o), s = 0);
            var e = n.call(u, s, s += t);
            return 7 & s && (s = 1 + (7 | s)), e
        }
    }
}, function (t, e, r) {
    "use strict";
    t.exports = o;
    var n = r(21);

    function o(t, e) {
        this.lo = t >>> 0, this.hi = e >>> 0
    }

    var i = o.zero = new o(0, 0);
    i.toNumber = function () {
        return 0
    }, i.zzEncode = i.zzDecode = function () {
        return this
    }, i.length = function () {
        return 1
    };
    var u = o.zeroHash = "\0\0\0\0\0\0\0\0";
    o.fromNumber = function (t) {
        if (0 === t) return i;
        var e = t < 0;
        e && (t = -t);
        var r = t >>> 0, n = (t - r) / 4294967296 >>> 0;
        return e && (n = ~n >>> 0, r = ~r >>> 0, 4294967295 < ++r && (r = 0, 4294967295 < ++n && (n = 0))), new o(r, n)
    }, o.from = function (t) {
        if ("number" == typeof t) return o.fromNumber(t);
        if (n.isString(t)) {
            if (!n.Long) return o.fromNumber(parseInt(t, 10));
            t = n.Long.fromString(t)
        }
        return t.low || t.high ? new o(t.low >>> 0, t.high >>> 0) : i
    }, o.prototype.toNumber = function (t) {
        if (!t && this.hi >>> 31) {
            var e = 1 + ~this.lo >>> 0, r = ~this.hi >>> 0;
            return e || (r = r + 1 >>> 0), -(e + 4294967296 * r)
        }
        return this.lo + 4294967296 * this.hi
    }, o.prototype.toLong = function (t) {
        return n.Long ? new n.Long(0 | this.lo, 0 | this.hi, Boolean(t)) : {
            low: 0 | this.lo,
            high: 0 | this.hi,
            unsigned: Boolean(t)
        }
    };
    var s = String.prototype.charCodeAt;
    o.fromHash = function (t) {
        return t === u ? i : new o((s.call(t, 0) | s.call(t, 1) << 8 | s.call(t, 2) << 16 | s.call(t, 3) << 24) >>> 0, (s.call(t, 4) | s.call(t, 5) << 8 | s.call(t, 6) << 16 | s.call(t, 7) << 24) >>> 0)
    }, o.prototype.toHash = function () {
        return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24)
    }, o.prototype.zzEncode = function () {
        var t = this.hi >> 31;
        return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ t) >>> 0, this.lo = (this.lo << 1 ^ t) >>> 0, this
    }, o.prototype.zzDecode = function () {
        var t = -(1 & this.lo);
        return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ t) >>> 0, this.hi = (this.hi >>> 1 ^ t) >>> 0, this
    }, o.prototype.length = function () {
        var t = this.lo, e = (this.lo >>> 28 | this.hi << 4) >>> 0, r = this.hi >>> 24;
        return 0 === r ? 0 === e ? t < 16384 ? t < 128 ? 1 : 2 : t < 2097152 ? 3 : 4 : e < 16384 ? e < 128 ? 5 : 6 : e < 2097152 ? 7 : 8 : r < 128 ? 9 : 10
    }
}, function (t, e, r) {
    "use strict";
    t.exports = u;
    var n = r(91);
    (u.prototype = Object.create(n.prototype)).constructor = u;
    var o = r(21), i = o.Buffer;

    function u() {
        n.call(this)
    }

    u.alloc = function (t) {
        return (u.alloc = o._Buffer_allocUnsafe)(t)
    };
    var s = i && i.prototype instanceof Uint8Array && "set" === i.prototype.set.name ? function (t, e, r) {
        e.set(t, r)
    } : function (t, e, r) {
        if (t.copy) t.copy(e, r, 0, t.length); else for (var n = 0; n < t.length;) e[r++] = t[n++]
    };

    function c(t, e, r) {
        t.length < 40 ? o.utf8.write(t, e, r) : e.utf8Write(t, r)
    }

    u.prototype.bytes = function (t) {
        o.isString(t) && (t = o._Buffer_from(t, "base64"));
        var e = t.length >>> 0;
        return this.uint32(e), e && this._push(s, e, t), this
    }, u.prototype.string = function (t) {
        var e = i.byteLength(t);
        return this.uint32(e), e && this._push(c, e, t), this
    }
}, function (t, e, r) {
    "use strict";
    t.exports = i;
    var n = r(92);
    (i.prototype = Object.create(n.prototype)).constructor = i;
    var o = r(21);

    function i(t) {
        n.call(this, t)
    }

    o.Buffer && (i.prototype._slice = o.Buffer.prototype.slice), i.prototype.string = function () {
        var t = this.uint32();
        return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + t, this.len))
    }
}, function (t, e, r) {
    "use strict";
    e.Service = r(203)
}, function (t, e, r) {
    "use strict";
    t.exports = n;
    var s = r(21);

    function n(t, e, r) {
        if ("function" != typeof t) throw TypeError("rpcImpl must be a function");
        s.EventEmitter.call(this), this.rpcImpl = t, this.requestDelimited = Boolean(e), this.responseDelimited = Boolean(r)
    }

    ((n.prototype = Object.create(s.EventEmitter.prototype)).constructor = n).prototype.rpcCall = function t(r, e, n, o, i) {
        if (!o) throw TypeError("request must be specified");
        var u = this;
        if (!i) return s.asPromise(t, u, r, e, n, o);
        if (u.rpcImpl) try {
            return u.rpcImpl(r, e[u.requestDelimited ? "encodeDelimited" : "encode"](o).finish(), function (t, e) {
                if (t) return u.emit("error", t, r), i(t);
                if (null !== e) {
                    if (!(e instanceof n)) try {
                        e = n[u.responseDelimited ? "decodeDelimited" : "decode"](e)
                    } catch (t) {
                        return u.emit("error", t, r), i(t)
                    }
                    return u.emit("data", e, r), i(null, e)
                }
                u.end(!0)
            })
        } catch (t) {
            return u.emit("error", t, r), void setTimeout(function () {
                i(t)
            }, 0)
        } else setTimeout(function () {
            i(Error("already ended"))
        }, 0)
    }, n.prototype.end = function (t) {
        return this.rpcImpl && (t || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit("end").off()), this
    }
}, function (t, e, r) {
    "use strict";
    t.exports = {}
}, , , function (t, e, r) {
    t.exports = {default: r(208), __esModule: !0}
}, function (t, e, r) {
    r(34), r(29), t.exports = r(209)
}, function (t, e, r) {
    var n = r(12), o = r(62);
    t.exports = r(2).getIterator = function (t) {
        var e = o(t);
        if ("function" != typeof e) throw TypeError(t + " is not iterable!");
        return n(e.call(t))
    }
}, function (t, e, r) {
    "use strict";
    e.__esModule = !0;
    var n, o = r(90), i = (n = o) && n.__esModule ? n : {default: n};
    e.default = function (t) {
        if (Array.isArray(t)) {
            for (var e = 0, r = Array(t.length); e < t.length; e++) r[e] = t[e];
            return r
        }
        return (0, i.default)(t)
    }
}, function (t, e, r) {
    var n = function () {
            return this
        }() || Function("return this")(),
        o = n.regeneratorRuntime && 0 <= Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime"),
        i = o && n.regeneratorRuntime;
    if (n.regeneratorRuntime = void 0, t.exports = r(212), o) n.regeneratorRuntime = i; else try {
        delete n.regeneratorRuntime
    } catch (t) {
        n.regeneratorRuntime = void 0
    }
}, function (P, t) {
    !function (t) {
        "use strict";
        var c, e = Object.prototype, f = e.hasOwnProperty, r = "function" == typeof Symbol ? Symbol : {},
            o = r.iterator || "@@iterator", n = r.asyncIterator || "@@asyncIterator",
            i = r.toStringTag || "@@toStringTag", u = "object" == typeof P, s = t.regeneratorRuntime;
        if (s) u && (P.exports = s); else {
            (s = t.regeneratorRuntime = u ? P.exports : {}).wrap = b;
            var l = "suspendedStart", h = "suspendedYield", p = "executing", y = "completed", d = {}, a = {};
            a[o] = function () {
                return this
            };
            var v = Object.getPrototypeOf, g = v && v(v(T([])));
            g && g !== e && f.call(g, o) && (a = g);
            var m = E.prototype = _.prototype = Object.create(a);
            x.prototype = m.constructor = E, E.constructor = x, E[i] = x.displayName = "GeneratorFunction", s.isGeneratorFunction = function (t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === x || "GeneratorFunction" === (e.displayName || e.name))
            }, s.mark = function (t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, E) : (t.__proto__ = E, i in t || (t[i] = "GeneratorFunction")), t.prototype = Object.create(m), t
            }, s.awrap = function (t) {
                return {__await: t}
            }, O(j.prototype), j.prototype[n] = function () {
                return this
            }, s.AsyncIterator = j, s.async = function (t, e, r, n) {
                var o = new j(b(t, e, r, n));
                return s.isGeneratorFunction(e) ? o : o.next().then(function (t) {
                    return t.done ? t.value : o.next()
                })
            }, O(m), m[i] = "Generator", m[o] = function () {
                return this
            }, m.toString = function () {
                return "[object Generator]"
            }, s.keys = function (r) {
                var n = [];
                for (var t in r) n.push(t);
                return n.reverse(), function t() {
                    for (; n.length;) {
                        var e = n.pop();
                        if (e in r) return t.value = e, t.done = !1, t
                    }
                    return t.done = !0, t
                }
            }, s.values = T, L.prototype = {
                constructor: L, reset: function (t) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = c, this.done = !1, this.delegate = null, this.method = "next", this.arg = c, this.tryEntries.forEach(k), !t) for (var e in this) "t" === e.charAt(0) && f.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = c)
                }, stop: function () {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ("throw" === t.type) throw t.arg;
                    return this.rval
                }, dispatchException: function (r) {
                    if (this.done) throw r;
                    var n = this;

                    function t(t, e) {
                        return i.type = "throw", i.arg = r, n.next = t, e && (n.method = "next", n.arg = c), !!e
                    }

                    for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
                        var o = this.tryEntries[e], i = o.completion;
                        if ("root" === o.tryLoc) return t("end");
                        if (o.tryLoc <= this.prev) {
                            var u = f.call(o, "catchLoc"), s = f.call(o, "finallyLoc");
                            if (u && s) {
                                if (this.prev < o.catchLoc) return t(o.catchLoc, !0);
                                if (this.prev < o.finallyLoc) return t(o.finallyLoc)
                            } else if (u) {
                                if (this.prev < o.catchLoc) return t(o.catchLoc, !0)
                            } else {
                                if (!s) throw new Error("try statement without catch or finally");
                                if (this.prev < o.finallyLoc) return t(o.finallyLoc)
                            }
                        }
                    }
                }, abrupt: function (t, e) {
                    for (var r = this.tryEntries.length - 1; 0 <= r; --r) {
                        var n = this.tryEntries[r];
                        if (n.tryLoc <= this.prev && f.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
                            var o = n;
                            break
                        }
                    }
                    o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o.finallyLoc && (o = null);
                    var i = o ? o.completion : {};
                    return i.type = t, i.arg = e, o ? (this.method = "next", this.next = o.finallyLoc, d) : this.complete(i)
                }, complete: function (t, e) {
                    if ("throw" === t.type) throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), d
                }, finish: function (t) {
                    for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
                        var r = this.tryEntries[e];
                        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), k(r), d
                    }
                }, catch: function (t) {
                    for (var e = this.tryEntries.length - 1; 0 <= e; --e) {
                        var r = this.tryEntries[e];
                        if (r.tryLoc === t) {
                            var n = r.completion;
                            if ("throw" === n.type) {
                                var o = n.arg;
                                k(r)
                            }
                            return o
                        }
                    }
                    throw new Error("illegal catch attempt")
                }, delegateYield: function (t, e, r) {
                    return this.delegate = {
                        iterator: T(t),
                        resultName: e,
                        nextLoc: r
                    }, "next" === this.method && (this.arg = c), d
                }
            }
        }

        function b(t, e, r, n) {
            var i, u, s, c, o = e && e.prototype instanceof _ ? e : _, f = Object.create(o.prototype),
                a = new L(n || []);
            return f._invoke = (i = t, u = r, s = a, c = l, function (t, e) {
                if (c === p) throw new Error("Generator is already running");
                if (c === y) {
                    if ("throw" === t) throw e;
                    return B()
                }
                for (s.method = t, s.arg = e; ;) {
                    var r = s.delegate;
                    if (r) {
                        var n = S(r, s);
                        if (n) {
                            if (n === d) continue;
                            return n
                        }
                    }
                    if ("next" === s.method) s.sent = s._sent = s.arg; else if ("throw" === s.method) {
                        if (c === l) throw c = y, s.arg;
                        s.dispatchException(s.arg)
                    } else "return" === s.method && s.abrupt("return", s.arg);
                    c = p;
                    var o = w(i, u, s);
                    if ("normal" === o.type) {
                        if (c = s.done ? y : h, o.arg === d) continue;
                        return {value: o.arg, done: s.done}
                    }
                    "throw" === o.type && (c = y, s.method = "throw", s.arg = o.arg)
                }
            }), f
        }

        function w(t, e, r) {
            try {
                return {type: "normal", arg: t.call(e, r)}
            } catch (t) {
                return {type: "throw", arg: t}
            }
        }

        function _() {
        }

        function x() {
        }

        function E() {
        }

        function O(t) {
            ["next", "throw", "return"].forEach(function (e) {
                t[e] = function (t) {
                    return this._invoke(e, t)
                }
            })
        }

        function j(c) {
            var e;
            this._invoke = function (r, n) {
                function t() {
                    return new Promise(function (t, e) {
                        !function e(t, r, n, o) {
                            var i = w(c[t], c, r);
                            if ("throw" !== i.type) {
                                var u = i.arg, s = u.value;
                                return s && "object" == typeof s && f.call(s, "__await") ? Promise.resolve(s.__await).then(function (t) {
                                    e("next", t, n, o)
                                }, function (t) {
                                    e("throw", t, n, o)
                                }) : Promise.resolve(s).then(function (t) {
                                    u.value = t, n(u)
                                }, o)
                            }
                            o(i.arg)
                        }(r, n, t, e)
                    })
                }

                return e = e ? e.then(t, t) : t()
            }
        }

        function S(t, e) {
            var r = t.iterator[e.method];
            if (r === c) {
                if (e.delegate = null, "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return", e.arg = c, S(t, e), "throw" === e.method)) return d;
                    e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return d
            }
            var n = w(r, t.iterator, e.arg);
            if ("throw" === n.type) return e.method = "throw", e.arg = n.arg, e.delegate = null, d;
            var o = n.arg;
            return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = c), e.delegate = null, d) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, d)
        }

        function A(t) {
            var e = {tryLoc: t[0]};
            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function k(t) {
            var e = t.completion || {};
            e.type = "normal", delete e.arg, t.completion = e
        }

        function L(t) {
            this.tryEntries = [{tryLoc: "root"}], t.forEach(A, this), this.reset(!0)
        }

        function T(e) {
            if (e) {
                var t = e[o];
                if (t) return t.call(e);
                if ("function" == typeof e.next) return e;
                if (!isNaN(e.length)) {
                    var r = -1, n = function t() {
                        for (; ++r < e.length;) if (f.call(e, r)) return t.value = e[r], t.done = !1, t;
                        return t.value = c, t.done = !0, t
                    };
                    return n.next = n
                }
            }
            return {next: B}
        }

        function B() {
            return {value: c, done: !0}
        }
    }(function () {
        return this
    }() || Function("return this")())
}, function (t, e, r) {
    t.exports = {default: r(214), __esModule: !0}
}, function (t, e, r) {
    r(41), r(29), r(34), r(215), r(217), r(220), r(221), t.exports = r(2).Set
}, function (t, e, r) {
    "use strict";
    var n = r(216), o = r(36);
    t.exports = r(81)("Set", function (t) {
        return function () {
            return t(this, 0 < arguments.length ? arguments[0] : void 0)
        }
    }, {
        add: function (t) {
            return n.def(o(this, "Set"), t = 0 === t ? 0 : t, t)
        }
    }, n)
}, function (t, e, r) {
    "use strict";
    var u = r(11).f, s = r(38), c = r(42), f = r(15), a = r(43), l = r(25), n = r(54), o = r(72), i = r(88), h = r(13),
        p = r(24).fastKey, y = r(36), d = h ? "_s" : "size", v = function (t, e) {
            var r, n = p(e);
            if ("F" !== n) return t._i[n];
            for (r = t._f; r; r = r.n) if (r.k == e) return r
        };
    t.exports = {
        getConstructor: function (t, i, r, n) {
            var o = t(function (t, e) {
                a(t, o, i, "_i"), t._t = i, t._i = s(null), t._f = void 0, t._l = void 0, t[d] = 0, null != e && l(e, r, t[n], t)
            });
            return c(o.prototype, {
                clear: function () {
                    for (var t = y(this, i), e = t._i, r = t._f; r; r = r.n) r.r = !0, r.p && (r.p = r.p.n = void 0), delete e[r.i];
                    t._f = t._l = void 0, t[d] = 0
                }, delete: function (t) {
                    var e = y(this, i), r = v(e, t);
                    if (r) {
                        var n = r.n, o = r.p;
                        delete e._i[r.i], r.r = !0, o && (o.n = n), n && (n.p = o), e._f == r && (e._f = n), e._l == r && (e._l = o), e[d]--
                    }
                    return !!r
                }, forEach: function (t) {
                    y(this, i);
                    for (var e, r = f(t, 1 < arguments.length ? arguments[1] : void 0, 3); e = e ? e.n : this._f;) for (r(e.v, e.k, this); e && e.r;) e = e.p
                }, has: function (t) {
                    return !!v(y(this, i), t)
                }
            }), h && u(o.prototype, "size", {
                get: function () {
                    return y(this, i)[d]
                }
            }), o
        }, def: function (t, e, r) {
            var n, o, i = v(t, e);
            return i ? i.v = r : (t._l = i = {
                i: o = p(e, !0),
                k: e,
                v: r,
                p: n = t._l,
                n: void 0,
                r: !1
            }, t._f || (t._f = i), n && (n.n = i), t[d]++, "F" !== o && (t._i[o] = i)), t
        }, getEntry: v, setStrong: function (t, r, e) {
            n(t, r, function (t, e) {
                this._t = y(t, r), this._k = e, this._l = void 0
            }, function () {
                for (var t = this, e = t._k, r = t._l; r && r.r;) r = r.p;
                return t._t && (t._l = r = r ? r.n : t._t._f) ? o(0, "keys" == e ? r.k : "values" == e ? r.v : [r.k, r.v]) : (t._t = void 0, o(1))
            }, e ? "entries" : "values", !e, !0), i(r)
        }
    }
}, function (t, e, r) {
    var n = r(6);
    n(n.P + n.R, "Set", {toJSON: r(218)("Set")})
}, function (t, e, r) {
    var n = r(63), o = r(219);
    t.exports = function (t) {
        return function () {
            if (n(this) != t) throw TypeError(t + "#toJSON isn't generic");
            return o(this)
        }
    }
}, function (t, e, r) {
    var n = r(25);
    t.exports = function (t, e) {
        var r = [];
        return n(t, !1, r.push, r, e), r
    }
}, function (t, e, r) {
    r(82)("Set")
}, function (t, e, r) {
    r(83)("Set")
}, , , , , , , , , , , , , , function (t, L, T) {
    (function (u) {
        var e = Object.getOwnPropertyDescriptors || function (t) {
            for (var e = Object.keys(t), r = {}, n = 0; n < e.length; n++) r[e[n]] = Object.getOwnPropertyDescriptor(t, e[n]);
            return r
        }, s = /%[sdj%]/g;
        L.format = function (t) {
            if (!w(t)) {
                for (var e = [], r = 0; r < arguments.length; r++) e.push(c(arguments[r]));
                return e.join(" ")
            }
            r = 1;
            for (var n = arguments, o = n.length, i = String(t).replace(s, function (t) {
                if ("%%" === t) return "%";
                if (o <= r) return t;
                switch (t) {
                    case"%s":
                        return String(n[r++]);
                    case"%d":
                        return Number(n[r++]);
                    case"%j":
                        try {
                            return JSON.stringify(n[r++])
                        } catch (t) {
                            return "[Circular]"
                        }
                    default:
                        return t
                }
            }), u = n[r]; r < o; u = n[++r]) m(u) || !f(u) ? i += " " + u : i += " " + c(u);
            return i
        }, L.deprecate = function (t, e) {
            if (void 0 !== u && !0 === u.noDeprecation) return t;
            if (void 0 === u) return function () {
                return L.deprecate(t, e).apply(this, arguments)
            };
            var r = !1;
            return function () {
                if (!r) {
                    if (u.throwDeprecation) throw new Error(e);
                    u.traceDeprecation && console.trace(e), r = !0
                }
                return t.apply(this, arguments)
            }
        };
        var r, n = {};

        function c(t, e) {
            var r = {seen: [], stylize: i};
            return 3 <= arguments.length && (r.depth = arguments[2]), 4 <= arguments.length && (r.colors = arguments[3]), g(e) ? r.showHidden = e : e && L._extend(r, e), _(r.showHidden) && (r.showHidden = !1), _(r.depth) && (r.depth = 2), _(r.colors) && (r.colors = !1), _(r.customInspect) && (r.customInspect = !0), r.colors && (r.stylize = o), p(r, t, r.depth)
        }

        function o(t, e) {
            var r = c.styles[e];
            return r ? "[" + c.colors[r][0] + "m" + t + "[" + c.colors[r][1] + "m" : t
        }

        function i(t, e) {
            return t
        }

        function p(e, r, n) {
            if (e.customInspect && r && j(r.inspect) && r.inspect !== L.inspect && (!r.constructor || r.constructor.prototype !== r)) {
                var t = r.inspect(n, e);
                return w(t) || (t = p(e, t, n)), t
            }
            var o = function (t, e) {
                if (_(e)) return t.stylize("undefined", "undefined");
                if (w(e)) {
                    var r = "'" + JSON.stringify(e).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                    return t.stylize(r, "string")
                }
                if (b(e)) return t.stylize("" + e, "number");
                if (g(e)) return t.stylize("" + e, "boolean");
                if (m(e)) return t.stylize("null", "null")
            }(e, r);
            if (o) return o;
            var i, u = Object.keys(r), s = (i = {}, u.forEach(function (t, e) {
                i[t] = !0
            }), i);
            if (e.showHidden && (u = Object.getOwnPropertyNames(r)), O(r) && (0 <= u.indexOf("message") || 0 <= u.indexOf("description"))) return y(r);
            if (0 === u.length) {
                if (j(r)) {
                    var c = r.name ? ": " + r.name : "";
                    return e.stylize("[Function" + c + "]", "special")
                }
                if (x(r)) return e.stylize(RegExp.prototype.toString.call(r), "regexp");
                if (E(r)) return e.stylize(Date.prototype.toString.call(r), "date");
                if (O(r)) return y(r)
            }
            var f, a = "", l = !1, h = ["{", "}"];
            (v(r) && (l = !0, h = ["[", "]"]), j(r)) && (a = " [Function" + (r.name ? ": " + r.name : "") + "]");
            return x(r) && (a = " " + RegExp.prototype.toString.call(r)), E(r) && (a = " " + Date.prototype.toUTCString.call(r)), O(r) && (a = " " + y(r)), 0 !== u.length || l && 0 != r.length ? n < 0 ? x(r) ? e.stylize(RegExp.prototype.toString.call(r), "regexp") : e.stylize("[Object]", "special") : (e.seen.push(r), f = l ? function (e, r, n, o, t) {
                for (var i = [], u = 0, s = r.length; u < s; ++u) S(r, String(u)) ? i.push(d(e, r, n, o, String(u), !0)) : i.push("");
                return t.forEach(function (t) {
                    t.match(/^\d+$/) || i.push(d(e, r, n, o, t, !0))
                }), i
            }(e, r, n, s, u) : u.map(function (t) {
                return d(e, r, n, s, t, l)
            }), e.seen.pop(), function (t, e, r) {
                if (60 < t.reduce(function (t, e) {
                    return 0, 0 <= e.indexOf("\n") && 0, t + e.replace(/\u001b\[\d\d?m/g, "").length + 1
                }, 0)) return r[0] + ("" === e ? "" : e + "\n ") + " " + t.join(",\n  ") + " " + r[1];
                return r[0] + e + " " + t.join(", ") + " " + r[1]
            }(f, a, h)) : h[0] + a + h[1]
        }

        function y(t) {
            return "[" + Error.prototype.toString.call(t) + "]"
        }

        function d(t, e, r, n, o, i) {
            var u, s, c;
            if ((c = Object.getOwnPropertyDescriptor(e, o) || {value: e[o]}).get ? s = c.set ? t.stylize("[Getter/Setter]", "special") : t.stylize("[Getter]", "special") : c.set && (s = t.stylize("[Setter]", "special")), S(n, o) || (u = "[" + o + "]"), s || (t.seen.indexOf(c.value) < 0 ? -1 < (s = m(r) ? p(t, c.value, null) : p(t, c.value, r - 1)).indexOf("\n") && (s = i ? s.split("\n").map(function (t) {
                return "  " + t
            }).join("\n").substr(2) : "\n" + s.split("\n").map(function (t) {
                return "   " + t
            }).join("\n")) : s = t.stylize("[Circular]", "special")), _(u)) {
                if (i && o.match(/^\d+$/)) return s;
                u = (u = JSON.stringify("" + o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (u = u.substr(1, u.length - 2), t.stylize(u, "name")) : (u = u.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), t.stylize(u, "string"))
            }
            return u + ": " + s
        }

        function v(t) {
            return Array.isArray(t)
        }

        function g(t) {
            return "boolean" == typeof t
        }

        function m(t) {
            return null === t
        }

        function b(t) {
            return "number" == typeof t
        }

        function w(t) {
            return "string" == typeof t
        }

        function _(t) {
            return void 0 === t
        }

        function x(t) {
            return f(t) && "[object RegExp]" === a(t)
        }

        function f(t) {
            return "object" == typeof t && null !== t
        }

        function E(t) {
            return f(t) && "[object Date]" === a(t)
        }

        function O(t) {
            return f(t) && ("[object Error]" === a(t) || t instanceof Error)
        }

        function j(t) {
            return "function" == typeof t
        }

        function a(t) {
            return Object.prototype.toString.call(t)
        }

        function l(t) {
            return t < 10 ? "0" + t.toString(10) : t.toString(10)
        }

        L.debuglog = function (t) {
            if (_(r) && (r = u.env.NODE_DEBUG || ""), t = t.toUpperCase(), !n[t]) if (new RegExp("\\b" + t + "\\b", "i").test(r)) {
                u.pid;
                n[t] = function () {
                    L.format.apply(L, arguments)
                }
            } else n[t] = function () {
            };
            return n[t]
        }, (L.inspect = c).colors = {
            bold: [1, 22],
            italic: [3, 23],
            underline: [4, 24],
            inverse: [7, 27],
            white: [37, 39],
            grey: [90, 39],
            black: [30, 39],
            blue: [34, 39],
            cyan: [36, 39],
            green: [32, 39],
            magenta: [35, 39],
            red: [31, 39],
            yellow: [33, 39]
        }, c.styles = {
            special: "cyan",
            number: "yellow",
            boolean: "yellow",
            undefined: "grey",
            null: "bold",
            string: "green",
            date: "magenta",
            regexp: "red"
        }, L.isArray = v, L.isBoolean = g, L.isNull = m, L.isNullOrUndefined = function (t) {
            return null == t
        }, L.isNumber = b, L.isString = w, L.isSymbol = function (t) {
            return "symbol" == typeof t
        }, L.isUndefined = _, L.isRegExp = x, L.isObject = f, L.isDate = E, L.isError = O, L.isFunction = j, L.isPrimitive = function (t) {
            return null === t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || "symbol" == typeof t || void 0 === t
        }, L.isBuffer = T(237);
        var h = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

        function S(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }

        L.log = function () {
            var t, e;
            t = new Date, e = [l(t.getHours()), l(t.getMinutes()), l(t.getSeconds())].join(":"), [t.getDate(), h[t.getMonth()], e].join(" "), L.format.apply(L, arguments)
        }, L.inherits = T(238), L._extend = function (t, e) {
            if (!e || !f(e)) return t;
            for (var r = Object.keys(e), n = r.length; n--;) t[r[n]] = e[r[n]];
            return t
        };
        var A = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;

        function k(t, e) {
            if (!t) {
                var r = new Error("Promise was rejected with a falsy value");
                r.reason = t, t = r
            }
            return e(t)
        }

        L.promisify = function (i) {
            if ("function" != typeof i) throw new TypeError('The "original" argument must be of type Function');
            if (A && i[A]) {
                var t;
                if ("function" != typeof (t = i[A])) throw new TypeError('The "util.promisify.custom" argument must be of type Function');
                return Object.defineProperty(t, A, {value: t, enumerable: !1, writable: !1, configurable: !0}), t
            }

            function t() {
                for (var r, n, t = new Promise(function (t, e) {
                    r = t, n = e
                }), e = [], o = 0; o < arguments.length; o++) e.push(arguments[o]);
                e.push(function (t, e) {
                    t ? n(t) : r(e)
                });
                try {
                    i.apply(this, e)
                } catch (t) {
                    n(t)
                }
                return t
            }

            return Object.setPrototypeOf(t, Object.getPrototypeOf(i)), A && Object.defineProperty(t, A, {
                value: t,
                enumerable: !1,
                writable: !1,
                configurable: !0
            }), Object.defineProperties(t, e(i))
        }, L.promisify.custom = A, L.callbackify = function (i) {
            if ("function" != typeof i) throw new TypeError('The "original" argument must be of type Function');

            function t() {
                for (var t = [], e = 0; e < arguments.length; e++) t.push(arguments[e]);
                var r = t.pop();
                if ("function" != typeof r) throw new TypeError("The last argument must be of type Function");
                var n = this, o = function () {
                    return r.apply(n, arguments)
                };
                i.apply(this, t).then(function (t) {
                    u.nextTick(o, null, t)
                }, function (t) {
                    u.nextTick(k, t, o)
                })
            }

            return Object.setPrototypeOf(t, Object.getPrototypeOf(i)), Object.defineProperties(t, e(i)), t
        }
    }).call(this, T(236))
}, function (t, e) {
    var r, n, o = t.exports = {};

    function i() {
        throw new Error("setTimeout has not been defined")
    }

    function u() {
        throw new Error("clearTimeout has not been defined")
    }

    function s(e) {
        if (r === setTimeout) return setTimeout(e, 0);
        if ((r === i || !r) && setTimeout) return r = setTimeout, setTimeout(e, 0);
        try {
            return r(e, 0)
        } catch (t) {
            try {
                return r.call(null, e, 0)
            } catch (t) {
                return r.call(this, e, 0)
            }
        }
    }

    !function () {
        try {
            r = "function" == typeof setTimeout ? setTimeout : i
        } catch (t) {
            r = i
        }
        try {
            n = "function" == typeof clearTimeout ? clearTimeout : u
        } catch (t) {
            n = u
        }
    }();
    var c, f = [], a = !1, l = -1;

    function h() {
        a && c && (a = !1, c.length ? f = c.concat(f) : l = -1, f.length && p())
    }

    function p() {
        if (!a) {
            var t = s(h);
            a = !0;
            for (var e = f.length; e;) {
                for (c = f, f = []; ++l < e;) c && c[l].run();
                l = -1, e = f.length
            }
            c = null, a = !1, function (e) {
                if (n === clearTimeout) return clearTimeout(e);
                if ((n === u || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e);
                try {
                    n(e)
                } catch (t) {
                    try {
                        return n.call(null, e)
                    } catch (t) {
                        return n.call(this, e)
                    }
                }
            }(t)
        }
    }

    function y(t, e) {
        this.fun = t, this.array = e
    }

    function d() {
    }

    o.nextTick = function (t) {
        var e = new Array(arguments.length - 1);
        if (1 < arguments.length) for (var r = 1; r < arguments.length; r++) e[r - 1] = arguments[r];
        f.push(new y(t, e)), 1 !== f.length || a || s(p)
    }, y.prototype.run = function () {
        this.fun.apply(null, this.array)
    }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = d, o.addListener = d, o.once = d, o.off = d, o.removeListener = d, o.removeAllListeners = d, o.emit = d, o.prependListener = d, o.prependOnceListener = d, o.listeners = function (t) {
        return []
    }, o.binding = function (t) {
        throw new Error("process.binding is not supported")
    }, o.cwd = function () {
        return "/"
    }, o.chdir = function (t) {
        throw new Error("process.chdir is not supported")
    }, o.umask = function () {
        return 0
    }
}, function (t, e) {
    t.exports = function (t) {
        return t && "object" == typeof t && "function" == typeof t.copy && "function" == typeof t.fill && "function" == typeof t.readUInt8
    }
}, function (t, e) {
    "function" == typeof Object.create ? t.exports = function (t, e) {
        t.super_ = e, t.prototype = Object.create(e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    } : t.exports = function (t, e) {
        t.super_ = e;
        var r = function () {
        };
        r.prototype = e.prototype, t.prototype = new r, t.prototype.constructor = t
    }
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (t, e, r) {
    "use strict";
    e.__esModule = !0;
    var n, o = r(68), i = (n = o) && n.__esModule ? n : {default: n};
    e.default = function (t, e, r) {
        return e in t ? (0, i.default)(t, e, {value: r, enumerable: !0, configurable: !0, writable: !0}) : t[e] = r, t
    }
}]]);
var _0x4da8 = ["showBtnCount", "expand", "positon_", "change_", "#1E82FA", "defaultColor", "#666666", "defaultShadow_", "2px", "touchPointX", "touchPointY", "touchEndPointX", "left_", "top_", "right_", "imgURL_", ".floor-btns-wrap", ".arrow-btns-wrap", "floor-btns-wrap", "white", "boxShadow", "borderRadius", "defaultRadius_", "fontSize", "0.8em", "fontWeight", "textTransform", "lineHeight", "innerText", "backgroundColor", "scroll", "insertBefore", "createLayers", "arrow-floors-wrap arrow-top-btn", "18px", "background", "url(", "arrow1.png) no-repeat 50% 50%", "onclick", "arrow-floors-wrap arrow-down-btn", "setPosition_", "controlPositionListener", "click", "block", "changeScrollState", "expandLayers_", "defaultPadding_", "createLayerButton_", "inited", "onChange", "querySelectorAll", ".arrow-btns-wrap>label[class*='active']", "dataset", "triggerClick", ".arrow-btns-wrap > label", "touchEndPointY", "changedTouches", "scrollTop", "event", "floors-layer-btn layer-btn-default", "data-floornum", "inline-block", "bold", "margin", "addClass", "active", "removeClass", "span", "hrEl", "1px solid rgba(153, 153, 153, 0.45)", "0 20%", "filter", "alpha(opacity=100, finishopacity=0, style=3)", "triggerChange_", "changeMapVisibleFloors_", "changeActiveStyle_", "checkBtn", ".arrow-floors-wrap.arrow-down-btn", ".arrow-floors-wrap.arrow-top-btn", "disabled", "arrow4", ".png)", "backgroundImage", "arrow2", "arrow3", "arrow1", "className", "hasClass", "createEvent", "MouseEvents", "2px 2px 3px rgba(0,0,0, 0.3)", "ischange", ".btn-floors-wrap", ".layers-wrap", "btn-floors-wrap", "zIndex", "padding", "layers.png", "layer.png", "layers-wrap", "btn-floors-wrap arrow-top-btn", "onmouseup", "btn-floors-wrap arrow-down-btn", "onmousedown", "MODE_3D", "changeFloorsSelect", ".layer-btn img", "createLayerlabel_", ".layers-wrap > label", ".layers-wrap>label[class*='active']", "down", "layer-floors-wrap layer-btn-default", "1px", "borderTop", "60%", ".btn-floors-wrap.arrow-down-btn", ".btn-floors-wrap.arrow-top-btn", "initEvent", "margin_", "init2D_", "init2D", "initFloors", "initFloors_", "expand_", "expanded", "less.png) no-repeat 50% 50%", "more.png) no-repeat 50% 50%", "createTool_", "tools-wrap", "to-3d-view-btn", "white url(", "2D.png) no-repeat 50% 50%", "3D.png) no-repeat 50% 50%", "controlViewMode", "tool-floor-btn", "groups.png) no-repeat 50% 50%", "group.png) no-repeat 50% 50%", "controlFloor", "getElementsByTagName", ".tool-wrap", ".tools-wrap", "tool-wrap", "3D.png) no-repeat", "2D.png) no-repeat", "group.png) no-repeat", "groups.png) no-repeat", "zoom-wrap", "zoom-out-btn", ".zoom-wrap", "scalelevel", "scaleLevelIn", "setDefaultValues", "online", "startData", "endData", "startMarker", "endMarker", "_locMarker", "startMarkerLayer", "endMarkerLayer", "_naviResult", "allowPlayDis", "realNaviClock", "filterList", "moveTimer", "pause", "_isEnd_", "isNaving", "curLadder", "isCrossingFuti", "naviInfos", "visibilityChanged", "isSimulating", "timerDelta", "offline", "cacheAudio", "直行到达目的地", "前方下行", "您已到达目的地附近,感谢使用易景地图导航", "您已到达车位附近，车位在您的右侧", "右前方继续直行", "直行10米", "直行50米", "直行100米", "右转后左转", "连续左转弯", "连续右转弯", "locationMarkerUrl", "locationMarkerSize", "addLocationMarker", "_groupsPoints", "mode_", "outcome", "lineObj", "clearNaviLines", "_getNaviResult", "_needDrawLines_", "drawNaviLine", "ladderType_", "image/end.png", "noMarker", "_createMarker", "result", "_naviDescriptions", "naviDescriptionsData", "crossPoints", "getCrossPoints", "toPassedFnum", "DistanceofTwoPts", "navdata", "navicore", "noGoingBack", "pop", "naviDescriptions", "navidistance", "getNaviResult", "无法到达!请重新选点", "checkStatus", "_getFloorsPoints", "startmarker", "clearMarkers", "clearLocationMarker", "_drawlineByResults", "navLine", "lineStyle", "autoClearNaviLine", "combinePoints", "_drawLinesByFloor", "linesVisible", "blockList", "played", "cur", "nex", "endDirection", "方继续直行", "您已到达车位附近，车位在您的左侧", "audioCountDown", "米到达目的地", "前方上行", "到达车位", "relDesc", "到达目的地", "10m", "20m", "直行20米", "50m", "100m", "point1", "dis2", "point2", "getDisToNextCross", "_preGid", "crossedFnum", "ladderLen", "crossFutiTime", "crossFloorTime", "ladderType", "reRouteDis", "deviateCount", "已重新规划路线", "reRouting", "scaleAnimate", "surDistance", "remain", "backcount", "index", "relField", "米 右转", "7,7,1,1", "米 左转后右转", "左转后右转", "7,7", "米 左转", "米 连续左转弯", "米 连续右转弯", "walking", "_gps", "arrivalCount", ",感谢使用", "您已到达目的地附近", "broadcast", "distanceToNext", "naviConstraint", "walk", "curPathInfos", "walkingfunction", "_analyse", "_index", "balanceValue", "directionAssert", "combineAsset", "relAngle", "_boo", "上行到达", "下行到达", "_tailLen", " 直行 ", " 米 ", "直行 ", "absDesc", "右后转", "左后转", "乘梯 ", "endPoint", "isMultiFloors", "getPosition", "_groupPointsIndex", "_moveTo", "inTime", "isNaviAnimating", "changeTiltAngle", "_viewID", "_changeFnumIng", "minScale", "crossFloor", "audioPlay", "dis2next", "followGap", "followPosition", "_toRot", "setFromRotationMatrix", "_animID", "vvs", "_allLen", "_getTransformByLength", "_gpsData", "_toPos", "_scaleLevelToID", "_animateFun", "clearInterval", "1,1,7,7", "米 右转后左转", "1,1", "_locMarkerToStartPoint", "onstartNavi", "watchAudioPlay", "_anim", "_animate", "#33cc61", "#4a82d2", "materialInfo", "_doColor", "_drawNormal", "_drawArrow", "_drawGodArrow", "godColor", "godEdgeColor", "godArrowColor", "fillRect", "_setMaterialInfo", "arrowHeightPercent", "beginPath", "arrowWidthPercent", "arrowPercent", "godHeightPercent", "#ffffff", "shadowColor", "rgba(0,0,0,0.5)", "godArrowPercent", "godArrowWidthPercent", "godArrowXScale", "getFloorNum", "getLength", "getPointList", "es3dmarker", "fadeOut", "delete", "arcTo", "nearbyLine", "areaToAreas", "layerPoints", "crossScheme", "fnums", "calculateCrossAreaPoints", "getLinePoint", "layerPToP", "calculativeCrossLayerLine", "getAreaFormId", "areaPoints", "calculateAreaRelation", "canGoAreas", "getCanRunPoint1", "getCanRunPoint2", "pointIdListAdd", "initCrossScheme", "calculatePath", "opposite", "getArrayMinus", "updataOneTime", "getOptimutic", "getNumber", "preprocess", "getNearestNode", "请重新选点", "calculateAreaStartEnd", "getShortestPath", "walkPath", "convertToCoor", "getNaviResult2", "costDistance", "findLine", "findAllPath", "起点与终点不能相同", "updateNewShortestPathList", "compare", "getShortestPath2", "multiLinesUsed", "walkLines", "updateNewShortestPathList2", "queue", "markerQueue", "ES3DMARKERNUM_ERR", "attributeCount", "checkO1", "lastIndexOf", "loadExist", "fade3dOut", "fadeIn", "fade3dIn", "self", "setAlpha", "addModel3D", "modelLoadComplete", "examinEnd", "alphaMap", "getElementById", "map-container", "box", "relative", "scalerOffet", "20px", "11px", "rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px", "-1px", "3px", "7px", "#000", "6px", "barBox", "barBoxer", "textBox", "marginTop_", "marginTop", "screenCoord_", "screenCoord", "mapCoord_", "IsScreenCoord", "contentHeight_", "content_", "content", "<span>气泡marker</span>", "<div style='height:", "px;'>", "borderStyle", "1px solid rgba(0,0,0,.2)", "rgba(0,0,0,.2)", "popDiv_", "es-control-popmarker", "borderStyle_", "es-control-popmarker-bot", "borderWidth", "solid dashed dashed", " transparent transparent", "es-control-popmarker-top", ") transparent transparent", "-39px", "10px", "8px", "0 0 #eee", "24px", "webkitAppearance", "bindCloseClick_", "insertAdjacentHTML", "beforeend", "getMapCoord_", "getScreenCoord_", "getMapCoord_Z", "coordMapToScreen", "length", "hasOwnProperty", "call", "shift", "apply", "exports", "defineProperty", "toStringTag", "__esModule", "object", "default", "string", "bind", "prototype", "ESJsonpModules", "push", "slice", "concat", "fns", "remove", "fire", "undefined", "function", "test", "Option", "FullScreen", "webkitCancelFullScreen", "mozCancelFullScreen", "_hasWebkitFullScreen", "_hasMozFullScreen", "body", "webkitRequestFullScreen", "mozRequestFullScreen", "Callbacks", "isObject", "eachObject", "startWith", "cloneObj", "complete", "_completeCallbacks", "add", "_responseData", "_status", "success", "_successCallbacks", "_isComplete", "_errorCallbacks", "error", "get", "getJSON", "parse", "log", "Request error, unable to convert to JSON:", "async", "url", "data", "type", "POST", "GET", "isArrayBuffer", "_initHttpServer", "open", "_httpServer", "onreadystatechange", "_httpStateChange", "indexOf", ".loc", "responseType", "arraybuffer", "setRequestHeader", "X-Requested-With", "XMLHttpRequest", "Content-type", "application/x-www-form-urlencoded", "Connection", "send", "_errorCallback", "ActiveXObject", "Platform does not support HTTP！", "readyState", "judgeStatus", "_successCallback", "status", "file:", "location", "protocol", "response", "_httpStatus", "Request Failed!", "Request Status:", "map", "components", "manager", "enabled", "component", "append", "forEach", "mapPicker", "start", "splice", "_invokeFunction", "update", "parent", "tagName", "isElement", "element", "createElement", "attr", "style", "addEvent", "getAttribute", "setAttribute", "THREE_", "THREE", "esWorker", "1.0.2", "Promise", "callbacks", "delay", "resolve", "then", "ESMapConfiguration", "ESHeatMap", "ESappendMapPoi__", "material", "ESMapUtil", "loadTexture", "needsUpdate", "highp", "mediump", "lowp", "none", "floorBase", "model", "facility", "label", "modelLine", "modelImage", "modelBase", "modelLift", "externalModel", "polygonMarker", "imageMarker", "boardMarker", "poi", "This map has already expired,please grab the latest version!", "Please provide the corresponding token!", "Token is not correct", "Cannot get audio token", "Data type must be an array", "You cannot display allFloors in viewMode 2d", "Your operation frequency is too fast. Please try again later.", "This feature required authorization", "get audio token error", "ESNodeType", "ESLineMode", "plane", "circle", "ESLineType", "full", "dotted", "dotDash", "dash", "doubleDotDash", "triDotDash", "arrow", "esarrow", "texture", "ESViewMode", "top", "EScontrolSize", "normal", "ESControlPositon", "container", "ESMapError", "noWebGL", "onerror", "Evento", "JSONModelLoader", "ESComposerRender", "ESMapOptions", "ESMapPicker", "ESMapTheme", "ESMapView", "ESMapBoxCollision", "ESMapLabel", "ESMapNavLineGeometry", "ESMapPoi", "ESMapPoi2", "ESMapPoi3", "ESMapPoi4", "ESMapSceneUtil", "ESModelMesh", "ESComponent", "ESComponentsManager", "ESMapCoord", "ESMapGestureController", "ESNode", "ESImageMarker", "ESLabel", "ESLocationMarker", "ESModel", "ESPolygonMarker", "ESModelImage", "ESTextMarker", "ESUtil", "ESControlOptions", "ESScrollFloorsControl", "ESNavigation", "ESNaviMap", "ESNaviResult", "ESLineMarker", "ES3DMarker", "ESNaviCore", "loadManager", "ESPopMarker", "gestureController_", "controls", "popMarkers_", "openMapById", "getTime", "tl_", "info", "ESInfo", "TOO_FAST", "moveTo", "FloorNum", "focusFnum_", "mapScene", "mapView", "camera", "position", "clone", "target", "sceneX_", "sceneZ_", "sub", "__moveToId", "Tween", "time", "options", "callback", "copy", "multiplyScalar", "viewMode", "constraint", "getAzimuthalAngle", "getPolarAngle", "getFloor", "o3dFloors_", "fullScreenAvaliable", "available", "fullScreen", "request", "container_", "canel", "layerLocalHeight", "ESMap", "elementW", "planeW", "planeH", "object3d", "domElement", "instance", "sourceData", "MeshBasicMaterial", "black", "NoBlending", "DoubleSide", "Mesh", "mapService", "setDomElement", "parentNode", "removeChild", "width", "CSS3DObject", "scale", "set", "cssFactor", "added", "cssScene", "updateMatrixWorld", "matrixWorld", "Vector3", "decompose", "quaternion", "parameters", "minDistance", "minZoom", "maxZoom", "minPolarAngle", "maxPolarAngle", "minAzimuthAngle", "maxAzimuthAngle", "enableDamping", "enableLookAt", "dampingFactor", "validRange_", "EPS", "panLeft", "elements", "panUp", "matrix", "normalize", "PerspectiveCamera", "tan", "fov", "OrthographicCamera", "right", "left", "zoom", "bottom", "WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.", "__lastScaleLevel", "getScaleRate", "getDistance", "initDistance_", "initTop_", "getCurrentScaleLevel", "abs", "scaleLevelTo", "Math", "clamp", "scaleLevels_", "_scaleToId", "setScaleLevelValue", "checkScaleLevel", "scaler_", "updateText", "emit", "scaleLevelChanged", "scaleLevel_", "cameraTop", "updateProjectionMatrix", "minScaleLevel_", "orthoLimitSize", "min", "warn", "initScaleLevel", "getOrthoCameraSizeByPerspectiveCamera", "begin_", "distance", "phi", "theta", "move_", "max", "end_", "pushPhi_", "setFromUnitVectors", "inverse", "Quaternion", "applyQuaternion", "atan2", "sqrt", "forcePhi", "forceTheta", "maxDistance", "sin", "cos", "lookAt", "distanceToSquared", "dot", "OrbitControls", "pan", "clientWidth", "autoRotateSpeed", "pow", "zoomSpeed", "preventDefault", "button", "mouseButtons", "ORBIT", "enableRotate", "ROTATE", "clientX", "clientY", "ZOOM", "enableZoom", "PAN", "NONE", "mousemove", "mouseup", "dispatchEvent", "subVectors", "rotateLeft", "rotateSpeed", "enableGestureIncline", "rotateUp", "clientHeight", "DOLLY", "dollyIn", "dollyOut", "enablePan", "removeEventListener", "stopPropagation", "wheelDelta", "detail", "enableKeys", "keyCode", "keyPanSpeed", "keys", "BOTTOM", "RIGHT", "touches", "TOUCH_PAN", "pageX", "pageY", "TOUCH_ROTATE_DOLLY", "enableGestureRotate", "Vector2", "controlsScaleThreshold", "maxScaleLevel_", "angle", "controlsRotateThreshold", "autoRotate", "LEFT", "MOUSE", "target0", "position0", "change", "notChangeCompass", "minViewDistance", "reset", "zoomIn_", "dispose", "contextmenu", "mousewheel", "MozMousePixelScroll", "touchstart", "touchend", "keydown", "addEventListener", "mousedown", "touchmove", "constructor", "em.OrbitControls: target is now immutable. Use target.set() instead.", "em.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.", "em.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.", "em.OrbitControls: .noPan has been deprecated. Use .enablePan instead.", "em.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.", "em.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.", "CopyShader", "varying vec2 vUv;", "void main() {", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "join", "uniform float opacity;", "vec4 texel = texture2D( tDiffuse, vUv );", "gl_FragColor = opacity * texel;", "EffectComposer", "renderer", "RGBAFormat", "getSize", "height", "renderTarget1", "renderTarget2", "readBuffer", "passes", "copyPass", "ShaderPass", "writeBuffer", "setSize", "render", "needsSwap", "context", "stencilFunc", "NOTEQUAL", "swapBuffers", "MaskPass", "ClearMaskPass", "Pass", "clear", "renderToScreen", "THREE.Pass: .render() must be implemented in derived pass.", "scene", "state", "buffers", "depth", "setMask", "color", "setLocked", "stencil", "setTest", "REPLACE", "setFunc", "ALWAYS", "EQUAL", "KEEP", "RenderPass", "overrideMaterial", "clearColor", "clearDepth", "autoClear", "getClearColor", "getHex", "getClearAlpha", "setClearColor", "textureID", "tDiffuse", "ShaderMaterial", "uniforms", "defines", "fragmentShader", "quad", "frustumCulled", "easeInOutQuad", "easeOutQuad", "linear", "easeOutBack", "pingPongLinear", "kill", "now", "_getValue", "delta", "old", "Color", "work", "action", "_setValue", "prop", "number", "lerp", "slerp", "fadeTo", "actionArray", "obj", "actionArrayProps", "bounce", "transformTo", "FXAAShader", "uniform vec2 resolution;", "#define FXAA_REDUCE_MUL   (1.0/8.0)", "vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;", "vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;", "vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;", "vec3 rgbM  = rgbaM.xyz;", "vec3 luma = vec3( 0.299, 0.587, 0.114 );", "float lumaNW = dot( rgbNW, luma );", "float lumaNE = dot( rgbNE, luma );", "float lumaSE = dot( rgbSE, luma );", "float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );", "vec2 dir;", "dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));", "float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );", "dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),", "max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),", "dir * rcpDirMin)) * resolution;", "vec4 rgbA = (1.0/2.0) * (", "texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +", "vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (", "texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +", "float lumaB = dot(rgbB, vec4(luma, 0.0));", "if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {", "} else {", "gl_FragColor = rgbB;", "Object3D", "absolute", "removed", "CSS3DSprite", "CSS3DRenderer", "overflow", "hidden", "div", "WebkitTransformStyle", "preserve-3d", "appendChild", "userAgent", "matrix3d(", "translate(", "px,", "translate(-50%,-50%)", "transpose", "objects", "WebkitTransform", "children", "isPerspectiveCamera", "WebkitPerspective", "perspective", "matrixWorldInverse", "scale(", "px)", "transform", "GLTFLoader", "DefaultLoadingManager", "path", "FileLoader", "setResponseType", "load", "crossOrigin", "magic", "KHR_BINARY_GLTF", "extensionsUsed", "KHR_MATERIALS_COMMON", "getInverse", "Shaders", "semantic", "boundUniforms", "_m4", "Matrix4", "MODELVIEW", "uniform", "value", "multiplyMatrices", "sourceNode", "MODELVIEWINVERSETRANSPOSE", "getNormalMatrix", "PROJECTION", "projectionMatrix", "JOINTMATRIX", "multiply", "targetNode", "skeleton", "bones", "bindMatrix", "Unhandled shader semantic: ", "KHR_binary_glTF", "KHR_materials_common", "name", "lights", "extensions", "fromArray", "point", "PointLight", "spot", "ambient", "AmbientLight", "binary_glTF", "glTF", "getUint32", 'Unsupported glTF-Binary header: Expected "%s" to be "%s".', "contentLength", "header", "loadShader", "bufferView", "loadTextureSourceUri", "data:", "mimeType", "Matrix3", "Vector4", "Texture", "NearestFilter", "LinearFilter", "NearestMipMapNearestFilter", "LinearMipMapNearestFilter", "NearestMipMapLinearFilter", "LinearMipMapLinearFilter", "ClampToEdgeWrapping", "MirroredRepeatWrapping", "RepeatWrapping", "AlphaFormat", "RGBFormat", "LuminanceAlphaFormat", "UnsignedByteType", "UnsignedShort5551Type", "UnsignedShort565Type", "BackSide", "FrontSide", "NeverDepth", "LessDepth", "LessEqualDepth", "NotEqualDepth", "GreaterEqualDepth", "AlwaysDepth", "AddEquation", "ReverseSubtractEquation", "ZeroFactor", "OneFactor", "SrcColorFactor", "OneMinusSrcColorFactor", "SrcAlphaFactor", "OneMinusSrcAlphaFactor", "DstAlphaFactor", "OneMinusDstAlphaFactor", "OneMinusDstColorFactor", "SrcAlphaSaturateFactor", "InterpolateLinear", "InterpolateDiscrete", "DEPTH_TEST", "BLEND", "SCISSOR_TEST", "SAMPLE_ALPHA_TO_COVERAGE", "toString", "[object Array]", "attributes", "POSITION", "replace", "TEXCOORD_0", "TEXCOORD0", "TEXCOORD", "COLOR_0", "COLOR0", "COLOR", "WEIGHT", "skinWeight", "JOINT", "MeshPhongMaterial", "isDeferredShaderMaterial", "params", "create", "UniformsUtils", "node", "RawShaderMaterial", "json", "cache", "_withDependencies", "charAt", "toUpperCase", "removeAll", "scenes", "cameras", "animations", "bufferViews", "shaders", "text", "uri", "THREE.GLTFLoader: ", " buffer type is not supported", "buffer", "byteOffset", "loadAccessors", "accessors", "componentType", "BYTES_PER_ELEMENT", "byteStride", "InterleavedBuffer", "InterleavedBufferAttribute", "count", "loadTextures", "textures", "source", "images", "Loader", "Handlers", "TextureLoader", "setCrossOrigin", "flipY", "format", "internalFormat", "THREE.GLTFLoader: Three.js doesn't support texture internalFormat which is different from texture format. ", "internalFormat will be forced to be the same value as format.", "sampler", "magFilter", "minFilter", "wrapS", "wrapT", "materials", "technique", "PHONG", "MeshLambertMaterial", "CONSTANT", "values", "doubleSided", "transparent", "opacity", "transparency", "techniques", "programs", "program", "ERROR: Missing fragment shader definition:", "vertexShader", "ERROR: Missing vertex shader definition:", "FLOAT", "FLOAT_VEC3", "FLOAT_VEC4", "FLOAT_MAT3", "FLOAT_MAT2", "FLOAT_MAT4", "SAMPLER_2D", "states", "functions", "CULL_FACE", "Unknown technique.states.enable: ", "cullFace", "depthTest", "depthFunc", "depthWrite", "depthMask", "blending", "CustomBlending", "blendEquation", "blendEquationAlpha", "blendDstAlpha", "blendSrc", "blendDst", "blendSrcAlpha", "isArray", "diffuse", "reflective", "envMap", "bump", "emission", "emissive", "emissiveMap", "specular", "shininess", "loadMeshes", "meshes", "userData", "extras", "primitives", "mode", "TRIANGLES", "BufferGeometry", "addAttribute", "skinIndex", "indices", "setIndex", "LINES", "LineSegments", "Line", "Only triangular and line primitives are supported", "loadCameras", "yfov", "xfov", "aspect_ratio", "radToDeg", "zfar", "orthographic", "innerWidth", "innerHeight", "znear", "loadSkins", "skins", "bindShapeMatrix", "jointNames", "inverseBindMatrices", "loadAnimations", "channels", "input", "output", "updateMatrix", "matrixAutoUpdate", "rotation", "QuaternionKeyframeTrack", "uuid", "arraySlice", "array", "AnimationUtils", "animation_", "loadNodes", "nodes", "jointName", "Bone", "applyMatrix", "translation", "GLTFLoader: Couldn't find node \"", "castShadow", "skin", "skinning", "SkinnedMesh", "WARNING: joint: ''", "' could not be found", "Skeleton", "isBone", "skeletons", "light", "loadScenes", "isRawShaderMaterial", "map_", "config", "getDeviceWH", "maxX", "minX", "maxY", "round", "getDeviceDPI", "maxSize", "getPixXY", "minY", "radius", "gradient", "rgb(0,0,255)", "rgb(0,255,255)", "rgb(0,255,0)", "yellow", "rgb(255,0,0)", "canvas", "getContext", "ctx", "renderShadow", "boundVal", "rgba(0, 0, 0, ", "shadowOffsetY", "shadowBlur", "arc", "closePath", "fill", "colorize", "getImageData", "getPalette", "putImageData", "renderToMap", "focusFloorNum", "focusAlphaMode", "getObjectsByAlias", "disposeHeatMap", "matInfos", "antitrans_", "datas_", "data_", "Typeid", "_color", "MultiMaterial", "_hasHeatMap", "brothers", "createLinearGradient", "addColorStop", "fillStyle", "cachePoint", "points", "addPoint", "addPoints", "randomPoints", "floor", "random", "__lastPhi", "__viewModeAnimating", "lastSelectStore", "__time", "__cnt", "__allTime", "immediateDeltaTime", "rotateTo", "duration", "rotateAngle", "_rotateToID", "convert", "init", "initControls", "panorama", "frameLimit", "ESFrameLimit", "DEFAULT", "mapPickHighLight", "mapTheme", "ESMapScene", "ESMapService", "zonTempObj", "sceneOrtho", "compass_", "ESMapCompass", "viewMode_", "currentCamera_", "fullSceen_", "requireUpdateCollide_", "location_", "ESMapScaler", "floorNums_", "timer", "Clock", "timerImmediate", "visibleFloorNums_", "loader", "_selectModelAlpha", "matList", "animatque", "o_count", "audioList", "enableCollide", "layerAlias", "ESLayerType", "FLOOR_BASE", "MODEL", "ESLayer", "MODEL_LABEL", "TEXT_MARKER", "IMAGE_MARKER", "updateSize", "controlstart", "end", "controlend", "setValidRange_", "openMap", "sceneId_", "__isNewScene", "getO3dScene", "options_", "openMap_", "navigateTo", "navigateFromTo", "queryNavigation", "drawNavigation", "clearLineMarkById", "lineManager", "drawLineMark", "o3d_", "visible", "update_", "datas", "objects_", "type_", "UserPOI", "offsetHeight", "getValues", "visibleFloorNums", "navigateStyle_", "smooth", "segments", "_analyseRawPoints", "curvature", "fnum", "ESLine", "geometry", "toColor", "floorNums", "MODEL3D", "_type_", "MODEL_LIFT", "MODEL_BASE", "selectModelMat", "faces", "_materialIndex", "materialIndex", "groupsNeedUpdate", "getFloorHeight", "offset", "pointList", "toSceneCoord", "toMapCoord", "scaleLevelOut", "maxScaleLevel", "zoomOut", "setModelSelectColor", "findRoomById", "isSelect", "prepare_", "queryThemeV2", "themeID", "themeName", "clearColor_", "clearOpacity_", "storeSelect", "faceRange", "selectNull", "mergeModels", "muti", "__selectMaterialAnimId", "material_", "storeModelSelected", "selectModelNull", "lastSelectModelStore", "_canPicked", "pickFilterFunction", "init_", "intersects", "mapCoord", "hitCoord", "pickerObjects_", "propogation", "nodeType", "faceIndex", "modelSelectedEffect", "POLYGON_MARKER", "mapClickNode", "pickerNone_", "canvas_", "ScaleLevel", "maptime", "setOriginCameraPosition", "minScaleLevel", "defaultScaleLevel", "scaleLevel", "Firstscale", "listFloors", "sort", "floornum", "all", "visibleFloors", "loadPoiIDList", "_start_", "asyncLoadFloors", "loadFloor", "mapSceneData", "image", ".png", "Facility", "Tid", "initPoiMateriaByData", "stopAllAnimate", "off", "getFloorBounds", "floors_", "floorBaseDatas", "GETFLOORBOUNDS_ERR", "floors", "putFloor", "focusFloor", "forEachFloor", "meta_", "theme_", "addModel", "getO3dFloor", "restoreFloorAlpha", "focusAlpha", "getElementsByClassName", "loading", "display", "__isChangeTheme", "updateCountDown_", "panRange", "PlaneGeometry", "o3dScene_", "plane_", "_haveUpdate", "loadComplete_", "loadComplete", "controlsChange_", "controlchange", "updateDirection", "getDelta", "immediateUpdate", "updateCollide", "deltaTime", "forceUpdate", "tryResize_", "resize", "updateHUD", "defaultCenter", "box3_", "Elevation", "floorCenter_", "defaultControlsPose", "MODE_2D", "DEG2RAD", "split", "defaultAngle", "defaultTiltAngle", "tiltAngle", "src", "charCodeAt", "focusFloor_", "_alwaysShowLabelAndPOI", "notMove", "focusAnimateMode", "updateShadowPostion", "setFloorAlpha", "addUserPOI", "removeLocationMarker", "getObjectByName", "dumpScene", "loadqueue", "meshStore", "webgl", "coordScreenToMap", "Raycaster", "setFromCamera", "intersectObject", "changeFocusFloor", "project", "w_2_", "project_", "setFromMatrixPosition", "h_2_", "ESPopInfoWindow", "removeAllPopInfoWins", "close", "lineWidth", "alpha", "size", "gap", "minX_", "maxX_", "minY_", "maxY_", "mapDataSrc", "mapThemeSrc", "ceil", "compassOffset", "spriteBg_", "spritePt_", "RAD2DEG", "mapOriginCoord", "distanceTo", "viewModeAnimateMode", "viewModeAnimateTime", "viewModeChanged", "themeName_", "setBackgroundColor", "traverse", "typeID", "LINE", "strokeColor_", "linewidth", "FLOOR", "floorOpacity_", "floorStyleBase", "themeList_", "repeat", "RoomStyle", "FACILITY", "LABEL", "updateStyle", "labelStyle_", "style_", "floorLoaded", "focusFloorNumChanged", "visibleFloorNumsChanged", "showCompass", "showScaler", "shadowEnabled", "shadowLight", "shadowAngleX", "shadowAngleY", "FloorBarName", "Name", "NameEn", "nameEn", "naviData", "navs", "tempFlipX_", "IsMapLoading", "innerHTML", "<h5>您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器</h5>", "class", "once", "JSONLoader", "setTexturePath", "_enabled", "composer", "isPC", "originSize", "addPass", "composerOrtho", "setScale", "renderOrtho", "reSize", "fxaaPass", "resolution", "data/", "data/theme/", "themeUrlPrefix", "compassSize", "scalerWidth", "scalerBgColor", "firebrick", "scalerColor", "#fff", "focusAnimateTime", "moveToAnimateMode", "moveToAnimateTime", "mergeModelLines", "lightAngleX", "lightAngleY", "shadowSize", "shadowAlpha", "naviLineAnimation", "showBase", "mapFloorSpan", "loadModel3D", "loadPoi", "token", "editMode", "slots", "precision", "ESPricesion", "high", "antialias", "modelLines", "isRandom", "mouse_", "enabled_", "staped", "dom_", "mousedown_", "mousemove_", "mouseup_", "Model", "addModelBase", "ModelBase", "clickCompass", "compassRaycaster_", "cameraOrtho", "compassClick", "removeObject", "addUserLabel", "UserLabel", "addPOI", "addLabel", "Label", "Model3D", "addFloor", "isVisible", "traverseAncestors", "isPickedObject", "objectIntersects_", "modelIntersects_", "intersectObjects", "alias", "cursor", "pointer", "over_", "onOver", "auto", "onLeave", "istaped", "curMouse", "levelFrom", "cameraFrom", "checkMoved", "getPick_", "dTime", "cameraTo", "scale_offset", "levelTo", "isPickedModel", "gestureController", "getBoundingClientRect", "queryScene", ".esmap", "&token=", "&t=", "?t=", "ESMapSet", "versionCheck", "version", "logotoken", "Remark", "VERS_ERR", "sprite_", "WELL", "bid", "encode64", "WndNWnQOW24=", "Wi1zW29wWi5DWA==", "TjY3SDQOTS4x", "Ti4xTjg=", "share", "DOM_ERR", "editor", "substring", "mapshow", "_ca", "_em", "EXPIRED", "TOKEN_MISS", "_id", "ABC", "Hash", "_ac", "adcode", "DefaultCenX", "styleid", "maxV", "_convertFloorFromSourceData", ".theme", "toParams_", "_convertFullData", "the visibleFloors", "ARRAY_REQUIRED", "'all'", "defaultFloornum", "DefaultFnum", "VIEW_MODE2D_ALLFNUM", "visibleNoFloorNums_", "HeightSpan", "FloorHigh", "GData", "getOutLineList", "Outline", "convertGeo2Geometry_", "oid", "RColor", "CenX", "CenY", "bclick", "FsId", "RMO", "RoomHigh", "RoomLogo", "RoomLogoSize", "RLSize", "ShowLevel", "RMS", "rotate", "RMR", "Labels", "FSId", "/imagelabel/", "Rooms", "Lifts", "_convertToSceneFloor", "points_", "holes_", "ESMapLogo", "visible_", "sceneOrtho_", "margin_horiz", "margin_verti", "updateHUD2", "sprite_2", "initUserLogo", "img", "getPlatform", "Sprite", "SpriteMaterial", "userLogoBase64", "userCompany", "esmap", "data:image/png;base64,", "userLogoConfig", "userLogo", "MULTIPOLYGON(((", "GLEN1", "hasHoles", "Reader", "Writer", "util", "roots", "panos", "Type", "Brief", "FirstRotateAngleX", "FirstRotateAngleY", "FirstRotateAngleZ", "DefaultCenY", "DefaultCenZ", "emptyArray", "other1", "encode", "uint32", "int32", "address", "double", "BuildingHigh", "float", "Tel", "FloorSet", "ldelim", "fork", "PicSet", "other2", "encodeDelimited", "decode", "pos", "NavSet", "skipType", "decodeDelimited", "verify", "isInteger", "maptime: integer expected", "Hash: string expected", "_id: integer expected", "isString", "name: string expected", "nameEn: string expected", "Brief: string expected", "adcode: string expected", "address: string expected", "AS: number expected", "BuildingHigh: number expected", "FirstRotateAngleY: number expected", "FirstRotateAngleZ: number expected", "DefaultFnum: integer expected", "DefaultCenX: number expected", "DefaultCenY: number expected", "x: number expected", "y: number expected", "z: number expected", "minX: number expected", "minY: number expected", "maxX: number expected", "maxY: number expected", "ScaleLevel: string expected", "Remark: string expected", "FloorBarName: string expected", "FloorHigh: integer expected", "floors: array expected", "floors.", "navs: array expected", "navs.", "panos: array expected", "panos.", "styleid: string expected", "token: string expected", "logotoken: string expected", "o2: integer expected", "ul: integer expected", "fromObject", ".ESMapSet.floors: array expected", ".ESMapSet.navs: array expected", ".ESMapSet.navs: object expected", ".ESMapSet.panos: array expected", ".ESMapSet.panos: object expected", "from", "toObject", "arrays", "defaults", "toJSON", "toJSONOptions", "emptyObject", "imagesize", "floornumtext", "Height", "Alias", "RoomSet", "POISet", "LiftSet", "skip", "floornum: integer expected", "floornumtext: integer expected", "NameEn: string expected", "Height: integer expected", "Elevation: integer expected", "Outline: string expected", "Alias: string expected", "Rooms: object expected", "key32Re", "Rooms: integer key{k:int32} expected", "Facility: object expected", "Labels: object expected", "Labels: integer key{k:int32} expected", "Labels.", "Lifts: integer key{k:int32} expected", "Lifts.", "image: string expected", "imagesize: string expected", "other1: string expected", "other2: string expected", ".FloorSet.Rooms: object expected", ".FloorSet.Facility: object expected", ".FloorSet.Labels: object expected", ".FloorSet.Lifts: object expected", "PointID", "ShopID", "object expected", "Tid: integer expected", "RL: string expected", "RLSize: string expected", "BC: integer expected", "RC: string expected", "RH: number expected", "RM: string expected", "RMS: string expected", "RMR: string expected", "RMO: string expected", "RS: integer expected", "SL: integer expected", "CenX: number expected", "CenY: number expected", "PointID: integer expected", "ShopID: integer expected", "FS: integer expected", "FC: string expected", "ipos", "X: number expected", "Y: number expected", "SH: number expected", "w: number expected", "h: number expected", "FSId: integer expected", "ipos: integer expected", "len", "F1: integer expected", "F2: integer expected", "ST: integer expected", "LM: string expected", "LS: string expected", "X2: number expected", "Y2: number expected", "O1: string expected", "Nodes", "Lines", "NavNodeSet", "NavLineSet", "Nodes: object expected", "Nodes: integer key{k:int32} expected", "Nodes.", "Lines: object expected", "Lines: integer key{k:int32} expected", "Lines.", "tid", "rid", "sid", "tid: integer expected", "rid: integer expected", "sid: integer expected", "eid", "rank", "direction", "bstair", "efnum", "eid: integer expected", "rank: integer expected", "bstair: string expected", "Infos", "serverurl", "bgaudio", "picscale", "msgscale", "bgaudioplay", "PicNodeSet", "PicClickSet", "serverurl: string expected", "bgaudio: string expected", "msgscale: string expected", "Infos: object expected", "Infos: integer key{k:int32} expected", "Infos.", ".PicSet.Infos: object expected", "idlist1", "idlist2", "base", "url: string expected", "base: integer expected", "idlist1: array expected", "idlist1: integer[] expected", "idlist2: array expected", ".PicNodeSet.idlist1: array expected", "purl", "aurl", "msgc", "csize", "msgt", "curl", "purl: string expected", "aurl: string expected", "msgt: string expected", "msgc: string expected", "curl: string expected", "csize: string expected", "themeID_", "2001", "materialList_", "logomatlist_", "fontStyleThemeDic", "selectedColor_", "model3DSelectedColor_", "createMaterial_", "color_", "getModelTheme", "defaultTheme_", "typeid", "defaultMaterial", "getPoiMaterialByType", "mapstyle", "clearcolor", "cleartransparent", "strokecolor", "floorstyle", "floorColor_", "baseheight", "fontstyle", "labelSelectedStyle_", "selectMat", "hexToRgb", "color format error", "colorRGB2Hex", "toRgba", "rgba(", ",1)", "getMapScene", "getAlias", "getControlsInfo", "toFixed", "setControlsInfo", "Android", "iPhone", "SymbianOS", "iPad", "iPod", "MicroMessenger", "getAudioToken", "audioToken", "https://www.esmap.cn/escopeloc", "/audio/baiduaudio!getToken.action?bids=", "&tk=", "AUDIOTOKEN_ERR", "mark", "wrap", "next", "开始导航", "左前方继续直行", "前方继续直行", "muted", "&per=", "audioMode", "lan=zh&tex=", "&ctp=1&cuid=esmap&tok=", "stop", "playAudio", "https://tsn.baidu.com/text2audio?", "&vol=9&spd=5&pit=5", "invoke", "getNetworkType", "play", "audio", "getWorldPosition", "callAllLayerByAlias", "getLayersByTypes", "getDatasByAlias", "reduce", "lastAlpha", "getModelLabelObject", "searchModel", "key", "done", "return", "createPointsGeometry", "positions", "BufferAttribute", "indexes", "QRSTUVWXYZabcdef", "ghijklmnopqrstuv", "wxyz0123456789+/", "getRouteAngle", "angleTo", "cross", "screen", "deviceXDPI", "DIV", "width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden", "offsetWidth", "search", "types", "locationMarker", "ALL", "keyword", "MapUtil", "_setGeneralProperties", "initY_", "center", "sortObjects", "setPixelRatio", "devicePixelRatio", "shadowMap", "PCFSoftShadowMap", "setClearAlpha", "low", "Scene", "XYZ", "rotationAutoUpdate", "setZ", "ambientLight", "mainLight", "DirectionalLight", "shadow", "mapSize", "bias", "_shadowAngleX", "_shadowAngleY", "screenX", "moz", "visibilitychange", "visibilityState", "secondLight", "shadowDirection", "applyEuler", "Euler", "YZX", "updateCssScene", "cssFuncs", "rendererCss", "aspect", "near", "far", "autoUpdateObjects", "mixerPlane", "materialPt_", "materialBg_", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=", "nextPowerOfTwo", "lw_", "lh_", "rects_", "collision_", "flash", "width_", "height_", "force", "_isAnimating", "times", "MAX_VALUE", "flashId", "flash3d", "alwaysShow", "ESRenderOrder", "renderOrder", "animate", "isOver", "animateEnd", "followAngle", "setPosition", "applyMatrix4", "loop", "startDistance", "updateScreenSize", "enabledUpdateSize", "originPosition", "showLevel_", "_lastScale", "spritify_", "notAddImageHeight", "setY", "unspritify_", "getPerspectiveScale", "fontface", '"Microsoft Yahei","微软雅黑",Tahoma,Arial', "fontsize", "scaleRatio_", "rgba(0,0,0,1)", "borderThickness", "borderColor", "rgba(150,150,150,1)", "measureText", "lineheight", "fontstyleid", "platecolor", "imagealign", "fontspace", "originPivot", "pivot_", "drawImage", "iconPivot", "icon", "pivot", "imageSmoothingEnabled", "strokeStyle", "roundRect", "stroke", "letterSpacingText", "anisotropy", "getMaxAnisotropy", "generateMipmaps", "external", "makeTextSprite_", "message", "strokewidth", "fillcolor", "0,0,0", "imagespace", "pivottype", "setfontsize", "setfontstrokecolor", "stopFlash", "stopJump", "_jumpID", "_initY", "stopMoveTo", "_moveToID", "jump3d", "jump", "zOffset", "ease", "Group", "_rotateID", "fade", "_isFading", "out", "_fadeID", "YXZ", "makeRotationFromEuler", "meterperpixel_", "vertex", "spritify", "pivotOffset", "getComputedStyle", "letterSpacing", "strokeText", "fillText", "textAlign", "yScale", "pathVertices", "notCenter", "perimeter", "_up_", "vertices", "_rings", "Face3", "_uvs", "uvsNeedUpdate", "crossVectors", "makeBasis", "computeFaceNormals", "__proto__", "uvBaseLen", "PLANE", "lineMode", "setRadius", "verticesNeedUpdate", "Geometry", "_mats", "setUrl", "size_", "PlaneBufferGeometry", "stopJump3d", "side", "255,255,255", "textspace", "rotateZ", "degToRad", "mapId_", "userFloors_", "asyncWaitTime", "mapTheme_", "meshHandler", "RoomsLoader", "toHandle", "setScene", "domain", "calcSceneBox3", "calcInitCamera", "ESFloorManager", "Deprecated!", "setFloorPoiVisible", "minV", "asyncBuidExtents", "handlePolygons", "handleModels", "asyncBuildPOIs", "asyncBuildLabels", "asyncBuildExternalModels", "checkMoPos", "floorBaseLayers", "floorBases", "handleFloors", "poiLayer", "poilayers", "boxCollision_", "loadLabel", "labellayers", "labels", "liftlayers", "lifts", "/model/", ".js", "requireCollide_", "MODEL_POI", "RoomsHandler", "modeldatas", "polygondatas", "modellayers", "createRooms", "modelbaselayer", "loadFloors", "loadLayerComplete", "extent", "loadRooms", "loadModelandImage", "layerType", "floorHeight", "isMerge", "sceneZ", "createGeometry_", "pointsGeometry", "merge", "computeBoundingSphere", "modelbases", "coord", "RModel", "sceneX", "room data error! id:", "lineTo", "holes", "Path", "ExtrudeGeometry", "faceVertexUvs", "/imagelogo/", "EXTENT_EPSILON_Y", "getModelMaterial", "models", "modelimagedata", "model3data", "model3DData", "callbackByFloor", "prev", "modelimagelayer", "rmodellayer", "abrupt", "fNums", "modelLineLayer", "LineBasicMaterial", "POSITIVE_INFINITY", "NEGATIVE_INFINITY", "Box3", "buildCurvePoints", "mouseSelected_", "defaultMaterial_", "selectedMaterial_", "setDefaultTheme_", "setSelectedTheme_", "selectedColor", "componentsManager", "ind_", "fixedWidth", "_colorToStr", "CIRCLE", "lineType", "dashArray", "textureLength", "naviMap", "baseRepeatX", "seeThrough", "lineObject", "_update", "_visibleFloorNumsChanged", "transparentLine", "transparentObj", "FULL", "DOTTED", "CENTER", "DOUBLE_DOT_DASH", "TRI_DOT_DASH", "ARROW", "ESARROW", "getDashArrayByLineType", "_updateMaterialByNaviMap", "noAnimate", "speed", "getSpriteScale", "_billboard", "billboard", "_upVec", "setFromAxisAngle", "mapPicker_", "enableMapPan_", "enableMapRotate_", "enableMapPinch_", "enableMapSingleTap_", "enableCompassTap_", "enableFloorChange", "enableFloorChange_", "enableMapPan", "controls_", "enableMapRotate", "enableCompassTap", "enableMapIncline", "enableMapIncline_", "enableMapSingleTap", "setX", "opts_", "ELEMENT", "o3d", "ESElement", "forceVisible_", "coord_", "localToWorld", "setColor", "restoreColor", "createMarker_", "getValue", "../image/user.png", "name_", "id_", "seeThrough_", "getNearestAngle", "LOCATION_MARKER", "url_", "mapLoaded", "_update_", "boundingSphere", "_geo", "rectangle", "_height", "removeModels", "line", "startPoint", "_createPoints", "ShapeGeometry", "Shape", "_createLine", "rotateX", "_normalizePoints", "ESElementType", "XZY", "model3D", "WEBVIEW_MARKER", "webViewMarker", "up_", "showLevel", "childWidth_", "childWidth", "100%", "0px", "pointerEvents", "iframe", "border", "querySelector", "customHtmlId_", "rotateY", "viewPlane", "created", "IFRAME", "closeCallBack", "imageSize", "模拟文本", "scale_", "angle_", "img_", "setfillcolor", "isShowSlots", "addLayer", "Only ESLayer acceptable!", "getLayersByNames", "storeImage", "STORE_IMAGE", "MODEL_LINE", "layers", "getFirstLayer", "removeLayersByTypes", "exitInArray", "removeLayersByNames", "applyHeatMap", "removeHeatMap", "traverse_", "floorAlias", "floorDesc", "floorName", "Name_en", "addMarker", "checkType", "load3dmarker", "BOARD_MARKER", "boardMark", "请添加图层对应的marker!", "_init_", "show3D", "callback_", "请使用图层类型对应的标注！", "allLayer", "ESControlOffset", "imgURL", "image/wedgets/", "padding_"];
!function (e, x) {
    !function (x) {
        for (; --x;) e.push(e.shift())
    }(479)
}(_0x4da8);
var _0x4e57 = function (x, e) {
    return _0x4da8[x -= 0]
};
!function (r) {
    function x(x) {
        for (var e, _, t = x[0], i = x[1], a = x[2], n = 0, g = []; n < t[_0x4e57("0x0")]; n++) _ = t[n], s[_] && g.push(s[_][0]), s[_] = 0;
        for (e in i) Object.prototype[_0x4e57("0x1")][_0x4e57("0x2")](i, e) && (r[e] = i[e]);
        for (I && I(x); g[_0x4e57("0x0")];) g[_0x4e57("0x3")]()();
        return C.push[_0x4e57("0x4")](C, a || []), A()
    }

    function A() {
        for (var x, e = 0; e < C[_0x4e57("0x0")]; e++) {
            for (var _ = C[e], t = !0, i = 1; i < _[_0x4e57("0x0")]; i++) {
                var a = _[i];
                0 !== s[a] && (t = !1)
            }
            t && (C.splice(e--, 1), x = n(n.s = _[0]))
        }
        return x
    }

    var _ = {}, s = {3: 0}, C = [];

    function n(x) {
        if (_[x]) return _[x][_0x4e57("0x5")];
        var e = _[x] = {i: x, l: !1, exports: {}};
        return r[x][_0x4e57("0x2")](e[_0x4e57("0x5")], e, e.exports, n), e.l = !0, e[_0x4e57("0x5")]
    }

    n.m = r, n.c = _, n.d = function (x, e, _) {
        n.o(x, e) || Object[_0x4e57("0x6")](x, e, {enumerable: !0, get: _})
    }, n.r = function (x) {
        "undefined" != typeof Symbol && Symbol[_0x4e57("0x7")] && Object[_0x4e57("0x6")](x, Symbol[_0x4e57("0x7")], {value: "Module"}), Object[_0x4e57("0x6")](x, _0x4e57("0x8"), {value: !0})
    }, n.t = function (e, x) {
        if (1 & x && (e = n(e)), 8 & x) return e;
        if (4 & x && typeof e === _0x4e57("0x9") && e && e[_0x4e57("0x8")]) return e;
        var _ = Object.create(null);
        if (n.r(_), Object[_0x4e57("0x6")](_, _0x4e57("0xa"), {
            enumerable: !0,
            value: e
        }), 2 & x && typeof e != _0x4e57("0xb")) for (var t in e) n.d(_, t, function (x) {
            return e[x]
        }[_0x4e57("0xc")](null, t));
        return _
    }, n.n = function (x) {
        var e = x && x[_0x4e57("0x8")] ? function () {
            return x[_0x4e57("0xa")]
        } : function () {
            return x
        };
        return n.d(e, "a", e), e
    }, n.o = function (x, e) {
        return Object[_0x4e57("0xd")].hasOwnProperty[_0x4e57("0x2")](x, e)
    }, n.p = "/dist/";
    var e = window[_0x4e57("0xe")] = window.ESJsonpModules || [], t = e[_0x4e57("0xf")][_0x4e57("0xc")](e);
    e[_0x4e57("0xf")] = x, e = e[_0x4e57("0x10")]();
    for (var i = 0; i < e[_0x4e57("0x0")]; i++) x(e[i]);
    var I = t;
    C[_0x4e57("0xf")]([97, 1, 4, 0]), A()
}(Array(46)[_0x4e57("0x11")]([function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = n(_(14)), i = n(_(0)), a = n(_(1));

    function n(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function () {
        function x() {
            (0, i.default)(this, x), this[_0x4e57("0x12")] = []
        }

        return (0, a[_0x4e57("0xa")])(x, [{
            key: "add", value: function (x) {
                this.fns[_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x13"), value: function (x) {
                this[_0x4e57("0x12")].splice(fns.indexOf(x), 1)
            }
        }, {
            key: _0x4e57("0x14"), value: function () {
                for (var x = arguments; 0 < this[_0x4e57("0x12")][_0x4e57("0x0")];) {
                    var e = this[_0x4e57("0x12")].shift()[_0x4e57("0x4")](this, x);
                    e && (x = e)
                }
            }
        }, {
            key: "empty", value: function () {
                this.fns = []
            }
        }]), x
    }();
    var r = function x() {
        (0, i.default)(this, x)
    };
    r[_0x4e57("0x18")] = {
        getValue: function (x, e, _) {
            return x && x[_0x4e57("0x1")](e) ? x[e] : _
        }, getValues: function (x, e, _) {
            for (var t, i = 1; i < arguments.length - 1; i++) if (void 0 !== (t = x[arguments[i]])) return t;
            return arguments[arguments.length - 1]
        }
    }, r.id = 10001, r[_0x4e57("0x19")] = {
        get _hasWebkitFullScreen() {
            return _0x4e57("0x1a") in document
        }, get _hasMozFullScreen() {
            return _0x4e57("0x1b") in document
        }, get available() {
            return this[_0x4e57("0x1c")] || this[_0x4e57("0x1d")]
        }, get activated() {
            return this[_0x4e57("0x1c")] ? document.webkitIsFullScreen : !!this[_0x4e57("0x1d")] && document.mozFullScreen
        }, request: function (x) {
            x = x || document[_0x4e57("0x1e")], this._hasWebkitFullScreen ? x[_0x4e57("0x1f")]() : this._hasMozFullScreen && x[_0x4e57("0x20")]()
        }, cancel: function () {
            this[_0x4e57("0x1c")] ? document[_0x4e57("0x1a")]() : this._hasMozFullScreen && document[_0x4e57("0x1b")]()
        }
    }, r[_0x4e57("0x21")] = g, r[_0x4e57("0x22")] = function (x) {
        var e = typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, t[_0x4e57("0xa")])(x);
        return null != x && (e == _0x4e57("0x9") || e == _0x4e57("0x16"))
    }, r[_0x4e57("0x23")] = function (x, e) {
        if (x) for (var _ in x) if (!1 === e(x[_], _, x)) break
    }, r[_0x4e57("0x24")] = function (x, e) {
        return new RegExp("^" + e).test(x)
    }, r.endWith = function (x, e) {
        return new RegExp(e + "$")[_0x4e57("0x17")](x)
    }, r[_0x4e57("0x25")] = function (x) {
        if (!x) return x;
        var e = {};
        for (var _ in x) e[_] = x[_];
        return e
    }, e[_0x4e57("0xa")] = r
}, , , , , , , , , , , , , , , , , , , function (x, e, _) {
    "use strict";
    Object.defineProperty(e, "__esModule", {value: !0});
    var n = i(_(0)), t = i(_(1)), g = i(_(46));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function () {
        function a(x) {
            (0, n[_0x4e57("0xa")])(this, a), this[_0x4e57("0x36")] = x[_0x4e57("0x36")];
            var e = this[_0x4e57("0x36")], _ = x[_0x4e57("0x37")];
            this[_0x4e57("0x38")] = x.type || _0x4e57(_ ? "0x39" : "0x3a");
            var t = this[_0x4e57("0x38")], i = null == x[_0x4e57("0x35")] || x[_0x4e57("0x35")];
            this[_0x4e57("0x3b")] = x[_0x4e57("0x3b")] || !1, this[_0x4e57("0x2d")] = !1, this._status, this._responseData, this._httpStatus, this._completeCallbacks = new (g.default[_0x4e57("0x21")]), this[_0x4e57("0x2c")] = new (g[_0x4e57("0xa")][_0x4e57("0x21")]), this[_0x4e57("0x2e")] = new (g[_0x4e57("0xa")].Callbacks), this._httpServer, this[_0x4e57("0x3c")](), this._httpServer[_0x4e57("0x3d")](t, e, i), this[_0x4e57("0x3e")][_0x4e57("0x3f")] = this[_0x4e57("0x40")].bind(this), t == _0x4e57("0x3a") && (this[_0x4e57("0x3b")] || 0 < this[_0x4e57("0x36")][_0x4e57("0x41")](_0x4e57("0x42"))) && this[_0x4e57("0x3b")] && (this[_0x4e57("0x3e")][_0x4e57("0x43")] = _0x4e57("0x44")), t === _0x4e57("0x39") && (this[_0x4e57("0x3e")][_0x4e57("0x45")](_0x4e57("0x46"), _0x4e57("0x47")), this[_0x4e57("0x3e")][_0x4e57("0x45")](_0x4e57("0x48"), _0x4e57("0x49")), this[_0x4e57("0x3e")][_0x4e57("0x45")](_0x4e57("0x4a"), "close"));
            try {
                this._httpServer[_0x4e57("0x4b")](_)
            } catch (x) {
                this[_0x4e57("0x4c")]()
            }
        }

        return (0, t[_0x4e57("0xa")])(a, [{
            key: _0x4e57("0x26"), value: function (x) {
                return this[_0x4e57("0x27")][_0x4e57("0x28")](x), this._isComplete && this[_0x4e57("0x27")][_0x4e57("0x14")](this[_0x4e57("0x29")], this[_0x4e57("0x2a")]), this
            }
        }, {
            key: _0x4e57("0x2b"), value: function (x) {
                return this[_0x4e57("0x2c")][_0x4e57("0x28")](x), this[_0x4e57("0x2d")] && this[_0x4e57("0x2a")] === _0x4e57("0x2b") && this._successCallbacks[_0x4e57("0x14")](this[_0x4e57("0x29")]), this
            }
        }, {
            key: "error", value: function (x) {
                return this[_0x4e57("0x2e")][_0x4e57("0x28")](x), this._isComplete && this[_0x4e57("0x2a")] === _0x4e57("0x2f") && this[_0x4e57("0x2e")][_0x4e57("0x14")](this[_0x4e57("0x29")]), this
            }
        }], [{
            key: _0x4e57("0x30"), value: function (x, e) {
                return new a({url: x, isArrayBuffer: e})
            }
        }, {
            key: _0x4e57("0x31"), value: function (x) {
                return new a({url: x.url, async: x[_0x4e57("0x35")]}).success(function (e) {
                    var x;
                    try {
                        x = JSON[_0x4e57("0x32")](e)
                    } catch (x) {
                        console[_0x4e57("0x33")](x), console[_0x4e57("0x2f")](_0x4e57("0x34")), console[_0x4e57("0x2f")](e)
                    }
                    return [x]
                })
            }
        }, {
            key: "post", value: function (x, e) {
                return new a({url: x, data: e})
            }
        }]), (0, t[_0x4e57("0xa")])(a, [{
            key: _0x4e57("0x3c"), value: function () {
                window[_0x4e57("0x4d")] ? this._httpServer = new ActiveXObject("Microsoft.XMLHTTP") : window.XMLHttpRequest ? this[_0x4e57("0x3e")] = new XMLHttpRequest : _0x4e57("0x4e")
            }
        }, {
            key: _0x4e57("0x40"), value: function () {
                4 === this[_0x4e57("0x3e")][_0x4e57("0x4f")] && (this._isComplete = !0, this[_0x4e57("0x50")]())
            }
        }, {
            key: _0x4e57("0x51"), value: function () {
                this._completeCallbacks[_0x4e57("0x14")](this[_0x4e57("0x29")], this._status), this[_0x4e57("0x2c")][_0x4e57("0x14")](this._responseData)
            }
        }, {
            key: _0x4e57("0x50"), value: function () {
                200 == this[_0x4e57("0x3e")].status || 0 == this[_0x4e57("0x3e")][_0x4e57("0x52")] && _0x4e57("0x53") == window[_0x4e57("0x54")][_0x4e57("0x55")] ? (this._status = _0x4e57("0x2b"), "GET" == this[_0x4e57("0x38")] && (this.isArrayBuffer || 0 < this[_0x4e57("0x36")][_0x4e57("0x41")](".loc")) ? this[_0x4e57("0x29")] = this._httpServer[_0x4e57("0x56")] : this[_0x4e57("0x29")] = this[_0x4e57("0x3e")].responseText, this[_0x4e57("0x51")]()) : (this[_0x4e57("0x2a")] = "error", this[_0x4e57("0x29")] = this[_0x4e57("0x3e")][_0x4e57("0x56")], this[_0x4e57("0x57")] = this._httpServer[_0x4e57("0x52")], this[_0x4e57("0x4c")]())
            }
        }, {
            key: _0x4e57("0x4c"), value: function () {
                console[_0x4e57("0x33")](_0x4e57("0x58")), console[_0x4e57("0x33")](_0x4e57("0x59") + this._httpStatus), this[_0x4e57("0x27")][_0x4e57("0x14")](this._responseData, this[_0x4e57("0x2a")]), this[_0x4e57("0x2e")][_0x4e57("0x14")](this[_0x4e57("0x29")])
            }
        }]), a
    }();
    e[_0x4e57("0xa")] = a
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (x, e, _) {
    "use strict";

    function t(x) {
        this[_0x4e57("0x5a")] = x, this[_0x4e57("0x5b")] = []
    }

    function i(x, e) {
        x && (this[_0x4e57("0x5c")] = x, this[_0x4e57("0x5d")] = !0, this[_0x4e57("0x9")] = e, this[_0x4e57("0x9")] && (this[_0x4e57("0x9")][_0x4e57("0x5e")] = this), this[_0x4e57("0x5c")][_0x4e57("0x5f")](this))
    }

    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0}), t[_0x4e57("0xd")] = {
        constructor: t,
        _invokeFunction: function (e, _) {
            this.components[_0x4e57("0x60")](function (x) {
                x[_0x4e57("0x5d")] && x[e] && x[e](_)
            })
        },
        append: function (x) {
            this[_0x4e57("0x5b")][_0x4e57("0xf")](x), x[_0x4e57("0x9")] && this[_0x4e57("0x5a")][_0x4e57("0x61")].addComponent(x[_0x4e57("0x9")]), x.start && x[_0x4e57("0x62")]()
        },
        remove: function (x) {
            for (var e = 0; e < this[_0x4e57("0x5b")][_0x4e57("0x0")]; e++) if (this[_0x4e57("0x5b")][e] == x) return void this[_0x4e57("0x5b")][_0x4e57("0x63")](e, 1)
        },
        invokeUpdate: function (x) {
            this[_0x4e57("0x64")](_0x4e57("0x65"), x)
        }
    }, i[_0x4e57("0xd")] = {
        constructor: i, dispose: function () {
            (this[_0x4e57("0x5c")] = this)[_0x4e57("0x5c")][_0x4e57("0x13")](this), this[_0x4e57("0x9")] && (this[_0x4e57("0x5c")][_0x4e57("0x5a")][_0x4e57("0x61")].removeComponent(this[_0x4e57("0x9")]), this[_0x4e57("0x9")][_0x4e57("0x66")] && this[_0x4e57("0x9")][_0x4e57("0x66")].remove(this.object))
        }
    };
    var a = {Component: i, ComponentsManager: t};
    e[_0x4e57("0xa")] = a
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var a = i(_(0)), t = i(_(1));
    e[_0x4e57("0xa")] = function (x, e, _) {
        return new g(x, e, _)
    };
    var n = i(_(46));

    function i(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var g = function () {
        function i(x, e, _, t) {
            if ((0, a[_0x4e57("0xa")])(this, i), i[_0x4e57("0x68")](x)) this[_0x4e57("0x69")] = x; else {
                if (x instanceof i) return x;
                this.element = document[_0x4e57("0x6a")](x)
            }
            this[_0x4e57("0x6b")](e), this[_0x4e57("0x6c")](_), this[_0x4e57("0x6d")](t)
        }

        return (0, t.default)(i, null, [{
            key: "isElement", value: function (x) {
                return !(!x || 1 !== x.nodeType || void 0 === x[_0x4e57("0x67")])
            }
        }]), (0, t[_0x4e57("0xa")])(i, [{
            key: "style", value: function (x, e) {
                var _ = this;
                return x ? typeof x === _0x4e57("0xb") && void 0 === e ? this[_0x4e57("0x69")][_0x4e57("0x6c")][x] : (n[_0x4e57("0xa")][_0x4e57("0x22")](x) ? n.default[_0x4e57("0x23")](x, function (x, e) {
                    _.element[_0x4e57("0x6c")][e] = x
                }) : this[_0x4e57("0x69")][_0x4e57("0x6c")][x] = e, this) : this
            }
        }, {
            key: _0x4e57("0x6b"), value: function (x, e) {
                var _ = this;
                return x ? "string" == typeof x && void 0 === e ? this[_0x4e57("0x69")][_0x4e57("0x6e")](x) : (n[_0x4e57("0xa")].isObject(x) ? n[_0x4e57("0xa")][_0x4e57("0x23")](x, function (x, e) {
                    _[_0x4e57("0x69")][_0x4e57("0x6f")](e, x)
                }) : this.element.setAttribute(x, e), this) : this
            }
        }, {
            key: _0x4e57("0x6d"), value: function (x, e) {
                var _ = this;
                if (!x) return this;

                function t(x) {
                    return n[_0x4e57("0xa")].startWith(x, "on") ? x : "on" + x
                }

                return n.default[_0x4e57("0x22")](x) ? n[_0x4e57("0xa")].eachObject(x, function (x, e) {
                    _[_0x4e57("0x69")][t(e)] = x
                }) : this[_0x4e57("0x69")][t(x)] = e, this
            }
        }]), i
    }()
}, function (x, e, _) {
    "use strict";
    var t = A(_(3)), i = A(_(0)), a = A(_(1)), n = A(_(4)), g = A(_(5)), r = function (x) {
        {
            if (x && x[_0x4e57("0x8")]) return x;
            var e = {};
            if (null != x) for (var _ in x) Object.prototype[_0x4e57("0x1")][_0x4e57("0x2")](x, _) && (e[_] = x[_]);
            return e[_0x4e57("0xa")] = x, e
        }
    }(_(123));

    function A(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var c = r[_0x4e57("0x70")];
    window[_0x4e57("0x71")] = c, window.esWorker = r[_0x4e57("0x72")];
    var s = window.em = c, l = window.esmap = {version: _0x4e57("0x73"), minV: 1, maxV: 2};
    _(147), _(148), _(149), _(150), _(151), _(152), _(153), _(154), _(155), _(164), c[_0x4e57("0x74")] = function () {
        this[_0x4e57("0x75")] = []
    }, c.Promise[_0x4e57("0x76")] = function (x) {
        var e = new (c[_0x4e57("0x74")]);
        return setTimeout(function () {
            e[_0x4e57("0x77")]()
        }, x), e
    }, c.Promise[_0x4e57("0xd")] = {
        constructor: c[_0x4e57("0x74")], then: function (x) {
            return this[_0x4e57("0x75")][_0x4e57("0xf")](x), this
        }, resolve: function (x) {
            var _ = this;
            setTimeout(function () {
                for (var x = 0; x < _[_0x4e57("0x75")][_0x4e57("0x0")]; x++) {
                    var e = _[_0x4e57("0x75")][x]();
                    if (e instanceof c[_0x4e57("0x74")]) for (x++; x < _[_0x4e57("0x75")].length; x++) e[_0x4e57("0x78")](_[_0x4e57("0x75")][x])
                }
            }, 0)
        }
    }, l[_0x4e57("0x79")] = {EXTENT_EPSILON_Y: -.01, SCENE_AXIS: !1}, l[_0x4e57("0x7a")] = {
        create: function (x, e) {
            return new C(x, e)
        }
    }, l[_0x4e57("0x7b")] = {
        setUrl: function (x) {
            this[_0x4e57("0x7c")][_0x4e57("0x5a")] && this[_0x4e57("0x7c")][_0x4e57("0x5a")].dispose(), this[_0x4e57("0x7c")][_0x4e57("0x5a")] = l[_0x4e57("0x7d")][_0x4e57("0x7e")](x), this[_0x4e57("0x7c")].map[_0x4e57("0x7f")] = !0
        }
    }, l.ESDirection = {
        NORTH: "n",
        SOUTH: "s",
        WEST: "w",
        EAST: "e",
        NORTH_EAST: "ne",
        NORTH_WEST: "nw",
        SOUTH_EAST: "se",
        SOUTH_WEST: "sw"
    }, l.ESPricesion = {
        high: _0x4e57("0x80"),
        medium: _0x4e57("0x81"),
        low: _0x4e57("0x82")
    }, l.ESLayerType = {
        NONE: _0x4e57("0x83"),
        FLOOR_BASE: _0x4e57("0x84"),
        MODEL: _0x4e57("0x85"),
        MODEL_POI: _0x4e57("0x86"),
        MODEL_LABEL: _0x4e57("0x87"),
        MODEL_LINE: _0x4e57("0x88"),
        MODEL_IMAGE: _0x4e57("0x89"),
        MODEL_BASE: _0x4e57("0x8a"),
        MODEL_LIFT: _0x4e57("0x8b"),
        EXTERANL_MODEL: _0x4e57("0x8c"),
        POLYGON_MARKER: _0x4e57("0x8d"),
        LOCATION_MARKER: "locationMarker",
        IMAGE_MARKER: _0x4e57("0x8e"),
        TEXT_MARKER: "textMarker",
        MODEL3D: "es3dmarker",
        WEBVIEW_MARKER: "webViewMarker",
        BOARD_MARKER: _0x4e57("0x8f")
    }, l.ESElementType = {
        NONE: "none",
        MODEL: _0x4e57("0x85"),
        MODEL_POI: _0x4e57("0x90"),
        MODEL_LABEL: _0x4e57("0x87"),
        MODEL_IMAGE: _0x4e57("0x89"),
        MODEL_BASE: _0x4e57("0x8a"),
        MODEL_LIFT: _0x4e57("0x8b"),
        EXTERANL_MODEL: _0x4e57("0x8c"),
        POLYGON_MARKER: _0x4e57("0x8d")
    }, l.ESRenderOrder = {
        floorBase: 1,
        model: 10,
        polygonMarker: 15,
        externalModel: 20,
        label: 30,
        facility: 30,
        textMarker: 61,
        imageMarker: 40,
        locationMarker: 71,
        transparentLine: 11,
        lineObject: 70,
        model3D: 69
    }, l.ESInfo = {
        EXPIRED: _0x4e57("0x91"),
        TOKEN_MISS: _0x4e57("0x92"),
        TOKEN_ERR: _0x4e57("0x93"),
        VERS_ERR: "Error version",
        DOM_ERR: "This domain is forbidden",
        ES3DMARKERNUM_ERR: "Maximum es3dMarker limited",
        AUDIO_TOKEN: _0x4e57("0x94"),
        ARRAY_REQUIRED: _0x4e57("0x95"),
        VIEW_MODE2D_ALLFNUM: _0x4e57("0x96"),
        TOO_FAST: _0x4e57("0x97"),
        AUTHO_REQUIRED: _0x4e57("0x98"),
        GETFLOORBOUNDS_ERR: "get floor bounds error,please make sure the floor exists",
        AUDIOTOKEN_ERR: _0x4e57("0x99")
    }, l[_0x4e57("0x9a")] = {
        NONE: 0,
        FLOOR: 4,
        MODEL: 5,
        MODEL3D: 6,
        FACILITY: 11,
        LABEL: 12,
        LINE: 21,
        IMAGE_MARKER: 31,
        TEXT_MARKER: 32,
        LOCATION_MARKER: 33,
        BOARD_MARKER: 34,
        WEBVIEW_MARKER: 40,
        POLYGON_MARKER: 100,
        ALL: 65535,
        ELEMENT: 100
    }, l[_0x4e57("0x9b")] = {
        PLANE: _0x4e57("0x9c"),
        CIRCLE: _0x4e57("0x9d")
    }, l[_0x4e57("0x9e")] = {
        FULL: _0x4e57("0x9f"),
        DOTTED: _0x4e57("0xa0"),
        DOT_DASH: _0x4e57("0xa1"),
        CENTER: "center",
        DASH: _0x4e57("0xa2"),
        DOUBLE_DOT_DASH: _0x4e57("0xa3"),
        TRI_DOT_DASH: _0x4e57("0xa4"),
        NORMAL: "normal",
        ARROW: _0x4e57("0xa5"),
        RAW: "raw",
        ESARROW: _0x4e57("0xa6"),
        TEXTURE: _0x4e57("0xa7")
    }, l[_0x4e57("0xa8")] = {MODE_3D: "3d", MODE_2D: _0x4e57("0xa9")}, l.ESFrameLimit = {
        DEFAULT: 10,
        NAVI: 2
    }, l[_0x4e57("0xaa")] = {
        Map_CONTROL_SMALL: "small",
        Map_CONTROL_NORMAL: _0x4e57("0xab")
    }, l[_0x4e57("0xac")] = {
        LEFT_TOP: 1,
        LEFT_BOTTOM: 2,
        RIGHT_TOP: 3,
        RIGHT_BOTTOM: 4
    }, window.onerror = function (x) {
        l.ESMap = function (x) {
            var e;
            e = x && x[_0x4e57("0xad")] ? x.container : document[_0x4e57("0x1e")], (new (l[_0x4e57("0xae")]))[_0x4e57("0xaf")](e)
        }, window[_0x4e57("0xb0")] = null
    };
    var C = _(174)[_0x4e57("0xa")], I = _(175).default;
    l[_0x4e57("0xae")] = _(179)[_0x4e57("0xa")], s.Ajax = _(65)[_0x4e57("0xa")], s[_0x4e57("0xb1")] = _(180).default, s[_0x4e57("0xb2")] = _(181).default, l[_0x4e57("0xb3")] = _(182)[_0x4e57("0xa")], l[_0x4e57("0xb4")] = _(183)[_0x4e57("0xa")], l[_0x4e57("0xb5")] = _(184)[_0x4e57("0xa")], l.ESMapService = _(185)[_0x4e57("0xa")], l[_0x4e57("0xb6")] = _(205)[_0x4e57("0xa")], l[_0x4e57("0x7d")] = _(206)[_0x4e57("0xa")], l[_0x4e57("0xb7")] = _(222)[_0x4e57("0xa")], l.ESMapCompass = _(223)[_0x4e57("0xa")], l[_0x4e57("0xb8")] = _(224)[_0x4e57("0xa")], l[_0x4e57("0xb9")] = _(225)[_0x4e57("0xa")], l[_0x4e57("0xba")] = _(226).default, l[_0x4e57("0xbb")] = _(227)[_0x4e57("0xa")], l[_0x4e57("0xbc")] = _(228)[_0x4e57("0xa")], l[_0x4e57("0xbd")] = _(229)[_0x4e57("0xa")], l[_0x4e57("0xbe")] = _(230)[_0x4e57("0xa")], l.ESMapScene = _(231)[_0x4e57("0xa")], l[_0x4e57("0xbf")] = _(239)[_0x4e57("0xa")], l[_0x4e57("0xc0")] = _(240).default, l[_0x4e57("0xc1")] = _(95)[_0x4e57("0xa")].Component, l[_0x4e57("0xc2")] = _(95)[_0x4e57("0xa")].ComponentsManager, l.ESLine = _(241)[_0x4e57("0xa")], l[_0x4e57("0xc3")] = _(242).default, l.ESScreenCoord = _(243)[_0x4e57("0xa")], l[_0x4e57("0xc4")] = _(244)[_0x4e57("0xa")], l[_0x4e57("0xc5")] = _(245)[_0x4e57("0xa")], l.ESElement = _(246)[_0x4e57("0xa")], l.ESFacility = _(247)[_0x4e57("0xa")], l[_0x4e57("0xc6")] = _(248)[_0x4e57("0xa")], l[_0x4e57("0xc7")] = _(249)[_0x4e57("0xa")], l[_0x4e57("0xc8")] = _(250)[_0x4e57("0xa")], l[_0x4e57("0xc9")] = _(251).default, l[_0x4e57("0xca")] = _(252)[_0x4e57("0xa")], l[_0x4e57("0xcb")] = _(253)[_0x4e57("0xa")], l.ESWebViewMarker = _(254)[_0x4e57("0xa")], l[_0x4e57("0xcc")] = _(255).default, l.ESFloorManager = _(256)[_0x4e57("0xa")], l.ESLayer = _(257)[_0x4e57("0xa")], l[_0x4e57("0xcd")] = _(46)[_0x4e57("0xa")], l[_0x4e57("0xce")] = _(258)[_0x4e57("0xa")], l.ESControlOffset = _(259)[_0x4e57("0xa")], l.ESButtonFloorsControl = _(260).default, l[_0x4e57("0xcf")] = _(261)[_0x4e57("0xa")], l.ESToolControl = _(262)[_0x4e57("0xa")], l.ESZoomControl = _(263).default, l[_0x4e57("0xd0")] = _(264)[_0x4e57("0xa")], l[_0x4e57("0xd1")] = _(266)[_0x4e57("0xa")], l[_0x4e57("0xd2")] = _(267)[_0x4e57("0xa")], l[_0x4e57("0xd3")] = _(268)[_0x4e57("0xa")], l[_0x4e57("0xd4")] = _(269)[_0x4e57("0xa")], _(270), l[_0x4e57("0xd5")] = _(271)[_0x4e57("0xa")], l[_0x4e57("0xd6")] = _(272)[_0x4e57("0xa")], l.ESMapScaler = _(274).default, l[_0x4e57("0xd7")] = _(275)[_0x4e57("0xa")];
    var o = function (x) {
        function _(x) {
            (0, i[_0x4e57("0xa")])(this, _);
            var e = (0, n[_0x4e57("0xa")])(this, (_.__proto__ || (0, t[_0x4e57("0xa")])(_))[_0x4e57("0x2")](this, x));
            return e[_0x4e57("0xd8")] = new l.ESMapGestureController(e.mapPicker, e[_0x4e57("0xd9")]), e[_0x4e57("0xda")] = [], e
        }

        return (0, g[_0x4e57("0xa")])(_, x), (0, a[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0xdb"), value: function (x) {
                var e = null, _ = (new Date)[_0x4e57("0xdc")]();
                this.tl_ ? e = _ - this[_0x4e57("0xdd")] : this.tl_ = _, this[_0x4e57("0xdd")] = _, e && e <= 1e3 ? console[_0x4e57("0xde")](l[_0x4e57("0xdf")][_0x4e57("0xe0")]) : this.openMap(x);
            }
        }, {
            key: _0x4e57("0xe1"), value: function (x) {
                if (x) {
                    var e = this, _ = x[_0x4e57("0xe2")] ? x.FloorNum : this[_0x4e57("0xe3")],
                        t = this[_0x4e57("0xe4")].getO3dFloor(_);
                    _ != this[_0x4e57("0xe3")] && this.focusFloor_(_, {notMove: !0});
                    var i = this[_0x4e57("0xe5")][_0x4e57("0xe6")][_0x4e57("0xe7")][_0x4e57("0xe8")](),
                        a = (i.y, this.controls[_0x4e57("0xe9")].y, new c.Vector3(-x.x - this.mapScene[_0x4e57("0xea")], t[_0x4e57("0xe7")].y, x.y - this.mapScene[_0x4e57("0xeb")])),
                        n = e[_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0xe8")](),
                        g = a[_0x4e57("0xe8")]()[_0x4e57("0xec")](n);
                    this[_0x4e57("0xed")] && clearInterval(this.__moveToId), this.__moveToId = s[_0x4e57("0xee")].action(e.mapView[_0x4e57("0xe6")].position, null == x[_0x4e57("0xef")] ? e[_0x4e57("0xf0")].moveToAnimateMode ? e[_0x4e57("0xf0")].moveToAnimateTime : 0 : x.time, null, null, function () {
                        x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")](_)
                    }, function (x) {
                        e[_0x4e57("0xd9")].target[_0x4e57("0xf2")](n[_0x4e57("0xe8")]().add(g[_0x4e57("0xe8")]()[_0x4e57("0xf3")](x))), _0x4e57("0xa9") == e[_0x4e57("0xf4")] && e.mapView.camera[_0x4e57("0xe7")][_0x4e57("0xf2")](i.clone().add(g[_0x4e57("0xe8")]().multiplyScalar(x))), e[_0x4e57("0xd9")][_0x4e57("0x65")]({
                            forceTheta: e.controls[_0x4e57("0xf5")][_0x4e57("0xf6")](),
                            forcePhi: e[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0xf7")]()
                        })
                    }), this.floorCenter_ = a
                }
            }
        }, {
            key: _0x4e57("0xf8"), value: function (x) {
                var e = this[_0x4e57("0xe4")][_0x4e57("0xf9")][x];
                return null == e ? null : e.datas_
            }
        }, {
            key: "gestureController", get: function () {
                return this[_0x4e57("0xd8")]
            }
        }, {
            key: _0x4e57("0xfa"), get: function () {
                return l.ESUtil[_0x4e57("0x19")][_0x4e57("0xfb")]
            }
        }, {
            key: _0x4e57("0xfc"), get: function () {
                return l[_0x4e57("0xcd")][_0x4e57("0x19")].activated
            }, set: function (x) {
                x ? l[_0x4e57("0xcd")][_0x4e57("0x19")][_0x4e57("0xfd")](this[_0x4e57("0xe5")][_0x4e57("0xfe")]) : l[_0x4e57("0xcd")].FullScreen[_0x4e57("0xff")]()
            }
        }, {
            key: _0x4e57("0x100"), get: function () {
                return 6
            }
        }]), _
    }(I);
    l[_0x4e57("0x101")] = o, l.ESWebViewPlane = function (a, _, x) {
        (x = x || {})[_0x4e57("0x102")] = void 0 !== x[_0x4e57("0x102")] ? x.elementW : 768, x[_0x4e57("0x103")] = void 0 !== x[_0x4e57("0x103")] ? x[_0x4e57("0x103")] : 1, x.planeH = void 0 !== x[_0x4e57("0x104")] ? x.planeH : .75, x[_0x4e57("0x105")] = void 0 !== x[_0x4e57("0x105")] ? x[_0x4e57("0x105")] : null, this[_0x4e57("0x106")] = _;
        var e = [];
        this[_0x4e57("0x65")] = function () {
            e[_0x4e57("0x60")](function (x) {
                x()
            })
        };
        var t = x[_0x4e57("0x103")], i = x[_0x4e57("0x104")];
        if (!((l[_0x4e57("0x101")][_0x4e57("0x107")].mapService[_0x4e57("0x108")].o1 || 0) <= 1)) {
            if (null === x[_0x4e57("0x105")]) var n = new (c[_0x4e57("0x109")])({
                    opacity: 0,
                    color: new c.Color(_0x4e57("0x10a")),
                    blending: c[_0x4e57("0x10b")],
                    side: c[_0x4e57("0x10c")]
                }), g = new c.PlaneGeometry(x.planeW, x[_0x4e57("0x104")]),
                r = new (c[_0x4e57("0x10d")])(g, n); else r = x[_0x4e57("0x105")];
            if (this[_0x4e57("0x105")] = r, !((l.ESMap.instance[_0x4e57("0x10e")][_0x4e57("0x108")].o1 || 0) <= 1)) {
                var A = i / t, s = x[_0x4e57("0x102")], C = s * A;
                this[_0x4e57("0x10f")] = function (x) {
                    var e = _;
                    e.parentNode && e[_0x4e57("0x110")][_0x4e57("0x111")](e), this[_0x4e57("0x106")] = _ = x, I[_0x4e57("0x69")] = _, o()
                }, o();
                var I = new (c[_0x4e57("0x113")])(_);
                (this.cssObject = I)[_0x4e57("0x114")][_0x4e57("0x115")](1, 1, 1)[_0x4e57("0xf3")](a[_0x4e57("0x116")] / (s / t)), I.userData.mixerPlane = this, r.addEventListener(_0x4e57("0x117"), function (x) {
                    a[_0x4e57("0x118")][_0x4e57("0x28")](I)
                }), r.addEventListener("removed", function (x) {
                    a.cssScene[_0x4e57("0x13")](I)
                }), e[_0x4e57("0xf")](function () {
                    r[_0x4e57("0x119")]();
                    var x = r[_0x4e57("0x11a")], e = new (c[_0x4e57("0x11b")]), _ = new (c[_0x4e57("0x11b")]),
                        t = new c.Quaternion;
                    x[_0x4e57("0x11c")](e, t, _), I[_0x4e57("0x11d")][_0x4e57("0xf2")](t), I.position[_0x4e57("0xf2")](e)[_0x4e57("0xf3")](a[_0x4e57("0x116")]);
                    var i = s / (r.geometry[_0x4e57("0x11e")][_0x4e57("0x112")] * _.x);
                    I[_0x4e57("0x114")][_0x4e57("0x115")](1, 1, 1).multiplyScalar(a[_0x4e57("0x116")] / i)
                })
            }
        }

        function o() {
            _[_0x4e57("0x6c")][_0x4e57("0x112")] = s + "px", _.style.height = C + "px"
        }
    }, window[_0x4e57("0xb0")] = null
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (x, e, _) {
    "use strict";
    var t = a(_(20)), i = a(_(16)), X = a(_(35));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    !function (E, z, j) {
        function Y(x, e) {
            this[_0x4e57("0x9")] = x, this[_0x4e57("0x5a")] = e, this.target = new j.Vector3, this[_0x4e57("0x11f")] = 0, this.maxDistance = 1 / 0, this[_0x4e57("0x120")] = 0, this[_0x4e57("0x121")] = 1 / 0, this[_0x4e57("0x122")] = 0, this[_0x4e57("0x123")] = Math.PI, this[_0x4e57("0x124")] = -1 / 0, this[_0x4e57("0x125")] = 1 / 0, this[_0x4e57("0x126")] = !1, this[_0x4e57("0x127")] = 1, this[_0x4e57("0x128")] = .25, this[_0x4e57("0x129")];
            var r = this, a = 1e-6;
            this[_0x4e57("0x12a")] = a;
            var g, A, _, t, n = 0, s = 0, C = 1, I = new j.Vector3, o = !1;
            this.getPolarAngle = function () {
                return A
            }, this[_0x4e57("0xf6")] = function () {
                return g
            }, this.rotateLeft = function (x) {
                s -= x
            }, this.rotateUp = function (x) {
                n -= x
            }, this[_0x4e57("0x12b")] = (t = new j.Vector3, function (x) {
                var e = this[_0x4e57("0x9")].matrix[_0x4e57("0x12c")];
                t[_0x4e57("0x115")](e[0], e[1], e[2]), t.multiplyScalar(-x), I.add(t)
            }), this[_0x4e57("0x12d")] = (_ = new j.Vector3, function (x) {
                var e = this[_0x4e57("0x9")][_0x4e57("0x12e")][_0x4e57("0x12c")];
                _[_0x4e57("0x115")](e[4], 0, e[6]), _[_0x4e57("0x12f")](), _[_0x4e57("0xf3")](x), I[_0x4e57("0x28")](_)
            }), this.pan = function (x, e, _, t) {
                if (r[_0x4e57("0x9")] instanceof j[_0x4e57("0x130")]) {
                    var i = r[_0x4e57("0x9")][_0x4e57("0xe7")][_0x4e57("0xe8")]().sub(r[_0x4e57("0xe9")])[_0x4e57("0x0")]();
                    i *= Math[_0x4e57("0x131")](r[_0x4e57("0x9")][_0x4e57("0x132")] / 2 * Math.PI / 180), r[_0x4e57("0x12b")](2 * x * i / t), r[_0x4e57("0x12d")](2 * e * i / t)
                } else r.object instanceof j[_0x4e57("0x133")] ? (r[_0x4e57("0x12b")](x * (r.object[_0x4e57("0x134")] - r[_0x4e57("0x9")][_0x4e57("0x135")]) / _ / r[_0x4e57("0x9")][_0x4e57("0x136")]), r[_0x4e57("0x12d")](e * (r[_0x4e57("0x9")].top - r[_0x4e57("0x9")][_0x4e57("0x137")]) / t / r[_0x4e57("0x9")][_0x4e57("0x136")])) : _0x4e57("0x138")
            }, this[_0x4e57("0x139")] = -1, this[_0x4e57("0x13a")] = function () {
                return r[_0x4e57("0x9")] instanceof j[_0x4e57("0x130")] ? r[_0x4e57("0x13b")]() / r[_0x4e57("0x13c")] : r.object[_0x4e57("0xa9")] / r[_0x4e57("0x9")][_0x4e57("0x136")] / r[_0x4e57("0x13d")]
            }, this[_0x4e57("0x13e")] = function () {
                for (var x = (r[_0x4e57("0x13b")](), r[_0x4e57("0x13a")]()), e = 0; e < this[_0x4e57("0x5a")].scaleLevels_.length; e++) if (.001 < Math[_0x4e57("0x13f")](this[_0x4e57("0x5a")].scaleLevels_[e] - x) && x < this.map.scaleLevels_[e]) return e - 1;
                return e - 1
            }, this[_0x4e57("0x140")] = function (x, e) {
                var _, t, i = (e = e || {}).rawLevel ? x : r.map.scaleLevels_[x];
                i = j[_0x4e57("0x141")][_0x4e57("0x142")](i, r.map[_0x4e57("0x143")][0], r[_0x4e57("0x5a")][_0x4e57("0x143")][r[_0x4e57("0x5a")][_0x4e57("0x143")][_0x4e57("0x0")] - 1]), (e = e || {})[_0x4e57("0xef")] = null == e[_0x4e57("0xef")] ? .3 : e.time, _ = r[_0x4e57("0x13a")](), t = i - _, clearInterval(this[_0x4e57("0x144")]), r[_0x4e57("0x144")] = E[_0x4e57("0xee")].fadeTo(e.time, function (x) {
                    r[_0x4e57("0x145")](_ + t * x, 1 != x), r.checkScaleLevel()
                }, null, e[_0x4e57("0xf1")])
            }, this[_0x4e57("0x146")] = function () {
                this[_0x4e57("0x5a")][_0x4e57("0x147")][_0x4e57("0x148")]();
                var x = this[_0x4e57("0x13e")]();
                x != this[_0x4e57("0x139")] && (-1 < (this.__lastScaleLevel = x) && this[_0x4e57("0x149")](_0x4e57("0x14a"), x))
            }, this.dollyIn = function (x) {
                if (this.map[_0x4e57("0x14b")] = this.getCurrentScaleLevel(), !(this[_0x4e57("0x5a")].scaleLevel_ >= this[_0x4e57("0x5a")].maxScaleLevel_)) {
                    if (r.object instanceof j.PerspectiveCamera) C /= x; else if (r[_0x4e57("0x9")] instanceof j[_0x4e57("0x133")]) {
                        var e = this[_0x4e57("0x9")].zoom * x;
                        r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x14c")][_0x4e57("0xa9")] / e < r.orthoLimitSize.max && (r[_0x4e57("0x9")].zoom = e, r[_0x4e57("0x9")][_0x4e57("0x14d")](), o = !0)
                    }
                    this[_0x4e57("0x146")]()
                }
            }, this.dollyOut = function (x) {
                if (this[_0x4e57("0x5a")][_0x4e57("0x14b")] = this[_0x4e57("0x13e")](), !(this[_0x4e57("0x5a")][_0x4e57("0x14b")] <= this.map[_0x4e57("0x14e")])) {
                    if (r[_0x4e57("0x9")] instanceof j.PerspectiveCamera) C *= x; else if (r[_0x4e57("0x9")] instanceof j[_0x4e57("0x133")]) {
                        var e = this[_0x4e57("0x9")][_0x4e57("0x136")] / x;
                        r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x14c")][_0x4e57("0xa9")] / e > r[_0x4e57("0x14f")][_0x4e57("0x150")] && (r.object[_0x4e57("0x136")] = e, r[_0x4e57("0x9")].updateProjectionMatrix(), o = !0)
                    } else console[_0x4e57("0x151")]("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");
                    this[_0x4e57("0x146")]()
                }
            }, this.getDistance = function () {
                return r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")][_0x4e57("0xe7")][_0x4e57("0xe8")]()[_0x4e57("0xec")](r.target).length()
            }, this[_0x4e57("0x13c")] = null, this[_0x4e57("0x152")] = function (x) {
                return this[_0x4e57("0x13c")] && !x || (r[_0x4e57("0x13c")] = this[_0x4e57("0x13b")](), r[_0x4e57("0x13d")] = z.ESMapUtil.getOrthoCameraSizeByPerspectiveCamera(r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")], r, r.initDistance_).top), r[_0x4e57("0x13c")]
            }, this[_0x4e57("0x145")] = function (x, e) {
                var _ = r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")],
                    t = (r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x14c")], _[_0x4e57("0xe7")].clone().sub(r.target)[_0x4e57("0x12f")]());
                t[_0x4e57("0xf3")](this[_0x4e57("0x13c")] * x);
                var i = r[_0x4e57("0xe9")][_0x4e57("0xe8")]()[_0x4e57("0x28")](t);
                if (r.object instanceof j[_0x4e57("0x130")]) _[_0x4e57("0xe7")][_0x4e57("0xf2")](i); else if (r[_0x4e57("0x9")] instanceof j[_0x4e57("0x133")]) {
                    var a = i.distanceTo(r.target), n = z.ESMapUtil[_0x4e57("0x153")](_, r, a),
                        g = r[_0x4e57("0x9")][_0x4e57("0xa9")] / n.top;
                    r[_0x4e57("0x9")][_0x4e57("0x136")] = g, r[_0x4e57("0x9")].updateProjectionMatrix()
                }
                e || (this[_0x4e57("0x139")] = this[_0x4e57("0x13e")]())
            };
            var c, l, u, h, f, d = !0;
            this[_0x4e57("0x154")] = function (x) {
                d = !1, l = c * x[_0x4e57("0x155")], f = r[_0x4e57("0x9")][_0x4e57("0x136")] * (1 / x[_0x4e57("0x155")]), u = A + x[_0x4e57("0x156")], h = g + x[_0x4e57("0x157")]
            }, this[_0x4e57("0x158")] = function (x, e, _, t, i) {
                if (x[_0x4e57("0x5d")] && t && (c = l / x[_0x4e57("0x155")]), r.object instanceof j[_0x4e57("0x133")] && t && x[_0x4e57("0x5d")]) {
                    var a = f / (1 / x[_0x4e57("0x155")]),
                        n = r[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x14c")].top / a;
                    n > r[_0x4e57("0x14f")][_0x4e57("0x150")] && n < r[_0x4e57("0x14f")][_0x4e57("0x159")] && (r[_0x4e57("0x9")][_0x4e57("0x136")] = a, r.object[_0x4e57("0x14d")](), o = !0)
                }
                i && (e && (A = u - x.phi), _ && (g = h - x[_0x4e57("0x157")]))
            }, this[_0x4e57("0x15a")] = function () {
                d = !0
            };
            var p, b, m, v, y, i = 0;
            this[_0x4e57("0x15b")] = function () {
                i = A, A = 0
            }, this.popPhi_ = function () {
                return A = i
            }, this[_0x4e57("0x65")] = (p = new j.Vector3, b = (new j.Quaternion)[_0x4e57("0x15c")](x.up, new (j[_0x4e57("0x11b")])(0, 1, 0)), m = b.clone()[_0x4e57("0x15d")](), v = new (j[_0x4e57("0x11b")]), y = new (j[_0x4e57("0x15e")]), function (x) {
                var e = this[_0x4e57("0x9")][_0x4e57("0xe7")];
                p[_0x4e57("0xf2")](e)[_0x4e57("0xec")](this[_0x4e57("0xe9")]), p[_0x4e57("0x15f")](b), d && (g = Math.atan2(p.x, p.z), A = Math[_0x4e57("0x160")](Math[_0x4e57("0x161")](p.x * p.x + p.z * p.z), p.y), g += s, A += n), g = Math[_0x4e57("0x159")](this[_0x4e57("0x124")], Math[_0x4e57("0x150")](this[_0x4e57("0x125")], g)), x && (x[_0x4e57("0x1")](_0x4e57("0x162")) && (A = x.forcePhi, n = 0), x[_0x4e57("0x1")](_0x4e57("0x163")) && (g = x.forceTheta, s = 0)), A = Math[_0x4e57("0x159")](this[_0x4e57("0x122")], Math[_0x4e57("0x150")](this[_0x4e57("0x123")], A)), A = Math[_0x4e57("0x159")](a, Math[_0x4e57("0x150")](Math.PI - a, A)), d && (c = p[_0x4e57("0x0")]() * C), c = Math.max(this.minDistance, Math[_0x4e57("0x150")](this[_0x4e57("0x164")], c));
                var _ = this[_0x4e57("0xe9")].clone(), t = this[_0x4e57("0x5a")].mapView.camera.position.clone();
                d && (t[_0x4e57("0x28")](I), _[_0x4e57("0x28")](I), C = 1, I.set(0, 0, 0)), p.x = c * Math.sin(A) * Math[_0x4e57("0x165")](g), p.y = c * Math.cos(A), p.z = c * Math.sin(A) * Math[_0x4e57("0x166")](g), p.applyQuaternion(m);
                var i = p[_0x4e57("0x28")](_);
                return (void 0 === this[_0x4e57("0x129")] || this[_0x4e57("0x129")](i, _[_0x4e57("0xe8")]())) && (r.object instanceof j[_0x4e57("0x133")] ? (e[_0x4e57("0xf2")](i), this[_0x4e57("0xe9")].copy(_), this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")][_0x4e57("0xe7")][_0x4e57("0xf2")](t), this[_0x4e57("0x9")].up = new (j[_0x4e57("0x11b")])(Math[_0x4e57("0x165")](g), 0, Math[_0x4e57("0x166")](g)), this[_0x4e57("0x127")] && this.object[_0x4e57("0x167")](this[_0x4e57("0xe9")])) : (e.copy(i), this[_0x4e57("0xe9")][_0x4e57("0xf2")](_), this.enableLookAt && this[_0x4e57("0x9")][_0x4e57("0x167")](this[_0x4e57("0xe9")]))), !0 === this[_0x4e57("0x126")] ? (s *= 1 - this[_0x4e57("0x128")], n *= 1 - this[_0x4e57("0x128")]) : n = s = 0, !(!(o || v[_0x4e57("0x168")](this[_0x4e57("0x9")].position) > a || 8 * (1 - y[_0x4e57("0x169")](this[_0x4e57("0x9")][_0x4e57("0x11d")])) > a) || (v.copy(this.object[_0x4e57("0xe7")]), y[_0x4e57("0xf2")](this[_0x4e57("0x9")].quaternion), o = !1))
            }), E[_0x4e57("0xb1")].convert(this)
        }

        E[_0x4e57("0x16a")] = function (x, e, g) {
            function _(x, e) {
                var _ = u[_0x4e57("0x106")] === document ? u[_0x4e57("0x106")][_0x4e57("0x1e")] : u.domElement;
                l[_0x4e57("0x16b")](x, e, _[_0x4e57("0x16c")], _.clientHeight)
            }

            function t(x) {
                return void 0 === x ? Math[_0x4e57("0x16e")](.95, u[_0x4e57("0x16f")]) : Math[_0x4e57("0x16e")](.95, u[_0x4e57("0x16f")] * x)
            }

            function i(x) {
                if (!1 !== u[_0x4e57("0x5d")]) {
                    if (x[_0x4e57("0x170")](), x[_0x4e57("0x171")] === u[_0x4e57("0x172")][_0x4e57("0x173")]) {
                        if (!1 === u[_0x4e57("0x174")]) return;
                        T = w[_0x4e57("0x175")], h[_0x4e57("0x115")](x[_0x4e57("0x176")], x[_0x4e57("0x177")])
                    } else if (x[_0x4e57("0x171")] === u[_0x4e57("0x172")][_0x4e57("0x178")]) {
                        if (!1 === u[_0x4e57("0x179")]) return;
                        T = w.DOLLY, v[_0x4e57("0x115")](x[_0x4e57("0x176")], x.clientY)
                    } else if (x[_0x4e57("0x171")] === u[_0x4e57("0x172")][_0x4e57("0x17a")]) {
                        if (!1 === u.enablePan) return;
                        T = w.PAN, p.set(x[_0x4e57("0x176")], x[_0x4e57("0x177")])
                    }
                    T !== w[_0x4e57("0x17b")] && (document.addEventListener(_0x4e57("0x17c"), a, !1), document.addEventListener(_0x4e57("0x17d"), n, !1), u[_0x4e57("0x17e")](k))
                }
            }

            function a(x) {
                if (!1 !== u[_0x4e57("0x5d")]) {
                    x[_0x4e57("0x170")]();
                    var e = u.domElement === document ? u.domElement[_0x4e57("0x1e")] : u.domElement;
                    if (T === w[_0x4e57("0x175")]) {
                        if (!1 === u[_0x4e57("0x174")]) return;
                        f[_0x4e57("0x115")](x[_0x4e57("0x176")], x[_0x4e57("0x177")]), d[_0x4e57("0x17f")](f, h), u.enableGestureRotate && l[_0x4e57("0x180")](2 * Math.PI * d.x / e[_0x4e57("0x16c")] * u[_0x4e57("0x181")]), u[_0x4e57("0x182")] && l[_0x4e57("0x183")](2 * Math.PI * d.y / e[_0x4e57("0x184")] * u[_0x4e57("0x181")]), h[_0x4e57("0xf2")](f)
                    } else if (T === w[_0x4e57("0x185")]) {
                        if (!1 === u[_0x4e57("0x179")]) return;
                        y[_0x4e57("0x115")](x.clientX, x[_0x4e57("0x177")]), E[_0x4e57("0x17f")](y, v), 0 < E.y ? l[_0x4e57("0x186")](t()) : E.y < 0 && l[_0x4e57("0x187")](t()), v[_0x4e57("0xf2")](y)
                    } else if (T === w[_0x4e57("0x17a")]) {
                        if (!1 === u[_0x4e57("0x188")]) return;
                        b.set(x[_0x4e57("0x176")], x.clientY), m[_0x4e57("0x17f")](b, p), _(m.x, m.y), p[_0x4e57("0xf2")](b)
                    }
                    T !== w[_0x4e57("0x17b")] && u[_0x4e57("0x65")]()
                }
            }

            function n() {
                !1 !== u[_0x4e57("0x5d")] && (document[_0x4e57("0x189")](_0x4e57("0x17c"), a, !1), document[_0x4e57("0x189")](_0x4e57("0x17d"), n, !1), u[_0x4e57("0x17e")](S), T = w[_0x4e57("0x17b")])
            }

            function r(x) {
                if (!1 !== u[_0x4e57("0x5d")] && !1 !== u.enableZoom && T === w[_0x4e57("0x17b")]) {
                    x[_0x4e57("0x170")](), x[_0x4e57("0x18a")]();
                    var e = 0;
                    void 0 !== x[_0x4e57("0x18b")] ? e = x[_0x4e57("0x18b")] : void 0 !== x[_0x4e57("0x18c")] && (e = -x[_0x4e57("0x18c")]), 0 < e ? l[_0x4e57("0x187")](t()) : e < 0 && l[_0x4e57("0x186")](t()), u[_0x4e57("0x65")](), u[_0x4e57("0x17e")](k), u[_0x4e57("0x17e")](S)
                }
            }

            function A(x) {
                if (!1 !== u[_0x4e57("0x5d")] && !1 !== u[_0x4e57("0x18d")] && !1 !== u[_0x4e57("0x188")]) switch (x[_0x4e57("0x18e")]) {
                    case u.keys.UP:
                        _(0, u[_0x4e57("0x18f")]), u[_0x4e57("0x65")]();
                        break;
                    case u[_0x4e57("0x190")][_0x4e57("0x191")]:
                        _(0, -u[_0x4e57("0x18f")]), u.update();
                        break;
                    case u.keys.LEFT:
                        _(u[_0x4e57("0x18f")], 0), u[_0x4e57("0x65")]();
                        break;
                    case u[_0x4e57("0x190")][_0x4e57("0x192")]:
                        _(-u.keyPanSpeed, 0), u[_0x4e57("0x65")]();
                        break;
                    case 87:
                        _(0, u[_0x4e57("0x18f")]), u[_0x4e57("0x65")]();
                        break;
                    case 83:
                        _(0, -u.keyPanSpeed), u[_0x4e57("0x65")]();
                        break;
                    case 65:
                        _(u[_0x4e57("0x18f")], 0), u.update();
                        break;
                    case 68:
                        _(-u[_0x4e57("0x18f")], 0), u[_0x4e57("0x65")]()
                }
            }

            function s(x) {
                if (!1 !== u[_0x4e57("0x5d")]) {
                    switch (x[_0x4e57("0x193")][_0x4e57("0x0")]) {
                        case 1:
                            if (!1 === u[_0x4e57("0x188")]) return;
                            T = w[_0x4e57("0x194")], p.set(x[_0x4e57("0x193")][0][_0x4e57("0x195")], x[_0x4e57("0x193")][0][_0x4e57("0x196")]);
                            break;
                        case 2:
                            if (!1 === u[_0x4e57("0x179")] && !1 === u.enableRotate) return;
                            T = w[_0x4e57("0x197")];
                            var e = u[_0x4e57("0x106")] === document ? u[_0x4e57("0x106")][_0x4e57("0x1e")] : u[_0x4e57("0x106")];
                            l.begin_(o(x[_0x4e57("0x193")], e[_0x4e57("0x16c")], e[_0x4e57("0x184")], !0, u[_0x4e57("0x179")], u.enableRotate));
                            break;
                        default:
                            T = w[_0x4e57("0x17b")]
                    }
                    T !== w[_0x4e57("0x17b")] && u[_0x4e57("0x17e")](k)
                }
            }

            function C(x) {
                if (!1 !== u[_0x4e57("0x5d")]) {
                    x[_0x4e57("0x170")](), x[_0x4e57("0x18a")]();
                    var e = u[_0x4e57("0x106")] === document ? u[_0x4e57("0x106")][_0x4e57("0x1e")] : u.domElement;
                    switch (x[_0x4e57("0x193")][_0x4e57("0x0")]) {
                        case 1:
                            if (!1 === u[_0x4e57("0x188")]) return;
                            if (T !== w[_0x4e57("0x194")]) return;
                            b[_0x4e57("0x115")](x[_0x4e57("0x193")][0][_0x4e57("0x195")], x[_0x4e57("0x193")][0][_0x4e57("0x196")]), m.subVectors(b, p), _(m.x, m.y), p.copy(b), u[_0x4e57("0x65")]();
                            break;
                        case 2:
                            if (T !== w[_0x4e57("0x197")]) return;
                            l.move_(o(x[_0x4e57("0x193")], e[_0x4e57("0x16c")], e[_0x4e57("0x184")]), u[_0x4e57("0x182")], u[_0x4e57("0x198")], u.enableZoom, u[_0x4e57("0x174")]), u[_0x4e57("0x65")]();
                            break;
                        default:
                            T = w[_0x4e57("0x17b")]
                    }
                }
            }

            function I() {
                !1 !== u[_0x4e57("0x5d")] && (u[_0x4e57("0x17e")](S), T = w[_0x4e57("0x17b")], l[_0x4e57("0x15a")]())
            }

            function o(x, e, _, t) {
                u[_0x4e57("0x5a")].scaleLevel_ = u[_0x4e57("0xf5")][_0x4e57("0x13e")]();
                var i = {}, a = new j.Vector2(x[0][_0x4e57("0x195")], x[0][_0x4e57("0x196")]),
                    n = new (j[_0x4e57("0x199")])(x[1][_0x4e57("0x195")], x[1][_0x4e57("0x196")]),
                    g = n[_0x4e57("0xe8")]()[_0x4e57("0xec")](a), r = Math.PI * (a.y + n.y) / 2 / _;
                M || (M = r), .01 < Math[_0x4e57("0x13f")](r - M) ? (M = i[_0x4e57("0x156")] = r, D = !0) : (D = !1, i[_0x4e57("0x156")] = M);
                var A = g[_0x4e57("0x0")]();
                P || (P = A);
                var s = (0, X.default)(A - P);
                i[_0x4e57("0x5d")] = !0, s != H ? Math[_0x4e57("0x13f")](A / P - 1) > u[_0x4e57("0x5a")][_0x4e57("0xf0")][_0x4e57("0x19a")] ? (H = s, i.distance = A) : i.distance = P : i.distance = A, 0 < P && 0 < H ? u.map.scaleLevel_ < u[_0x4e57("0x5a")][_0x4e57("0x14e")] && (i[_0x4e57("0x5d")] = !1) : u[_0x4e57("0x5a")][_0x4e57("0x14b")] > u.map[_0x4e57("0x19b")] && (i[_0x4e57("0x5d")] = !1), P = i[_0x4e57("0x155")];
                var C = (new j.Vector2(1, 0), -g[_0x4e57("0x19c")]());
                t && (N = 0), L || (L = C);
                var I = C - L, o = (0, X[_0x4e57("0xa")])(I);
                return o != O ? Math[_0x4e57("0x13f")](I) > u[_0x4e57("0x5a")][_0x4e57("0xf0")][_0x4e57("0x19d")] && (!D || t) ? (N = 0, i[_0x4e57("0x157")] = C - N, O = o, L = C, F = i[_0x4e57("0x157")]) : i.theta = F : (i[_0x4e57("0x157")] = C - N, L = C, F = i.theta), u[_0x4e57("0xf5")][_0x4e57("0x146")](), i
            }

            function c(x) {
                x[_0x4e57("0x170")]()
            }

            var l = new Y(x, g);
            this[_0x4e57("0x106")] = void 0 !== e ? e : document, this[_0x4e57("0x5a")] = g, this.constraint = l, this[_0x4e57("0xf7")] = function () {
                return l.getPolarAngle()
            }, this[_0x4e57("0xf6")] = function () {
                return l.getAzimuthalAngle()
            }, this.enabled = !0, this.center = this.target, this[_0x4e57("0x179")] = !0, this.zoomSpeed = 1, this[_0x4e57("0x174")] = !0, this.rotateSpeed = 1, this.enableGestureRotate = !0, this[_0x4e57("0x182")] = !0, this[_0x4e57("0x188")] = !0, this[_0x4e57("0x18f")] = 7, this[_0x4e57("0x19e")] = !1, this.autoRotateSpeed = 2, this[_0x4e57("0x18d")] = !0, this[_0x4e57("0x190")] = {
                LEFT: 37,
                UP: 38,
                RIGHT: 39,
                BOTTOM: 40
            }, this[_0x4e57("0x172")] = {
                PAN: j.MOUSE[_0x4e57("0x19f")],
                ZOOM: j[_0x4e57("0x1a0")].MIDDLE,
                ORBIT: j[_0x4e57("0x1a0")][_0x4e57("0x192")]
            };
            var u = this, h = new j.Vector2, f = new j.Vector2, d = new j.Vector2,
                p = (new (j[_0x4e57("0x199")]), new (j[_0x4e57("0x199")]), new j.Vector2),
                b = new (j[_0x4e57("0x199")]), m = new (j[_0x4e57("0x199")]), v = new (j[_0x4e57("0x199")]),
                y = new (j[_0x4e57("0x199")]), E = new j.Vector2,
                w = {NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5};
            w[_0x4e57("0x197")] = 34;
            var T = w[_0x4e57("0x17b")];
            this[_0x4e57("0x1a1")] = this[_0x4e57("0xe9")][_0x4e57("0xe8")](), this[_0x4e57("0x1a2")] = this[_0x4e57("0x9")][_0x4e57("0xe7")].clone(), this.zoom0 = this[_0x4e57("0x9")][_0x4e57("0x136")];
            var R = {type: _0x4e57("0x1a3")}, k = {type: _0x4e57("0x62")}, S = {type: "end"};
            this.update = function (x) {
                this.autoRotate && T === w.NONE && l[_0x4e57("0x180")](2 * Math.PI / 60 / 60 * u[_0x4e57("0x16d")]), !0 === l[_0x4e57("0x65")](x) && (x && x[_0x4e57("0x1a4")] || this[_0x4e57("0x17e")](R))
            }, this[_0x4e57("0x152")] = function (x, e, _) {
                var t = this, i = l[_0x4e57("0x152")](_);
                t[_0x4e57("0x11f")] = i * x, t[_0x4e57("0x11f")] = t[_0x4e57("0x11f")] > g[_0x4e57("0xf0")][_0x4e57("0x1a5")] ? g[_0x4e57("0xf0")][_0x4e57("0x1a5")] : t[_0x4e57("0x11f")], t[_0x4e57("0x164")] = i * e;
                var a = z[_0x4e57("0x7d")][_0x4e57("0x153")](t.map[_0x4e57("0xe5")][_0x4e57("0xe6")], t, t[_0x4e57("0x11f")]),
                    n = z.ESMapUtil.getOrthoCameraSizeByPerspectiveCamera(t[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")], t, t[_0x4e57("0x164")]);
                return l[_0x4e57("0x14f")] = {min: a.top, max: n.top}, i
            }, this[_0x4e57("0x145")] = function (x) {
                l[_0x4e57("0x145")](x), this.update()
            }, this[_0x4e57("0x1a6")] = function () {
                T = w[_0x4e57("0x17b")], this.target[_0x4e57("0xf2")](this.target0), this[_0x4e57("0x9")][_0x4e57("0xe7")][_0x4e57("0xf2")](this[_0x4e57("0x1a2")]), this.object.zoom = this.zoom0, this[_0x4e57("0x9")][_0x4e57("0x14d")](), this[_0x4e57("0x17e")](R), this[_0x4e57("0x65")]()
            }, this[_0x4e57("0x1a7")] = function (x) {
                l[_0x4e57("0x187")](x || t()), u[_0x4e57("0x65")]()
            }, this.zoomOut_ = function (x) {
                l[_0x4e57("0x186")](x || t()), u[_0x4e57("0x65")]()
            }, this.setValidRange_ = function (x) {
                l[_0x4e57("0x129")] = x
            };
            var M, L = null, O = 0, P = null, H = 0, D = !1, N = 0, F = 0;
            this[_0x4e57("0x1a8")] = function () {
                this[_0x4e57("0x106")][_0x4e57("0x189")](_0x4e57("0x1a9"), c, !1), this[_0x4e57("0x106")][_0x4e57("0x189")]("mousedown", i, !1), this.domElement[_0x4e57("0x189")](_0x4e57("0x1aa"), r, !1), this[_0x4e57("0x106")][_0x4e57("0x189")](_0x4e57("0x1ab"), r, !1), this[_0x4e57("0x106")][_0x4e57("0x189")](_0x4e57("0x1ac"), s, !1), this[_0x4e57("0x106")][_0x4e57("0x189")](_0x4e57("0x1ad"), I, !1), this[_0x4e57("0x106")][_0x4e57("0x189")]("touchmove", C, !1), document[_0x4e57("0x189")](_0x4e57("0x17c"), a, !1), document[_0x4e57("0x189")](_0x4e57("0x17d"), n, !1), window[_0x4e57("0x189")](_0x4e57("0x1ae"), A, !1)
            }, this[_0x4e57("0x106")][_0x4e57("0x1af")](_0x4e57("0x1a9"), c, !1), this[_0x4e57("0x106")][_0x4e57("0x1af")](_0x4e57("0x1b0"), i, !1), this.domElement[_0x4e57("0x1af")](_0x4e57("0x1aa"), r, !1), this[_0x4e57("0x106")][_0x4e57("0x1af")](_0x4e57("0x1ab"), r, !1), this[_0x4e57("0x106")][_0x4e57("0x1af")]("touchstart", s, !1), this.domElement.addEventListener(_0x4e57("0x1ad"), I, !1), this[_0x4e57("0x106")][_0x4e57("0x1af")](_0x4e57("0x1b1"), C, !1), window.addEventListener("keydown", A, !1), this[_0x4e57("0x65")]()
        }, E[_0x4e57("0x16a")][_0x4e57("0xd")] = (0, i.default)(j.EventDispatcher[_0x4e57("0xd")]), E.OrbitControls[_0x4e57("0xd")][_0x4e57("0x1b2")] = E.OrbitControls, (0, t[_0x4e57("0xa")])(E[_0x4e57("0x16a")][_0x4e57("0xd")], {
            object: {
                get: function () {
                    return this.constraint[_0x4e57("0x9")]
                }
            }, target: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0xe9")]
                }, set: function (x) {
                    console[_0x4e57("0x151")](_0x4e57("0x1b3")), this[_0x4e57("0xf5")][_0x4e57("0xe9")][_0x4e57("0xf2")](x)
                }
            }, minDistance: {
                get: function () {
                    return this.constraint[_0x4e57("0x11f")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")][_0x4e57("0x11f")] = x
                }
            }, maxDistance: {
                get: function () {
                    return this.constraint[_0x4e57("0x164")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")][_0x4e57("0x164")] = x
                }
            }, minZoom: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x120")]
                }, set: function (x) {
                    this.constraint[_0x4e57("0x120")] = x
                }
            }, maxZoom: {
                get: function () {
                    return this.constraint.maxZoom
                }, set: function (x) {
                    this.constraint.maxZoom = x
                }
            }, minPolarAngle: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x122")]
                }, set: function (x) {
                    this.constraint[_0x4e57("0x122")] = x
                }
            }, maxPolarAngle: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x123")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")].maxPolarAngle = x
                }
            }, minAzimuthAngle: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x124")]
                }, set: function (x) {
                    this.constraint[_0x4e57("0x124")] = x
                }
            }, maxAzimuthAngle: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x125")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")].maxAzimuthAngle = x
                }
            }, enableDamping: {
                get: function () {
                    return this[_0x4e57("0xf5")][_0x4e57("0x126")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")][_0x4e57("0x126")] = x
                }
            }, dampingFactor: {
                get: function () {
                    return this.constraint[_0x4e57("0x128")]
                }, set: function (x) {
                    this[_0x4e57("0xf5")][_0x4e57("0x128")] = x
                }
            }, noZoom: {
                get: function () {
                    return _0x4e57("0x1b4"), !this[_0x4e57("0x179")]
                }, set: function (x) {
                    console[_0x4e57("0x151")](_0x4e57("0x1b4")), this.enableZoom = !x
                }
            }, noRotate: {
                get: function () {
                    return _0x4e57("0x1b5"), !this.enableRotate
                }, set: function (x) {
                    console[_0x4e57("0x151")](_0x4e57("0x1b5")), this[_0x4e57("0x174")] = !x
                }
            }, noPan: {
                get: function () {
                    return _0x4e57("0x1b6"), !this[_0x4e57("0x188")]
                }, set: function (x) {
                    console[_0x4e57("0x151")](_0x4e57("0x1b6")), this.enablePan = !x
                }
            }, noKeys: {
                get: function () {
                    return !this.enableKeys
                }, set: function (x) {
                    console[_0x4e57("0x151")]("em.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."), this[_0x4e57("0x18d")] = !x
                }
            }, staticMoving: {
                get: function () {
                    return console[_0x4e57("0x151")](_0x4e57("0x1b7")), !this.constraint[_0x4e57("0x126")]
                }, set: function (x) {
                    console[_0x4e57("0x151")]("em.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."), this[_0x4e57("0xf5")][_0x4e57("0x126")] = !x
                }
            }, dynamicDampingFactor: {
                get: function () {
                    return console[_0x4e57("0x151")](_0x4e57("0x1b8")), this[_0x4e57("0xf5")][_0x4e57("0x128")]
                }, set: function (x) {
                    console[_0x4e57("0x151")]("em.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."), this.constraint.dampingFactor = x
                }
            }
        })
    }(em, esmap, THREE)
}, function (x, e, _) {
    "use strict";
    THREE[_0x4e57("0x1b9")] = {
        uniforms: {tDiffuse: {value: null}, opacity: {value: 1}},
        vertexShader: [_0x4e57("0x1ba"), _0x4e57("0x1bb"), "vUv = uv;", _0x4e57("0x1bc"), "}"][_0x4e57("0x1bd")]("\n"),
        fragmentShader: [_0x4e57("0x1be"), "uniform sampler2D tDiffuse;", _0x4e57("0x1ba"), _0x4e57("0x1bb"), _0x4e57("0x1bf"), _0x4e57("0x1c0"), "}"][_0x4e57("0x1bd")]("\n")
    }
}, function (x, e, _) {
    "use strict";
    var t, i = _(9), a = (t = i) && t[_0x4e57("0x8")] ? t : {default: t};
    THREE[_0x4e57("0x1c1")] = function (x, e) {
        if (this[_0x4e57("0x1c2")] = x, void 0 === e) {
            var _ = {
                minFilter: THREE.LinearFilter,
                magFilter: THREE.LinearFilter,
                format: THREE[_0x4e57("0x1c3")],
                stencilBuffer: !1
            }, t = x[_0x4e57("0x1c4")]();
            e = new THREE.WebGLRenderTarget(t.width, t[_0x4e57("0x1c5")], _)
        }
        this[_0x4e57("0x1c6")] = e, this[_0x4e57("0x1c7")] = e[_0x4e57("0xe8")](), this.writeBuffer = this.renderTarget1, this[_0x4e57("0x1c8")] = this[_0x4e57("0x1c7")], this[_0x4e57("0x1c9")] = [], THREE[_0x4e57("0x1b9")], this[_0x4e57("0x1ca")] = new (THREE[_0x4e57("0x1cb")])(THREE[_0x4e57("0x1b9")])
    }, (0, a.default)(THREE[_0x4e57("0x1c1")][_0x4e57("0xd")], {
        swapBuffers: function () {
            var x = this[_0x4e57("0x1c8")];
            this[_0x4e57("0x1c8")] = this[_0x4e57("0x1cc")], this.writeBuffer = x
        }, addPass: function (x) {
            this[_0x4e57("0x1c9")][_0x4e57("0xf")](x);
            var e = this.renderer[_0x4e57("0x1c4")]();
            x[_0x4e57("0x1cd")](e[_0x4e57("0x112")], e.height)
        }, insertPass: function (x, e) {
            this[_0x4e57("0x1c9")][_0x4e57("0x63")](e, 0, x)
        }, render: function (x) {
            var e, _, t = !1, i = this[_0x4e57("0x1c9")][_0x4e57("0x0")];
            for (_ = 0; _ < i; _++) if (!1 !== (e = this[_0x4e57("0x1c9")][_])[_0x4e57("0x5d")]) {
                if (e[_0x4e57("0x1ce")](this.renderer, this[_0x4e57("0x1cc")], this[_0x4e57("0x1c8")], x, t), e[_0x4e57("0x1cf")]) {
                    if (t) {
                        var a = this[_0x4e57("0x1c2")][_0x4e57("0x1d0")];
                        a[_0x4e57("0x1d1")](a[_0x4e57("0x1d2")], 1, 4294967295), this[_0x4e57("0x1ca")][_0x4e57("0x1ce")](this[_0x4e57("0x1c2")], this[_0x4e57("0x1cc")], this.readBuffer, x), a[_0x4e57("0x1d1")](a.EQUAL, 1, 4294967295)
                    }
                    this[_0x4e57("0x1d3")]()
                }
                void 0 !== THREE[_0x4e57("0x1d4")] && (e instanceof THREE[_0x4e57("0x1d4")] ? t = !0 : e instanceof THREE[_0x4e57("0x1d5")] && (t = !1))
            }
        }, reset: function (x) {
            if (void 0 === x) {
                var e = this[_0x4e57("0x1c2")].getSize();
                (x = this[_0x4e57("0x1c6")].clone()).setSize(e[_0x4e57("0x112")], e[_0x4e57("0x1c5")])
            }
            this[_0x4e57("0x1c6")][_0x4e57("0x1a8")](), this[_0x4e57("0x1c7")][_0x4e57("0x1a8")](), this.renderTarget1 = x, this[_0x4e57("0x1c7")] = x[_0x4e57("0xe8")](), this[_0x4e57("0x1cc")] = this.renderTarget1, this[_0x4e57("0x1c8")] = this[_0x4e57("0x1c7")]
        }, setSize: function (x, e) {
            this[_0x4e57("0x1c6")][_0x4e57("0x1cd")](x, e), this[_0x4e57("0x1c7")][_0x4e57("0x1cd")](x, e);
            for (var _ = 0; _ < this.passes[_0x4e57("0x0")]; _++) this[_0x4e57("0x1c9")][_][_0x4e57("0x1cd")](x, e)
        }
    }), THREE[_0x4e57("0x1d6")] = function () {
        this[_0x4e57("0x5d")] = !0, this[_0x4e57("0x1cf")] = !0, this[_0x4e57("0x1d7")] = !1, this[_0x4e57("0x1d8")] = !1
    }, (0, a[_0x4e57("0xa")])(THREE[_0x4e57("0x1d6")][_0x4e57("0xd")], {
        setSize: function (x, e) {
        }, render: function (x, e, _, t, i) {
            console[_0x4e57("0x2f")](_0x4e57("0x1d9"))
        }
    })
}, function (x, e, _) {
    "use strict";
    var t = a(_(16)), i = a(_(9));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    THREE[_0x4e57("0x1d4")] = function (x, e) {
        THREE[_0x4e57("0x1d6")][_0x4e57("0x2")](this), this[_0x4e57("0x1da")] = x, this[_0x4e57("0xe6")] = e, this[_0x4e57("0x1d7")] = !0, this[_0x4e57("0x1cf")] = !1, this[_0x4e57("0x15d")] = !1
    }, THREE.MaskPass.prototype = (0, i.default)((0, t.default)(THREE[_0x4e57("0x1d6")][_0x4e57("0xd")]), {
        constructor: THREE[_0x4e57("0x1d4")], render: function (x, e, _, t, i) {
            var a, n, g = x[_0x4e57("0x1d0")], r = x[_0x4e57("0x1db")];
            r.buffers.color.setMask(!1), r[_0x4e57("0x1dc")][_0x4e57("0x1dd")][_0x4e57("0x1de")](!1), r[_0x4e57("0x1dc")][_0x4e57("0x1df")][_0x4e57("0x1e0")](!0), r[_0x4e57("0x1dc")][_0x4e57("0x1dd")][_0x4e57("0x1e0")](!0), n = this[_0x4e57("0x15d")] ? (a = 0, 1) : (a = 1, 0), r[_0x4e57("0x1dc")][_0x4e57("0x1e1")][_0x4e57("0x1e2")](!0), r[_0x4e57("0x1dc")][_0x4e57("0x1e1")].setOp(g.REPLACE, g[_0x4e57("0x1e3")], g[_0x4e57("0x1e3")]), r[_0x4e57("0x1dc")][_0x4e57("0x1e1")][_0x4e57("0x1e4")](g[_0x4e57("0x1e5")], a, 4294967295), r[_0x4e57("0x1dc")][_0x4e57("0x1e1")].setClear(n), x.render(this[_0x4e57("0x1da")], this.camera, _, this[_0x4e57("0x1d7")]), x.render(this[_0x4e57("0x1da")], this[_0x4e57("0xe6")], e, this.clear), r[_0x4e57("0x1dc")][_0x4e57("0x1df")][_0x4e57("0x1e0")](!1), r.buffers[_0x4e57("0x1dd")][_0x4e57("0x1e0")](!1), r[_0x4e57("0x1dc")][_0x4e57("0x1e1")][_0x4e57("0x1e4")](g[_0x4e57("0x1e6")], 1, 4294967295), r[_0x4e57("0x1dc")].stencil.setOp(g[_0x4e57("0x1e7")], g[_0x4e57("0x1e7")], g[_0x4e57("0x1e7")])
        }
    }), THREE[_0x4e57("0x1d5")] = function () {
        THREE[_0x4e57("0x1d6")].call(this), this[_0x4e57("0x1cf")] = !1
    }, THREE[_0x4e57("0x1d5")][_0x4e57("0xd")] = (0, t.default)(THREE.Pass[_0x4e57("0xd")]), (0, i[_0x4e57("0xa")])(THREE[_0x4e57("0x1d5")][_0x4e57("0xd")], {
        render: function (x, e, _, t, i) {
            x[_0x4e57("0x1db")][_0x4e57("0x1dc")][_0x4e57("0x1e1")][_0x4e57("0x1e2")](!1)
        }
    })
}, function (x, e, _) {
    "use strict";
    var t = a(_(16)), i = a(_(9));

    function a(x) {
        return x && x.__esModule ? x : {default: x}
    }

    THREE[_0x4e57("0x1e8")] = function (x, e, _, t, i) {
        THREE.Pass[_0x4e57("0x2")](this), this.scene = x, this[_0x4e57("0xe6")] = e, this[_0x4e57("0x1e9")] = _, this[_0x4e57("0x1ea")] = t, this.clearAlpha = void 0 !== i ? i : 0, this.clear = !0, this[_0x4e57("0x1eb")] = !1, this[_0x4e57("0x1cf")] = !1
    }, THREE[_0x4e57("0x1e8")][_0x4e57("0xd")] = (0, i[_0x4e57("0xa")])((0, t[_0x4e57("0xa")])(THREE.Pass[_0x4e57("0xd")]), {
        constructor: THREE[_0x4e57("0x1e8")],
        render: function (x, e, _, t, i) {
            var a, n, g = x[_0x4e57("0x1ec")];
            x[_0x4e57("0x1ec")] = !1, this[_0x4e57("0x1da")].overrideMaterial = this.overrideMaterial, this[_0x4e57("0x1ea")] && (a = x[_0x4e57("0x1ed")]()[_0x4e57("0x1ee")](), n = x[_0x4e57("0x1ef")](), x[_0x4e57("0x1f0")](this.clearColor, this.clearAlpha)), this[_0x4e57("0x1eb")] && x[_0x4e57("0x1eb")](), x[_0x4e57("0x1ce")](this[_0x4e57("0x1da")], this[_0x4e57("0xe6")], this[_0x4e57("0x1d8")] ? null : _, this[_0x4e57("0x1d7")]), this[_0x4e57("0x1ea")] && x[_0x4e57("0x1f0")](a, n), this[_0x4e57("0x1da")][_0x4e57("0x1e9")] = null, x.autoClear = g
        }
    })
}, function (x, e, _) {
    "use strict";
    var t = a(_(16)), i = a(_(9));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    THREE[_0x4e57("0x1cb")] = function (x, e) {
        THREE[_0x4e57("0x1d6")][_0x4e57("0x2")](this), this[_0x4e57("0x1f1")] = void 0 !== e ? e : _0x4e57("0x1f2"), x instanceof THREE[_0x4e57("0x1f3")] ? (this[_0x4e57("0x1f4")] = x[_0x4e57("0x1f4")], this[_0x4e57("0x7c")] = x) : x && (this.uniforms = THREE.UniformsUtils[_0x4e57("0xe8")](x[_0x4e57("0x1f4")]), this[_0x4e57("0x7c")] = new (THREE[_0x4e57("0x1f3")])({
            defines: x[_0x4e57("0x1f5")] || {},
            uniforms: this[_0x4e57("0x1f4")],
            vertexShader: x.vertexShader,
            fragmentShader: x[_0x4e57("0x1f6")]
        })), this[_0x4e57("0xe6")] = new (THREE[_0x4e57("0x133")])(-1, 1, 1, -1, 0, 1), this[_0x4e57("0x1da")] = new THREE.Scene, this[_0x4e57("0x1f7")] = new (THREE[_0x4e57("0x10d")])(new THREE.PlaneBufferGeometry(2, 2), null), this.quad[_0x4e57("0x1f8")] = !1, this[_0x4e57("0x1da")][_0x4e57("0x28")](this[_0x4e57("0x1f7")])
    }, THREE[_0x4e57("0x1cb")][_0x4e57("0xd")] = (0, i.default)((0, t[_0x4e57("0xa")])(THREE[_0x4e57("0x1d6")][_0x4e57("0xd")]), {
        constructor: THREE[_0x4e57("0x1cb")],
        render: function (x, e, _, t, i) {
            this[_0x4e57("0x1f4")][this.textureID] && (this[_0x4e57("0x1f4")][this[_0x4e57("0x1f1")]].value = _.texture), this.quad[_0x4e57("0x7c")] = this[_0x4e57("0x7c")], this.renderToScreen ? x[_0x4e57("0x1ce")](this.scene, this[_0x4e57("0xe6")]) : x[_0x4e57("0x1ce")](this[_0x4e57("0x1da")], this[_0x4e57("0xe6")], e, this[_0x4e57("0x1d7")])
        }
    })
}, function (x, e, _) {
    "use strict";
    var C, A;
    C = em, A = THREE, C[_0x4e57("0xee")] = {}, C[_0x4e57("0xee")][_0x4e57("0x1f9")] = function (x) {
        return (x /= .5) < 1 ? .5 * x * x + 0 : -.5 * (--x * (x - 2) - 1) + 0
    }, C[_0x4e57("0xee")].easeInQuad = function (x) {
        return 1 * x * x + 0
    }, C.Tween[_0x4e57("0x1fa")] = function (x) {
        return -1 * x * (x - 2) + 0
    }, C.Tween[_0x4e57("0x1fb")] = function (x) {
        return x
    }, C.Tween[_0x4e57("0x1fc")] = function (x) {
        var e = x - 1;
        return e * e * (2.70158 * e + 1.70158) + 1
    }, C[_0x4e57("0xee")].pingPongSin = function (x) {
        return Math[_0x4e57("0x165")](x * Math.PI)
    }, C[_0x4e57("0xee")][_0x4e57("0x1fd")] = function (x) {
        return 2 * (.5 < x ? 1 - x : x)
    }, C[_0x4e57("0xee")][_0x4e57("0x1fe")] = function (x) {
        clearInterval(x)
    }, C[_0x4e57("0xee")].fadeTo = function (e, _, t, i, a) {
        null == t && (t = C[_0x4e57("0xee")].easeOutQuad);
        var n, g, r, A = 0, s = 0;
        return 0 == e ? (_(1), null != a && a(1), null != i && i()) : (r = Date[_0x4e57("0x1ff")](), s = setInterval(function () {
            g = Date[_0x4e57("0x1ff")](), A += (g - r) / 1e3, r = g, e <= A && (A = e);
            var x = t(n = A / e);
            _(x), C[_0x4e57("0xee")].map && C[_0x4e57("0xee")][_0x4e57("0x5a")].forceUpdate(), null != a && a(x), 1 == n && (clearInterval(s), null != i && i())
        }, 1)), s
    }, C[_0x4e57("0xee")][_0x4e57("0x200")] = function (x, e, _, t) {
        var i = {obj: _, prop: x, old: _[x]};
        "number" == typeof i.old ? i[_0x4e57("0x201")] = t[x] - _[x] : (i[_0x4e57("0x202")] instanceof A[_0x4e57("0x11b")] || i[_0x4e57("0x202")] instanceof A[_0x4e57("0x203")] || i.old instanceof A.Quaternion) && (i[_0x4e57("0x202")] = i.old[_0x4e57("0xe8")](), i.delta = t[x].clone()), e[_0x4e57("0xf")](i)
    }, C[_0x4e57("0xee")][_0x4e57("0x204")] = function (x, e, _, t) {
        return A.Tween[_0x4e57("0x205")](null, x, null, t, _, e)
    }, C[_0x4e57("0xee")][_0x4e57("0x206")] = function (x, e, _) {
        var t = e[_0x4e57("0x202")], i = e[_0x4e57("0x207")], a = e[_0x4e57("0x201")];
        _0x4e57("0x208") == typeof t ? x[i] = t + _ * a : t instanceof A.Vector3 || t instanceof A[_0x4e57("0x203")] ? x[i].copy(t[_0x4e57("0xe8")]()[_0x4e57("0x209")](a, _)) : t instanceof A.Quaternion && x[i].copy(t[_0x4e57("0xe8")]()[_0x4e57("0x20a")](a, _))
    }, C[_0x4e57("0xee")].action = function (_, x, e, t, i, a) {
        var n = [];
        for (var g in e) C[_0x4e57("0xee")]._getValue(g, n, _, e);
        return C.Tween[_0x4e57("0x20b")](x, function (x) {
            for (var e = 0; e < n[_0x4e57("0x0")]; e++) C[_0x4e57("0xee")][_0x4e57("0x206")](_, n[e], x)
        }, t, i, a)
    }, C[_0x4e57("0xee")][_0x4e57("0x20c")] = function (x, e, _, t, i, a) {
        var n = [];
        for (var g in _) for (var r in x) C.Tween[_0x4e57("0x200")](g, n, x[r], _);
        return C[_0x4e57("0xee")][_0x4e57("0x20b")](e, function (x) {
            for (var e = 0; e < n[_0x4e57("0x0")]; e++) {
                var _ = n[e];
                C[_0x4e57("0xee")]._setValue(_[_0x4e57("0x20d")], _, x)
            }
        }, t, i, a)
    }, C[_0x4e57("0xee")][_0x4e57("0x20e")] = function (t, x, e, _, i, a) {
        var n = [];
        for (var g in t) {
            var r = [];
            for (var A in e[g]) C[_0x4e57("0xee")][_0x4e57("0x200")](A, r, t[g], e[g]);
            n.push(r)
        }
        return C.Tween[_0x4e57("0x20b")](x, function (x) {
            for (var e in t) for (var _ in n[e]) C[_0x4e57("0xee")][_0x4e57("0x206")](t[e], n[e][_], x)
        }, _, i, a)
    }, C[_0x4e57("0xee")][_0x4e57("0x20f")] = function (x) {
        var e = x;
        return (e /= 1) < 1 / 2.75 ? 7.5625 * e * e * 1 + 0 : e < 2 / 2.75 ? 1 * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + 0 : e < 2.5 / 2.75 ? 1 * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + 0 : 1 * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + 0
    }, C[_0x4e57("0xee")][_0x4e57("0x210")] = function (e, x, _, t, i, a) {
        t = t || C[_0x4e57("0xee")][_0x4e57("0x1fa")];
        var n = new (A[_0x4e57("0x15e")]), g = e[_0x4e57("0x11d")][_0x4e57("0xe8")](), r = x[_0x4e57("0x11d")];
        _ = _ || 1, C[_0x4e57("0xee")][_0x4e57("0x20e")]([e[_0x4e57("0xe7")]], _, [{
            x: x[_0x4e57("0xe7")].x,
            y: x.position.y,
            z: x.position.z
        }], t, function () {
            i && i()
        }, function (x) {
            A[_0x4e57("0x15e")].slerp(g, r, n, x), e[_0x4e57("0x11d")][_0x4e57("0x115")](n.x, n.y, n.z, n.w), a && a(x)
        })
    }
}, function (x, e, _) {
    "use strict";
    THREE[_0x4e57("0x211")] = {
        uniforms: {tDiffuse: {value: null}, resolution: {value: new THREE.Vector2(1 / 1024, 1 / 512)}},
        vertexShader: [_0x4e57("0x1bb"), "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"][_0x4e57("0x1bd")]("\n"),
        fragmentShader: ["uniform sampler2D tDiffuse;", _0x4e57("0x212"), "#define FXAA_REDUCE_MIN   (1.0/128.0)", _0x4e57("0x213"), "#define FXAA_SPAN_MAX     8.0", "void main() {", "vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;", _0x4e57("0x214"), _0x4e57("0x215"), _0x4e57("0x216"), "vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );", _0x4e57("0x217"), _0x4e57("0x218"), _0x4e57("0x219"), _0x4e57("0x21a"), "float lumaSW = dot( rgbSW, luma );", _0x4e57("0x21b"), "float lumaM  = dot( rgbM,  luma );", "float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );", _0x4e57("0x21c"), _0x4e57("0x21d"), "dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));", _0x4e57("0x21e"), "float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );", _0x4e57("0x21f"), _0x4e57("0x220"), _0x4e57("0x221"), _0x4e57("0x222"), _0x4e57("0x223"), _0x4e57("0x224"), "texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));", _0x4e57("0x225"), _0x4e57("0x226"), "texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));", _0x4e57("0x227"), _0x4e57("0x228"), "gl_FragColor = rgbA;", _0x4e57("0x229"), _0x4e57("0x22a"), "}", "}"].join("\n")
    }
}, function (x, e, _) {
    "use strict";
    var i = a(_(156)), t = a(_(16));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    THREE[_0x4e57("0x113")] = function (x) {
        THREE[_0x4e57("0x22b")][_0x4e57("0x2")](this), this.element = x, this[_0x4e57("0x69")][_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), this.addEventListener(_0x4e57("0x22d"), function () {
            null !== this.element[_0x4e57("0x110")] && this[_0x4e57("0x69")][_0x4e57("0x110")].removeChild(this[_0x4e57("0x69")])
        })
    }, THREE.CSS3DObject.prototype = (0, t.default)(THREE.Object3D[_0x4e57("0xd")]), THREE[_0x4e57("0x113")].prototype[_0x4e57("0x1b2")] = THREE[_0x4e57("0x113")], THREE[_0x4e57("0x22e")] = function (x) {
        THREE[_0x4e57("0x113")].call(this, x)
    }, THREE.CSS3DSprite[_0x4e57("0xd")] = (0, t.default)(THREE[_0x4e57("0x113")][_0x4e57("0xd")]), THREE[_0x4e57("0x22e")][_0x4e57("0xd")][_0x4e57("0x1b2")] = THREE.CSS3DSprite, THREE[_0x4e57("0x22f")] = function () {
        var _, t, g, r, s = new THREE.Matrix4, C = {camera: {fov: 0, style: ""}, objects: new (i[_0x4e57("0xa")])},
            A = document[_0x4e57("0x6a")]("div");
        A[_0x4e57("0x6c")][_0x4e57("0x230")] = _0x4e57("0x231"), this.domElement = A;
        var I = document[_0x4e57("0x6a")](_0x4e57("0x232"));
        I[_0x4e57("0x6c")][_0x4e57("0x233")] = _0x4e57("0x234"), I.style.transformStyle = _0x4e57("0x234"), A[_0x4e57("0x235")](I);
        var o = /Trident/i.test(navigator[_0x4e57("0x236")]);

        function c(x) {
            return Math[_0x4e57("0x13f")](x) < 1e-10 ? 0 : x
        }

        function l(x) {
            var e = x[_0x4e57("0x12c")];
            return _0x4e57("0x237") + c(e[0]) + "," + c(-e[1]) + "," + c(e[2]) + "," + c(e[3]) + "," + c(e[4]) + "," + c(-e[5]) + "," + c(e[6]) + "," + c(e[7]) + "," + c(e[8]) + "," + c(-e[9]) + "," + c(e[10]) + "," + c(e[11]) + "," + c(e[12]) + "," + c(-e[13]) + "," + c(e[14]) + "," + c(e[15]) + ")"
        }

        function u(x, e) {
            var _ = x[_0x4e57("0x12c")],
                t = _0x4e57("0x237") + c(_[0]) + "," + c(_[1]) + "," + c(_[2]) + "," + c(_[3]) + "," + c(-_[4]) + "," + c(-_[5]) + "," + c(-_[6]) + "," + c(-_[7]) + "," + c(_[8]) + "," + c(_[9]) + "," + c(_[10]) + "," + c(_[11]) + "," + c(_[12]) + "," + c(_[13]) + "," + c(_[14]) + "," + c(_[15]) + ")";
            return o ? "translate(-50%,-50%)" + _0x4e57("0x238") + g + _0x4e57("0x239") + r + "px)" + e + t : _0x4e57("0x23a") + t
        }

        this[_0x4e57("0x1c4")] = function () {
            return {width: _, height: t}
        }, this.setSize = function (x, e) {
            g = (_ = x) / 2, r = (t = e) / 2, A[_0x4e57("0x6c")][_0x4e57("0x112")] = x + "px", A[_0x4e57("0x6c")][_0x4e57("0x1c5")] = e + "px", I[_0x4e57("0x6c")][_0x4e57("0x112")] = x + "px", I[_0x4e57("0x6c")][_0x4e57("0x1c5")] = e + "px"
        }, this.render = function (x, e) {
            var _ = e.projectionMatrix[_0x4e57("0x12c")][5] * r;
            if (C[_0x4e57("0xe6")][_0x4e57("0x132")] !== _ && (e[_0x4e57("0x23f")] && (A.style[_0x4e57("0x240")] = _ + "px", A[_0x4e57("0x6c")][_0x4e57("0x241")] = _ + "px"), C.camera[_0x4e57("0x132")] = _), x[_0x4e57("0x119")](), null === e.parent && e.updateMatrixWorld(), e[_0x4e57("0x242")].getInverse(e[_0x4e57("0x11a")]), e.isOrthographicCamera) var t = -(e[_0x4e57("0x134")] + e.left) / 2,
                i = (e[_0x4e57("0xa9")] + e[_0x4e57("0x137")]) / 2;
            var a = e.isOrthographicCamera ? _0x4e57("0x243") + _ + ")" + _0x4e57("0x238") + c(t) + _0x4e57("0x239") + c(i) + _0x4e57("0x244") + l(e[_0x4e57("0x242")]) : "translateZ(" + _ + "px)" + l(e[_0x4e57("0x242")]),
                n = a + "translate(" + g + _0x4e57("0x239") + r + _0x4e57("0x244");
            C[_0x4e57("0xe6")].style === n || o || (I[_0x4e57("0x6c")].WebkitTransform = n, I[_0x4e57("0x6c")][_0x4e57("0x245")] = n, C[_0x4e57("0xe6")][_0x4e57("0x6c")] = n), function x(e, _, t) {
                if (e instanceof THREE[_0x4e57("0x113")]) {
                    var i;
                    i = e instanceof THREE.CSS3DSprite ? (s[_0x4e57("0xf2")](_.matrixWorldInverse), s[_0x4e57("0x23b")](), s.copyPosition(e[_0x4e57("0x11a")]), s[_0x4e57("0x114")](e.scale), s[_0x4e57("0x12c")][3] = 0, s[_0x4e57("0x12c")][7] = 0, s[_0x4e57("0x12c")][11] = 0, s.elements[15] = 1, u(s, t)) : u(e[_0x4e57("0x11a")], t);
                    var a = e.element, n = C[_0x4e57("0x23c")].get(e);
                    if (void 0 === n || n !== i) {
                        a[_0x4e57("0x6c")][_0x4e57("0x23d")] = i;
                        var g = {style: a[_0x4e57("0x6c")].transform = i};
                        C[_0x4e57("0x23c")][_0x4e57("0x115")](e, g)
                    }
                    a[_0x4e57("0x110")] !== I && I[_0x4e57("0x235")](a)
                }
                for (var r = 0, A = e[_0x4e57("0x23e")].length; r < A; r++) x(e[_0x4e57("0x23e")][r], _, t)
            }(x, e, a)
        }
    }
}, , , , , , , , , function (x, e, _) {
    "use strict";
    var S = t(_(44)), G = t(_(9)), y = t(_(45));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    THREE[_0x4e57("0x246")] = function () {
        function n(x) {
            this[_0x4e57("0x5c")] = void 0 !== x ? x : THREE[_0x4e57("0x247")]
        }

        function t() {
            var i = {};
            return {
                get: function (x) {
                    return i[x]
                }, add: function (x, e) {
                    i[x] = e
                }, remove: function (x) {
                    delete i[x]
                }, removeAll: function () {
                    i = {}
                }, update: function (x, e) {
                    for (var _ in x[_0x4e57("0x119")](), e[_0x4e57("0x119")](), e[_0x4e57("0x242")][_0x4e57("0x251")](e[_0x4e57("0x11a")]), i) {
                        var t = i[_];
                        t[_0x4e57("0x65")] && t.update(x, e)
                    }
                }
            }
        }

        function g(x, e) {
            var _ = {}, t = x[_0x4e57("0x7c")][_0x4e57("0x1f4")];
            for (var i in t) {
                var a = t[i];
                if (a[_0x4e57("0x253")]) {
                    var n = a.node, g = x;
                    n && (g = e[n]), _[i] = {semantic: a.semantic, sourceNode: g, targetNode: x, uniform: a}
                }
            }
            this[_0x4e57("0x254")] = _, this[_0x4e57("0x255")] = new (THREE[_0x4e57("0x256")])
        }

        n[_0x4e57("0xd")] = {
            constructor: n, load: function (x, e, _, t) {
                var i = this,
                    a = this[_0x4e57("0x248")] && typeof this[_0x4e57("0x248")] === _0x4e57("0xb") ? this.path : THREE.Loader[_0x4e57("0xd")].extractUrlBase(x),
                    n = new (THREE[_0x4e57("0x249")])(i[_0x4e57("0x5c")]);
                n[_0x4e57("0x24a")](_0x4e57("0x44")), n[_0x4e57("0x24b")](x, function (x) {
                    i[_0x4e57("0x32")](x, e, a)
                }, _, t)
            }, setCrossOrigin: function (x) {
                this[_0x4e57("0x24c")] = x
            }, setPath: function (x) {
                this.path = x
            }, parse: function (x, i, e) {
                var _, t = {};
                _ = m(new Uint8Array(x, 0, 4)) === A[_0x4e57("0x24d")] ? (t[H[_0x4e57("0x24e")]] = new C(x), t[H[_0x4e57("0x24e")]].content) : m(new Uint8Array(x));
                var a = JSON.parse(_);
                a.extensionsUsed && 0 <= a[_0x4e57("0x24f")][_0x4e57("0x41")](H.KHR_MATERIALS_COMMON) && (t[H[_0x4e57("0x250")]] = new r(a)), console[_0x4e57("0xef")](_0x4e57("0x246")), new v(a, t, {
                    path: e || this[_0x4e57("0x248")],
                    crossOrigin: this[_0x4e57("0x24c")]
                })[_0x4e57("0x32")](function (x, e, _, t) {
                    console.timeEnd("GLTFLoader"), i({scene: x, scenes: e, cameras: _, animations: t})
                })
            }
        }, n[_0x4e57("0x252")] = new t, g[_0x4e57("0xd")][_0x4e57("0x65")] = function (x, e) {
            var _ = this.boundUniforms;
            for (var t in _) {
                var i = _[t];
                switch (i.semantic) {
                    case _0x4e57("0x257"):
                        i[_0x4e57("0x258")][_0x4e57("0x259")][_0x4e57("0x25a")](e[_0x4e57("0x242")], i[_0x4e57("0x25b")][_0x4e57("0x11a")]);
                        break;
                    case _0x4e57("0x25c"):
                        var a = i[_0x4e57("0x258")][_0x4e57("0x259")];
                        this[_0x4e57("0x255")][_0x4e57("0x25a")](e[_0x4e57("0x242")], i[_0x4e57("0x25b")][_0x4e57("0x11a")]), a[_0x4e57("0x25d")](this[_0x4e57("0x255")]);
                        break;
                    case _0x4e57("0x25e"):
                        i.uniform.value[_0x4e57("0xf2")](e[_0x4e57("0x25f")]);
                        break;
                    case _0x4e57("0x260"):
                        for (var n = i[_0x4e57("0x258")][_0x4e57("0x259")], g = 0; g < n[_0x4e57("0x0")]; g++) n[g].getInverse(i[_0x4e57("0x25b")][_0x4e57("0x11a")])[_0x4e57("0x261")](i[_0x4e57("0x262")][_0x4e57("0x263")][_0x4e57("0x264")][g].matrixWorld)[_0x4e57("0x261")](i[_0x4e57("0x262")][_0x4e57("0x263")].boneInverses[g]).multiply(i[_0x4e57("0x262")][_0x4e57("0x265")]);
                        break;
                    default:
                        console[_0x4e57("0x151")](_0x4e57("0x266") + i[_0x4e57("0x253")])
                }
            }
        }, n.Animations = {
            update: function () {
                console[_0x4e57("0x151")]("THREE.GLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.")
            }
        };
        var H = {KHR_BINARY_GLTF: _0x4e57("0x267"), KHR_MATERIALS_COMMON: _0x4e57("0x268")};

        function r(x) {
            this[_0x4e57("0x269")] = H[_0x4e57("0x250")], this[_0x4e57("0x26a")] = {};
            var e = x.extensions && x[_0x4e57("0x26b")][H[_0x4e57("0x250")]].lights;
            for (var _ in e) {
                var t, i = e[_], a = i[i[_0x4e57("0x38")]],
                    n = (new (THREE[_0x4e57("0x203")]))[_0x4e57("0x26c")](a[_0x4e57("0x1df")]);
                switch (i[_0x4e57("0x38")]) {
                    case"directional":
                        (t = new THREE.DirectionalLight(n))[_0x4e57("0xe7")][_0x4e57("0x115")](0, 0, 1);
                        break;
                    case _0x4e57("0x26d"):
                        t = new (THREE[_0x4e57("0x26e")])(n);
                        break;
                    case _0x4e57("0x26f"):
                        (t = new THREE.SpotLight(n)).position.set(0, 0, 1);
                        break;
                    case _0x4e57("0x270"):
                        t = new (THREE[_0x4e57("0x271")])(n)
                }
                t && (this[_0x4e57("0x26a")][_] = t)
            }
        }

        var i = _0x4e57("0x272"), A = {magic: _0x4e57("0x273"), version: 1, contentFormat: 0}, s = 20;

        function C(x) {
            this[_0x4e57("0x269")] = H[_0x4e57("0x24e")];
            var e = new DataView(x, 0, s), _ = {
                magic: m(new Uint8Array(x[_0x4e57("0x10")](0, 4))),
                version: e.getUint32(4, !0),
                length: e[_0x4e57("0x274")](8, !0),
                contentLength: e[_0x4e57("0x274")](12, !0),
                contentFormat: e.getUint32(16, !0)
            };
            for (var t in A) {
                var i = A[t];
                if (_[t] !== i) throw new Error(_0x4e57("0x275"), t, i)
            }
            var a = new Uint8Array(x, s, _[_0x4e57("0x276")]);
            this[_0x4e57("0x277")] = _, this.content = m(a), this.body = x[_0x4e57("0x10")](s + _[_0x4e57("0x276")], _[_0x4e57("0x0")])
        }

        C[_0x4e57("0xd")][_0x4e57("0x278")] = function (x, e) {
            var _ = e[x[_0x4e57("0x26b")][H[_0x4e57("0x24e")]][_0x4e57("0x279")]];
            return m(new Uint8Array(_))
        }, C[_0x4e57("0xd")][_0x4e57("0x27a")] = function (x, e) {
            var _ = x.extensions[H.KHR_BINARY_GLTF], t = e[_[_0x4e57("0x279")]], i = m(new Uint8Array(t));
            return _0x4e57("0x27b") + _[_0x4e57("0x27c")] + ";base64," + btoa(i)
        };
        var D = {
                FLOAT: 5126,
                FLOAT_MAT3: 35675,
                FLOAT_MAT4: 35676,
                FLOAT_VEC2: 35664,
                FLOAT_VEC3: 35665,
                FLOAT_VEC4: 35666,
                LINEAR: 9729,
                REPEAT: 10497,
                SAMPLER_2D: 35678,
                TRIANGLES: 4,
                LINES: 1,
                UNSIGNED_BYTE: 5121,
                UNSIGNED_SHORT: 5123,
                VERTEX_SHADER: 35633,
                FRAGMENT_SHADER: 35632
            }, N = {
                5126: Number,
                35675: THREE[_0x4e57("0x27d")],
                35676: THREE.Matrix4,
                35664: THREE.Vector2,
                35665: THREE.Vector3,
                35666: THREE[_0x4e57("0x27e")],
                35678: THREE[_0x4e57("0x27f")]
            }, I = {
                5120: Int8Array,
                5121: Uint8Array,
                5122: Int16Array,
                5123: Uint16Array,
                5125: Uint32Array,
                5126: Float32Array
            }, o = {
                9728: THREE[_0x4e57("0x280")],
                9729: THREE[_0x4e57("0x281")],
                9984: THREE[_0x4e57("0x282")],
                9985: THREE[_0x4e57("0x283")],
                9986: THREE[_0x4e57("0x284")],
                9987: THREE[_0x4e57("0x285")]
            }, c = {33071: THREE[_0x4e57("0x286")], 33648: THREE[_0x4e57("0x287")], 10497: THREE[_0x4e57("0x288")]}, l = {
                6406: THREE[_0x4e57("0x289")],
                6407: THREE[_0x4e57("0x28a")],
                6408: THREE[_0x4e57("0x1c3")],
                6409: THREE.LuminanceFormat,
                6410: THREE[_0x4e57("0x28b")]
            }, u = {
                5121: THREE[_0x4e57("0x28c")],
                32819: THREE.UnsignedShort4444Type,
                32820: THREE[_0x4e57("0x28d")],
                33635: THREE[_0x4e57("0x28e")]
            }, F = {1028: THREE[_0x4e57("0x28f")], 1029: THREE[_0x4e57("0x290")]}, z = {
                512: THREE[_0x4e57("0x291")],
                513: THREE[_0x4e57("0x292")],
                514: THREE.EqualDepth,
                515: THREE[_0x4e57("0x293")],
                516: THREE.GreaterEqualDepth,
                517: THREE[_0x4e57("0x294")],
                518: THREE[_0x4e57("0x295")],
                519: THREE[_0x4e57("0x296")]
            }, j = {32774: THREE[_0x4e57("0x297")], 32778: THREE.SubtractEquation, 32779: THREE[_0x4e57("0x298")]}, Y = {
                0: THREE[_0x4e57("0x299")],
                1: THREE[_0x4e57("0x29a")],
                768: THREE[_0x4e57("0x29b")],
                769: THREE[_0x4e57("0x29c")],
                770: THREE[_0x4e57("0x29d")],
                771: THREE[_0x4e57("0x29e")],
                772: THREE[_0x4e57("0x29f")],
                773: THREE[_0x4e57("0x2a0")],
                774: THREE.DstColorFactor,
                775: THREE[_0x4e57("0x2a1")],
                776: THREE[_0x4e57("0x2a2")]
            }, h = {SCALAR: 1, VEC2: 2, VEC3: 3, VEC4: 4, MAT2: 4, MAT3: 9, MAT4: 16},
            f = {scale: _0x4e57("0x114"), translation: _0x4e57("0xe7"), rotation: "quaternion"},
            d = {LINEAR: THREE[_0x4e57("0x2a3")], STEP: THREE[_0x4e57("0x2a4")]}, X = {
                2884: "CULL_FACE",
                2929: _0x4e57("0x2a5"),
                3042: _0x4e57("0x2a6"),
                3089: _0x4e57("0x2a7"),
                32823: "POLYGON_OFFSET_FILL",
                32926: _0x4e57("0x2a8")
            };

        function p(x, e, _) {
            if (!x) return y[_0x4e57("0xa")][_0x4e57("0x77")]();
            var t, i = [];
            if (Object.prototype[_0x4e57("0x2a9")][_0x4e57("0x2")](x) === _0x4e57("0x2aa")) {
                t = [];
                for (var a = x.length, n = 0; n < a; n++) {
                    (r = e[_0x4e57("0x2")](_ || this, x[n], n)) && (i[_0x4e57("0xf")](r), r instanceof y[_0x4e57("0xa")] ? r[_0x4e57("0x78")](function (x, e) {
                        t[n] = e
                    }[_0x4e57("0xc")](this, g)) : t[n] = r)
                }
            } else for (var g in t = {}, x) {
                var r;
                if (x.hasOwnProperty(g)) (r = e[_0x4e57("0x2")](_ || this, x[g], g)) && (i[_0x4e57("0xf")](r), r instanceof y[_0x4e57("0xa")] ? r.then(function (x, e) {
                    t[x] = e
                }[_0x4e57("0xc")](this, g)) : t[g] = r)
            }
            return y[_0x4e57("0xa")].all(i).then(function () {
                return t
            })
        }

        function b(x, e) {
            return typeof x !== _0x4e57("0xb") || "" === x ? "" : /^https?:\/\//i.test(x) ? x : /^data:.*,.*$/i.test(x) ? x : (e || "") + x
        }

        function m(x) {
            for (var e = "", _ = 0; _ < x[_0x4e57("0x0")]; _++) e += String.fromCharCode(x[_]);
            return e
        }

        function Z(x) {
            this[_0x4e57("0x2b8")] = !0, this[_0x4e57("0x2b9")] = x
        }

        function v(x, e, _) {
            this[_0x4e57("0x2be")] = x || {}, this[_0x4e57("0x26b")] = e || {}, this[_0x4e57("0xf0")] = _ || {}, this[_0x4e57("0x2bf")] = new t
        }

        return Z[_0x4e57("0xd")][_0x4e57("0x2ba")] = function () {
            var x = THREE[_0x4e57("0x2bb")][_0x4e57("0xe8")](this[_0x4e57("0x2b9")][_0x4e57("0x1f4")]);
            for (var e in this[_0x4e57("0x2b9")][_0x4e57("0x1f4")]) {
                var _ = this[_0x4e57("0x2b9")][_0x4e57("0x1f4")][e];
                _.value instanceof THREE.Texture && (x[e][_0x4e57("0x259")] = _.value, x[e][_0x4e57("0x259")].needsUpdate = !0), x[e][_0x4e57("0x253")] = _[_0x4e57("0x253")], x[e][_0x4e57("0x2bc")] = _.node
            }
            return this[_0x4e57("0x2b9")][_0x4e57("0x1f4")] = x, new (THREE[_0x4e57("0x2bd")])(this.params)
        }, v.prototype[_0x4e57("0x2c0")] = function (x) {
            for (var e = {}, _ = 0; _ < x[_0x4e57("0x0")]; _++) {
                var t = x[_], i = _0x4e57("0x24b") + t[_0x4e57("0x2c1")](0)[_0x4e57("0x2c2")]() + t.slice(1),
                    a = this[_0x4e57("0x2bf")][_0x4e57("0x30")](t);
                if (void 0 !== a) e[t] = a; else if (this[i]) {
                    var n = this[i]();
                    this[_0x4e57("0x2bf")].add(t, n), e[t] = n
                }
            }
            return p(e, function (x) {
                return x
            })
        }, v.prototype[_0x4e57("0x32")] = function (g) {
            var r = this[_0x4e57("0x2be")];
            this[_0x4e57("0x2bf")][_0x4e57("0x2c3")](), this[_0x4e57("0x2c0")]([_0x4e57("0x2c4"), _0x4e57("0x2c5"), _0x4e57("0x2c6")])[_0x4e57("0x78")](function (x) {
                var e = x.scenes[r[_0x4e57("0x1da")]], _ = [];
                for (var t in x.scenes) _[_0x4e57("0xf")](x[_0x4e57("0x2c4")][t]);
                var i = [];
                for (var t in x.cameras) {
                    var a = x[_0x4e57("0x2c5")][t];
                    i[_0x4e57("0xf")](a)
                }
                var n = [];
                for (var t in x[_0x4e57("0x2c6")]) n.push(x.animations[t]);
                g(e, _, i, n)
            })
        }, v[_0x4e57("0xd")].loadShaders = function () {
            var e = this.json, t = this.extensions, i = this.options;
            return this[_0x4e57("0x2c0")]([_0x4e57("0x2c7")])[_0x4e57("0x78")](function (x) {
                return p(e[_0x4e57("0x2c8")], function (_) {
                    return _[_0x4e57("0x26b")] && _[_0x4e57("0x26b")][H[_0x4e57("0x24e")]] ? t[H[_0x4e57("0x24e")]][_0x4e57("0x278")](_, x[_0x4e57("0x2c7")]) : new (y[_0x4e57("0xa")])(function (e) {
                        var x = new THREE.FileLoader;
                        x.setResponseType(_0x4e57("0x2c9")), x.load(b(_.uri, i.path), function (x) {
                            e(x)
                        })
                    })
                })
            })
        }, v[_0x4e57("0xd")].loadBuffers = function () {
            var x = this[_0x4e57("0x2be")], e = this[_0x4e57("0x26b")], t = this.options;
            return p(x[_0x4e57("0x1dc")], function (_, x) {
                return x === i ? e[H[_0x4e57("0x24e")]].body : _[_0x4e57("0x38")] === _0x4e57("0x44") || void 0 === _[_0x4e57("0x38")] ? new (y[_0x4e57("0xa")])(function (e) {
                    var x = new THREE.FileLoader;
                    x.setResponseType(_0x4e57("0x44")), x.load(b(_[_0x4e57("0x2ca")], t[_0x4e57("0x248")]), function (x) {
                        e(x)
                    })
                }) : void console[_0x4e57("0x151")](_0x4e57("0x2cb") + _[_0x4e57("0x38")] + _0x4e57("0x2cc"))
            })
        }, v[_0x4e57("0xd")].loadBufferViews = function () {
            var x = this[_0x4e57("0x2be")];
            return this[_0x4e57("0x2c0")]([_0x4e57("0x1dc")])[_0x4e57("0x78")](function (e) {
                return p(x.bufferViews, function (x) {
                    return e[_0x4e57("0x1dc")][x[_0x4e57("0x2cd")]][_0x4e57("0x10")](x[_0x4e57("0x2ce")], x.byteOffset + x.byteLength)
                })
            })
        }, v[_0x4e57("0xd")][_0x4e57("0x2cf")] = function () {
            var x = this[_0x4e57("0x2be")];
            return this[_0x4e57("0x2c0")]([_0x4e57("0x2c7")])[_0x4e57("0x78")](function (r) {
                return p(x[_0x4e57("0x2d0")], function (x) {
                    var e = r[_0x4e57("0x2c7")][x[_0x4e57("0x279")]], _ = h[x[_0x4e57("0x38")]],
                        t = I[x[_0x4e57("0x2d1")]], i = t[_0x4e57("0x2d2")], a = i * _;
                    if (x[_0x4e57("0x2d3")] && x[_0x4e57("0x2d3")] !== a) {
                        var n = new t(e), g = new (THREE[_0x4e57("0x2d4")])(n, x.byteStride / i);
                        return new (THREE[_0x4e57("0x2d5")])(g, _, x[_0x4e57("0x2ce")] / i)
                    }
                    return n = new t(e, x[_0x4e57("0x2ce")], x[_0x4e57("0x2d6")] * _), new THREE.BufferAttribute(n, _)
                })
            })
        }, v.prototype[_0x4e57("0x2d7")] = function () {
            var n = this[_0x4e57("0x2be")], g = this[_0x4e57("0x26b")], r = this[_0x4e57("0xf0")];
            return this[_0x4e57("0x2c0")]([_0x4e57("0x2c7")])[_0x4e57("0x78")](function (a) {
                return p(n[_0x4e57("0x2d8")], function (i) {
                    if (i[_0x4e57("0x2d9")]) return new y.default(function (_) {
                        var x = n[_0x4e57("0x2da")][i[_0x4e57("0x2d9")]], e = x[_0x4e57("0x2ca")];
                        x[_0x4e57("0x26b")] && x.extensions[H.KHR_BINARY_GLTF] && (e = g[H[_0x4e57("0x24e")]][_0x4e57("0x27a")](x, a.bufferViews));
                        var t = THREE[_0x4e57("0x2db")][_0x4e57("0x2dc")][_0x4e57("0x30")](e);
                        null === t && (t = new (THREE[_0x4e57("0x2dd")])), t[_0x4e57("0x2de")](r[_0x4e57("0x24c")]), t[_0x4e57("0x24b")](b(e, r[_0x4e57("0x248")]), function (x) {
                            if (x[_0x4e57("0x2df")] = !1, void 0 !== i[_0x4e57("0x269")] && (x[_0x4e57("0x269")] = i[_0x4e57("0x269")]), x[_0x4e57("0x2e0")] = void 0 !== i[_0x4e57("0x2e0")] ? l[i.format] : THREE[_0x4e57("0x1c3")], void 0 !== i[_0x4e57("0x2e1")] && x[_0x4e57("0x2e0")] !== l[i[_0x4e57("0x2e1")]] && console[_0x4e57("0x151")](_0x4e57("0x2e2") + _0x4e57("0x2e3")), x[_0x4e57("0x38")] = void 0 !== i[_0x4e57("0x38")] ? u[i.type] : THREE.UnsignedByteType, i[_0x4e57("0x2e4")]) {
                                var e = n.samplers[i[_0x4e57("0x2e4")]];
                                x.magFilter = o[e[_0x4e57("0x2e5")]], x.minFilter = o[e[_0x4e57("0x2e6")]], x[_0x4e57("0x2e7")] = c[e[_0x4e57("0x2e7")]], x[_0x4e57("0x2e8")] = c[e[_0x4e57("0x2e8")]]
                            }
                            _(x)
                        }, void 0, function () {
                            _()
                        })
                    })
                })
            })
        }, v.prototype.loadMaterials = function () {
            var P = this[_0x4e57("0x2be")];
            return this._withDependencies([_0x4e57("0x2c8"), _0x4e57("0x2d8")]).then(function (O) {
                return p(P[_0x4e57("0x2e9")], function (x) {
                    var e, _, t = {}, i = {};
                    if (x[_0x4e57("0x26b")] && x[_0x4e57("0x26b")][H[_0x4e57("0x250")]] && (_ = x[_0x4e57("0x26b")][H.KHR_MATERIALS_COMMON]), _) {
                        switch (_[_0x4e57("0x2ea")]) {
                            case"BLINN":
                            case _0x4e57("0x2eb"):
                                e = THREE[_0x4e57("0x2b7")];
                                break;
                            case"LAMBERT":
                                e = THREE[_0x4e57("0x2ec")];
                                break;
                            case _0x4e57("0x2ed"):
                            default:
                                e = THREE[_0x4e57("0x109")]
                        }
                        (0, G[_0x4e57("0xa")])(t, _[_0x4e57("0x2ee")]), (_[_0x4e57("0x2ef")] || t.doubleSided) && (i.side = THREE[_0x4e57("0x10c")]), (_.transparent || t[_0x4e57("0x2f0")]) && (i[_0x4e57("0x2f0")] = !0, i[_0x4e57("0x2f1")] = void 0 !== t[_0x4e57("0x2f2")] ? t[_0x4e57("0x2f2")] : 1)
                    } else if (void 0 === x.technique) e = THREE.MeshPhongMaterial, (0, G[_0x4e57("0xa")])(t, x.values); else {
                        e = Z;
                        var a = P[_0x4e57("0x2f3")][x.technique];
                        i[_0x4e57("0x1f4")] = {};
                        var n = P[_0x4e57("0x2f4")][a[_0x4e57("0x2f5")]];
                        if (n) {
                            i.fragmentShader = O[_0x4e57("0x2c8")][n[_0x4e57("0x1f6")]], i.fragmentShader || (_0x4e57("0x2f6"), n[_0x4e57("0x1f6")], e = THREE[_0x4e57("0x2b7")]);
                            var g = O[_0x4e57("0x2c8")][n[_0x4e57("0x2f7")]];
                            g || (console[_0x4e57("0x151")](_0x4e57("0x2f8"), n[_0x4e57("0x2f7")]), e = THREE[_0x4e57("0x2b7")]), i.vertexShader = function (x, e) {
                                var _ = {};
                                for (var t in e[_0x4e57("0x2ab")]) {
                                    var i = e[_0x4e57("0x2ab")][t], a = (C = e[_0x4e57("0x11e")][i]).type,
                                        n = C[_0x4e57("0x253")];
                                    _[t] = {type: a, semantic: n}
                                }
                                var g = e[_0x4e57("0x11e")], r = e[_0x4e57("0x2ab")], A = {};
                                for (var t in _) {
                                    var s = g[i = r[t]];
                                    (n = s[_0x4e57("0x253")]) && (A[t] = s)
                                }
                                for (var i in A) {
                                    n = (C = A[i]).semantic;
                                    var C, I = new RegExp("\\b" + i + "\\b", "g");
                                    switch (n) {
                                        case _0x4e57("0x2ac"):
                                            x = x.replace(I, _0x4e57("0xe7"));
                                            break;
                                        case"NORMAL":
                                            x = x[_0x4e57("0x2ad")](I, "normal");
                                            break;
                                        case _0x4e57("0x2ae"):
                                        case _0x4e57("0x2af"):
                                        case _0x4e57("0x2b0"):
                                            x = x[_0x4e57("0x2ad")](I, "uv");
                                            break;
                                        case _0x4e57("0x2b1"):
                                        case _0x4e57("0x2b2"):
                                        case _0x4e57("0x2b3"):
                                            x = x.replace(I, "color");
                                            break;
                                        case _0x4e57("0x2b4"):
                                            x = x[_0x4e57("0x2ad")](I, _0x4e57("0x2b5"));
                                            break;
                                        case _0x4e57("0x2b6"):
                                            x = x[_0x4e57("0x2ad")](I, "skinIndex")
                                    }
                                }
                                return x
                            }(g, a);
                            var r = a.uniforms;
                            for (var A in r) {
                                var s = r[A], C = a[_0x4e57("0x11e")][s], I = C[_0x4e57("0x38")];
                                if (!N[I]) throw new Error("Unknown shader uniform param type: " + I);
                                var o, c = C[_0x4e57("0x2d6")];
                                void 0 !== x[_0x4e57("0x2ee")] && (o = x.values[s]);
                                var l = new N[I], u = C[_0x4e57("0x253")], h = C.node;
                                switch (I) {
                                    case D[_0x4e57("0x2f9")]:
                                        l = C.value, s == _0x4e57("0x2f2") && (i[_0x4e57("0x2f0")] = !0), void 0 !== o && (l = o);
                                        break;
                                    case D.FLOAT_VEC2:
                                    case D[_0x4e57("0x2fa")]:
                                    case D[_0x4e57("0x2fb")]:
                                    case D[_0x4e57("0x2fc")]:
                                        C && C[_0x4e57("0x259")] && l[_0x4e57("0x26c")](C.value), o && l.fromArray(o);
                                        break;
                                    case D[_0x4e57("0x2fd")]:
                                        console[_0x4e57("0x151")]("FLOAT_MAT2 is not a supported uniform type");
                                        break;
                                    case D[_0x4e57("0x2fe")]:
                                        if (c) {
                                            l = new Array(c);
                                            for (var f = 0; f < c; f++) l[f] = new N[I];
                                            if (C && C.value) {
                                                var d = C[_0x4e57("0x259")];
                                                l[_0x4e57("0x26c")](d)
                                            }
                                            o && l.fromArray(o)
                                        } else {
                                            if (C && C[_0x4e57("0x259")]) {
                                                var p = C[_0x4e57("0x259")];
                                                l.fromArray(p)
                                            }
                                            o && l[_0x4e57("0x26c")](o)
                                        }
                                        break;
                                    case D[_0x4e57("0x2ff")]:
                                        l = void 0 !== o ? O[_0x4e57("0x2d8")][o] : void 0 !== C.value ? O[_0x4e57("0x2d8")][C.value] : null
                                }
                                i[_0x4e57("0x1f4")][A] = {value: l, semantic: u, node: h}
                            }
                            for (var b = a[_0x4e57("0x300")] || {}, m = b.enable || [], v = b[_0x4e57("0x301")] || {}, y = !1, E = !1, w = !1, T = 0, R = m[_0x4e57("0x0")]; T < R; T++) {
                                var k = m[T];
                                switch (X[k]) {
                                    case _0x4e57("0x302"):
                                        y = !0;
                                        break;
                                    case _0x4e57("0x2a5"):
                                        E = !0;
                                        break;
                                    case _0x4e57("0x2a6"):
                                        w = !0;
                                        break;
                                    case _0x4e57("0x2a7"):
                                    case"POLYGON_OFFSET_FILL":
                                    case _0x4e57("0x2a8"):
                                        break;
                                    default:
                                        throw new Error(_0x4e57("0x303") + k)
                                }
                            }
                            i.side = y ? void 0 !== v[_0x4e57("0x304")] ? F[v[_0x4e57("0x304")]] : THREE.FrontSide : THREE[_0x4e57("0x10c")], i[_0x4e57("0x305")] = E, i[_0x4e57("0x306")] = void 0 !== v[_0x4e57("0x306")] ? z[v.depthFunc] : THREE[_0x4e57("0x292")], i[_0x4e57("0x307")] = void 0 === v[_0x4e57("0x308")] || v[_0x4e57("0x308")][0], i[_0x4e57("0x309")] = w ? THREE[_0x4e57("0x30a")] : THREE[_0x4e57("0x10b")], i.transparent = w;
                            var S = v.blendEquationSeparate;
                            void 0 !== S ? (i[_0x4e57("0x30b")] = j[S[0]], i.blendEquationAlpha = j[S[1]]) : (i[_0x4e57("0x30b")] = THREE.AddEquation, i[_0x4e57("0x30c")] = THREE.AddEquation);
                            var M = v.blendFuncSeparate;
                            void 0 !== M ? (i.blendSrc = Y[M[0]], i.blendDst = Y[M[1]], i.blendSrcAlpha = Y[M[2]], i[_0x4e57("0x30d")] = Y[M[3]]) : (i[_0x4e57("0x30e")] = THREE[_0x4e57("0x29a")], i[_0x4e57("0x30f")] = THREE[_0x4e57("0x299")], i[_0x4e57("0x310")] = THREE[_0x4e57("0x29a")], i[_0x4e57("0x30d")] = THREE[_0x4e57("0x299")])
                        }
                    }
                    Array[_0x4e57("0x311")](t[_0x4e57("0x312")]) ? i[_0x4e57("0x1df")] = (new (THREE[_0x4e57("0x203")]))[_0x4e57("0x26c")](t[_0x4e57("0x312")]) : "string" == typeof t[_0x4e57("0x312")] && (i[_0x4e57("0x5a")] = O.textures[t[_0x4e57("0x312")]]), delete i[_0x4e57("0x312")], typeof t[_0x4e57("0x313")] === _0x4e57("0xb") && (i[_0x4e57("0x314")] = O.textures[t[_0x4e57("0x313")]]), typeof t.bump === _0x4e57("0xb") && (i.bumpMap = O[_0x4e57("0x2d8")][t[_0x4e57("0x315")]]), Array[_0x4e57("0x311")](t[_0x4e57("0x316")]) ? e === THREE.MeshBasicMaterial ? i.color = (new (THREE[_0x4e57("0x203")]))[_0x4e57("0x26c")](t[_0x4e57("0x316")]) : i[_0x4e57("0x317")] = (new (THREE[_0x4e57("0x203")]))[_0x4e57("0x26c")](t[_0x4e57("0x316")]) : typeof t[_0x4e57("0x316")] === _0x4e57("0xb") && (e === THREE[_0x4e57("0x109")] ? i.map = O[_0x4e57("0x2d8")][t.emission] : i[_0x4e57("0x318")] = O[_0x4e57("0x2d8")][t.emission]), Array[_0x4e57("0x311")](t.specular) ? i[_0x4e57("0x319")] = (new (THREE[_0x4e57("0x203")]))[_0x4e57("0x26c")](t[_0x4e57("0x319")]) : typeof t[_0x4e57("0x319")] === _0x4e57("0xb") && (i.specularMap = O[_0x4e57("0x2d8")][t[_0x4e57("0x319")]]), void 0 !== t[_0x4e57("0x31a")] && (i[_0x4e57("0x31a")] = t[_0x4e57("0x31a")]);
                    var L = new e(i);
                    return void 0 !== x.name && (L.name = x[_0x4e57("0x269")]), L
                })
            })
        }, v[_0x4e57("0xd")][_0x4e57("0x31b")] = function () {
            var x = this[_0x4e57("0x2be")];
            return this[_0x4e57("0x2c0")]([_0x4e57("0x2d0"), _0x4e57("0x2e9")])[_0x4e57("0x78")](function (I) {
                return p(x[_0x4e57("0x31c")], function (x) {
                    var e = new (THREE[_0x4e57("0x22b")]);
                    void 0 !== x.name && (e[_0x4e57("0x269")] = x.name), x.extras && (e[_0x4e57("0x31d")] = x[_0x4e57("0x31e")]);
                    var _ = x[_0x4e57("0x31f")];
                    for (var t in _) {
                        var i = _[t];
                        if (i[_0x4e57("0x320")] === D[_0x4e57("0x321")] || void 0 === i[_0x4e57("0x320")]) {
                            var a = new (THREE[_0x4e57("0x322")]), n = i[_0x4e57("0x2ab")];
                            for (var g in n) {
                                if (!(s = n[g])) return;
                                var r = I[_0x4e57("0x2d0")][s];
                                switch (g) {
                                    case"POSITION":
                                        a[_0x4e57("0x323")](_0x4e57("0xe7"), r);
                                        break;
                                    case"NORMAL":
                                        a[_0x4e57("0x323")](_0x4e57("0xab"), r);
                                        break;
                                    case"TEXCOORD_0":
                                    case _0x4e57("0x2af"):
                                    case"TEXCOORD":
                                        a[_0x4e57("0x323")]("uv", r);
                                        break;
                                    case _0x4e57("0x2b1"):
                                    case _0x4e57("0x2b2"):
                                    case _0x4e57("0x2b3"):
                                        a[_0x4e57("0x323")]("color", r);
                                        break;
                                    case _0x4e57("0x2b4"):
                                        a[_0x4e57("0x323")](_0x4e57("0x2b5"), r);
                                        break;
                                    case _0x4e57("0x2b6"):
                                        a[_0x4e57("0x323")](_0x4e57("0x324"), r)
                                }
                            }
                            i[_0x4e57("0x325")] && a[_0x4e57("0x326")](I[_0x4e57("0x2d0")][i.indices]);
                            var A = void 0 !== I[_0x4e57("0x2e9")] ? I[_0x4e57("0x2e9")][i.material] : new (THREE[_0x4e57("0x2b7")])({
                                color: 0,
                                emissive: 8947848,
                                specular: 0,
                                shininess: 0,
                                transparent: !1,
                                depthTest: !0,
                                side: THREE[_0x4e57("0x290")]
                            });
                            (C = new THREE.Mesh(a, A)).castShadow = !0, C[_0x4e57("0x269")] = "0" === t ? e[_0x4e57("0x269")] : e[_0x4e57("0x269")] + t, i[_0x4e57("0x31e")] && (C.userData = i[_0x4e57("0x31e")]), e[_0x4e57("0x28")](C)
                        } else if (i[_0x4e57("0x320")] === D[_0x4e57("0x327")]) {
                            a = new THREE.BufferGeometry, n = i.attributes;
                            for (var g in n) {
                                var s;
                                if (!(s = n[g])) return;
                                r = I[_0x4e57("0x2d0")][s];
                                switch (g) {
                                    case _0x4e57("0x2ac"):
                                        a[_0x4e57("0x323")]("position", r);
                                        break;
                                    case _0x4e57("0x2b1"):
                                    case _0x4e57("0x2b2"):
                                    case _0x4e57("0x2b3"):
                                        a.addAttribute(_0x4e57("0x1df"), r)
                                }
                            }
                            var C;
                            A = I.materials[i[_0x4e57("0x7c")]];
                            (C = i[_0x4e57("0x325")] ? (a[_0x4e57("0x326")](I[_0x4e57("0x2d0")][i.indices]), new (THREE[_0x4e57("0x328")])(a, A)) : new (THREE[_0x4e57("0x329")])(a, A))[_0x4e57("0x269")] = "0" === t ? e[_0x4e57("0x269")] : e[_0x4e57("0x269")] + t, i[_0x4e57("0x31e")] && (C.userData = i[_0x4e57("0x31e")]), e[_0x4e57("0x28")](C)
                        } else console[_0x4e57("0x151")](_0x4e57("0x32a"))
                    }
                    return e
                })
            })
        }, v[_0x4e57("0xd")][_0x4e57("0x32b")] = function () {
            return p(this[_0x4e57("0x2be")].cameras, function (x) {
                if (x.type == _0x4e57("0x241") && x[_0x4e57("0x241")]) {
                    var e = x.perspective[_0x4e57("0x32c")], _ = x[_0x4e57("0x241")][_0x4e57("0x32d")],
                        t = x[_0x4e57("0x241")][_0x4e57("0x32e")] || 1;
                    _ = void 0 === _ && e ? e * t : _;
                    var i = new (THREE[_0x4e57("0x130")])(THREE.Math[_0x4e57("0x32f")](_), t, x[_0x4e57("0x241")].znear || 1, x[_0x4e57("0x241")][_0x4e57("0x330")] || 2e6);
                    return void 0 !== x[_0x4e57("0x269")] && (i[_0x4e57("0x269")] = x[_0x4e57("0x269")]), x.extras && (i.userData = x.extras), i
                }
                if (x[_0x4e57("0x38")] == _0x4e57("0x331") && x[_0x4e57("0x331")]) {
                    i = new (THREE[_0x4e57("0x133")])(window.innerWidth / -2, window[_0x4e57("0x332")] / 2, window[_0x4e57("0x333")] / 2, window[_0x4e57("0x333")] / -2, x[_0x4e57("0x331")][_0x4e57("0x334")], x.orthographic[_0x4e57("0x330")]);
                    return void 0 !== x.name && (i[_0x4e57("0x269")] = x.name), x.extras && (i.userData = x[_0x4e57("0x31e")]), i
                }
            })
        }, v.prototype[_0x4e57("0x335")] = function () {
            var x = this[_0x4e57("0x2be")];
            return this[_0x4e57("0x2c0")]([_0x4e57("0x2d0")])[_0x4e57("0x78")](function (e) {
                return p(x[_0x4e57("0x336")], function (x) {
                    return {
                        bindShapeMatrix: (new THREE.Matrix4).fromArray(x[_0x4e57("0x337")]),
                        jointNames: x[_0x4e57("0x338")],
                        inverseBindMatrices: e[_0x4e57("0x2d0")][x[_0x4e57("0x339")]]
                    }
                })
            })
        }, v.prototype[_0x4e57("0x33a")] = function () {
            var x = this.json;
            return this._withDependencies([_0x4e57("0x2d0"), "nodes"])[_0x4e57("0x78")](function (l) {
                return p(x.animations, function (x, e) {
                    var _ = [];
                    for (var t in x.channels) {
                        var i = x[_0x4e57("0x33b")][t], a = x.samplers[i[_0x4e57("0x2e4")]];
                        if (a) {
                            var n = i.target, g = n.id,
                                r = void 0 !== x[_0x4e57("0x11e")] ? x[_0x4e57("0x11e")][a[_0x4e57("0x33c")]] : a[_0x4e57("0x33c")],
                                A = void 0 !== x[_0x4e57("0x11e")] ? x[_0x4e57("0x11e")][a[_0x4e57("0x33d")]] : a[_0x4e57("0x33d")],
                                s = l[_0x4e57("0x2d0")][r], C = l[_0x4e57("0x2d0")][A], I = l.nodes[g];
                            if (I) {
                                I[_0x4e57("0x33e")](), I[_0x4e57("0x33f")] = !0;
                                var o = f[n[_0x4e57("0x248")]] === f[_0x4e57("0x340")] ? THREE[_0x4e57("0x341")] : THREE.VectorKeyframeTrack,
                                    c = I[_0x4e57("0x269")] ? I.name : I[_0x4e57("0x342")];
                                _[_0x4e57("0xf")](new o(c + "." + f[n.path], THREE.AnimationUtils[_0x4e57("0x343")](s[_0x4e57("0x344")], 0), THREE[_0x4e57("0x345")][_0x4e57("0x343")](C.array, 0), d[a.interpolation]))
                            }
                        }
                    }
                    return new THREE.AnimationClip(_0x4e57("0x346") + e, void 0, _)
                })
            })
        }, v[_0x4e57("0xd")][_0x4e57("0x347")] = function () {
            var R = this[_0x4e57("0x2be")], k = this[_0x4e57("0x26b")], x = this;
            return p(R[_0x4e57("0x348")], function (x) {
                var e, _ = new (THREE[_0x4e57("0x256")]);
                return x[_0x4e57("0x349")] ? ((e = new (THREE[_0x4e57("0x34a")])).name = void 0 !== x[_0x4e57("0x269")] ? x[_0x4e57("0x269")] : x[_0x4e57("0x349")], e.jointName = x[_0x4e57("0x349")]) : (e = new (THREE[_0x4e57("0x22b")]), void 0 !== x[_0x4e57("0x269")] && (e[_0x4e57("0x269")] = x[_0x4e57("0x269")])), x[_0x4e57("0x31e")] && (e.userData = x[_0x4e57("0x31e")]), void 0 !== x[_0x4e57("0x12e")] ? (_[_0x4e57("0x26c")](x[_0x4e57("0x12e")]), e[_0x4e57("0x34b")](_)) : (void 0 !== x[_0x4e57("0x34c")] && e.position[_0x4e57("0x26c")](x.translation), void 0 !== x[_0x4e57("0x340")] && e[_0x4e57("0x11d")][_0x4e57("0x26c")](x.rotation), void 0 !== x[_0x4e57("0x114")] && e[_0x4e57("0x114")][_0x4e57("0x26c")](x[_0x4e57("0x114")])), e
            })[_0x4e57("0x78")](function (T) {
                return x._withDependencies(["meshes", _0x4e57("0x336"), _0x4e57("0x2c5")])[_0x4e57("0x78")](function (w) {
                    return p(T, function (x, e) {
                        var _ = R[_0x4e57("0x348")][e];
                        if (void 0 !== _[_0x4e57("0x31c")]) for (var t in _[_0x4e57("0x31c")]) {
                            var i = _[_0x4e57("0x31c")][t], a = w[_0x4e57("0x31c")][i];
                            if (void 0 !== a) for (var n in a[_0x4e57("0x23e")]) {
                                var g, r = a[_0x4e57("0x23e")][n], A = r.material, s = r.geometry, C = r.userData,
                                    I = r.name;
                                switch (A[_0x4e57("0x2b8")] ? A = o = A.create() : o = A, r.type) {
                                    case _0x4e57("0x328"):
                                        r = new (THREE[_0x4e57("0x328")])(s, o);
                                        break;
                                    case _0x4e57("0x329"):
                                        r = new (THREE[_0x4e57("0x329")])(s, o);
                                        break;
                                    default:
                                        r = new THREE.Mesh(s, o)
                                }
                                if (r[_0x4e57("0x34e")] = !0, r[_0x4e57("0x31d")] = C, r[_0x4e57("0x269")] = I, _.skin && (g = w[_0x4e57("0x336")][_[_0x4e57("0x34f")]]), g) {
                                    var o, c = function (x) {
                                        for (var e = (0, S[_0x4e57("0xa")])(T), _ = 0, t = e[_0x4e57("0x0")]; _ < t; _++) {
                                            var i = T[e[_]];
                                            if (i[_0x4e57("0x349")] === x) return i
                                        }
                                        return null
                                    }, l = s;
                                    (o = A)[_0x4e57("0x350")] = !0, (r = new (THREE[_0x4e57("0x351")])(l, o, !1))[_0x4e57("0x34e")] = !0, r[_0x4e57("0x31d")] = C, r[_0x4e57("0x269")] = I;
                                    for (var u = [], h = [], f = 0, d = g.jointNames[_0x4e57("0x0")]; f < d; f++) {
                                        var p = g.jointNames[f], b = c(p);
                                        if (b) {
                                            u[_0x4e57("0xf")](b);
                                            var m = g[_0x4e57("0x339")][_0x4e57("0x344")],
                                                v = (new (THREE[_0x4e57("0x256")]))[_0x4e57("0x26c")](m, 16 * f);
                                            h.push(v)
                                        } else console[_0x4e57("0x151")](_0x4e57("0x352") + p + _0x4e57("0x353"))
                                    }
                                    r.bind(new (THREE[_0x4e57("0x354")])(u, h, !1), g[_0x4e57("0x337")]);
                                    !function x(e, _, t) {
                                        var i = e[t];
                                        if (void 0 !== i) for (var a = 0, n = i[_0x4e57("0x0")]; a < n; a++) {
                                            var g = i[a], r = T[g], A = R.nodes[g];
                                            void 0 !== r && !0 === r[_0x4e57("0x355")] && void 0 !== A && (_[_0x4e57("0x28")](r), x(A, r, "children"))
                                        }
                                    }(_, r, _0x4e57("0x356"))
                                }
                                x[_0x4e57("0x28")](r)
                            } else console[_0x4e57("0x151")](_0x4e57("0x34d") + i + '".')
                        }
                        if (void 0 !== _[_0x4e57("0xe6")]) {
                            var y = w[_0x4e57("0x2c5")][_[_0x4e57("0xe6")]];
                            x[_0x4e57("0x28")](y)
                        }
                        if (_[_0x4e57("0x26b")] && _[_0x4e57("0x26b")][H[_0x4e57("0x250")]] && _[_0x4e57("0x26b")][H.KHR_MATERIALS_COMMON][_0x4e57("0x357")]) {
                            var E = k[H.KHR_MATERIALS_COMMON].lights[_[_0x4e57("0x26b")][H[_0x4e57("0x250")]][_0x4e57("0x357")]];
                            x[_0x4e57("0x28")](E)
                        }
                        return x
                    })
                })
            })
        }, v.prototype[_0x4e57("0x358")] = function () {
            var r = this[_0x4e57("0x2be")];

            function A(x, e, _) {
                var t = _[x];
                e.add(t);
                var i = r[_0x4e57("0x348")][x];
                if (i[_0x4e57("0x23e")]) for (var a = i[_0x4e57("0x23e")], n = 0, g = a[_0x4e57("0x0")]; n < g; n++) {
                    A(a[n], t, _)
                }
            }

            return this._withDependencies([_0x4e57("0x348")])[_0x4e57("0x78")](function (a) {
                return p(r[_0x4e57("0x2c4")], function (x) {
                    var e = new THREE.Scene;
                    void 0 !== x[_0x4e57("0x269")] && (e[_0x4e57("0x269")] = x[_0x4e57("0x269")]), x[_0x4e57("0x31e")] && (e.userData = x[_0x4e57("0x31e")]);
                    for (var _ = x.nodes, t = 0, i = _[_0x4e57("0x0")]; t < i; t++) {
                        A(_[t], e, a.nodes)
                    }
                    return e.traverse(function (x) {
                        if (x.material && x[_0x4e57("0x7c")][_0x4e57("0x359")]) {
                            var e = new g(x, a[_0x4e57("0x348")]);
                            n[_0x4e57("0x252")].add(x[_0x4e57("0x342")], e)
                        }
                    }), e
                })
            })
        }, n
    }()
}, , , , , , , , , , function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x35a")] = x, this[_0x4e57("0x35b")](e), this.matInfos = {}
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x35c"), value: function (x) {
                var e = this[_0x4e57("0x35a")][_0x4e57("0x35d")] - this[_0x4e57("0x35a")][_0x4e57("0x35e")],
                    _ = this[_0x4e57("0x35a")][_0x4e57("0x35f")] - this[_0x4e57("0x35a")].minY,
                    t = {w: Math[_0x4e57("0x360")](e), h: Math[_0x4e57("0x360")](_)},
                    i = esmap[_0x4e57("0x7d")][_0x4e57("0x361")]();
                t.w = t.w * i[0] / 15, t.h = t.h * i[1] / 15;
                var a = 1, n = x[_0x4e57("0x362")] || 8192;
                return (500 < e || 500 < _) && 8192 <= n && (n = 2048), (t.w >= n || t.h >= n) && (t.w >= t.h ? (a = t.h / t.w, t.w = n, t.h = n * a) : (a = t.w / t.h, t.h = n, t.w = n * a)), t
            }
        }, {
            key: _0x4e57("0x363"), value: function (x, e) {
                var _ = {
                    x: 1 - (x - this[_0x4e57("0x35a")].minX) / (this[_0x4e57("0x35a")].maxX - this.map_[_0x4e57("0x35e")]),
                    y: 1 - (e - this[_0x4e57("0x35a")][_0x4e57("0x364")]) / (this[_0x4e57("0x35a")][_0x4e57("0x35f")] - this.map_.minY)
                };
                return _.x = _.x * this.options[_0x4e57("0x112")], _.y = _.y * this[_0x4e57("0xf0")].height, _
            }
        }, {
            key: _0x4e57("0x35b"), value: function (x) {
                var e = this[_0x4e57("0x35c")](x), _ = e.w, t = e.h;
                this.options = {
                    width: _,
                    height: t,
                    opacity: x[_0x4e57("0x2f1")] ? 255 * x[_0x4e57("0x2f1")] : 25500,
                    radius: x.radius ? x[_0x4e57("0x365")] : 30,
                    bshadow: x[_0x4e57("0x365")] ? x[_0x4e57("0x365")] / 20 : 1.5,
                    maxSize: x[_0x4e57("0x362")] || 8192,
                    boundVal: 15e3,
                    shadowBlur: 15,
                    points: {max: x[_0x4e57("0x159")] ? x[_0x4e57("0x159")] : 100, data: []},
                    gradient: x[_0x4e57("0x366")] ? x[_0x4e57("0x366")] : {
                        .45: _0x4e57("0x367"),
                        .55: _0x4e57("0x368"),
                        .65: _0x4e57("0x369"),
                        .95: _0x4e57("0x36a"),
                        1: _0x4e57("0x36b")
                    }
                };
                var i = document.createElement(_0x4e57("0x36c")), a = i[_0x4e57("0x36d")]("2d");
                i.width = _, i.height = t, this[_0x4e57("0xf0")][_0x4e57("0x36e")] = a, this[_0x4e57("0xf0")][_0x4e57("0x36c")] = i
            }
        }, {
            key: _0x4e57("0x36f"), value: function (x, e, _, t) {
                var i = this, a = i[_0x4e57("0xf0")][_0x4e57("0x36e")],
                    n = (i.options[_0x4e57("0x365")], i.options[_0x4e57("0x370")]),
                    g = parseFloat(_ / i[_0x4e57("0xf0")].points.max, 10);
                a.shadowColor = _0x4e57("0x371") + g + ")", a.shadowOffsetX = n, a[_0x4e57("0x372")] = n, a[_0x4e57("0x373")] = i[_0x4e57("0xf0")][_0x4e57("0x373")], a.beginPath(), a[_0x4e57("0x374")](x - n, e - n, i[_0x4e57("0xf0")][_0x4e57("0x365")], 0, 2 * Math.PI, !0), a[_0x4e57("0x375")](), a[_0x4e57("0x376")]()
            }
        }, {
            key: _0x4e57("0x377"), value: function () {
                for (var x = this, e = x.options.width, _ = x[_0x4e57("0xf0")][_0x4e57("0x1c5")], t = x[_0x4e57("0xf0")].ctx, i = t[_0x4e57("0x378")](0, 0, e, _), a = i[_0x4e57("0x37")], n = a[_0x4e57("0x0")], g = x[_0x4e57("0x379")](), r = x.options[_0x4e57("0x2f1")], A = 3; A < n; A += 4) {
                    var s = a[A], C = 4 * s;
                    if (C) {
                        var I = s < r ? s : r;
                        a[A - 3] = g[C], a[A - 2] = g[C + 1], a[A - 1] = g[C + 2], a[A] = I
                    }
                }
                i.data[_0x4e57("0x115")](a), t[_0x4e57("0x37a")](i, 0, 0)
            }
        }, {
            key: _0x4e57("0x37b"), value: function (x) {
                var e = this, _ = e[_0x4e57("0xf0")][_0x4e57("0x36c")], g = new (THREE[_0x4e57("0x27f")])(_),
                    t = e[_0x4e57("0x35a")][_0x4e57("0xf8")](x), r = !1;
                x != e[_0x4e57("0x35a")][_0x4e57("0x37c")] && e[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x37d")] && (r = !0);
                for (var i = t[_0x4e57("0x37e")](_0x4e57("0x84")), a = 0; a < i.length; a++) {
                    var n = i[a], A = null, s = null;
                    A = n[_0x4e57("0x7c")].materials ? (s = n[_0x4e57("0x7c")][_0x4e57("0x2e9")][0], n[_0x4e57("0x7c")].materials[1]) : (s = n[_0x4e57("0x7c")])[_0x4e57("0xe8")](), n._hasHeatMap && (this[_0x4e57("0x37f")](x), s[_0x4e57("0x5a")] && (s.map[_0x4e57("0x1a8")](), s[_0x4e57("0x5a")] = void 0)), n._hasHeatMap = !0;
                    var C = s[_0x4e57("0x342")];
                    s[_0x4e57("0x5a")] && (e.matInfos[C] = {}, e[_0x4e57("0x380")][C][_0x4e57("0x5a")] = s[_0x4e57("0x5a")], s[_0x4e57("0x5a")] && s[_0x4e57("0x5a")][_0x4e57("0x1a8")](), s.map = void 0), s[_0x4e57("0x5a")] = g, s[_0x4e57("0x1df")].set(16777215), s[_0x4e57("0x2f0")] = !!r, s[_0x4e57("0x381")] = !0, s[_0x4e57("0x5a")][_0x4e57("0x7f")] = !0, s[_0x4e57("0x7f")] = !0, n.material = new THREE.MultiMaterial([s, A])
                }
                t[_0x4e57("0x37e")]([_0x4e57("0x85"), _0x4e57("0x8a")])[_0x4e57("0x60")](function (x) {
                    var e = x[_0x4e57("0x382")].brothers[0][_0x4e57("0x383")][_0x4e57("0x384")];
                    if (e < 9900 || 9999 < e) if (x[_0x4e57("0x7c")] && x[_0x4e57("0x7c")].materials) for (var _ = x[_0x4e57("0x7c")][_0x4e57("0x2e9")][_0x4e57("0x0")], t = 0; t < _;) {
                        var i = x[_0x4e57("0x7c")][_0x4e57("0x2e9")][t];
                        i[_0x4e57("0x5a")] ? (i[_0x4e57("0x5a")][_0x4e57("0x1a8")](), i.map = void 0) : i[_0x4e57("0x385")] = i[_0x4e57("0x1df")][_0x4e57("0xe8")](), i.map = g, i[_0x4e57("0x1df")][_0x4e57("0x115")](16777215), i[_0x4e57("0x2f0")] = !!r, i.antitrans_ = !0, i.map[_0x4e57("0x7f")] = !0, i.needsUpdate = !0, t += 0 == t ? 3 : 2
                    } else {
                        var a = x[_0x4e57("0x7c")], n = a[_0x4e57("0xe8")]();
                        a[_0x4e57("0x5a")] ? (a.map[_0x4e57("0x1a8")](), a.map = void 0) : a[_0x4e57("0x385")] = a[_0x4e57("0x1df")].clone(), a.map = g, a[_0x4e57("0x1df")].set(16777215), a[_0x4e57("0x2f0")] = !!r, a[_0x4e57("0x381")] = !0, a[_0x4e57("0x5a")][_0x4e57("0x7f")] = !0, a.needsUpdate = !0, x[_0x4e57("0x7c")] = new (THREE[_0x4e57("0x386")])([a, n])
                    }
                })
            }
        }, {
            key: _0x4e57("0x37f"), value: function (x) {
                var e = this;
                if (x) {
                    for (var _ = e[_0x4e57("0x35a")][_0x4e57("0xf8")](x), t = _[_0x4e57("0x37e")]("floorBase"), i = 0; i < t.length; i++) {
                        var a = t[i];
                        if (a[_0x4e57("0x387")]) {
                            a[_0x4e57("0x387")] = null;
                            var n = a[_0x4e57("0x7c")][_0x4e57("0x2e9")][0],
                                g = a[_0x4e57("0x7c")][_0x4e57("0x2e9")][1];
                            n[_0x4e57("0x5a")] && n.map[_0x4e57("0x1a8")](), n[_0x4e57("0x5a")] = void 0;
                            var r = n.uuid;
                            e[_0x4e57("0x380")][r] ? e.matInfos[r][_0x4e57("0x5a")] ? (n[_0x4e57("0x5a")] = e[_0x4e57("0x380")][r][_0x4e57("0x5a")], n[_0x4e57("0x5a")][_0x4e57("0x7f")] = !0, n[_0x4e57("0x2f0")] = !0, n[_0x4e57("0x7f")] = !0) : (n && n[_0x4e57("0x1a8")](), n = void 0, a[_0x4e57("0x7c")] = g, a[_0x4e57("0x7c")][_0x4e57("0x2f0")] = !0, a.material[_0x4e57("0x7f")] = !0) : a.material = g, _[_0x4e57("0x37e")]([_0x4e57("0x85"), _0x4e57("0x8a")])[_0x4e57("0x60")](function (x) {
                                var e = x[_0x4e57("0x382")][_0x4e57("0x388")][0][_0x4e57("0x383")][_0x4e57("0x384")];
                                if (e < 9900 || 9999 < e) if (x[_0x4e57("0x7c")] && x[_0x4e57("0x7c")][_0x4e57("0x2e9")]) for (var _ = x.material[_0x4e57("0x2e9")][_0x4e57("0x0")], t = 0; t < _;) {
                                    var i;
                                    (i = x[_0x4e57("0x7c")][_0x4e57("0x2e9")][t])[_0x4e57("0x5a")] && i[_0x4e57("0x5a")][_0x4e57("0x1a8")](), i[_0x4e57("0x5a")] = void 0, i[_0x4e57("0x1df")].copy(x[_0x4e57("0x7c")][_0x4e57("0x2e9")][t]._color), i[_0x4e57("0x2f0")] = !0, i.needsUpdate = !0, t += 0 == t ? 3 : 2
                                } else (i = x[_0x4e57("0x7c")])[_0x4e57("0x5a")] && (i[_0x4e57("0x5a")].dispose(), i.map = void 0), i[_0x4e57("0x1df")][_0x4e57("0xf2")](i[_0x4e57("0x385")]), i[_0x4e57("0x2f0")] = !0, i[_0x4e57("0x7f")] = !0
                            })
                        }
                    }
                    e[_0x4e57("0x380")] = {}
                }
            }
        }, {
            key: "getPalette", value: function () {
                var x = document[_0x4e57("0x6a")]("canvas"), e = x.getContext("2d");
                x[_0x4e57("0x112")] = 1, x[_0x4e57("0x1c5")] = 256;
                var _ = this[_0x4e57("0xf0")][_0x4e57("0x366")], t = e[_0x4e57("0x389")](0, 0, 1, 256);
                for (var i in _) t[_0x4e57("0x38a")](i, _[i]);
                return e[_0x4e57("0x38b")] = t, e.fillRect(0, 0, 1, 256), e[_0x4e57("0x378")](0, 0, 1, 256)[_0x4e57("0x37")]
            }
        }, {
            key: _0x4e57("0x38c"), value: function (x, e, _) {
                var t = this[_0x4e57("0xf0")][_0x4e57("0x38d")], i = t[_0x4e57("0x37")];
                _ > t[_0x4e57("0x159")] && (t[_0x4e57("0x159")] = _), i[_0x4e57("0xf")]([x, e, _])
            }
        }, {
            key: "clearPoints", value: function () {
                this[_0x4e57("0xf0")][_0x4e57("0x38d")].data = [], this[_0x4e57("0x1d7")]()
            }
        }, {
            key: _0x4e57("0x38e"), value: function (x, e, _) {
                if (x && e && _) {
                    var t = this.getPixXY(x, e);
                    if (t) {
                        this[_0x4e57("0x36f")](t.x, t.y, _), this[_0x4e57("0x377")]()
                    }
                }
            }
        }, {
            key: _0x4e57("0x1d7"), value: function () {
                this.options[_0x4e57("0x36e")].clearRect(0, 0, this[_0x4e57("0xf0")][_0x4e57("0x112")], this.options.height)
            }
        }, {
            key: _0x4e57("0x38f"), value: function (x) {
                this[_0x4e57("0x1d7")]();
                for (var e = x[_0x4e57("0x0")], _ = 0; _ < e; _++) {
                    var t = x[_].value;
                    if (t) {
                        var i = this[_0x4e57("0x363")](x[_].x, x[_].y);
                        if (!i) return !0;
                        this.renderShadow(i.x, i.y, t, !1)
                    }
                }
                this.colorize()
            }
        }, {
            key: _0x4e57("0x390"), value: function (x) {
                var e = this, _ = e.options[_0x4e57("0x112")], t = e.options[_0x4e57("0x1c5")],
                    i = e.options[_0x4e57("0x38d")][_0x4e57("0x159")];
                e[_0x4e57("0x1d7")]();
                for (var a = 0; a < x; a++) {
                    var n = Math.floor(Math.random() * _ + 1),
                        g = Math[_0x4e57("0x391")](Math[_0x4e57("0x392")]() * t + 1),
                        r = Math.floor(Math[_0x4e57("0x392")]() * i + 1);
                    e[_0x4e57("0x36f")](n, g, r)
                }
                e[_0x4e57("0x377")]()
            }
        }]), _
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var c = a(_(14)), n = a(_(90)), A = a(_(35)), t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var g = function () {
        function e(x) {
            ((0, t[_0x4e57("0xa")])(this, e), this[_0x4e57("0x393")] = 0, this[_0x4e57("0x394")] = !1, this[_0x4e57("0x395")] = [], this.__selectMaterialAnimId = null, this.lastSelectModelStore = [], this.updateCountDown_ = 0, this[_0x4e57("0x396")] = 0, this[_0x4e57("0x397")] = 0, this[_0x4e57("0x398")] = 0, this.deltaTime = .01, this[_0x4e57("0x399")] = .01, this[_0x4e57("0xed")] = -1, this[_0x4e57("0x39a")] = function (x) {
                var e = this;
                "number" == typeof x && (x = {to: x});
                var _, t, i, a, n = esmap.ESUtil[_0x4e57("0x18")].getValues(x, _0x4e57("0xef"), _0x4e57("0x39b"), .3),
                    g = e[_0x4e57("0x39c")],
                    r = (t = g, i = x.to, a = i - t, 180 < Math[_0x4e57("0x13f")](a) && (a = -1 * (0, A[_0x4e57("0xa")])(a) * 360 + a), a);
                return clearInterval(e[_0x4e57("0x39d")]), e._rotateToID = THREE.Tween[_0x4e57("0x204")](n, function (x) {
                    (_ = g + r * x) <= 0 ? _ = 360 + _ : 360 <= _ && (_ -= 360), e.rotateAngle = _
                }, function () {
                    x.callback && x[_0x4e57("0xf1")]()
                }), e[_0x4e57("0x39d")]
            }, window[_0x4e57("0x5a")]) && (0, n[_0x4e57("0xa")])(window[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x23e")])[_0x4e57("0x60")](function (x) {
                x instanceof HTMLCanvasElement && window[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x111")](x)
            });
            if (this[_0x4e57("0xf0")] = new (esmap[_0x4e57("0xb4")])(x), em.Evento[_0x4e57("0x39e")](this), this[_0x4e57("0xe5")] = new (esmap[_0x4e57("0xb7")])(this), this[_0x4e57("0xe5")][_0x4e57("0x39f")]()) {
                this[_0x4e57("0x3a0")](), this[_0x4e57("0x61")] = new (esmap[_0x4e57("0xb5")]), this[_0x4e57("0x3a1")] = !1, this[_0x4e57("0x3a2")] = esmap[_0x4e57("0x3a3")][_0x4e57("0x3a4")], this[_0x4e57("0x3a5")] = !0, this[_0x4e57("0x3a6")] = new (esmap[_0x4e57("0xb6")])(this[_0x4e57("0xf0")]), this[_0x4e57("0xe4")] = new (esmap[_0x4e57("0x3a7")])(this, this[_0x4e57("0x3a6")]), this[_0x4e57("0x10e")] = new (esmap[_0x4e57("0x3a8")])(this), this[_0x4e57("0x3a9")] = new (esmap[_0x4e57("0x3a8")].ESMapLogo)(!0, this[_0x4e57("0xe5")][_0x4e57   ("0x3aa")], this.options), this[_0x4e57("0x3ab")] = new (esmap[_0x4e57("0x3ac")])(!1, this[_0x4e57("0xe5")].sceneOrtho, this[_0x4e57("0xf0")]), this[_0x4e57("0x3ad")] = "3d", this[_0x4e57("0x3ae")] = this.mapView.camera, this[_0x4e57("0x3af")] = !1, this[_0x4e57("0x3b0")] = !1, this[_0x4e57("0x3b1")] = {
                    sceneId: 0,
                    fNum: 0,
                    x: 0,
                    y: 0
                }, this[_0x4e57("0xe3")] = -1, this.floorCenter_, this.scaler_ = new (esmap[_0x4e57("0x3b2")])(this);
                this[_0x4e57("0x143")] = [.1, .2, .3, .4, .5, .65, .72, .81, .89, .95, 1.02, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.95, 2.15, 2.4, 3, 5.1], this[_0x4e57("0x14b")] = 12, this[_0x4e57("0x3b3")] = [], this[_0x4e57("0x3b4")] = new (THREE[_0x4e57("0x3b5")]), this[_0x4e57("0x3b6")] = new (THREE[_0x4e57("0x3b5")]), this[_0x4e57("0x3b7")] = [], this.visibleNoFloorNums_ = [], (em[_0x4e57("0xee")][_0x4e57("0x5a")] = this)[_0x4e57("0x3b8")] = new em.JSONModelLoader, this[_0x4e57("0x3b9")] = 1, this[_0x4e57("0x3ba")] = {}, this[_0x4e57("0x3bb")] = [], this[_0x4e57("0x3bc")] = 0, this[_0x4e57("0x3bd")] = {}, this[_0x4e57("0x3be")] = !0, esmap[_0x4e57("0x101")][_0x4e57("0x107")] = this, esmap[_0x4e57("0x101")][_0x4e57("0x3bf")] = {
                    extent: new esmap.ESLayer(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c1")]),
                    model: new esmap.ESLayer(esmap.ESLayerType[_0x4e57("0x3c2")]),
                    label: new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c4")]),
                    facility: new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")].MODEL_POI),
                    textMarker: new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c5")]),
                    imageMarker: new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c6")]),
                    polygonMarker: esmap[_0x4e57("0xca")]
                }, this[_0x4e57("0x3c7")](null, null, !0), this.update_(!0)
            }
        }

        return (0, i[_0x4e57("0xa")])(e, [{
            key: "initControls", value: function () {
                var e = this, x = this[_0x4e57("0xe5")][_0x4e57("0xe6")];
                this[_0x4e57("0xd9")] = new (THREE[_0x4e57("0x16a")])(x, this.mapView[_0x4e57("0xfe")], this), this.controls[_0x4e57("0x122")] = 0, this[_0x4e57("0xd9")].maxPolarAngle = Math.PI / 2.5, this[_0x4e57("0xd9")].addEventListener(_0x4e57("0x1a3"), this.controlsChange_[_0x4e57("0xc")](this)), e[_0x4e57("0xd9")][_0x4e57("0x1af")](_0x4e57("0x62"), function (x) {
                    e[_0x4e57("0x149")](_0x4e57("0x3c8"))
                }), e.controls[_0x4e57("0x1af")](_0x4e57("0x3c9"), function () {
                    e[_0x4e57("0x149")](_0x4e57("0x3ca"))
                }), this.controls[_0x4e57("0x3cb")](this.validRange_[_0x4e57("0xc")](this))
            }
        }, {
            key: _0x4e57("0x3cc"), value: function (x) {
                if (this[_0x4e57("0x3bc")]++, this[_0x4e57("0x3cd")]) {
                    this[_0x4e57("0x3ce")] = this.sceneId_ != x;
                    var e = this[_0x4e57("0xe4")][_0x4e57("0x3cf")]();
                    e && this.mapView[_0x4e57("0x1da")].remove(e), this[_0x4e57("0xe4")][_0x4e57("0x1d7")](), this.controls[_0x4e57("0x1a8")](), this.mapView[_0x4e57("0xe6")].position[_0x4e57("0x115")](0, 0, 0), this[_0x4e57("0x10e")][_0x4e57("0x3d0")] = this.options, this[_0x4e57("0x3ad")] = "3d", this[_0x4e57("0x3a0")]()
                }
                this[_0x4e57("0x3cd")] = x;
                var _ = this[_0x4e57("0x3bc")];
                this[_0x4e57("0x3d1")](x, _)
            }
        }, {
            key: "setAudioUrl", value: function () {
            }
        }, {
            key: _0x4e57("0x3d2"), value: function (x) {
                this[_0x4e57("0x3d3")](this[_0x4e57("0x54")], x)
            }
        }, {
            key: _0x4e57("0x3d3"), value: function (x, e) {
                var _ = this;
                this[_0x4e57("0x10e")][_0x4e57("0x3d4")](x, e, function (x) {
                    _[_0x4e57("0xe4")][_0x4e57("0x3d5")](x)
                })
            }
        }, {
            key: _0x4e57("0x3d6"), value: function (x) {
                for (var e = this[_0x4e57("0xe4")][_0x4e57("0x3d7")].children, _ = 0; _ < e[_0x4e57("0x0")]; _++) if (e[_][_0x4e57("0x382")]) {
                    var t = e[_].datas_;
                    if (t.id && t.id == x) {
                        e[_][_0x4e57("0x382")] = t = void 0;
                        for (var i = 0; i < e[_].children[_0x4e57("0x0")]; i++) {
                            var a = e[_][_0x4e57("0x23e")][i];
                            a.manager = null, a[_0x4e57("0x1a8")](), a[_0x4e57("0x5a")] = null, a = null
                        }
                        return void this[_0x4e57("0xe4")][_0x4e57("0x3d7")].remove(e[_])
                    }
                }
            }
        }, {
            key: "clearAllLineMark", value: function () {
                var x = this[_0x4e57("0xe4")][_0x4e57("0x3d7")];
                if (x) for (var e = x[_0x4e57("0x23e")], _ = 0; _ < e[_0x4e57("0x0")]; _++) x.remove(e[_]), _--
            }
        }, {
            key: _0x4e57("0x3d8"), value: function (t, i) {
                var a = esmap.ESUtil.Option;
                var n = this, g = t[_0x4e57("0x6c")] || n[_0x4e57("0x3a6")][_0x4e57("0x3e3")];
                g[_0x4e57("0x3e4")] = null == g.smooth || g.smooth, g[_0x4e57("0x3e5")] = g[_0x4e57("0x3e5")] || null;
                var x, e = n[_0x4e57("0x3e6")](t[_0x4e57("0x38d")])[0];
                n.mapScene[_0x4e57("0x3d7")][_0x4e57("0x28")](t[_0x4e57("0x3d9")]), x = g[_0x4e57("0x3e4")] ? esmap[_0x4e57("0xbf")].buildCurvePoints(e, 8, g[_0x4e57("0x3e7")] || 1) : e;
                for (var _, r = [], A = !1, s = 0; s < x[_0x4e57("0x0")]; s++) {
                    var C = x[s][_0x4e57("0x3e8")];
                    _ && _ == C ? A ? (r[_0x4e57("0xf")]([x[s - 1], x[s]]), A = !1) : r[r[_0x4e57("0x0")] - 1].push(x[s]) : _ ? (r.push([x[s - 1], x[s]]), A = !0) : r[_0x4e57("0xf")]([x[s]]), _ = C
                }
                var I = -1;
                r[_0x4e57("0x60")](function (x) {
                    I += 1;
                    var e, _ = new (esmap[_0x4e57("0x3e9")])(x, g, {}, I);
                    e = _, t[_0x4e57("0x3d9")][_0x4e57("0x28")](e), e[_0x4e57("0x7c")][_0x4e57("0x3da")] = !0, n[_0x4e57("0x3db")](!0), t[_0x4e57("0x3dc")] && (n.mapPicker[_0x4e57("0x3dd")][_0x4e57("0xf")](e), e[_0x4e57("0x382")] = t[_0x4e57("0x3dc")], e[_0x4e57("0x382")][_0x4e57("0x3d9")] = t, e[_0x4e57("0x3de")] = _0x4e57("0x3df")), null != g[_0x4e57("0x1c5")] && (e[_0x4e57("0xe7")].y += g[_0x4e57("0x1c5")]), g[_0x4e57("0x3e0")] = a[_0x4e57("0x3e1")](g, _0x4e57("0x3e0"), 1), e[_0x4e57("0xe7")].y += g[_0x4e57("0x3e0")] - 6, e.visibleFloorNumsChanged(n[_0x4e57("0x3e2")]), i && i(_)
                })
            }
        }, {
            key: "change3dColor", value: function (x) {
                function e(x) {
                    x[_0x4e57("0x3ea")];
                    var e = x[_0x4e57("0x7c")];
                    if (e[_0x4e57("0x2e9")]) for (var _ = 0; _ < e[_0x4e57("0x2e9")][_0x4e57("0x0")]; _++) e[_0x4e57("0x2e9")][_][_0x4e57("0x317")] = new (THREE[_0x4e57("0x203")])(esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](t(n))); else e[_0x4e57("0x317")] = n, e[_0x4e57("0x7f")] = !0
                }

                var _, t = esmap[_0x4e57("0x7d")].hexToRgb, i = "name", a = [][_0x4e57("0x11")](x[_0x4e57("0x269")]);
                x[_0x4e57("0x269")] || (a = [][_0x4e57("0x11")](x.id), i = "ID");
                var n = x.color;
                n[_0x4e57("0x0")];
                _ = x.fnum ? [][_0x4e57("0x11")](x[_0x4e57("0x3e8")]) : map[_0x4e57("0x3ec")];
                var g = [];
                for (var r in _) {
                    var A = map[_0x4e57("0xf8")](_[r]);
                    if (A) {
                        A.layers[_0x4e57("0x60")](function (x) {
                            x._type_ != esmap[_0x4e57("0x3c0")][_0x4e57("0x3ed")] && x[_0x4e57("0x3ee")] != esmap[_0x4e57("0x3c0")][_0x4e57("0x3ef")] || x[_0x4e57("0x3d9")].children.forEach(function (x) {
                                x.datas_ && -1 < a[_0x4e57("0x41")](x[_0x4e57("0x382")][i]) && g[_0x4e57("0xf")](x)
                            })
                        });
                        for (var s = 0; s < g.length; s++) e(g[s])
                    }
                }
            }
        }, {
            key: "changeModelColor", value: function (x) {
                function e(x) {
                    var e = [];
                    this.layers[_0x4e57("0x60")](function (x) {
                        x[_0x4e57("0x3ee")] != esmap.ESLayerType[_0x4e57("0x3c2")] && x._type_ != esmap[_0x4e57("0x3c0")][_0x4e57("0x3f0")] || (e = e[_0x4e57("0x11")](x[_0x4e57("0x3d9")].children))
                    });
                    for (var _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                        var t = e[_][_0x4e57("0x382")].brothers;
                        if (t) for (var i = 0; i < t.length; i++) {
                            if (x(t[i], e[_][_0x4e57("0x382")][_0x4e57("0x3d9")])) return !0
                        }
                    }
                    return !1
                }

                esmap.ESMapUtil.colorRGB2Hex;
                var _, r = "name", A = [][_0x4e57("0x11")](x.name);
                x[_0x4e57("0x269")] || (A = [].concat(x.id), r = "ID");
                var s = x[_0x4e57("0x1df")], C = this, I = s[_0x4e57("0x0")], o = 0;
                for (var t in C[_0x4e57("0x3ba")][s] || (C[_0x4e57("0x3ba")][s] = new THREE.MeshLambertMaterial({color: s})), _ = x[_0x4e57("0x3e8")] ? [].concat(x[_0x4e57("0x3e8")]) : map[_0x4e57("0x3ec")]) {
                    var i = map[_0x4e57("0xf8")](_[t]);
                    if (i) if (e[_0x4e57("0x2")](i, function (x, e) {
                        if (x[r] && -1 < A[_0x4e57("0x41")](x[r])) {
                            var _;
                            if (o++, I) if (e[_0x4e57("0x7c")][_0x4e57("0x2e9")]) {
                                for (var t = !1, i = 3; i < e.material[_0x4e57("0x2e9")][_0x4e57("0x0")]; i++) if (e.material[_0x4e57("0x2e9")][i][_0x4e57("0x1df")] == C[_0x4e57("0x3ba")][s][_0x4e57("0x1df")]) {
                                    t = i;
                                    break
                                }
                                _ = t || (e[_0x4e57("0x7c")][_0x4e57("0x2e9")][_0x4e57("0xf")](C.matList[s]), e[_0x4e57("0x7c")].materials.length - 1)
                            } else {
                                _ = 3;
                                var a = C[_0x4e57("0x3ba")][s],
                                    n = new (THREE[_0x4e57("0x386")])([e[_0x4e57("0x7c")], e[_0x4e57("0x7c")][_0x4e57("0xe8")](), map[_0x4e57("0x3a6")][_0x4e57("0x3f1")], a]);
                                e[_0x4e57("0x7c")] = n
                            }
                            for (var g = x.faceRange[0]; g < x.faceRange[1]; g++) I ? (null == e[_0x4e57("0x3ea")][_0x4e57("0x3f2")][g][_0x4e57("0x3f3")] && (e.geometry.faces[g][_0x4e57("0x3f3")] = e.geometry[_0x4e57("0x3f2")][g][_0x4e57("0x3f4")]), e.geometry[_0x4e57("0x3f2")][g][_0x4e57("0x3f4")] = _) : _0x4e57("0x3f3") in e[_0x4e57("0x3ea")][_0x4e57("0x3f2")][g] && (e[_0x4e57("0x3ea")].faces[g][_0x4e57("0x3f4")] = e.geometry[_0x4e57("0x3f2")][g][_0x4e57("0x3f3")]);
                            e[_0x4e57("0x3ea")][_0x4e57("0x3f5")] = !0
                        }
                        return o == A.length && "ID" == r
                    })) break
                }
            }
        }, {
            key: "_analyseRawPoints", value: function (x) {
                if (!(x.length < 1)) {
                    for (var e, _ = [], g = [], r = null, A = null, s = this, t = 0; t < x.length; t++) {
                        var i = x[t], a = i[_0x4e57("0x3e8")];
                        if (!i[_0x4e57("0x3f8")]) {
                            n(x);
                            break
                        }
                        n(x[t].pointList, a)
                    }
                    return 1 < (e = g)[_0x4e57("0x0")] && _[_0x4e57("0xf")](e), _
                }

                function n(x, e) {
                    for (var _ = 0; _ < x.length; _++) r = x[_], t = r, i = e, a = void 0, a = null, n = s[_0x4e57("0x100")], (t[_0x4e57("0x3e8")] || i) && (a = s[_0x4e57("0x3f6")](t[_0x4e57("0x3e8")] || i)), (A = new (THREE[_0x4e57("0x11b")])(-s[_0x4e57("0xe4")].sceneX_ - t.x, a + Number(t[_0x4e57("0x3f7")] || n), t.y - s[_0x4e57("0xe4")][_0x4e57("0xeb")]))[_0x4e57("0x3e8")] = e || r[_0x4e57("0x3e8")], g[_0x4e57("0xf")](A);
                    var t, i, a, n
                }
            }
        }, {
            key: _0x4e57("0x3f9"), value: function (x) {
                var e = 0;
                x[_0x4e57("0x3e8")] && (e = this.getFloorHeight(x.fnum));
                var _ = e + (x.z || x[_0x4e57("0x3f7")] || 0);
                return new (THREE[_0x4e57("0x11b")])(-this[_0x4e57("0xe4")][_0x4e57("0xea")] - x.x, _, x.y - this[_0x4e57("0xe4")][_0x4e57("0xeb")])
            }
        }, {
            key: _0x4e57("0x3fa"), value: function (x) {
                return new (THREE[_0x4e57("0x199")])(-x.x - this[_0x4e57("0xe4")][_0x4e57("0xea")], x.z + this[_0x4e57("0xe4")][_0x4e57("0xeb")])
            }
        }, {
            key: "scaleLevelTo", value: function (x, e) {
                this.controls[_0x4e57("0xf5")][_0x4e57("0x140")](x, e)
            }
        }, {
            key: "scaleLevelIn", value: function () {
                0 < this[_0x4e57("0x14b")] && (this.scaleLevel_--, this[_0x4e57("0xd9")].constraint[_0x4e57("0x140")](this[_0x4e57("0x14b")]))
            }
        }, {
            key: _0x4e57("0x3fb"), value: function () {
                this.scaleLevel_ < this[_0x4e57("0x3fc")] && (this.scaleLevel_++, this[_0x4e57("0xd9")].constraint[_0x4e57("0x140")](this[_0x4e57("0x14b")]))
            }
        }, {
            key: "zoomIn", value: function (x) {
                this[_0x4e57("0xd9")][_0x4e57("0x1a7")](x)
            }
        }, {
            key: _0x4e57("0x3fd"), value: function (x) {
                this[_0x4e57("0xd9")].zoomOut_(x)
            }
        }, {
            key: "setBackgroundColor", value: function (x, e) {
                this[_0x4e57("0xe5")][_0x4e57("0x1c2")].setClearColor(x, e)
            }
        }, {
            key: _0x4e57("0x3fe"), value: function (x, e) {
                var _ = null == e ? 1 : e;
                this[_0x4e57("0x3a6")][_0x4e57("0x3f1")].color[_0x4e57("0x115")](x), this[_0x4e57("0x3a6")].selectModelMat[_0x4e57("0x317")][_0x4e57("0x115")](x), this[_0x4e57("0x3a6")].selectModelMat.opacity = _, this[_0x4e57("0x3b9")] = _
            }
        }, {
            key: _0x4e57("0x3ff"), value: function (x) {
                var e, _ = this, t = _[_0x4e57("0x3ec")], i = !1;
                x instanceof Object ? (i = x.hasOwnProperty(_0x4e57("0x400")) ? x.isSelect : i, e = x.id, t = x[_0x4e57("0x3e8")] ? x.fnum : t) : typeof x == _0x4e57("0x208") && (e = x);
                var a = null;
                return esmap[_0x4e57("0x7d")].search(this, t, {nodeType: 5, ID: e}, function (x) {
                    0 != x[_0x4e57("0x0")] && (i && _.storeSelect(x[0]), a = x[0])
                }), a
            }
        }, {
            key: _0x4e57("0x401"), value: function (e, x) {
                var _ = this;
                this.mapTheme.data ? e() : this.mapService[_0x4e57("0x402")](_.options[_0x4e57("0x403")] ? _[_0x4e57("0xf0")][_0x4e57("0x403")] : x ? _.mapTheme[_0x4e57("0x404")] = x : _.mapTheme[_0x4e57("0x404")], function (x) {
                    _[_0x4e57("0x3a6")][_0x4e57("0x37")] = x, _.setBackgroundColor(_.mapTheme[_0x4e57("0x405")], _.mapTheme[_0x4e57("0x406")]), e()
                })
            }
        }, {
            key: _0x4e57("0x407"), value: function (x, e, _) {
                if (x && x[_0x4e57("0x3d9")] && x.o3d_[_0x4e57("0x3ea")]) {
                    var t = this, i = x[_0x4e57("0x3d9")][_0x4e57("0x3ea")];
                    if (null == e && (e = !0), x[_0x4e57("0x408")] || (x[_0x4e57("0x408")] = [0, i.faces[_0x4e57("0x0")]]), e && !_ && (t[_0x4e57("0x409")](), t[_0x4e57("0x395")][_0x4e57("0xf")](x)), t[_0x4e57("0xf0")][_0x4e57("0x40a")]) {
                        null == e && (e = !0), x.o3d_[_0x4e57("0x7c")][_0x4e57("0x2e9")] ? e && (x.o3d_[_0x4e57("0x7c")][_0x4e57("0x2e9")][_0x4e57("0xf")](t.mapTheme[_0x4e57("0x3f1")]), x[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x40b")] = !0) : e && (x[_0x4e57("0x3d9")][_0x4e57("0x7c")] = new (THREE[_0x4e57("0x386")])([x[_0x4e57("0x3d9")][_0x4e57("0x7c")], x.o3d_[_0x4e57("0x7c")][_0x4e57("0xe8")](), t[_0x4e57("0x3a6")].selectModelMat]));
                        for (var a = x[_0x4e57("0x408")][0]; a < x[_0x4e57("0x408")][1]; a++) e ? (i[_0x4e57("0x3f2")][a][_0x4e57("0x3f3")] = i[_0x4e57("0x3f2")][a][_0x4e57("0x3f4")], i[_0x4e57("0x3f2")][a].materialIndex = 2) : (i.faces[a].materialIndex = i[_0x4e57("0x3f2")][a][_0x4e57("0x3f3")], delete i[_0x4e57("0x3f2")][a][_0x4e57("0x3f3")]);
                        i[_0x4e57("0x3f5")] = !0, !e && x.o3d_.material[_0x4e57("0x2e9")] && x.o3d_[_0x4e57("0x7c")][_0x4e57("0x2e9")][_0x4e57("0x0")] <= 3 && !x[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x40b")] && (x[_0x4e57("0x3d9")][_0x4e57("0x7c")] = x.o3d_[_0x4e57("0x7c")].materials[0]), clearInterval(t.__selectMaterialAnimId), e && (t[_0x4e57("0x40c")] = em.Tween[_0x4e57("0x205")](t.mapTheme[_0x4e57("0x3f1")], .3, {opacity: .5 * t._selectModelAlpha}, null, function () {
                            t[_0x4e57("0x40c")] = em[_0x4e57("0xee")].action(t[_0x4e57("0x3a6")][_0x4e57("0x3f1")], .2, {opacity: t[_0x4e57("0x3b9")]})
                        }))
                    } else e && (x[_0x4e57("0x3d9")].material_ = x[_0x4e57("0x3d9")][_0x4e57("0x7c")], x[_0x4e57("0x3d9")][_0x4e57("0x7c")] = t[_0x4e57("0x3a6")][_0x4e57("0x3f1")]), !e && (x[_0x4e57("0x3d9")].material = x.o3d_[_0x4e57("0x40d")])
                }
            }
        }, {
            key: _0x4e57("0x40e"), value: function (x, e, _) {
                x[_0x4e57("0x3ea")];
                var t = x[_0x4e57("0x7c")];
                null == e && (e = !0), e && !_ && (this[_0x4e57("0x40f")](), this[_0x4e57("0x410")].push(x));
                var i = this.mapTheme.Model3DSelectColor;
                if (t.materials) for (var a = 0; a < t.materials.length; a++) e && (t[_0x4e57("0x2e9")][a][_0x4e57("0x317")] = new THREE.Color(i)), !e && (t.materials[a].emissive = new (THREE[_0x4e57("0x203")])(0, 0, 0)); else e && (t[_0x4e57("0x317")] = new (THREE[_0x4e57("0x203")])(i)), !e && (t[_0x4e57("0x317")] = new (THREE[_0x4e57("0x203")])(0, 0, 0)), t.needsUpdate = !0
            }
        }, {
            key: "selectModelNull", value: function () {
                var e = this;
                e[_0x4e57("0x410")].forEach(function (x) {
                    e[_0x4e57("0x40e")](x, !1)
                }), e.lastSelectModelStore.length = 0
            }
        }, {
            key: _0x4e57("0x409"), value: function () {
                var e = this;
                e[_0x4e57("0x395")][_0x4e57("0x60")](function (x) {
                    e[_0x4e57("0x407")](x, !1)
                }), e[_0x4e57("0x395")][_0x4e57("0x0")] = 0
            }
        }, {
            key: _0x4e57("0x411"), value: function (x) {
                return !this[_0x4e57("0x412")] || this[_0x4e57("0x412")](x)
            }
        }, {
            key: _0x4e57("0x3d1"), value: function (x, r) {
                var s = this;
                esmap[_0x4e57("0xbb")]._mats = {}, this.mapPicker && (this.mapPicker[_0x4e57("0x413")] || (this[_0x4e57("0x61")].on("keepPress_", function (x) {
                    if (0 != x[_0x4e57("0x414")][_0x4e57("0x0")]) {
                        var e = x[_0x4e57("0x414")][0][_0x4e57("0x9")][_0x4e57("0x382")],
                            _ = e[_0x4e57("0x415")] || {x: 0, y: 0, z: 0}, t = x[_0x4e57("0x414")][0].point;
                        e.x = _.x, e.y = _.y, e.z = _.z, e[_0x4e57("0x416")] = {
                            x: -t.x - s.mapScene.sceneX_,
                            y: t.z + s[_0x4e57("0xe4")][_0x4e57("0xeb")]
                        }, (s[_0x4e57("0x10e")].sourceData.o1 || 0) <= 1 && !s._ca && (e = {}), s[_0x4e57("0x149")]("mapKeepPress", e)
                    }
                }), this.mapPicker.on(_0x4e57("0x417"), function (x) {
                    s[_0x4e57("0x409")](), s[_0x4e57("0x40f")]();
                    for (var e = 0; e < x[_0x4e57("0x414")][_0x4e57("0x0")]; e++) if (s[_0x4e57("0x61")][_0x4e57("0x418")] || !e) {
                        var _ = x[_0x4e57("0x414")][e], t = _[_0x4e57("0x9")], i = null;
                        switch (t[_0x4e57("0x382")][_0x4e57("0x419")]) {
                            case esmap[_0x4e57("0x9a")][_0x4e57("0x3c2")]:
                                var a = t.datas_[_0x4e57("0x388")];
                                if (a) {
                                    for (var n = _[_0x4e57("0x41a")], g = 0; g < a[_0x4e57("0x0")]; g++) if (n < a[g][_0x4e57("0x408")][1]) {
                                        !a[g][_0x4e57("0x3d9")] && (a[g].o3d_ = t), s.options[_0x4e57("0x41b")] && s[_0x4e57("0x411")](a[g]) && s[_0x4e57("0x407")](a[g]), i = a[g];
                                        break
                                    }
                                } else i = t[_0x4e57("0x382")], s[_0x4e57("0x407")](i);
                                break;
                            case esmap[_0x4e57("0x9a")][_0x4e57("0x3ed")]:
                                !e && s[_0x4e57("0x40e")](t);
                                break;
                            case esmap[_0x4e57("0x9a")][_0x4e57("0x41c")]:
                        }
                        var r = _[_0x4e57("0x26d")], A = i || t[_0x4e57("0x382")];
                        A.hitCoord = {
                            x: -r.x - s[_0x4e57("0xe4")][_0x4e57("0xea")],
                            y: r.z + s.mapScene[_0x4e57("0xeb")]
                        }, s[_0x4e57("0x149")](_0x4e57("0x41d"), A)
                    }
                }), this[_0x4e57("0x61")].on(_0x4e57("0x41e"), function (x) {
                    s[_0x4e57("0x409")](), s.selectModelNull(), s.emit(_0x4e57("0x41d"), {
                        target: null,
                        mouse: x,
                        nodeType: esmap[_0x4e57("0x9a")][_0x4e57("0x17b")]
                    })
                })), this[_0x4e57("0x61")][_0x4e57("0x62")](this, this[_0x4e57("0xe5")][_0x4e57("0x41f")]));
                var e = this.sl();
                this[_0x4e57("0xd9")][_0x4e57("0xf5")].on(_0x4e57("0x14a"), function (x) {
                    s[_0x4e57("0x149")](_0x4e57("0x14a"), {level: x, scale: s[_0x4e57("0x143")][x]})
                }), 35988889 == e && this[_0x4e57("0x10e")].queryScene(x, function (x, e) {
                    s[_0x4e57("0x3a9")].initUserLogo(), s[_0x4e57("0x143")] = JSON[_0x4e57("0x32")]("[" + x[_0x4e57("0x420")] + "]"), s[_0x4e57("0xe4")].setScene(x, s[_0x4e57("0x3cd")], r);
                    var _ = s[_0x4e57("0xe4")][_0x4e57("0x3cf")](),
                        t = x.maptime < 32503514 ? x[_0x4e57("0x421")] : x.maptime / 1e3;
                    if (!((new Date)[_0x4e57("0xdc")]() > 1e6 * t)) {
                        s[_0x4e57("0xe5")].scene[_0x4e57("0x28")](_), s[_0x4e57("0x3ec")] = [], s[_0x4e57("0xe3")] = -1;
                        var i = s[_0x4e57("0x422")](s[_0x4e57("0x3ce")] || -1 == s[_0x4e57("0xe3")] ? 1 : s[_0x4e57("0xe3")]);
                        s[_0x4e57("0x14e")] = s[_0x4e57("0xf0")][_0x4e57("0x423")], s[_0x4e57("0x19b")] = s[_0x4e57("0xf0")][_0x4e57("0x3fc")] ? s[_0x4e57("0xf0")][_0x4e57("0x3fc")] >= s[_0x4e57("0x143")][_0x4e57("0x0")] ? s[_0x4e57("0x143")][_0x4e57("0x0")] - 1 : s[_0x4e57("0xf0")][_0x4e57("0x3fc")] : s.scaleLevels_[_0x4e57("0x0")] - 1, s.controls[_0x4e57("0x152")](s.scaleLevels_[0], s.scaleLevels_[s[_0x4e57("0x143")].length - 1], !0), i || (null == s[_0x4e57("0xf0")][_0x4e57("0x424")] ? s[_0x4e57("0x425")] = x[_0x4e57("0x426")] : s[_0x4e57("0x425")] = s[_0x4e57("0xf0")][_0x4e57("0x424")]), s[_0x4e57("0x425")] >= s[_0x4e57("0x143")][_0x4e57("0x0")] || s[_0x4e57("0x425")], s[_0x4e57("0x427")][_0x4e57("0x428")](function (x, e) {
                            return parseInt(x[_0x4e57("0x429")]) - parseInt(e[_0x4e57("0x429")])
                        });
                        var a = s[_0x4e57("0x427")].map(function (x) {
                            return x.floornum
                        });
                        s.fNums = a, (_0x4e57("0x42a") == s[_0x4e57("0xf0")][_0x4e57("0x42b")] || 0 == s[_0x4e57("0xf0")].visibleFloors) && (s[_0x4e57("0xf0")].visibleFloors = a.slice());
                        var n = a[_0x4e57("0x10")](), g = s.options.focusFloor;
                        1 != g && -1 < a.indexOf(g) && (n[0] = n[_0x4e57("0x63")](g - 1, 1, n[0])[0]), s[_0x4e57("0x42c")](n), s[_0x4e57("0x42d")]();
                        s[_0x4e57("0x3bc")] == e && s[_0x4e57("0x42e")](0, n, function () {
                            esmap.ESMap.IsMapLoading = !1
                        }, e)
                    }
                }, function (x) {
                    esmap[_0x4e57("0x101")].IsMapLoading = !1
                }, r)
            }
        }, {
            key: _0x4e57("0x42e"), value: function (x, e, _, t) {
                var i = this;
                x == e[_0x4e57("0x0")] ? (x = 0, _ && _()) : i[_0x4e57("0x3bc")] == t && (-1 < i[_0x4e57("0x3ec")][_0x4e57("0x41")](e[x]) ? (x++, i[_0x4e57("0x42e")](x, e, _, t)) : setTimeout(function () {
                    i[_0x4e57("0x42f")](e[x], function () {
                        x++, i[_0x4e57("0x42e")](x, e, _, t)
                    }, t, x == e[_0x4e57("0x0")] - 1)
                }, 0))
            }
        }, {
            key: _0x4e57("0x42c"), value: function (x) {
                for (var e = {}, _ = 0; _ < x[_0x4e57("0x0")]; _++) {
                    var t = x[_];
                    if (t <= this[_0x4e57("0xe4")][_0x4e57("0x430")].floors[_0x4e57("0x0")]) {
                        var i = this[_0x4e57("0xe4")].mapSceneData.floors[t - 1];
                        if (!i) continue;
                        var a = i[_0x4e57("0x431")];
                        a && !e[a[_0x4e57("0x2ad")](_0x4e57("0x432"), "")] && (e[a[_0x4e57("0x2ad")](_0x4e57("0x432"), "")] = 1);
                        var n = i[_0x4e57("0x433")];
                        if (n[_0x4e57("0x0")] != {}) for (var g in n) {
                            var r = n[g][_0x4e57("0x434")] || n[g][_0x4e57("0x384")];
                            null != n[g][_0x4e57("0x431")] && "" != n[g][_0x4e57("0x431")] && null != n[g].w && (r = n[g][_0x4e57("0x431")]), e[r] || (e[r] = 1)
                        }
                    }
                }
                this.mapTheme[_0x4e57("0x435")](e, 32)
            }
        }, {
            key: _0x4e57("0x436"), value: function () {
                for (var x = 0; x < this[_0x4e57("0x3bb")][_0x4e57("0x0")]; x++) this[_0x4e57("0x437")](_0x4e57("0x65"), this[_0x4e57("0x3bb")][x]);
                this[_0x4e57("0x3bb")] = []
            }
        }, {
            key: _0x4e57("0x438"), value: function (x) {
                try {
                    return this[_0x4e57("0xe4")][_0x4e57("0x439")][x][_0x4e57("0x43a")]
                } catch (x) {
                    return console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x43b")]), null
                }
            }
        }, {
            key: _0x4e57("0x42f"), value: function (e, _, t, i) {
                var a = this;
                e > a[_0x4e57("0xe4")][_0x4e57("0x430")][_0x4e57("0x43c")][_0x4e57("0x0")] || (a[_0x4e57("0xe4")][_0x4e57("0x439")][e] = a.mapScene[_0x4e57("0x430")][_0x4e57("0x43c")][e - 1], a[_0x4e57("0x10e")].queryFloor(a[_0x4e57("0x3cd")], e, function (x) {
                    a[_0x4e57("0x3ec")][_0x4e57("0xf")](e), a[_0x4e57("0xe4")][_0x4e57("0x43d")](e, t), e == a[_0x4e57("0xf0")][_0x4e57("0x43e")] && (a.focusFloorNum = {
                        floornum: a.options[_0x4e57("0x43e")],
                        time: 0
                    }), a[_0x4e57("0xe4")][_0x4e57("0x43f")](e, x, function (x) {
                        x[_0x4e57("0x382")][_0x4e57("0x419")] == esmap[_0x4e57("0x9a")][_0x4e57("0x3c2")] && (x[_0x4e57("0x7c")] = a.createMaterial_(x[_0x4e57("0x440")][_0x4e57("0x441")]), x.userData = {
                            sid: a.sceneId_,
                            fnum: e
                        }, a[_0x4e57("0x61")][_0x4e57("0x442")](x))
                    }, function () {
                        _ && _(e)
                    }[_0x4e57("0xc")](a), function () {
                        var x = a[_0x4e57("0xe4")][_0x4e57("0x443")](e);
                        x[_0x4e57("0x3da")] = -1 < a[_0x4e57("0x3b7")][_0x4e57("0x41")](e), x.visible && a.options[_0x4e57("0x37d")] && (e == a[_0x4e57("0xe3")] ? esmap[_0x4e57("0x7d")][_0x4e57("0x444")](e) : esmap[_0x4e57("0x7d")].setFloorAlpha(e, a[_0x4e57("0xf0")][_0x4e57("0x445")]))
                    }, i)
                }))
            }
        }, {
            key: _0x4e57("0x42d"), value: function (x) {
                var e = document[_0x4e57("0x446")](_0x4e57("0x447"));
                0 != e[_0x4e57("0x0")] && (e[0][_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x83")), this[_0x4e57("0x3b0")] = !0, this[_0x4e57("0x449")] = !1, this._stop_ = !1, this[_0x4e57("0x44a")] = 0, this[_0x4e57("0x44b")] = Math.sqrt(Math[_0x4e57("0x16e")]((this[_0x4e57("0x35d")] - this[_0x4e57("0x35e")]) / 2, 2) + Math[_0x4e57("0x16e")]((this[_0x4e57("0x35f")] - this[_0x4e57("0x364")]) / 2, 2)), this[_0x4e57("0xd9")][_0x4e57("0x3cb")](this[_0x4e57("0x129")][_0x4e57("0xc")](this)), this[_0x4e57("0xf4")] = {
                    mode: this.options[_0x4e57("0xf4")],
                    time: 0
                }, this.plane_ = new (THREE[_0x4e57("0x10d")])(new (THREE[_0x4e57("0x44c")])(1e4, 1e4, 4, 4), new (THREE[_0x4e57("0x109")])({
                    color: 6724044,
                    visible: !1
                })), this[_0x4e57("0xe4")][_0x4e57("0x44d")].add(this[_0x4e57("0x44e")]), this.plane_[_0x4e57("0x340")].x = -Math.PI / 2, !x && this.options[_0x4e57("0x42b")] && (this.visibleFloorNums = this[_0x4e57("0xf0")][_0x4e57("0x42b")]), this[_0x4e57("0x149")](_0x4e57("0x62")), this._haveUpdate || (this[_0x4e57("0x44f")] = !0, this.update_())
            }
        }, {
            key: _0x4e57("0x450"), value: function (x) {
                this[_0x4e57("0x3c7")](), this[_0x4e57("0x147")].updateText(), this[_0x4e57("0x149")](_0x4e57("0x451"), {})
            }
        }, {
            key: _0x4e57("0x452"), value: function () {
                var x = 0;
                "3d" == this[_0x4e57("0x3ad")] && (x = Math.PI), this[_0x4e57("0x149")](_0x4e57("0x453")), this[_0x4e57("0x3ab")][_0x4e57("0x454")](-this[_0x4e57("0xd9")][_0x4e57("0xf6")]() - x), this[_0x4e57("0x3b0")] = !0
            }
        }, {
            key: "update_", value: function (x) {
                x ? this[_0x4e57("0x44a")] = 0 : (this.up = requestAnimationFrame(this[_0x4e57("0x3db")][_0x4e57("0xc")](this, x)), 0 == this.updateCountDown_ && (this.updateCountDown_ = this[_0x4e57("0x3a2")], this[_0x4e57("0x3b0")] = !0), this[_0x4e57("0x399")] = this[_0x4e57("0x3b6")][_0x4e57("0x455")](), this[_0x4e57("0x149")](_0x4e57("0x456"), this.immediateDeltaTime), this[_0x4e57("0x44a")]--, (this[_0x4e57("0x3b0")] || this[_0x4e57("0x3a1")]) && (this[_0x4e57("0x3b0")] = !1, this.updateSize(null, null, !1), this.__time = (new Date)[_0x4e57("0xdc")](), this[_0x4e57("0xe4")][_0x4e57("0x457")](this.mapView), this[_0x4e57("0x396")] = (new Date)[_0x4e57("0xdc")]() - this[_0x4e57("0x396")], this.__allTime += this[_0x4e57("0x396")], this[_0x4e57("0x397")] += 1, 5 == this[_0x4e57("0x397")] && (this[_0x4e57("0x397")] = 0, this[_0x4e57("0x398")] = 0), this[_0x4e57("0x458")] = this.timer[_0x4e57("0x455")](), this[_0x4e57("0x149")](_0x4e57("0x65"), this[_0x4e57("0x458")]), this[_0x4e57("0xe5")][_0x4e57("0x1ce")](this[_0x4e57("0x3ad")])))
            }
        }, {
            key: _0x4e57("0x459"), value: function () {
                this.update_(!0)
            }
        }, {
            key: _0x4e57("0x3c7"), value: function (x, e, _) {
                if (null == _ && (_ = !0), null == x) {
                    var t = this[_0x4e57("0xe5")][_0x4e57("0x45a")](_);
                    if (!t) return;
                    x = t.w, e = t.h
                }
                this[_0x4e57("0xe5")][_0x4e57("0x45b")](x, e), this.zonTempObj[_0x4e57("0x45c")](x, e), this.compass_[_0x4e57("0x45c")](x, e), _ && (this[_0x4e57("0x3b0")] = !0)
            }
        }, {
            key: _0x4e57("0x129"), value: function (x, e) {
                return !0
            }
        }, {
            key: _0x4e57("0x422"), value: function (x, e) {
                var _, t = this[_0x4e57("0xf0")][_0x4e57("0x45d")],
                    i = this.mapScene[_0x4e57("0x45e")][_0x4e57("0x1c4")](),
                    a = this.mapScene[_0x4e57("0x430")][_0x4e57("0x43c")][x - 1][_0x4e57("0x45f")], n = .75 * i.x + a,
                    g = t ? new (THREE[_0x4e57("0x11b")])(-(this[_0x4e57("0xe4")][_0x4e57("0xea")] + t.x), a, t.y - this[_0x4e57("0xe4")][_0x4e57("0xeb")]) : new (THREE[_0x4e57("0x11b")])(0, a, 0);
                if (_ = e ? new (THREE[_0x4e57("0x11b")])(e.x, n, e.z) : new (THREE[_0x4e57("0x11b")])(i.x, n, -i.x), this[_0x4e57("0xe5")][_0x4e57("0xe6")][_0x4e57("0xe7")][_0x4e57("0xf2")](_), this[_0x4e57("0x460")] = g, this[_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0xf2")](g), this[_0x4e57("0xf0")][_0x4e57("0x461")]) {
                    var r = this[_0x4e57("0xf0")].defaultControlsPose, A = 0;
                    switch (void 0 === r ? _0x4e57("0x15") : (0, c[_0x4e57("0xa")])(r)) {
                        case _0x4e57("0xb"):
                            switch (r) {
                                case"n":
                                    A = Math.PI;
                                    break;
                                case"s":
                                    A = 0;
                                    break;
                                case"w":
                                    A = -Math.PI / 2;
                                    break;
                                case"e":
                                    A = Math.PI / 2;
                                    break;
                                case"ne":
                                    A = .75 * Math.PI;
                                    break;
                                case"nw":
                                    A = 1.25 * Math.PI;
                                    break;
                                case"se":
                                    A = Math.PI / 4;
                                    break;
                                case"sw":
                                    A = -Math.PI / 4;
                                    break;
                                default:
                                    A = 0
                            }
                            this[_0x4e57("0xf0")].viewMode == esmap[_0x4e57("0xa8")][_0x4e57("0x462")] && (A += Math.PI), this[_0x4e57("0xd9")][_0x4e57("0x65")]({forceTheta: A});
                            break;
                        case _0x4e57("0x208"):
                            this.controls[_0x4e57("0x65")]({forceTheta: r * THREE[_0x4e57("0x141")][_0x4e57("0x463")]});
                            break;
                        case _0x4e57("0x9"):
                            var s = this[_0x4e57("0xf0")][_0x4e57("0x461")][_0x4e57("0xe9")].split(","),
                                C = this[_0x4e57("0xf0")].defaultControlsPose[_0x4e57("0xe7")][_0x4e57("0x464")](","),
                                I = new (THREE[_0x4e57("0x11b")])(parseFloat(s[0]), parseFloat(s[1]), parseFloat(s[2])),
                                o = new (THREE[_0x4e57("0x11b")])(parseFloat(C[0]), parseFloat(C[1]), parseFloat(C[2]));
                            return this[_0x4e57("0xd9")].target.copy(I), this[_0x4e57("0xd9")].object.position[_0x4e57("0xf2")](o), this.controls[_0x4e57("0x65")](), !0
                    }
                }
                if (this[_0x4e57("0xf0")][_0x4e57("0x465")]) {
                    x = this[_0x4e57("0xf0")][_0x4e57("0x465")] * Math.PI / 180;
                    this[_0x4e57("0xd9")][_0x4e57("0x65")]({forceTheta: x})
                }
                return null != this[_0x4e57("0xf0")][_0x4e57("0x466")] && (this[_0x4e57("0x467")] = this[_0x4e57("0xf0")][_0x4e57("0x466")]), this.updateCountDown_ = 0, !1
            }
        }, {
            key: "_alwaysShowLabelAndPOI", value: function (x, e) {
            }
        }, {
            key: "sl", value: function () {
                if (!this[_0x4e57("0xe5")].scene || !this[_0x4e57("0xe5")].renderer) return 0;
                for (var x = this[_0x4e57("0xe5")][_0x4e57("0x3aa")][_0x4e57("0x23e")][0], e = x.material[_0x4e57("0x5a")][_0x4e57("0x431")] ? x.material[_0x4e57("0x5a")][_0x4e57("0x431")][_0x4e57("0x468")] : "", _ = e.length, t = 0, i = 0; i < _; i++) t += e[i][_0x4e57("0x469")]();
                return parseInt(t, 16)
            }
        }, {
            key: _0x4e57("0x46a"), value: function (x, e) {
                var _ = this;
                _.focusFnum_ = x, e = e || {};
                var t = this[_0x4e57("0xe4")][_0x4e57("0x430")].floors;
                for (var i in t) {
                    var a = t[i], n = this[_0x4e57("0xe4")][_0x4e57("0xf9")][a.floornum];
                    if (a[_0x4e57("0x429")] == x) {
                        var g = new (THREE[_0x4e57("0x11b")]);
                        g.y = a.Elevation, esmap[_0x4e57("0x7d")][_0x4e57("0x444")](x);
                        var r = this.mapView.camera[_0x4e57("0xe7")][_0x4e57("0xe8")](),
                            A = this[_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0xe8")](), s = r.y - A.y;
                        g.x = A.x, g.z = A.z;
                        var C = g.clone().sub(A), I = g.y + s - r.y;
                        _[_0x4e57("0xf0")].focusAlphaMode && _[_0x4e57("0x46b")](a.floornum, !0), e[_0x4e57("0x46c")] || (clearInterval(this[_0x4e57("0xed")]), this[_0x4e57("0xed")] = em[_0x4e57("0xee")][_0x4e57("0x20b")](null == e[_0x4e57("0xef")] ? this[_0x4e57("0xf0")][_0x4e57("0x46d")] ? this.options.focusAnimateTime : 0 : e[_0x4e57("0xef")], function (x) {
                            _[_0x4e57("0xe5")][_0x4e57("0xe6")][_0x4e57("0xe7")].y = r.y + I * x, _[_0x4e57("0xd9")][_0x4e57("0xe9")].y = A.y + C.y * x, _[_0x4e57("0xd9")][_0x4e57("0x65")]()
                        }, null, function () {
                            _.mapView[_0x4e57("0x46e")](), e[_0x4e57("0xf1")] && e[_0x4e57("0xf1")](x)
                        }), this[_0x4e57("0x460")] = g)
                    } else n && n[_0x4e57("0x3da")] && this[_0x4e57("0xf0")].focusAlphaMode && esmap.ESMapUtil[_0x4e57("0x46f")](a[_0x4e57("0x429")], this.options.focusAlpha), _[_0x4e57("0x46b")](a[_0x4e57("0x429")], !1)
                }
            }
        }, {
            key: "addLocationMarker", value: function (x) {
                this[_0x4e57("0xe5")][_0x4e57("0x1da")].add(x.o3d_), this[_0x4e57("0x61")][_0x4e57("0x470")](x[_0x4e57("0x3d9")])
            }
        }, {
            key: _0x4e57("0x471"), value: function (x) {
                x[_0x4e57("0x1a8")]()
            }
        }, {
            key: "getModelByName", value: function (x) {
                return this[_0x4e57("0xe4")].getO3dScene()[_0x4e57("0x472")](x)
            }
        }, {
            key: _0x4e57("0x473"), value: function () {
                function _(x) {
                    if (null !== x) {
                        x.datas_ && x[_0x4e57("0x382")][_0x4e57("0x3d9")] && (x[_0x4e57("0x382")][_0x4e57("0x3d9")] = void 0, x[_0x4e57("0x382")] = void 0);
                        for (var e = 0; e < x[_0x4e57("0x23e")].length; e++) _(x[_0x4e57("0x23e")][e]);
                        x.geometry && (x[_0x4e57("0x3ea")][_0x4e57("0x1a8")](), x[_0x4e57("0x3ea")] = void 0), x[_0x4e57("0x7c")] && (x[_0x4e57("0x7c")].materials ? x[_0x4e57("0x7c")].materials[_0x4e57("0x60")](function (x) {
                            x.map && (x[_0x4e57("0x5a")][_0x4e57("0x1a8")](), x.map = void 0), x[_0x4e57("0x1a8")](), x = void 0
                        }) : (x[_0x4e57("0x7c")][_0x4e57("0x1a8")](), x.material = void 0))
                    }
                    x = void 0
                }

                var e = this;
                cancelAnimationFrame(e.up);
                var x = e[_0x4e57("0xe5")][_0x4e57("0x1da")], t = e[_0x4e57("0xe5")][_0x4e57("0x1c2")];
                for (var i in e.mapScene[_0x4e57("0x474")].meshStore) {
                    _(e[_0x4e57("0xe4")].loadqueue[_0x4e57("0x475")][i])
                }
                _(x), e.mapPicker[_0x4e57("0x1a8")](), e[_0x4e57("0xd9")][_0x4e57("0x1a8")]();
                var a = e[_0x4e57("0xe5")][_0x4e57("0x41f")][_0x4e57("0x36d")](_0x4e57("0x476"));
                a.clear(a.COLOR_BUFFER_BIT), (0, n.default)(e[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x23e")])[_0x4e57("0x60")](function (x) {
                    e[_0x4e57("0xe5")].container_[_0x4e57("0x111")](x)
                }), t[_0x4e57("0x106")] = void 0, window[_0x4e57("0x5a")] && window[_0x4e57("0x5a")] instanceof esmap.ESMap && (window[_0x4e57("0x5a")] = void 0), esmap[_0x4e57("0x101")][_0x4e57("0x107")] = null, THREE.Cache[_0x4e57("0x1d7")]()
            }
        }, {
            key: _0x4e57("0x3f6"), value: function (x) {
                return this[_0x4e57("0xe4")][_0x4e57("0x443")](x)[_0x4e57("0xe7")].y
            }
        }, {
            key: _0x4e57("0x477"), value: function (x, e, _) {
                var t, i = this[_0x4e57("0x3ae")] || this[_0x4e57("0xe5")][_0x4e57("0xe6")];
                t = new (THREE[_0x4e57("0x11b")])(x / this.mapView.w_ * 2 - 1, 1 - e / this[_0x4e57("0xe5")].h_ * 2, .5);
                var a = new (THREE[_0x4e57("0x478")]);
                a[_0x4e57("0x479")](t, i), this[_0x4e57("0x44e")][_0x4e57("0xe7")].y = _, this[_0x4e57("0x44e")][_0x4e57("0x119")](), this.forceUpdate();
                var n = a[_0x4e57("0x47a")](this[_0x4e57("0x44e")]);
                if (0 < n[_0x4e57("0x0")]) {
                    var g = n[0][_0x4e57("0x26d")];
                    return new esmap.ESMapCoord(-g.x - this[_0x4e57("0xe4")][_0x4e57("0xea")], g.z + this[_0x4e57("0xe4")].sceneZ_, _)
                }
                return null
            }
        }, {
            key: _0x4e57("0x47b"), value: function (x) {
                x = parseInt(x), this.visibleFloorNums = [x], this[_0x4e57("0x37c")] = x
            }
        }, {
            key: "coordMapToScreen", value: function (x, e, _) {
                var t = this.currentCamera_,
                    i = new THREE.Vector3(-x - this.mapScene[_0x4e57("0xea")], _, e - this[_0x4e57("0xe4")][_0x4e57("0xeb")]);
                i[_0x4e57("0x47c")](t);
                var a = this[_0x4e57("0xe5")][_0x4e57("0x47d")], n = this[_0x4e57("0xe5")].h_2_;
                return new esmap.ESScreenCoord(i.x * a + a, n - i.y * n)
            }
        }, {
            key: _0x4e57("0x47e"), value: function (x) {
                var e = new THREE.Vector3;
                e[_0x4e57("0x47f")](x[_0x4e57("0x11a")]), e.project(this[_0x4e57("0x3ae")]);
                var _ = e.x * this.mapView.w_2_, t = e.y * this[_0x4e57("0xe5")][_0x4e57("0x480")];
                return {x: _ + this[_0x4e57("0xe5")][_0x4e57("0x47d")], y: -t + this[_0x4e57("0xe5")][_0x4e57("0x480")]}
            }
        }, {
            key: "addPopInfoWin", value: function (x) {
                var e = new (esmap[_0x4e57("0x481")])(this, x);
                return this[_0x4e57("0xda")][_0x4e57("0xf")](e), e
            }
        }, {
            key: "removePopInfoWin", value: function (x) {
                x && x.close()
            }
        }, {
            key: _0x4e57("0x482"), value: function () {
                for (var x = 0, e = this[_0x4e57("0xda")][_0x4e57("0x0")]; x < e; x++) this[_0x4e57("0xda")][x][_0x4e57("0x483")]();
                this[_0x4e57("0xda")] = []
            }
        }, {
            key: "lineStyle", set: function (x) {
                x[_0x4e57("0x1")](_0x4e57("0x1df")) && (this.mapTheme[_0x4e57("0x3e3")][_0x4e57("0x1df")] = x[_0x4e57("0x1df")]), x[_0x4e57("0x1")](_0x4e57("0x484")) && (this[_0x4e57("0x3a6")].navigateStyle_[_0x4e57("0x484")] = x[_0x4e57("0x484")]), x[_0x4e57("0x1")]("alpha") && (this[_0x4e57("0x3a6")].navigateStyle_[_0x4e57("0x485")] = x.alpha), x[_0x4e57("0x1")]("alpha") && (this[_0x4e57("0x3a6")][_0x4e57("0x3e3")][_0x4e57("0x485")] = x[_0x4e57("0x485")]), x[_0x4e57("0x1")](_0x4e57("0xa2")) && x[_0x4e57("0xa2")].hasOwnProperty(_0x4e57("0x486")) && (this[_0x4e57("0x3a6")][_0x4e57("0x3e3")][_0x4e57("0xa2")][_0x4e57("0x486")] = x.dash[_0x4e57("0x486")]), x[_0x4e57("0x1")]("dash") && x[_0x4e57("0xa2")].hasOwnProperty(_0x4e57("0x487")) && (this[_0x4e57("0x3a6")][_0x4e57("0x3e3")].dash[_0x4e57("0x487")] = x.dash[_0x4e57("0x487")])
            }, get: function () {
                return this.mapTheme[_0x4e57("0x3e3")]
            }
        }, {
            key: _0x4e57("0x35e"), get: function () {
                return this[_0x4e57("0xe4")][_0x4e57("0x488")]
            }
        }, {
            key: _0x4e57("0x35d"), get: function () {
                return this[_0x4e57("0xe4")][_0x4e57("0x489")]
            }
        }, {
            key: _0x4e57("0x364"), get: function () {
                return this.mapScene[_0x4e57("0x48a")]
            }
        }, {
            key: "maxY", get: function () {
                return this[_0x4e57("0xe4")][_0x4e57("0x48b")]
            }
        }, {
            key: _0x4e57("0x48c"), set: function (x) {
                this[_0x4e57("0xf0")][_0x4e57("0x48c")] = x
            }
        }, {
            key: "mapThemeSrc", set: function (x) {
                this[_0x4e57("0xf0")][_0x4e57("0x48d")] = x
            }
        }, {
            key: _0x4e57("0x425"), get: function () {
                return this[_0x4e57("0xd9")][_0x4e57("0xf5")].getCurrentScaleLevel()
            }, set: function (x) {
                x < this[_0x4e57("0x14e")] ? x = this[_0x4e57("0x14e")] : x > this[_0x4e57("0x19b")] && (x = this[_0x4e57("0x19b")]), this[_0x4e57("0x14b")] = Math[_0x4e57("0x48e")](x), this[_0x4e57("0xd9")][_0x4e57("0x145")](this[_0x4e57("0x143")][this[_0x4e57("0x14b")]])
            }
        }, {
            key: _0x4e57("0x423"), get: function () {
                return this.minScaleLevel_
            }, set: function (x) {
                this[_0x4e57("0x14e")] = x
            }
        }, {
            key: _0x4e57("0x3fc"), get: function () {
                return this[_0x4e57("0x19b")]
            }, set: function (x) {
                this[_0x4e57("0x19b")] = x
            }
        }, {
            key: "scaleLevelValue", get: function () {
                return this[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0x13a")]()
            }, set: function (x) {
                this[_0x4e57("0xd9")].constraint[_0x4e57("0x145")](x)
            }
        }, {
            key: _0x4e57("0x48f"), get: function () {
                return this[_0x4e57("0x3ab")][_0x4e57("0x3d0")].compassOffset
            }, set: function (x) {
                var e = this.compass_[_0x4e57("0x3d0")][_0x4e57("0x48f")];
                this.compass_.spriteBg_[_0x4e57("0xe7")].x = this[_0x4e57("0x3ab")].spriteBg_.position.x - e[0] + x[0], this[_0x4e57("0x3ab")][_0x4e57("0x490")][_0x4e57("0xe7")].y = this[_0x4e57("0x3ab")][_0x4e57("0x490")].position.y + e[1] - x[1], this.compass_[_0x4e57("0x491")].position.x = this[_0x4e57("0x3ab")][_0x4e57("0x491")].position.x - e[0] + x[0], this.compass_[_0x4e57("0x491")][_0x4e57("0xe7")].y = this[_0x4e57("0x3ab")][_0x4e57("0x491")].position.y + e[1] - x[1], this[_0x4e57("0x3ab")][_0x4e57("0x3d0")].compassOffset = x
            }
        }, {
            key: "compassSize", get: function () {
                return this.compass_[_0x4e57("0x490")][_0x4e57("0x114")].x
            }, set: function (x) {
                this[_0x4e57("0x3ab")][_0x4e57("0x490")][_0x4e57("0x114")].x = x, this[_0x4e57("0x3ab")][_0x4e57("0x490")].scale.y = x, this[_0x4e57("0x3ab")].spritePt_.scale.x = x, this[_0x4e57("0x3ab")].spritePt_[_0x4e57("0x114")].y = x
            }
        }, {
            key: "center", get: function () {
                return {x: -this[_0x4e57("0xe4")][_0x4e57("0xea")], y: this[_0x4e57("0xe4")][_0x4e57("0xeb")]}
            }
        }, {
            key: _0x4e57("0x123"), get: function () {
                return this[_0x4e57("0xd9")][_0x4e57("0x123")] * THREE[_0x4e57("0x141")][_0x4e57("0x492")]
            }, set: function (x) {
                this[_0x4e57("0xd9")][_0x4e57("0x123")] = x * THREE[_0x4e57("0x141")][_0x4e57("0x463")], this[_0x4e57("0xd9")][_0x4e57("0x65")]()
            }
        }, {
            key: _0x4e57("0x493"), get: function () {
                return new (THREE[_0x4e57("0x11b")])(this[_0x4e57("0xe4")][_0x4e57("0xea")], 0, this[_0x4e57("0xe4")].sceneZ_)
            }
        }, {
            key: _0x4e57("0xf4"), set: function (_) {
                if (!this[_0x4e57("0x394")]) {
                    var x = null, t = null;
                    if (_0x4e57("0x9") == (typeof _ === _0x4e57("0x15") ? _0x4e57("0x15") : (0, c[_0x4e57("0xa")])(_)) && (x = _[_0x4e57("0xef")], t = _[_0x4e57("0xf1")], _ = _.mode), _ != this[_0x4e57("0x3ad")]) {
                        var i = this;
                        i[_0x4e57("0x394")] = !0;
                        var a = this[_0x4e57("0xe5")].camera, n = this[_0x4e57("0xe5")][_0x4e57("0x14c")];
                        "3d" == this[_0x4e57("0x3ad")] ? (i[_0x4e57("0x393")] = i[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0xf7")](), em.Tween[_0x4e57("0x20b")](null != x ? x : i[_0x4e57("0xf0")][_0x4e57("0x495")] ? i[_0x4e57("0xf0")][_0x4e57("0x496")] : 0, function (x) {
                            i[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0x65")]({forcePhi: i[_0x4e57("0x393")] - i[_0x4e57("0x393")] * x}), i.requireUpdateCollide_ = !0
                        }, null, function () {
                            var x, e;
                            i.controls[_0x4e57("0xf5")][_0x4e57("0x9")] = i[_0x4e57("0xe5")].cameraTop, i[_0x4e57("0xd9")][_0x4e57("0x122")] = 0, i[_0x4e57("0xd9")][_0x4e57("0x123")] = 0, i[_0x4e57("0x3ae")] = i.mapView[_0x4e57("0x14c")], i[_0x4e57("0xd9")].update({
                                forceTheta: i[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0xf6")]() + Math.PI,
                                notChangeCompass: !0
                            }), x = i, e = esmap[_0x4e57("0x7d")][_0x4e57("0x153")](a, x[_0x4e57("0xd9")]), n[_0x4e57("0x136")] = 1, n[_0x4e57("0x135")] = -e[_0x4e57("0x134")], n[_0x4e57("0x134")] = e.right, n[_0x4e57("0xa9")] = e[_0x4e57("0xa9")], n[_0x4e57("0x137")] = -e[_0x4e57("0xa9")], n[_0x4e57("0x14d")](), _ && (x[_0x4e57("0x3ad")] = _), x[_0x4e57("0x394")] = !1, t && t(i[_0x4e57("0x3ad")]), i[_0x4e57("0x149")](_0x4e57("0x497"), i.viewMode_)
                        })) : (i[_0x4e57("0xd9")].constraint[_0x4e57("0x9")] = i.mapView[_0x4e57("0xe6")], i[_0x4e57("0xd9")].minPolarAngle = 0, i.controls[_0x4e57("0x123")] = Math.PI / 2.5, i[_0x4e57("0x3ae")] = i[_0x4e57("0xe5")].camera, i[_0x4e57("0xd9")][_0x4e57("0x65")]({
                            forceTheta: i[_0x4e57("0xd9")][_0x4e57("0xf5")][_0x4e57("0xf6")]() + Math.PI,
                            notChangeCompass: !0
                        }), em[_0x4e57("0xee")][_0x4e57("0x20b")](null != x ? x : i.options[_0x4e57("0x495")] ? i.options.viewModeAnimateTime : 0, function (x) {
                            i[_0x4e57("0xd9")][_0x4e57("0xf5")].update({forcePhi: i[_0x4e57("0x393")] * x}), i[_0x4e57("0x3b0")] = !0
                        }, null, function () {
                            t && t(i[_0x4e57("0x3ad")]), i[_0x4e57("0x394")] = !1
                        }), e = i, g = n[_0x4e57("0x136")], r = e[_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0x494")](a[_0x4e57("0xe7")]), A = a.position[_0x4e57("0xe8")]()[_0x4e57("0xec")](e[_0x4e57("0xd9")][_0x4e57("0xe9")])[_0x4e57("0x12f")](), a[_0x4e57("0xe7")].copy(e[_0x4e57("0xd9")][_0x4e57("0xe9")].clone()[_0x4e57("0x28")](A[_0x4e57("0xf3")](r / g))), a[_0x4e57("0x14d")](), e[_0x4e57("0x3ad")] = _, i[_0x4e57("0x149")]("viewModeChanged", i[_0x4e57("0x3ad")])), this[_0x4e57("0x44a")] = 0
                    }
                }
                var e, g, r, A
            }, get: function () {
                return this.viewMode_
            }
        }, {
            key: _0x4e57("0x404"), set: function (x) {
                var f = this;
                if (x != this.mapTheme[_0x4e57("0x498")]) {
                    if (f[_0x4e57("0x3a6")].themeName_ = x, !f[_0x4e57("0x3cd")]) return;
                    f[_0x4e57("0x3a6")].themeID_ = x, f[_0x4e57("0x10e")].queryThemeV2(x, function (x) {
                        f[_0x4e57("0x3a6")][_0x4e57("0x37")] = x, f[_0x4e57("0x499")](f.mapTheme[_0x4e57("0x405")], f[_0x4e57("0x3a6")][_0x4e57("0x406")]);
                        var h = f.mapTheme.themeList_;
                        f[_0x4e57("0xe4")][_0x4e57("0x44d")][_0x4e57("0x49a")](function (x) {
                            if (x.datas_) {
                                var e = h[x[_0x4e57("0x382")][_0x4e57("0x49b")]];
                                switch (x[_0x4e57("0x382")][_0x4e57("0x419")]) {
                                    case esmap[_0x4e57("0x9a")][_0x4e57("0x49c")]:
                                        if (!e) return;
                                        x.material[_0x4e57("0x1df")] = new (THREE[_0x4e57("0x203")])(e[_0x4e57("0x49d")]), x[_0x4e57("0x7c")][_0x4e57("0x49e")] = e.strokewidth;
                                        break;
                                    case esmap.ESNodeType[_0x4e57("0x49f")]:
                                        var _ = f[_0x4e57("0x3a6")].floorColor_, t = f.mapTheme[_0x4e57("0x4a0")];
                                        if (x.parent.parent && x[_0x4e57("0x66")][_0x4e57("0x66")][_0x4e57("0x382")] instanceof esmap.ESFloorManager) {
                                            var i = x[_0x4e57("0x66")][_0x4e57("0x66")].datas_[_0x4e57("0x383")][_0x4e57("0x429")],
                                                a = f[_0x4e57("0x3a6")][_0x4e57("0x4a1")][i] || f[_0x4e57("0x3a6")][_0x4e57("0x4a1")][0];
                                            if (a) if (_ = a.color, t = a[_0x4e57("0x2f1")], a.image) {
                                                var n = x[_0x4e57("0x7c")][_0x4e57("0x2e9")] ? x.material[_0x4e57("0x2e9")][0] : x[_0x4e57("0x7c")],
                                                    g = new (THREE[_0x4e57("0x386")])([n, n[_0x4e57("0xe8")]()]),
                                                    r = g[_0x4e57("0x2e9")][0], A = g[_0x4e57("0x2e9")][1];
                                                A[_0x4e57("0x1df")] = new (THREE[_0x4e57("0x203")])(_), A.opacity = t;
                                                var s = f[_0x4e57("0x3a6")][_0x4e57("0x4a2")][a.image.replace(".png", "")].material_[_0x4e57("0x5a")];
                                                s[_0x4e57("0x2e7")] = s.wrapT = THREE.RepeatWrapping;
                                                var C = (f[_0x4e57("0x35d")] - f.minX) / (f[_0x4e57("0x35f")] - f[_0x4e57("0x364")]),
                                                    I = a.imagesize[_0x4e57("0x464")](",");
                                                s[_0x4e57("0x4a3")][_0x4e57("0x115")](I[0] * C, I[1]), r[_0x4e57("0x5a")] = s, r[_0x4e57("0x1df")].set(16777215), s[_0x4e57("0x7f")] = !0, r.needsUpdate = !0, x[_0x4e57("0x7c")] = g
                                            } else x[_0x4e57("0x7c")][_0x4e57("0x2e9")] ? (x[_0x4e57("0x7c")][_0x4e57("0x2e9")][0][_0x4e57("0x5a")][_0x4e57("0x1a8")](), x[_0x4e57("0x7c")][_0x4e57("0x2e9")][0][_0x4e57("0x5a")] = void 0, x[_0x4e57("0x7c")] = x[_0x4e57("0x7c")][_0x4e57("0x2e9")][1], x[_0x4e57("0x7c")].color = new (THREE[_0x4e57("0x203")])(_)) : x.material[_0x4e57("0x1df")] = new THREE.Color(_), x[_0x4e57("0x7c")].opacity = t
                                        }
                                        break;
                                    case esmap[_0x4e57("0x9a")][_0x4e57("0x3c2")]:
                                        var o = x[_0x4e57("0x382")][_0x4e57("0x388")][0].data_[_0x4e57("0x4a4")];
                                        if (!(e = h[o])) return;
                                        var c = e[_0x4e57("0x1df")];
                                        if (_0x4e57("0xb") == typeof c && (c = esmap.ESMapUtil[_0x4e57("0x3eb")](e[_0x4e57("0x1df")])), x.material[_0x4e57("0x1df")]) x[_0x4e57("0x7c")][_0x4e57("0x1df")] = new (THREE[_0x4e57("0x203")])(c), x.material[_0x4e57("0x2f1")] = e[_0x4e57("0x485")] || 1, x[_0x4e57("0x7c")][_0x4e57("0x7f")] = !0; else for (var l = x.material[_0x4e57("0x2e9")], u = 0; u < l.length - 1; u++) l[u][_0x4e57("0x1df")] = new (THREE[_0x4e57("0x203")])(c), l[u][_0x4e57("0x2f1")] = e[_0x4e57("0x485")] || 1, l[u][_0x4e57("0x7f")] = !0;
                                        break;
                                    case esmap[_0x4e57("0x9a")][_0x4e57("0x4a5")]:
                                        if (!e) return;
                                        x[_0x4e57("0x7c")][_0x4e57("0x5a")] = e.material_[_0x4e57("0x5a")], x.material.opacity = e[_0x4e57("0x485")] || 1;
                                        break;
                                    case esmap.ESNodeType[_0x4e57("0x4a6")]:
                                        x[_0x4e57("0x4a7")](f[_0x4e57("0x3a6")][_0x4e57("0x4a8")]);
                                        break;
                                    case esmap.ESNodeType[_0x4e57("0x3c5")]:
                                        x.updateStyle(x.datas_[_0x4e57("0x4a9")]);
                                        break;
                                    case esmap[_0x4e57("0x9a")].ELEMENT:
                                        _0x4e57("0x89") == x[_0x4e57("0x3ee")] && x.datas_[_0x4e57("0x4a7")]()
                                }
                            }
                        }), f.focusFloorNum = f[_0x4e57("0xe3")]
                    })
                }
            }, get: function () {
                return this[_0x4e57("0x3a6")][_0x4e57("0x498")]
            }
        }, {
            key: _0x4e57("0x427"), get: function () {
                return this.mapScene.mapSceneData[_0x4e57("0x43c")]
            }
        }, {
            key: _0x4e57("0x37c"), set: function (_) {
                if (!this.isNaviAnimating) {
                    var t = null, i = this;
                    _0x4e57("0x9") == (typeof _ === _0x4e57("0x15") ? _0x4e57("0x15") : (0, c[_0x4e57("0xa")])(_)) && (_ = null == (t = _)[_0x4e57("0x429")] ? _[_0x4e57("0x3e8")] : _.floornum), this[_0x4e57("0xe4")][_0x4e57("0xf9")][_] ? (this[_0x4e57("0x46a")](_, t), this[_0x4e57("0x149")]("focusFloorNumChanged", _)) : this.on("floorLoaded", function x(e) {
                        e == _ && (i.off(_0x4e57("0x4aa"), x), i[_0x4e57("0x46a")](_, t), i[_0x4e57("0x149")](_0x4e57("0x4ab"), _))
                    })
                }
            }, get: function () {
                return this[_0x4e57("0xe3")]
            }
        }, {
            key: _0x4e57("0x3e2"), get: function () {
                return this[_0x4e57("0x3b7")]
            }, set: function (e) {
                if (0 < e.length) {
                    for (var x in this.visibleFloorNums_ = e, this[_0x4e57("0xe5")][_0x4e57("0x1da")].children[_0x4e57("0x60")](function (x) {
                        x[_0x4e57("0x382")] instanceof esmap.ESLocationMarker && -1 < e[_0x4e57("0x41")](x[_0x4e57("0x382")].floornum) && (x[_0x4e57("0x382")][_0x4e57("0x3da")] = !0)
                    }), this[_0x4e57("0xe4")][_0x4e57("0xf9")]) {
                        var _ = this[_0x4e57("0xe4")][_0x4e57("0xf9")][x];
                        _.visible = 0 <= e[_0x4e57("0x41")](_[_0x4e57("0x440")][_0x4e57("0x429")])
                    }
                    var t = !1;
                    e.length == this[_0x4e57("0x3ec")][_0x4e57("0x0")] && (t = !0), this[_0x4e57("0x149")](_0x4e57("0x4ac"), e, t)
                }
            }
        }, {
            key: "backgroundColor", set: function (x) {
                this.mapView[_0x4e57("0x1c2")][_0x4e57("0x1f0")](parseInt(x))
            }
        }, {
            key: _0x4e57("0x4ad"), set: function (x) {
                x != this[_0x4e57("0x3ab")].visible && (this[_0x4e57("0x3ab")][_0x4e57("0x3da")] = x)
            }, get: function () {
                return this[_0x4e57("0x3ab")].visible
            }
        }, {
            key: _0x4e57("0x4ae"), set: function (x) {
                x != this[_0x4e57("0x147")][_0x4e57("0x3da")] && (this[_0x4e57("0x147")][_0x4e57("0x3da")] = x)
            }, get: function () {
                return this[_0x4e57("0x147")][_0x4e57("0x3da")]
            }
        }, {
            key: "location", get: function () {
                return this[_0x4e57("0x3b1")]
            }
        }, {
            key: _0x4e57("0x4af"), get: function () {
                return this.mapView[_0x4e57("0x4b0")][_0x4e57("0x34e")]
            }, set: function (x) {
                this[_0x4e57("0xe5")][_0x4e57("0x4b0")][_0x4e57("0x34e")] = x
            }
        }, {
            key: "lightAngleX", get: function () {
                return this[_0x4e57("0xe5")][_0x4e57("0x4b1")]
            }, set: function (x) {
                this[_0x4e57("0xe5")][_0x4e57("0x4b1")] = x
            }
        }, {
            key: "lightAngleY", get: function () {
                return this.mapView.shadowAngleY
            }, set: function (x) {
                this[_0x4e57("0xe5")][_0x4e57("0x4b2")] = x
            }
        }, {
            key: "floorNames", get: function () {
                return this.mapService[_0x4e57("0x108")][_0x4e57("0x4b3")][_0x4e57("0x464")](",") || null
            }
        }, {
            key: "floorNums", get: function () {
                return this[_0x4e57("0x3b3")]
            }, set: function (x) {
                this.floorNums_ = x
            }
        }, {
            key: _0x4e57("0x4b4"), get: function () {
                return this[_0x4e57("0x10e")].sourceData[_0x4e57("0x269")]
            }
        }, {
            key: _0x4e57("0x4b5"), get: function () {
                return this[_0x4e57("0x10e")].sourceData[_0x4e57("0x4b6")]
            }
        }, {
            key: "tiltAngle", get: function () {
                return this[_0x4e57("0xd9")][_0x4e57("0xf5")].getPolarAngle() * THREE.Math[_0x4e57("0x492")]
            }, set: function (x) {
                (x = x * Math.PI / 180) < this.controls[_0x4e57("0x122")] && (x = this[_0x4e57("0xd9")][_0x4e57("0x122")]), x > this[_0x4e57("0xd9")][_0x4e57("0x123")] && (x = this[_0x4e57("0xd9")][_0x4e57("0x123")]), this[_0x4e57("0xd9")][_0x4e57("0x65")]({forcePhi: x}), this[_0x4e57("0x44a")] = 0
            }
        }, {
            key: "rotateAngle", get: function () {
                var x = this.controls[_0x4e57("0xf5")][_0x4e57("0xf6")]();
                return ("3d" == this[_0x4e57("0xf4")] ? Math.PI - x : -x) * THREE.Math.RAD2DEG
            }, set: function (x) {
                x = -x * THREE[_0x4e57("0x141")][_0x4e57("0x463")], this[_0x4e57("0xd9")][_0x4e57("0x65")]({forceTheta: x + ("3d" == this.viewMode ? Math.PI : 0)}), this.updateCountDown_ = 0
            }
        }, {
            key: _0x4e57("0x4b7"), get: function () {
                return this.mapService[_0x4e57("0x108")][_0x4e57("0x4b8")]
            }
        }, {
            key: _0x4e57("0x112"), get: function () {
                return this.mapView.w_
            }
        }, {
            key: _0x4e57("0x1c5"), get: function () {
                return this.mapView.h_
            }
        }]), e
    }();
    g[_0x4e57("0x4b9")] = !0, g[_0x4e57("0x4ba")] = !1, e[_0x4e57("0xa")] = g
}, , , , function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x)
        }

        return (0, i[_0x4e57("0xa")])(x, [{
            key: _0x4e57("0xaf"), value: function (x) {
                var e = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                e[_0x4e57("0x4bb")] = _0x4e57("0x4bc"), e[_0x4e57("0x6f")](_0x4e57("0x4bd"), "noWebGL"), x[_0x4e57("0x235")](e)
            }
        }]), x
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x)
        }

        return (0, i.default)(x, null, [{
            key: _0x4e57("0x39e"), value: function (i) {
                var a = {};
                return i.on = function (x, e) {
                    return (a[x] = a[x] || [])[_0x4e57("0xf")](e), i
                }, i[_0x4e57("0x4be")] = function (x, e) {
                    function _() {
                        e[_0x4e57("0x4")](i.off(x, _), arguments)
                    }

                    return _.h = e, i.on(x, _)
                }, i.off = function (x, e) {
                    for (var _ = a[x], t = 0; e && _ && _[t]; t++) _[t] != e && _[t].h != e || _.splice(t--, 1);
                    return t || delete a[x], i
                }, i.emit = function (x) {
                    for (var e = a[x], _ = 0; e && e[_];) e[_++][_0x4e57("0x4")](i, e[_0x4e57("0x10")][_0x4e57("0x2")](arguments, 1));
                    return i
                }, i
            }
        }]), x
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x), this[_0x4e57("0x3b8")] = new (THREE[_0x4e57("0x4bf")])
        }

        return (0, i[_0x4e57("0xa")])(x, [{
            key: _0x4e57("0x24b"), value: function (x, a) {
                this.loader[_0x4e57("0x24b")](x, function (x, e) {
                    var _;
                    if ((_ = 1 < e[_0x4e57("0x0")] ? new (THREE[_0x4e57("0x386")])(e) : e[0])[_0x4e57("0x2e9")]) for (var t = 0; t < _.materials[_0x4e57("0x0")]; t++) 1 != _.materials[t][_0x4e57("0x2f1")] && (_[_0x4e57("0x2e9")][t][_0x4e57("0x307")] = !1);
                    var i = new (THREE[_0x4e57("0x10d")])(x, _);
                    a && a(i)
                })
            }
        }, {
            key: _0x4e57("0x4c0"), value: function (x) {
                this[_0x4e57("0x3b8")][_0x4e57("0x4c0")](x)
            }
        }]), x
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var g = i(_(0)), t = i(_(1));

    function i(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var a = function () {
        function n(x) {
            (0, g[_0x4e57("0xa")])(this, n), this[_0x4e57("0x5a")] = x;
            var e = esmap[_0x4e57("0x7d")].getPlatform();
            this[_0x4e57("0x4c1")] = !1, this[_0x4e57("0x4c2")] = new (THREE[_0x4e57("0x1c1")])(x[_0x4e57("0xe5")][_0x4e57("0x1c2")]), this.composerOrtho = new (THREE[_0x4e57("0x1c1")])(x[_0x4e57("0xe5")][_0x4e57("0x1c2")]), this[_0x4e57("0x114")] = (e[_0x4e57("0x4c3")], 2), this[_0x4e57("0x4c4")] = {
                width: x[_0x4e57("0xe5")].w_,
                height: x.mapView.h_
            };
            var _ = new (THREE[_0x4e57("0x1e8")])(x[_0x4e57("0xe5")][_0x4e57("0x1da")], x[_0x4e57("0xe5")][_0x4e57("0xe6")]);
            this[_0x4e57("0x4c2")].addPass(_), this.fxaaPass = new (THREE[_0x4e57("0x1cb")])(THREE.FXAAShader), this.composer[_0x4e57("0x4c5")](this.fxaaPass);
            var t = new (THREE[_0x4e57("0x1cb")])(THREE.CopyShader);
            t.renderToScreen = !0, this[_0x4e57("0x4c2")][_0x4e57("0x4c5")](t);
            var i = new (THREE[_0x4e57("0x1e8")])(x[_0x4e57("0xe5")][_0x4e57("0x1da")], x[_0x4e57("0xe5")][_0x4e57("0x14c")]),
                a = new (THREE[_0x4e57("0x1cb")])(THREE[_0x4e57("0x1b9")]);
            a[_0x4e57("0x1d8")] = !0, this.composerOrtho.addPass(i), this[_0x4e57("0x4c6")][_0x4e57("0x4c5")](a), this[_0x4e57("0x4c7")](this.scale)
        }

        return (0, t[_0x4e57("0xa")])(n, [{
            key: "render", value: function () {
                this[_0x4e57("0x5d")] ? this[_0x4e57("0x4c2")][_0x4e57("0x1ce")](this[_0x4e57("0x5a")][_0x4e57("0x3b4")].getDelta()) : this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x1c2")].render(this[_0x4e57("0x5a")][_0x4e57("0xe5")].scene, this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xe6")])
            }
        }, {
            key: _0x4e57("0x4c8"), value: function () {
                this[_0x4e57("0x5d")] ? this[_0x4e57("0x4c6")][_0x4e57("0x1ce")](this[_0x4e57("0x5a")][_0x4e57("0x3b4")].getDelta()) : this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0x1c2")].render(this[_0x4e57("0x5a")][_0x4e57("0xe5")].scene, this[_0x4e57("0x5a")].mapView[_0x4e57("0x14c")])
            }
        }, {
            key: _0x4e57("0x4c7"), value: function (x) {
                this[_0x4e57("0x114")] = x, this[_0x4e57("0x486")] = {
                    width: this[_0x4e57("0x4c4")][_0x4e57("0x112")] * this.scale,
                    height: this.originSize[_0x4e57("0x1c5")] * this.scale
                }
            }
        }, {
            key: _0x4e57("0x4c9"), value: function (x, e) {
                this.originSize.width = x, this.originSize[_0x4e57("0x1c5")] = e, this.setScale(this[_0x4e57("0x114")])
            }
        }, {
            key: _0x4e57("0x486"), get: function () {
                return {
                    width: this.composer[_0x4e57("0x1c6")][_0x4e57("0x112")],
                    height: this.composer[_0x4e57("0x1c6")].height
                }
            }, set: function (x) {
                this.composer[_0x4e57("0x1cd")](x[_0x4e57("0x112")], x[_0x4e57("0x1c5")]), this[_0x4e57("0x4c6")][_0x4e57("0x1cd")](x[_0x4e57("0x112")], x[_0x4e57("0x1c5")]), this[_0x4e57("0x4ca")].uniforms[_0x4e57("0x4cb")][_0x4e57("0x259")][_0x4e57("0x115")](1 / x[_0x4e57("0x112")], 1 / x[_0x4e57("0x1c5")])
            }
        }, {
            key: _0x4e57("0x5d"), get: function () {
                return this[_0x4e57("0x4c1")]
            }, set: function (x) {
                this[_0x4e57("0x4c1")] = x
            }
        }]), n
    }();
    e[_0x4e57("0xa")] = a
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(0)), a = t(_(1));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = {dataUrlPrefix: _0x4e57("0x4cc"), themeUrlPrefix: _0x4e57("0x4cd")}, g = function () {
        function t(x) {
            (0, i[_0x4e57("0xa")])(this, t), this[_0x4e57("0x48c")] = n.dataUrlPrefix, this.mapThemeSrc = n[_0x4e57("0x4ce")], this.container = document[_0x4e57("0x1e")], this[_0x4e57("0x48f")] = [10, 20], this[_0x4e57("0x4cf")] = 64, this.scalerOffet = [10, 40], this[_0x4e57("0x4d0")] = "60", this[_0x4e57("0x4d1")] = _0x4e57("0x4d2"), this[_0x4e57("0x4d3")] = _0x4e57("0x4d4"), this.callbackByFloor = null, this[_0x4e57("0x403")] = 0, this.focusAnimateMode = !0, this[_0x4e57("0x4d5")] = .3, this.focusAlphaMode = !0, this[_0x4e57("0x445")] = .4, this.audioMode = 0, this.viewModeAnimateMode = !0, this[_0x4e57("0x496")] = .3, this[_0x4e57("0x4d6")] = !0, this[_0x4e57("0x4d7")] = .3, this[_0x4e57("0x4d8")] = !0, this[_0x4e57("0x40a")] = !0, this[_0x4e57("0x41b")] = !0, this[_0x4e57("0x423")] = 0, this[_0x4e57("0x3fc")] = null, this[_0x4e57("0x424")] = null, this.minViewDistance = 20, this[_0x4e57("0x42b")] = null, this.focusFloor = null, this[_0x4e57("0xf4")] = "3d", this.shadowEnabled = !1, this[_0x4e57("0x4d9")] = 45, this[_0x4e57("0x4da")] = 45, this[_0x4e57("0x4db")] = 2048, this[_0x4e57("0x4dc")] = .6, this[_0x4e57("0x4dd")] = !0, this[_0x4e57("0x19d")] = .04, this.controlsScaleThreshold = .05, this[_0x4e57("0x461")] = null, this[_0x4e57("0x45d")] = null, this[_0x4e57("0x465")] = 180, this[_0x4e57("0x466")] = null, this[_0x4e57("0x4de")] = 0, this[_0x4e57("0x4df")] = 0, this[_0x4e57("0x4e0")] = 1, this[_0x4e57("0x4e1")] = 1, this.loadLabel = 1, this.onlineServer = null, this[_0x4e57("0x4e2")] = null, this[_0x4e57("0x4e3")] = !1, this.perspective = !1, this[_0x4e57("0x4e4")] = !1, this[_0x4e57("0x4e5")] = esmap[_0x4e57("0x4e6")][_0x4e57("0x4e7")], this[_0x4e57("0x4e8")] = !0, this[_0x4e57("0x4e9")] = !0, this[_0x4e57("0x4ea")] = !1, this.compassAngle = 0;
            var e = esmap[_0x4e57("0x7d")].getPlatform()[_0x4e57("0x4c3")];
            if (this[_0x4e57("0x48f")] = e ? this[_0x4e57("0x48f")] : [5, 5], this[_0x4e57("0x4cf")] = e ? this[_0x4e57("0x4cf")] : 30, this[_0x4e57("0x4d0")] = e ? this[_0x4e57("0x4d0")] : "50", x) for (var _ in x) this[_] = x[_]
        }

        return (0, a[_0x4e57("0xa")])(t, [{
            key: _0x4e57("0x1a6"), value: function () {
            }
        }]), t
    }();
    e[_0x4e57("0xa")] = g
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = {}, g = function () {
        function x() {
            (0, t.default)(this, x), this[_0x4e57("0x35a")] = null, this.raycaster_ = new (THREE[_0x4e57("0x478")]), this.compassRaycaster_ = new (THREE[_0x4e57("0x478")]), this[_0x4e57("0x4eb")] = null, this.objects_ = [], this[_0x4e57("0x413")] = !1, this.propogation = !1, this.container = null, this[_0x4e57("0x4ec")] = !0, this[_0x4e57("0x4ed")] = {
                levelFrom: null,
                levelTo: null,
                scale_offset: null,
                cameraFrom: null,
                cameraTo: null,
                position: null
            }, em[_0x4e57("0xb1")][_0x4e57("0x39e")](this), this[_0x4e57("0x4c3")] = esmap[_0x4e57("0x7d")].getPlatform()[_0x4e57("0x4c3")], this[_0x4e57("0x3b4")] = new (THREE[_0x4e57("0x3b5")])
        }

        return (0, i[_0x4e57("0xa")])(x, [{
            key: _0x4e57("0x1a8"), value: function () {
                this.dom_[_0x4e57("0x189")](_0x4e57("0x1b0"), n[_0x4e57("0x1b0")]), this.dom_[_0x4e57("0x189")]("mousemove", n.mousemove), this[_0x4e57("0x4ee")].removeEventListener(_0x4e57("0x17d"), n.mouseup), this[_0x4e57("0x4ee")].removeEventListener("touchstart", n.mousedown), this[_0x4e57("0x4ee")].removeEventListener(_0x4e57("0x1b1"), n.mousemove), this.dom_[_0x4e57("0x189")]("touchend", n.mouseup), this[_0x4e57("0x3dd")] = [], n = {}
            }
        }, {
            key: _0x4e57("0x62"), value: function (x, e) {
                this[_0x4e57("0x35a")] = x, this[_0x4e57("0xad")] = x[_0x4e57("0xe5")].container_, n[_0x4e57("0x1b0")] = this[_0x4e57("0x4ef")].bind(this), n[_0x4e57("0x17c")] = this[_0x4e57("0x4f0")].bind(this), n[_0x4e57("0x17d")] = this[_0x4e57("0x4f1")][_0x4e57("0xc")](this), this[_0x4e57("0x4ee")] = e, this[_0x4e57("0x413")] || (this[_0x4e57("0x413")] = !0, e[_0x4e57("0x1af")]("mousedown", n[_0x4e57("0x1b0")]), e[_0x4e57("0x1af")](_0x4e57("0x17c"), n.mousemove), e[_0x4e57("0x1af")]("mouseup", n[_0x4e57("0x17d")]), e.addEventListener(_0x4e57("0x1ac"), n[_0x4e57("0x1b0")]), e.addEventListener(_0x4e57("0x1b1"), n.mousemove), e[_0x4e57("0x1af")](_0x4e57("0x1ad"), n.mouseup)), this[_0x4e57("0x3dd")] = []
            }
        }, {
            key: "addModel", value: function (x) {
                x[_0x4e57("0x3de")] = _0x4e57("0x4f2"), this[_0x4e57("0x3dd")][_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x4f3"), value: function (x) {
                x[_0x4e57("0x3de")] = _0x4e57("0x4f4"), this[_0x4e57("0x3dd")][_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x4f5"), value: function () {
                if (this[_0x4e57("0x4eb")] && this.map_.gestureController.enableCompassTap) {
                    if (this[_0x4e57("0x4f6")][_0x4e57("0x479")](this[_0x4e57("0x4eb")], this[_0x4e57("0x35a")].mapView[_0x4e57("0x4f7")]), !this.map_[_0x4e57("0x3ab")].spriteBg_) return;
                    0 < this[_0x4e57("0x4f6")][_0x4e57("0x47a")](this[_0x4e57("0x35a")][_0x4e57("0x3ab")].spriteBg_)[_0x4e57("0x0")] && (this.map_[_0x4e57("0x39a")]({
                        to: this[_0x4e57("0x35a")].options.compassAngle,
                        duration: .3,
                        callback: function () {
                        }
                    }), this[_0x4e57("0x35a")].emit(_0x4e57("0x4f8")))
                }
            }
        }, {
            key: _0x4e57("0x4f9"), value: function (x) {
                var e;
                x = [].concat(x), e = this[_0x4e57("0x3dd")];
                for (var _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                    var t = e[_];
                    -1 < x[_0x4e57("0x41")](t) && (e[_0x4e57("0x63")](_, 1), _--)
                }
            }
        }, {
            key: _0x4e57("0x470"), value: function (x) {
                x[_0x4e57("0x3de")] = "UserPOI", this[_0x4e57("0x3dd")][_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x4fa"), value: function (x) {
                x[_0x4e57("0x3de")] = _0x4e57("0x4fb"), this[_0x4e57("0x3dd")][_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x4fc"), value: function (x) {
                x.type_ = "POI", this[_0x4e57("0x3dd")][_0x4e57("0xf")](x)
            }
        }, {
            key: _0x4e57("0x4fd"), value: function (x) {
                x[_0x4e57("0x3de")] = _0x4e57("0x4fe"), this[_0x4e57("0x3dd")].push(x)
            }
        }, {
            key: "addModel3D", value: function (x) {
                x.type_ = _0x4e57("0x4ff"), this[_0x4e57("0x3dd")].push(x)
            }
        }, {
            key: _0x4e57("0x500"), value: function (x) {
                x[_0x4e57("0x3de")] = _0x4e57("0x391"), this[_0x4e57("0x3dd")].push(x)
            }
        }, {
            key: _0x4e57("0x501"), value: function (x) {
                if (!x[_0x4e57("0x3da")]) return !1;
                var e = !0;
                return x[_0x4e57("0x502")](function (x) {
                    x.visible || (e = !1)
                }), e
            }
        }, {
            key: "update", value: function (x) {
                if (this[_0x4e57("0x4ec")] && this[_0x4e57("0x4eb")]) {
                    this.raycaster_[_0x4e57("0x479")](this[_0x4e57("0x4eb")], this[_0x4e57("0x35a")][_0x4e57("0x3ae")]), this[_0x4e57("0x503")] = !1, this[_0x4e57("0x504")] = [], this[_0x4e57("0x505")] = [];
                    for (var e = [], _ = 0; _ < this[_0x4e57("0x3dd")][_0x4e57("0x0")]; _++) {
                        var t = this[_0x4e57("0x3dd")][_];
                        this[_0x4e57("0x501")](t) && e[_0x4e57("0xf")](t)
                    }
                    for (var i = this.raycaster_[_0x4e57("0x506")](e), a = null, n = 0; n < i[_0x4e57("0x0")]; n++) if (i[n][_0x4e57("0x9")].uuid != a) {
                        a = i[n][_0x4e57("0x9")][_0x4e57("0x342")];
                        var g = i[n].object.datas_;
                        if (g && g[_0x4e57("0x419")] == esmap.ESNodeType[_0x4e57("0x49f")]) {
                            i[_0x4e57("0x63")](n + 1, i[_0x4e57("0x0")]);
                            break
                        }
                    } else i[_0x4e57("0x63")](n, 1), n--;
                    if (0 < i.length && (this[_0x4e57("0x504")] = i, this[_0x4e57("0x503")] = !0), this[_0x4e57("0x4c3")] && x) if (0 < this[_0x4e57("0x504")][_0x4e57("0x0")]) {
                        var r = this[_0x4e57("0x504")][0].object;
                        r && (r[_0x4e57("0x3de")] == _0x4e57("0x3df") || r.datas_ && r[_0x4e57("0x382")][_0x4e57("0x507")] && "es3dmarker" == r[_0x4e57("0x382")][_0x4e57("0x507")]) ? (document.body[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x509"), this[_0x4e57("0x50a")] = r.datas_ || r, this.map_[_0x4e57("0x149")](_0x4e57("0x50b"), this[_0x4e57("0x50a")])) : (document.body[_0x4e57("0x6c")].cursor = _0x4e57("0x50c"), this[_0x4e57("0x50a")] && this.map_[_0x4e57("0x149")](_0x4e57("0x50d"), this[_0x4e57("0x50a")]), this.over_ = null)
                    } else document.body[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x50c"), this[_0x4e57("0x50a")] && this.map_[_0x4e57("0x149")]("onLeave", this.over_), this[_0x4e57("0x50a")] = null
                }
            }
        }, {
            key: _0x4e57("0x4ef"), value: function (x) {
                var e = this;
                this[_0x4e57("0x4ec")] && (this[_0x4e57("0x3b4")][_0x4e57("0x62")](), this[_0x4e57("0x50e")] = !0, this.mouse_ = this.getPick_(x), this[_0x4e57("0x50f")] = this[_0x4e57("0x4eb")][_0x4e57("0xe8")](), this[_0x4e57("0x4ed")][_0x4e57("0xe7")] = this[_0x4e57("0x50f")][_0x4e57("0xe8")](), this[_0x4e57("0x4ed")][_0x4e57("0x510")] = this[_0x4e57("0x35a")][_0x4e57("0xd9")].constraint[_0x4e57("0x13a")](), this[_0x4e57("0x4ed")][_0x4e57("0x511")] = this[_0x4e57("0x35a")][_0x4e57("0x3ae")][_0x4e57("0xe7")].clone(), this[_0x4e57("0x65")](), x[_0x4e57("0x170")](), setTimeout(function () {
                    if (1 == e[_0x4e57("0x50e")]) {
                        if (e[_0x4e57("0x512")]()) return;
                        e[_0x4e57("0x65")](!1), e[_0x4e57("0x149")]("keepPress_", {
                            intersects: e[_0x4e57("0x504")],
                            mouse: e[_0x4e57("0x50f")]
                        })
                    }
                }, 800))
            }
        }, {
            key: _0x4e57("0x4f0"), value: function (x) {
                this[_0x4e57("0x4ec")] && (this[_0x4e57("0x4eb")] = this.getPick_(x), this[_0x4e57("0x50f")] = this[_0x4e57("0x513")](x), this[_0x4e57("0x514")] = this[_0x4e57("0x3b4")][_0x4e57("0x455")](), this.map_[_0x4e57("0xf0")][_0x4e57("0x4e3")] && this[_0x4e57("0x65")](!0), this[_0x4e57("0x50e")] && (this[_0x4e57("0x4ed")][_0x4e57("0x515")] = this[_0x4e57("0x35a")][_0x4e57("0x3ae")][_0x4e57("0xe7")].clone()))
            }
        }, {
            key: "checkMoved", value: function () {
                return !!(this.staped[_0x4e57("0x511")] && this[_0x4e57("0x4ed")][_0x4e57("0x515")] && (.8 < Math[_0x4e57("0x13f")](this[_0x4e57("0x4ed")][_0x4e57("0x511")].x - this[_0x4e57("0x4ed")][_0x4e57("0x515")].x) || .8 < Math[_0x4e57("0x13f")](this[_0x4e57("0x4ed")][_0x4e57("0x511")].z - this[_0x4e57("0x4ed")][_0x4e57("0x515")].z)))
            }
        }, {
            key: _0x4e57("0x4f1"), value: function (x) {
                var e = !1, _ = this;
                this[_0x4e57("0x50e")] = !1, this.timer.stop(), this[_0x4e57("0x4ed")].levelTo = _[_0x4e57("0x35a")][_0x4e57("0xd9")][_0x4e57("0xf5")].getScaleRate(), this[_0x4e57("0x4ed")][_0x4e57("0x515")] = _[_0x4e57("0x35a")].currentCamera_.position[_0x4e57("0xe8")]();
                var t = _[_0x4e57("0x512")]();
                if (this[_0x4e57("0x4ed")][_0x4e57("0x516")] = this[_0x4e57("0x4ed")].levelFrom - this[_0x4e57("0x4ed")][_0x4e57("0x517")], 0 !== this[_0x4e57("0x4ed")][_0x4e57("0x516")] && (e = !0), this[_0x4e57("0x4ec")]) {
                    if (x[_0x4e57("0x193")] || (this[_0x4e57("0x50f")] = this[_0x4e57("0x513")](x)), this[_0x4e57("0x50f")] && (0 == x[_0x4e57("0x171")] || x.touches) && this[_0x4e57("0x50f")][_0x4e57("0x494")](this[_0x4e57("0x4eb")]) < .01) {
                        if (this[_0x4e57("0x4f5")]()) return;
                        this[_0x4e57("0x503")] || this[_0x4e57("0x518")] ? !e && !t && this[_0x4e57("0x503")] && this.emit("pickerObjects_", {
                            intersects: this[_0x4e57("0x504")],
                            mouse: this.curMouse
                        }) : !e && !t && this[_0x4e57("0x149")]("pickerNone_", this[_0x4e57("0x50f")])
                    }
                    if (!e && this[_0x4e57("0x35a")][_0x4e57("0x519")].enableFloorChange) {
                        var i = 1;
                        .3 < Math[_0x4e57("0x13f")](this[_0x4e57("0x4ed")][_0x4e57("0xe7")].y - this[_0x4e57("0x50f")].y) && (i = this[_0x4e57("0x4ed")][_0x4e57("0xe7")].y > this.curMouse.y ? _[_0x4e57("0x35a")][_0x4e57("0x37c")] + 1 : _[_0x4e57("0x35a")][_0x4e57("0x37c")] - 1, -1 < map[_0x4e57("0x3ec")][_0x4e57("0x41")](i) && map[_0x4e57("0x47b")](i))
                    }
                    x[_0x4e57("0x170")](), this.staped.cameraTo = null
                }
            }
        }, {
            key: _0x4e57("0x513"), value: function (x) {
                var e = this[_0x4e57("0xad")][_0x4e57("0x51a")](), _ = new THREE.Vector2;
                return _.x = ((x[_0x4e57("0x193")] ? x.touches[0][_0x4e57("0x176")] : x[_0x4e57("0x176")]) - e.left) / e.width * 2 - 1, _.y = -((x[_0x4e57("0x193")] ? x.touches[0][_0x4e57("0x177")] : x.clientY) - e.top) / e.height * 2 + 1, _
            }
        }, {
            key: "enabled", get: function () {
                return this.enabled_
            }, set: function (x) {
                this[_0x4e57("0x4ec")] = x
            }
        }]), x
    }();
    e.default = g
}, function (x, e, t) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var _ = g(t(0)), i = g(t(1)), a = g(t(186)), m = g(t(187)), n = g(t(65));

    function g(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var b = function (x, e) {
        for (var _ = function (x) {
            for (var e = [], _ = 0; _ < x.length; _++) e[_] = x[_0x4e57("0x469")](_);
            return e
        }(x), t = 0; t < 16; t++) for (var i = 0; i < _[_0x4e57("0x0")]; i++) e[t] = e[t] ^ _[i]
    }, r = function () {
        function e(x) {
            (0, _[_0x4e57("0xa")])(this, e), this[_0x4e57("0x35a")] = x, this.options_ = x[_0x4e57("0xf0")]
        }

        return (0, i.default)(e, [{
            key: _0x4e57("0x51b"), value: function (x, h, e, f) {
                var d = this, _ = this.options_[_0x4e57("0x48c")] + "/" + x + "/" + x + _0x4e57("0x51c");
                this[_0x4e57("0x3d0")].s && this.options_.k ? _ = this.options_.s + "map/mapdata!getmap.action?bids=" + x + _0x4e57("0x51d") + this[_0x4e57("0x3d0")].k + _0x4e57("0x51e") + Date[_0x4e57("0x32")](new Date) : this[_0x4e57("0x3d0")][_0x4e57("0x4ea")] && (_ += _0x4e57("0x51f") + Date[_0x4e57("0x32")](new Date));
                var p = t(188);
                n[_0x4e57("0xa")][_0x4e57("0x30")](_, !0)[_0x4e57("0x2b")](function (x) {
                    var e = new Uint8Array(x), _ = e[0];
                    d.options_.k && d[_0x4e57("0x3d0")].s && b(d[_0x4e57("0x35a")].sceneId_, e);
                    var t = p[_0x4e57("0x520")].decode(e), i = d[_0x4e57("0x521")](t[_0x4e57("0x522")]),
                        a = [t.logotoken, t.token],
                        n = [d[_0x4e57("0x3d0")][_0x4e57("0x523")], d[_0x4e57("0x3d0")][_0x4e57("0x4e2")]],
                        g = t[_0x4e57("0x524")];
                    if (i) {
                        if (d[_0x4e57("0x35a")].zonTempObj[_0x4e57("0x526")][_0x4e57("0x31d")][_0x4e57("0x3da")] = !0, n[0] && a[0]) {
                            var r = esmap[_0x4e57("0x7d")].encode64(_0x4e57("0x527") + t[_0x4e57("0x528")] + n[0]);
                            a[0] && r == a[0] && (d.map_.zonTempObj[_0x4e57("0x526")][_0x4e57("0x31d")][_0x4e57("0x3da")] = !1)
                        }
                        var A = 0, s = document.domain, C = s[_0x4e57("0x464")]("."), I = C[_0x4e57("0x0")];
                        2 <= I && (s = C[I - 2] + "." + C[I - 1]);
                        var o = esmap.ESMapUtil[_0x4e57("0x529")](s);
                        if (o != _0x4e57("0x52a") && o != _0x4e57("0x52b") && o != _0x4e57("0x52c") && o != _0x4e57("0x52d")) {
                            if (a[1] && a[1] != _0x4e57("0x52e")) {
                                if (1 < g[_0x4e57("0x0")] && -1 == g[_0x4e57("0x41")](s)) return void console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x52f")]);
                                if (d[_0x4e57("0x3d0")].k && d.options_.s) {
                                    r = esmap[_0x4e57("0x7d")][_0x4e57("0x529")](a[1] + _0x4e57("0x530"));
                                    var c = d.options_.k[_0x4e57("0x41")]("&"), l = d[_0x4e57("0x3d0")].k;
                                    if (0 < c && (l = l[_0x4e57("0x531")](0, c), r = esmap.ESMapUtil.encode64(a[1] + _0x4e57("0x532"))), r != l) return void console[_0x4e57("0xde")](l);
                                    A = d[_0x4e57("0x3d0")].showBase, Object[_0x4e57("0x6")](d.map_, _0x4e57("0x533"), {
                                        value: A,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !0
                                    }), Object.defineProperty(d[_0x4e57("0x35a")], _0x4e57("0x534"), {
                                        value: !0,
                                        writable: !1,
                                        enumerable: !1,
                                        configurable: !0
                                    })
                                } else {
                                    var u = t[_0x4e57("0x421")] < 32503514 ? t[_0x4e57("0x421")] : t[_0x4e57("0x421")] / 1e3;
                                    if ((new Date)[_0x4e57("0xdc")]() > 1e6 * u) return void console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x535")]);
                                    if (!n[1]) return void console.info(esmap.ESInfo[_0x4e57("0x536")]);
                                    if ((r = esmap[_0x4e57("0x7d")][_0x4e57("0x529")](t[_0x4e57("0x537")] + n[1])) != a[1]) return void console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")].TOKEN_ERR);
                                    if (_ != e[0]) return
                                }
                            }
                        } else A = d[_0x4e57("0x3d0")][_0x4e57("0x4de")], Object.defineProperty(d[_0x4e57("0x35a")], "_ca", {
                            value: A,
                            writable: !1,
                            enumerable: !1,
                            configurable: !0
                        });
                        esmap[_0x4e57("0x7d")][_0x4e57("0x529")](a[1] + a[0] + g + t.o1 + _0x4e57("0x538") + t.o2) != t.Hash && t[_0x4e57("0x539")] != a[1] && "share" != a[1] || (Object[_0x4e57("0x6")](d.map_, _0x4e57("0x53a"), {
                            value: t[_0x4e57("0x53b")] ? t[_0x4e57("0x53b")] : null,
                            writable: !1,
                            enumerable: !1,
                            configurable: !0
                        }), d[_0x4e57("0x35a")][_0x4e57("0x401")](function () {
                            esmap[_0x4e57("0x101")][_0x4e57("0x4ba")] || (esmap.ESMap[_0x4e57("0x4ba")] = !0);
                            var x = d._convertFullData(t);
                            esmap.ESMap.tempFlipX_ && (x.DefaultCenX = -x[_0x4e57("0x53c")], x.x = -x.x, d[_0x4e57("0x4b9")](x)), h(x, f)
                        }, t[_0x4e57("0x53d")]))
                    } else console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x525")])
                })[_0x4e57("0x2f")](e)
            }
        }, {
            key: _0x4e57("0x521"), value: function (x) {
                return !(x > esmap[_0x4e57("0x53e")] || x < esmap.minV)
            }
        }, {
            key: "queryFloor", value: function (x, e, _, t) {
                var i = this[_0x4e57("0x53f")](e);
                esmap[_0x4e57("0x101")][_0x4e57("0x4b9")] && this.tempFlipX_(i), _(i)
            }
        }, {
            key: "queryThemeV2", value: function (x, e) {
                var _ = this[_0x4e57("0x3d0")][_0x4e57("0x48d")] + "/" + x + "/" + x + _0x4e57("0x540");
                n.default[_0x4e57("0x31")]({url: _}).success(e)
            }
        }, {
            key: _0x4e57("0x541"), value: function (x) {
                var e = "";
                for (var _ in x) 0 < e[_0x4e57("0x0")] && (e += "&"), e += _ + "=" + x[_];
                return e
            }
        }, {
            key: _0x4e57("0x542"), value: function (x) {
                var e, _ = (this[_0x4e57("0x108")] = x).maptime;
                Object[_0x4e57("0x6")](this[_0x4e57("0x108")], "maptime", {value: _, writable: !1});
                var t = this.options_[_0x4e57("0x42b")];
                if (t) {
                    if (!Array[_0x4e57("0x311")](t) && t != _0x4e57("0x42a")) return void console[_0x4e57("0xde")](_0x4e57("0x543") + " " + esmap[_0x4e57("0xdf")][_0x4e57("0x544")] + " or string " + _0x4e57("0x545"));
                    e = 1 == t[_0x4e57("0x0")] ? t[0] : this.options_[_0x4e57("0x546")] ? this.options_[_0x4e57("0x546")] : this[_0x4e57("0x3d0")][_0x4e57("0x43e")] ? this.options_[_0x4e57("0x43e")] : x[_0x4e57("0x547")] ? x[_0x4e57("0x547")] : 1
                } else t = [e = this[_0x4e57("0x3d0")][_0x4e57("0x546")] ? this[_0x4e57("0x3d0")][_0x4e57("0x546")] : this.options_[_0x4e57("0x43e")] ? this[_0x4e57("0x3d0")][_0x4e57("0x43e")] : x[_0x4e57("0x547")] ? x.DefaultFnum : 1];
                (e > x.floors[_0x4e57("0x0")] || e < 1) && (e = x[_0x4e57("0x547")] || 1), this[_0x4e57("0x3d0")][_0x4e57("0x43e")] = e, (Array[_0x4e57("0x311")](t) && t[_0x4e57("0x0")] == x.floors[_0x4e57("0x0")] || t == _0x4e57("0x42a")) && this.options_[_0x4e57("0xf4")] == esmap[_0x4e57("0xa8")][_0x4e57("0x462")] && (console.info(esmap[_0x4e57("0xdf")][_0x4e57("0x548")]), t = [e]), this[_0x4e57("0x3d0")][_0x4e57("0x42b")] = t, this[_0x4e57("0x35a")][_0x4e57("0x3e2")] = t;
                for (var i = this.options_.mapFloorSpan, a = 0, n = 0; a < x[_0x4e57("0x43c")][_0x4e57("0x0")]; a++) {
                    this[_0x4e57("0x35a")][_0x4e57("0x3b7")].indexOf(a + 1) < 0 && this[_0x4e57("0x35a")][_0x4e57("0x549")][_0x4e57("0xf")](a + 1);
                    var g = x[_0x4e57("0x43c")][a];
                    n = (a + 1) * i + g[_0x4e57("0x45f")], g[_0x4e57("0x45f")] = n, g[_0x4e57("0x54a")] = i + x[_0x4e57("0x54b")]
                }
                return this[_0x4e57("0x108")]
            }
        }, {
            key: "_convertToSceneFloor", value: function (x) {
                for (var e = x.floornum, _ = (new (m[_0x4e57("0xa")][_0x4e57("0x54c")]), []), t = [], i = [], a = [], n = [], g = this[_0x4e57("0x54d")](x[_0x4e57("0x54e")]), r = (esmap[_0x4e57("0x101")][_0x4e57("0x107")], 0); r < g.length; r++) {
                    var A = this[_0x4e57("0x54f")](g[r]);
                    _.push(A)
                }
                x.Outline = null;
                var s = x.Rooms;
                for (r in s) {
                    var C = s[r];
                    (A = this[_0x4e57("0x54f")](C[_0x4e57("0x54e")]))[_0x4e57("0x429")] = e, A[_0x4e57("0xa9")] = C.BC >> 1 & 1 || 1, A[_0x4e57("0x550")] = C._id, A[_0x4e57("0x4a4")] = C.RS, A[_0x4e57("0x551")] = C.RC || "", A[_0x4e57("0x552")] = C[_0x4e57("0x552")], A[_0x4e57("0x553")] = C[_0x4e57("0x553")], A.RModel = C.RM, A[_0x4e57("0x384")] = C[_0x4e57("0x434")] || C.Typeid || 0, A[_0x4e57("0x554")] = 1 & C.BC || 0, A[_0x4e57("0x555")] = C.FS || 0, A[_0x4e57("0x269")] = C[_0x4e57("0x269")], C[_0x4e57("0x556")] && (A.offset = C.RMO), A[_0x4e57("0x557")] = null == C.RH ? 5 : C.RH, A.RoomHigh < 1 && (A.top = 1), A[_0x4e57("0x558")] = null == C.RL ? "" : C.RL, A[_0x4e57("0x559")] = null == C[_0x4e57("0x55a")] ? "" : C[_0x4e57("0x55a")], A[_0x4e57("0x55b")] = C.SL, C.RM && (C[_0x4e57("0x55c")] && (A[_0x4e57("0x114")] = C[_0x4e57("0x55c")]), C.RMR && (A[_0x4e57("0x55d")] = C[_0x4e57("0x55e")])), C.BC && 1 & C.BC ? t[_0x4e57("0xf")](A) : (A[_0x4e57("0x557")] = null == C.RH ? .25 : C.RH, n[_0x4e57("0xf")](A))
                }
                var I = x[_0x4e57("0x55f")];
                for (var o in I) {
                    var c = x[_0x4e57("0x55f")][o];
                    i.push({
                        oid: c[_0x4e57("0x537")],
                        Typeid: c[_0x4e57("0x434")],
                        name: c[_0x4e57("0x269")] || "",
                        fontstyleid: c[_0x4e57("0x560")],
                        Height: c.SH,
                        X: -c.X,
                        Y: c.Y,
                        image: c.image,
                        w: null == c.w ? 32 : c.w,
                        h: null == c.h ? 32 : c.h,
                        ShowLevel: c.SL ? c.SL : 0,
                        texture: null == c[_0x4e57("0x431")] ? "" : "" == c[_0x4e57("0x431")] ? "" : esmap[_0x4e57("0x7d")][_0x4e57("0x7e")](this[_0x4e57("0x3d0")][_0x4e57("0x48c")] + "/" + this.map_[_0x4e57("0x3cd")] + _0x4e57("0x561") + c[_0x4e57("0x431")])
                    })
                }
                x.Labels = null;
                var l = x[_0x4e57("0x433")];
                if (x[_0x4e57("0x433")]) for (var u in l) {
                    var h = l[u];
                    a[_0x4e57("0xf")]({
                        oid: h[_0x4e57("0x537")],
                        X: -h.X,
                        Y: h.Y,
                        Height: h.SH,
                        image: null == h.image ? "" : h.image,
                        w: null == h.w || "" == h.w ? 32 : h.w,
                        h: null == h.h || "" == h.h ? 32 : h.h,
                        name: h[_0x4e57("0x269")],
                        ShowLevel: h.SL ? h.SL : 0,
                        Typeid: h[_0x4e57("0x434")]
                    })
                }
                x.Facility = null, x[_0x4e57("0x562")] = null;
                var f = [], d = x[_0x4e57("0x563")];
                if (x[_0x4e57("0x563")]) for (var p in d) {
                    var b = d[p];
                    f.push(b)
                }
                return x[_0x4e57("0x563")] = null, {
                    fnum: e,
                    floorBaseLayers: [{lid: 2, floorBases: _}],
                    modellayers: [{lid: 3, models: t}],
                    labellayers: [{lid: 5, labels: i}],
                    poilayers: [{lid: 4, pois: a}],
                    liftlayers: [{lid: 6, lifts: f}],
                    modelbaselayer: [{lid: 9, modelbases: n}]
                }
            }
        }, {
            key: _0x4e57("0x53f"), value: function (x) {
                for (var e = this[_0x4e57("0x108")][_0x4e57("0x43c")], _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                    var t = e[_];
                    if (t[_0x4e57("0x429")] == x) return this[_0x4e57("0x564")](t)
                }
                return null
            }
        }, {
            key: _0x4e57("0x54f"), value: function (x) {
                var e = (new (m[_0x4e57("0xa")].GData)).parse(x);
                return {points: e[_0x4e57("0x565")], holes: e[_0x4e57("0x566")]}
            }
        }, {
            key: _0x4e57("0x4b9"), value: function (x) {
                if (x && _0x4e57("0xb") != typeof x) for (var e in x) {
                    var _ = x[e];
                    if ("vertices" == e || "vertex" == e) for (var t in _) t % 2 == 0 && (_[t] = -_[t]); else this.tempFlipX_(_)
                }
            }
        }, {
            key: _0x4e57("0x54d"), value: function (x) {
                var e = new Array;
                if (null != x && 10 < x[_0x4e57("0x0")]) for (var _ = x[_0x4e57("0x464")]("&&"), t = 0; t < _.length; t++) {
                    var i = _[t][_0x4e57("0x41")]("&");
                    0 < i && (_[t] = _[t][_0x4e57("0x531")](0, i)), 10 < _[t][_0x4e57("0x0")] && e[_0x4e57("0xf")](_[t])
                }
                return e
            }
        }]), e
    }();
    r[_0x4e57("0x567")] = a[_0x4e57("0xa")], e[_0x4e57("0xa")] = r
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var C = t(_(9)), i = t(_(0)), a = t(_(1));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function t(x, e, _) {
            (0, i[_0x4e57("0xa")])(this, t), this[_0x4e57("0x3d0")] = _, this.sprite_ = null, this[_0x4e57("0x568")] = x, this[_0x4e57("0x569")] = e, this.w_, this.h_, this[_0x4e57("0x56a")] = 8, this.margin_verti = 15
        }

        return (0, a.default)(t, [{
            key: "sl", value: function (x) {
                for (var e = x.length, _ = 0, t = 0; t < e; t++) _ += x[t].charCodeAt();
                return parseInt(_, 16)
            }
        }, {
            key: _0x4e57("0x45c"), value: function (x, e) {
                if (null != this.sprite_) {
                    var _ = x / 2, t = e / 2;
                    this[_0x4e57("0x526")].position[_0x4e57("0x115")](_ - this.w_ / 2 - this[_0x4e57("0x56a")], -t + this.h_ / 2 + this[_0x4e57("0x56b")], 1), this.sprite_[_0x4e57("0x31d")][_0x4e57("0x3da")] && (this[_0x4e57("0x526")][_0x4e57("0x3da")] = !0)
                }
                this.visible_ && null == this[_0x4e57("0x526")] && (this[_0x4e57("0x39f")](), this[_0x4e57("0x526")][_0x4e57("0x3da")] = !1);
            }
        }, {
            key: _0x4e57("0x56c"), value: function (x, e, _, t) {
                if (null != this[_0x4e57("0x56d")]) {
                    var i = x / 2, a = e / 2;
                    this[_0x4e57("0x56d")].position[_0x4e57("0x115")](i - this.w_ / 2 - this.margin_horiz + _, -a + this.h_ / 2 + this.margin_verti + t, 1)
                }
                this[_0x4e57("0x568")] && null == this[_0x4e57("0x56d")] && (this[_0x4e57("0x56e")](), this[_0x4e57("0x56d")][_0x4e57("0x3da")] = !0)
            }
        }, {
            key: _0x4e57("0x39f"), value: function () {
                if (null == this.sprite_) {
                    var x = document.createElement(_0x4e57("0x56f"));
                    x.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAiCAYAAABV9lfvAAAACXBIWXMAADXUAAA11AFeZeUIAABDQmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMTEgNzkuMTU4MzI1LCAyMDE1LzA5LzEwLTAxOjEwOjIwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE3LTAzLTAzVDA5OjU5OjU1KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMDYtMDVUMTY6NDU6MzQrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE3LTA2LTA1VDE2OjQ1OjM0KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+RVNNYXA8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0PkVTTWFwPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjg5NDVkN2RlLTlmNTMtYTM0MS05NGZkLTI2MTAwZWIwNmUyNzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRhYWMyMGY1LTQ5Y2ItMTFlNy05YzdjLWYxMGY3NmFmYTFmODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjA2NzU3ZGY4LTUxZTItMDI0OC04MWJmLTYwYjE5ZTJmNmU1NzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNjc1N2RmOC01MWUyLTAyNDgtODFiZi02MGIxOWUyZjZlNTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDMtMDNUMDk6NTk6NTUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmZDZmNWJkOC1jYWNhLTI5NGMtODZhZi01Yzc5YTljM2RkZDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDMtMDNUMTA6MjU6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YjExZGY1YmQtZWJhNS05NzRkLTliY2UtOWMyZTBjM2E1YTVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTA2LTA1VDE2OjQ1OjM0KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg5NDVkN2RlLTlmNTMtYTM0MS05NGZkLTI2MTAwZWIwNmUyNzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0wNi0wNVQxNjo0NTozNCswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YjExZGY1YmQtZWJhNS05NzRkLTliY2UtOWMyZTBjM2E1YTVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6OWIyNDcyMzYtZmZiOC0xMWU2LWFmYmQtY2Y0YzUyMjdkODZiPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6MDY3NTdkZjgtNTFlMi0wMjQ4LTgxYmYtNjBiMTllMmY2ZTU3PC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjM1MDAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjM1MDAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjEwOTwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4zNDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+7N2UCQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAOaUlEQVR42uxbe3RU5bX/7e/7zjkzIZlMCIHyDi+vXsGOt1areC9Bl1Xa2xpqvQ+TFQEpD28lvBEQE16hASIBKe9CQMCy2iXQu5ResWVoxdLqklGpq2qFKAKRipm853HO+e4fc2Y4OZwJQb3eJc1e66yZOdnnfOfbv2/v/dv7OyEpJbrkqyWsywRfPRH2H9+599sAACICY2wMY0wjxg7EolEwxp72eLw/VjUVqqK+r6jKW6qq/U7T1BdVTfuzpmnwaBooJwf+tii+u2MvujU2IurxuA5MEsiNRLHpH4fg8NB85BODqiqQUoJzjpaWFrQ0t4Bzbl0AcM7BGQfjDIwxcM7BGAfnDETU7v5SSjDG4PNlgzEGCWldm9BnjIEYA2cMRCylzzmHoihQVTVxf+veUkpImbCNaZqIRiJJO0GaEoZpwDAM6LqOeDwGwzBSR+KBANM0YZhG4tMwIE1pfddhGGbK9q2tLYjH42CMwTTN1LH1Z9svB82SwSDaTUS3gwic819lZGQsME3zMWL0MWdsKed8COd8COOskIgBwGEA1RJ4gb6g1fTTjZu6XKoz4ZGIQEQrGdHtyVUEyO8zzk9qmjZXCL4MRMQ4ezax6hMrU3BxDyP2PAFHdcELWnyZZHIOap8v8wAMBaB2mf2LBC0RMl5nLBE+mAUcEQFElYzxdyEx0jCMhwC6S+N8OVPEtHBO9rr6nj0uNPbsMVIqym0D3/mr9DY1QxfiFgCPAzgEoBbAe9bnTpPoHkU34NUNGERdSHzWnMYZA4AKIrqTGBtDjIGRBR4RGLFhjNHLhmH8MhqNPBgX7EhuG3Dvn0KA4LO9utG739nzI3qdObdNF7wgrqpDHN4Gk6h3hmGU5LRGSmKClZzJ8DyjGQbARdqHLCkuCgC4v91qY5fymhACnAsIIT6oXreuxq5XsXxZQBHK/UKIAi4EhODgXAQ5Y28wxoITJk4MJ3V3bN8+HVJmm1Im88jOyVOm1KZ7rsVlZdN1Q882dB26bsAw9J1Va6prv1TQrAwOEH2HEa1lRNMs77MOAuMcjLEfQiLWHIuXCzNWccefTiD3zNnFcX/2/FZNRSTDC0OIVHiUCR6BTMNAVjQuGxWx/r8HfO3NF/v3HnPel1nWIxrbKL2sqoPnvB9AeSfmU2MdWPTEQr8ilP1CEQUueslzIQA3286vcei9YUWGy2TZ0iWFTv2qNdWLv3RPa2MJFqURgRNKQbSPiJYyorsSoZJAoCRrUvymXN7s1R4q++5dc3548p2V//zuaU0jNrPZBphBhGxd/zQrbuw4pyl/+W2fvIuH++T1ONkzd3w243f0MSQ4Z6sZY/8ppSwA0NyBka8ktQAwf948v1DEEQAB63zYAsh5vxQgNTt2uI3xdQAH0oy1xm3sLx20DNOEKSWaVQWNigJSxCsklLuF4A9xzst8przOHzcSoBEDOENOTL+xITPjhQ2jvrXizQF9ZxW+/taqvhfrX/gkK+vmmGDv94zGN0WJtq3K/1r4eHf/9y5kZy7ycfHNoXETqsLAFQVCVWJCiJekaehSAhKXFfz5yS+7du/pTAIstQFWM2fevPFOhW1bthSkG8MmAbeb/6SiYpyL/v8PaBWnzkEC+FQRqFcVtCkCESHQoip7o4qy93T37H99L6/7T/Oi8QFZRgI8k3HkRGPI1s35fxyWP/Evg/o/+O8vv/pPo0Jv3wPTeKkpM0POuek6HM3xrRgk8fgg3YTKAKEo4IqAqmlQFOXhaCT6c0CCcwFDN9OBFurkvKYnvyxY+MR4N4WJkyYFHacGOgDIdwNt1cpKP4Ayhx4AtLvf1MmT/YZpBEzD8Jum6TdNs7Zm1zPBKz14SXFRclw/gNCu3XtCHYKWH4mBAFzfGgWXZiK/SQkTNICk+W+feLQLhwb3v/XwdYP+46wvs7p3awSalABjEAT0a2jKa8rKDO4ruONbZ3v3PDysoRlHOPAHbmJEJJqraZ4EabAIgapp0FR1RSQS+Xk0GhmjKOohIgnGuH0Sdo+4ImhzZs0MCKH4P8PqL3DkxnIA+Rs3bPBPffTRsMOLk0AdsC2QN5IKP3700SNuIb2kuCgMYMau3XtqbOdOWCAFrflNd1wTBDB21+49YVfK3yA4woLjgipwXlNx3qM9cN7r2X/Bq52qy/Cu8hjmzpI33zlYduT48dHvfzi4IcO77aIvK8UuwTly2iLwxWLHfx8YXr7rvtG4OGokbsvOQTyuLyHGEoBxAVVTIYT4Xmtb24JoNHpECPECES0CTIu6uIaoqw1B+RXLl+1fVVkZ6IRuwEFALjv/VFWV32bUGkeIrAWA0mmP+R050+5dfgA7LG9y3j9g3dst/5Z1zB4TMhbACgD/AJsJmxSBJjXrtv4NzcdLX35t+x8/PLfoV98YUXM2L3dfz9ZIX0YEyTgEgLym5jJqbhnr8Xin5t04/BWt9vRHn3x84W6P5vmNoiogYgPaWtvOGIbxVyHEkEQ9yJYQ4V0p5b40Yau8pLio3IXyl2/cvGUxAKyqeio0f968kM0YhQAK11RVhbkQQSH4Uc5FzeQpU8I2EuK3DJoMc7UOowZtXpbUWwzgSFJp5erVIRswYwEEt2zdFgaACeMe9gPYbwOzEEC1VcrYZXzSC0uKiwqta5LhfkZHDeMVAJ5LAtau+AZAUuJiNy8+zuo24dYPz50tO/jiiJHvnR5S7+u2ishWlBMD5/wmPR4/ZprG6mHDhikDBw36rWka/6Lr+gg9Hu8hpRlRFDEk0UNkYJyBc76RpxqO6cmAQz5wTt6ZYyxjJmn66W1btgTSefMjEyeGHAwS66qr821eVv7Eoidr3XLt2nVP167fsOHAxs2bU4tie83OsON5wi7jLraHzV279xyw39eeJpye9oDVwehQSEqYRDiXnYU+9eFb7g29venYiOvn1mdnPturufUpSbyAWAI4xhgMw5gVi8XG9uvf/7+6d+/+67q6OsRi0ZcUVdUSOgSyinhiLAsEcjFoGEB1mkdqB9CKysoQgNFLyssD1uoeZX36bQCWWR6RLjQGrWuSwJRZ14UBrF22dIlrri2d9pjf0I1SwzAKLSIC0zRr0zDNgVfI12G3707Qll9VD0xK1GX7PvW3tGLioSAOjbzlRDTbNzojGpssiZYTo1xiVidcYrBhGoe698gd1dDY8LtYLNaDJwt24gngGAMBxQB0G5NKGjq0a/eeqypenywvD1nGqAaAdWvXltmK9EKnNzmMlzRswfqnn84HMM76Xf34ggXhZUuXXJZrZ82Y7rdCZqCjcmLX7j1BF/LjBprfdk0oXXgcdLU1g2RsTqumLrzz7Xcw9blDiF/4G6KaZ7OqasMYY9usJjRUVYXgovL0qVMnmxoaX/V4tK8n8lICMCtHbSJi+7gQbpMN4fPL2jSkxm0cOxlJUfw5c+ctdvGSo7aCO2AjKqNth9s8kuPW2tmhg/pfNnenpx1zDNAJ1CRMomVQtR+Qrn+jrq4OqqGjn89fn5mV+SNVUZ/jQqwnYOfZj84sCYfDr3u93puTRIIuNaZrAZoqSUJVUxsBozrIW59FCtOE1OSKD49/5JGwi6HG2ciHax6cO3u236YX2rh5c6o+nDDu4ctYZklxkd8OmsuzPpxmsV0GWimANztrAZMIXt1A99bI6yd65j6yacSwcVGvZ6hSH37iXHMLsrJ8yMrKOtQts9uQ+k/r/Y0NDbUZGRkDma2fmcx7xOhuWJuMth5zvmP1FaRpGIc3bt4Smj5tWpmiiA+EUIIrKitThlhVWekXQozjQtip806rSZxv20BNAfWjSZOCmze129OrnTlrVo1brq34SWXt3NmzXVttEyeM9zsoe8gFdH9JcZE/6W3WPMttXljTEWhvASgCsOdKgBlE6BmJQjWMZb8Y0n/R9hsGT+SMb+0bjUFq2gNEVN3a0vz7tra2CL/IhhPRM94Mr6+9h1lsk9EkAKdAgBACLS3Nbqt5TQePE7QiREHSaxY9sRCKUCAUAUUoTv3xto5IIB2hsQwcsDHSZBurXa518ZbA1MmTTximEbZ1N5xEx8leT5cUF4UsXTv5GtvhfpolewHcCuAPrtGQEtS/X3NrU1hVbn8ycMOi9TcOPZBlmFv7RKIwE9vz1zPGNimK+mdFVd4XQjmoqpqPrK39FGCcgXH2PIi2IrFnB6EoaGpsvBq6bzdcfif0Rk+eMqUmDQn5IA3LC06bPj3YUQ5cuXp1rYPdJpmr83zYJScGLbAKHHls9BXbWDZ5FcAdAB4E8CSA4Unv8sV1+KKx/3klL+e+dTcMHn4us1tTflskUyGCyfmlvbcUM7z0naydguQ5xliYHCuJAIhLZVpn82stAFSvWzdozqyZAWviAx1ghKaVlrqRmZ02IuH8+wwrn7hR9tFOD6taUz2jdNpjB225+I1t23ccsHLaQQdzDNiY4WgrJKaus+q0dCXXpQRy/rqb0umN04mW94zG+nApZ/4sv8+aZ/P7zvcQVfSO6wDnyX22di/eMJZ4JcH+m3FmFd4MROxOi/ykRNNUhMNhrFxdhWtZSoqLpK2UufnzbYKm2Vz06fov6zT1+jVD+//tWF5O3YCY3isTgMk5OLHk+yXtD0YpD0uERZvnEatwAgYApiEhuHKtA5b/ebZ0Ov3eY3Ys3vx8r9zXDvXqPnRoa+SiV0pISr0/0h4o65NRe8CIEjmNMXoNwEJXgiMNKIrANS6fq/7s/MuqRFCkRG4s/hsQ3QiiMUQ4SmQHx3aAWWDaPCyR0z4C8O1EG9rlkBJMXPPv0I5yKcz/D0ADwKW81BSU+DWICghUBMJJJ2jMDUxGz4HoJgD1HRfs+HuQoMuOwhea0zqSvQTaC+D7RHQfQN8kot4g0oiojYg+IqJjRLQfwCupt3z+jsXqoX7ml4Co6x8wvnrS9Q8YXaB1SRdoXdIF2rUi/zsAQIExlhCr7cUAAAAASUVORK5CYII=";
                    var e = new THREE.Texture(x),_ = esmap[_0x4e57("0x7d")][_0x4e57("0x570")]()[_0x4e57("0x4c3")];
                    this.w_ = _ ? 96 : 60, this.h_ = _ ? 25 : 15, e[_0x4e57("0x2e6")] = THREE[_0x4e57("0x281")], e[_0x4e57("0x7f")] = !0,
                        this[_0x4e57("0x526")] = new (THREE[_0x4e57("0x571")])(new (THREE[_0x4e57("0x572")])({map: e})),
                        this[_0x4e57("0x526")].scale[_0x4e57("0x115")](this.w_, this.h_, 1), this[_0x4e57("0x569")][_0x4e57("0x28")](this[_0x4e57("0x526")]);
                    var t = this.options_[_0x4e57("0xad")], i = t[_0x4e57("0x16c")], a = t[_0x4e57("0x184")];
                    this[_0x4e57("0x45c")](i, a);
                }
            }
        }, {
            key: "initUserLogo", value: function () {
                var x = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                if (window.userCompany && window[_0x4e57("0x573")] && x[_0x4e57("0x10e")][_0x4e57("0x108")] && x[_0x4e57("0x10e")][_0x4e57("0x108")].ul) {
                    var e = document.createElement("img"), _ = userLogoBase64[_0x4e57("0x464")](","), t = this.sl(_[2]),
                        i = _[0];
                    if (1 == i) if (esmap[_0x4e57("0x7d")][_0x4e57("0x529")](i + t + window[_0x4e57("0x574")] + _0x4e57("0x575")) != _[1]) return;
                    e[_0x4e57("0x468")] = _0x4e57("0x576") + _[2];
                    var a = new (THREE[_0x4e57("0x27f")])(e), n = esmap[_0x4e57("0x7d")][_0x4e57("0x570")]().isPC,
                        g = {w_: this.w_, h_: this.h_, x: 0, y: 0};
                    window[_0x4e57("0x577")] && (0, C.default)(g, window[_0x4e57("0x577")]), window[_0x4e57("0x577")] && (g.w_ = n ? g.w_ : .7 * g.w_, g.h_ = n ? g.h_ : .7 * g.h_, g.x = n ? g.x : .7 * g.x, g.y = n ? g.y : .7 * g.y), a.minFilter = THREE[_0x4e57("0x281")], a[_0x4e57("0x7f")] = !0, this[_0x4e57("0x56d")] = new (THREE[_0x4e57("0x571")])(new (THREE[_0x4e57("0x572")])({map: a})), this[_0x4e57("0x56d")].scale.set(g.w_, g.h_, 1), this[_0x4e57("0x56d")][_0x4e57("0x269")] = _0x4e57("0x578"), this[_0x4e57("0x569")][_0x4e57("0x28")](this[_0x4e57("0x56d")]);
                    var r = this[_0x4e57("0x3d0")][_0x4e57("0xad")], A = r.clientWidth, s = r[_0x4e57("0x184")] + 20;
                    this.updateHUD2(n ? A - 180 : A - 120, s - 25, g.x, g.y)
                }
            }
        }, {
            key: _0x4e57("0x3da"), set: function (x) {
                x != this[_0x4e57("0x568")] && ((this.visible_ = x) ? (this.init(), this.sprite_[_0x4e57("0x3da")] = !0) : null != this[_0x4e57("0x526")] && (this.sprite_.visible = !1))
            }, get: function () {
                return this.visible_
            }
        }]), t
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x), this.points_, this[_0x4e57("0x566")]
        }

        return (0, i[_0x4e57("0xa")])(x, [{
            key: _0x4e57("0x32"), value: function (x) {
                if (this.points_ = [], this.holes_ = [], 0 <= x[_0x4e57("0x41")](_0x4e57("0x579"))) for (var e = x[_0x4e57("0x531")](r[_0x4e57("0x57a")], x[_0x4e57("0x0")] - 3)[_0x4e57("0x464")](/\),\(/), _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                    var t = e[_][_0x4e57("0x464")](/,/);
                    if (0 == _) for (var i = 0; i < t[_0x4e57("0x0")]; i++) {
                        var a = t[i][_0x4e57("0x464")](" "), n = {x: -parseFloat(a[0]), y: parseFloat(a[1])};
                        this[_0x4e57("0x565")][_0x4e57("0xf")](n)
                    } else {
                        var g = [];
                        for (i = 0; i < t[_0x4e57("0x0")]; i++) {
                            a = t[i][_0x4e57("0x464")](" "), n = {x: -parseFloat(a[0]), y: parseFloat(a[1])};
                            g[_0x4e57("0xf")](n)
                        }
                        this[_0x4e57("0x566")][_0x4e57("0xf")](g)
                    }
                }
                return this
            }
        }, {
            key: _0x4e57("0x57b"), value: function () {
                return null != this.holes_ && 0 < this[_0x4e57("0x566")].length
            }
        }]), x
    }(), r = function x() {
        (0, t[_0x4e57("0xa")])(this, x)
    };
    r.GLEN1 = _0x4e57("0x579")[_0x4e57("0x0")], r[_0x4e57("0x54c")] = n, e.default = r
}, function (x, e, _) {
    "use strict";
    var i = t(_(14)), a = t(_(44));

    function t(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var n = _(189), g = n[_0x4e57("0x57c")], r = n[_0x4e57("0x57d")], A = n[_0x4e57("0x57e")],
        s = n[_0x4e57("0x57f")].default || (n[_0x4e57("0x57f")][_0x4e57("0xa")] = {});
    s.ESMapSet = function () {
        function e(x) {
            if (this[_0x4e57("0x43c")] = [], this[_0x4e57("0x4b8")] = [], this[_0x4e57("0x580")] = [], x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x522")] = 0, e[_0x4e57("0xd")][_0x4e57("0x421")] = 0, e[_0x4e57("0xd")][_0x4e57("0x539")] = "", e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x581")] = 0, e[_0x4e57("0xd")].name = "", e[_0x4e57("0xd")][_0x4e57("0x4b6")] = "", e[_0x4e57("0xd")][_0x4e57("0x582")] = "", e[_0x4e57("0xd")][_0x4e57("0x53b")] = "", e[_0x4e57("0xd")].address = "", e[_0x4e57("0xd")].AS = 0, e[_0x4e57("0xd")].BuildingHigh = 0, e[_0x4e57("0xd")].Tel = "", e[_0x4e57("0xd")][_0x4e57("0x583")] = 0, e[_0x4e57("0xd")][_0x4e57("0x584")] = 0, e[_0x4e57("0xd")][_0x4e57("0x585")] = 0, e[_0x4e57("0xd")][_0x4e57("0x426")] = 0, e[_0x4e57("0xd")][_0x4e57("0x547")] = 0, e.prototype[_0x4e57("0x53c")] = 0, e.prototype[_0x4e57("0x586")] = 0, e[_0x4e57("0xd")][_0x4e57("0x587")] = 0, e[_0x4e57("0xd")].x = 0, e[_0x4e57("0xd")].y = 0, e[_0x4e57("0xd")].z = 0, e.prototype[_0x4e57("0x35e")] = 0, e[_0x4e57("0xd")][_0x4e57("0x364")] = 0, e.prototype[_0x4e57("0x35d")] = 0, e[_0x4e57("0xd")][_0x4e57("0x35f")] = 0, e[_0x4e57("0xd")].ScaleLevel = "", e[_0x4e57("0xd")].Remark = "", e[_0x4e57("0xd")][_0x4e57("0x4b3")] = "", e.prototype[_0x4e57("0x54b")] = 0, e[_0x4e57("0xd")].floors = A[_0x4e57("0x588")], e[_0x4e57("0xd")][_0x4e57("0x4b8")] = A[_0x4e57("0x588")], e[_0x4e57("0xd")][_0x4e57("0x580")] = A.emptyArray, e.prototype[_0x4e57("0x53d")] = "", e[_0x4e57("0xd")][_0x4e57("0x4e2")] = "", e[_0x4e57("0xd")][_0x4e57("0x528")] = "", e[_0x4e57("0xd")][_0x4e57("0x523")] = "", e[_0x4e57("0xd")][_0x4e57("0x589")] = "", e[_0x4e57("0xd")].o1 = 0, e.prototype.other2 = "", e.prototype.o2 = 0, e.prototype.ul = 0, e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            if (e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x522")] && x[_0x4e57("0x1")](_0x4e57("0x522")) && e.uint32(8).int32(x.version), null != x[_0x4e57("0x421")] && x.hasOwnProperty(_0x4e57("0x421")) && e[_0x4e57("0x58b")](16)[_0x4e57("0x58c")](x.maptime), null != x[_0x4e57("0x539")] && x[_0x4e57("0x1")](_0x4e57("0x539")) && e.uint32(26)[_0x4e57("0xb")](x.Hash), null != x._id && x[_0x4e57("0x1")](_0x4e57("0x537")) && e[_0x4e57("0x58b")](32)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x[_0x4e57("0x581")] && x[_0x4e57("0x1")](_0x4e57("0x581")) && e.uint32(40)[_0x4e57("0x58c")](x.Type), null != x[_0x4e57("0x269")] && x.hasOwnProperty(_0x4e57("0x269")) && e.uint32(50)[_0x4e57("0xb")](x[_0x4e57("0x269")]), null != x[_0x4e57("0x4b6")] && x[_0x4e57("0x1")](_0x4e57("0x4b6")) && e[_0x4e57("0x58b")](58).string(x[_0x4e57("0x4b6")]), null != x[_0x4e57("0x582")] && x.hasOwnProperty(_0x4e57("0x582")) && e[_0x4e57("0x58b")](66)[_0x4e57("0xb")](x[_0x4e57("0x582")]), null != x[_0x4e57("0x53b")] && x[_0x4e57("0x1")](_0x4e57("0x53b")) && e[_0x4e57("0x58b")](74)[_0x4e57("0xb")](x[_0x4e57("0x53b")]), null != x[_0x4e57("0x58d")] && x[_0x4e57("0x1")](_0x4e57("0x58d")) && e[_0x4e57("0x58b")](82)[_0x4e57("0xb")](x[_0x4e57("0x58d")]), null != x.AS && x[_0x4e57("0x1")]("AS") && e[_0x4e57("0x58b")](89)[_0x4e57("0x58e")](x.AS), null != x.BuildingHigh && x.hasOwnProperty(_0x4e57("0x58f")) && e[_0x4e57("0x58b")](101)[_0x4e57("0x590")](x[_0x4e57("0x58f")]), null != x[_0x4e57("0x591")] && x[_0x4e57("0x1")]("Tel") && e[_0x4e57("0x58b")](106).string(x[_0x4e57("0x591")]), null != x[_0x4e57("0x583")] && x[_0x4e57("0x1")](_0x4e57("0x583")) && e[_0x4e57("0x58b")](113).double(x.FirstRotateAngleX), null != x[_0x4e57("0x584")] && x[_0x4e57("0x1")](_0x4e57("0x584")) && e[_0x4e57("0x58b")](121)[_0x4e57("0x58e")](x[_0x4e57("0x584")]), null != x[_0x4e57("0x585")] && x[_0x4e57("0x1")](_0x4e57("0x585")) && e[_0x4e57("0x58b")](129)[_0x4e57("0x58e")](x[_0x4e57("0x585")]), null != x[_0x4e57("0x426")] && x[_0x4e57("0x1")](_0x4e57("0x426")) && e[_0x4e57("0x58b")](137)[_0x4e57("0x58e")](x[_0x4e57("0x426")]), null != x[_0x4e57("0x547")] && x[_0x4e57("0x1")](_0x4e57("0x547")) && e[_0x4e57("0x58b")](144)[_0x4e57("0x58c")](x.DefaultFnum), null != x[_0x4e57("0x53c")] && x.hasOwnProperty(_0x4e57("0x53c")) && e[_0x4e57("0x58b")](153)[_0x4e57("0x58e")](x[_0x4e57("0x53c")]), null != x[_0x4e57("0x586")] && x[_0x4e57("0x1")](_0x4e57("0x586")) && e[_0x4e57("0x58b")](161).double(x[_0x4e57("0x586")]), null != x[_0x4e57("0x587")] && x[_0x4e57("0x1")](_0x4e57("0x587")) && e.uint32(169)[_0x4e57("0x58e")](x.DefaultCenZ), null != x.x && x[_0x4e57("0x1")]("x") && e.uint32(177)[_0x4e57("0x58e")](x.x), null != x.y && x[_0x4e57("0x1")]("y") && e[_0x4e57("0x58b")](185)[_0x4e57("0x58e")](x.y), null != x.z && x[_0x4e57("0x1")]("z") && e[_0x4e57("0x58b")](193).double(x.z), null != x.minX && x.hasOwnProperty("minX") && e[_0x4e57("0x58b")](201)[_0x4e57("0x58e")](x[_0x4e57("0x35e")]), null != x[_0x4e57("0x364")] && x[_0x4e57("0x1")](_0x4e57("0x364")) && e[_0x4e57("0x58b")](209).double(x[_0x4e57("0x364")]), null != x[_0x4e57("0x35d")] && x.hasOwnProperty(_0x4e57("0x35d")) && e[_0x4e57("0x58b")](217)[_0x4e57("0x58e")](x[_0x4e57("0x35d")]), null != x[_0x4e57("0x35f")] && x[_0x4e57("0x1")]("maxY") && e[_0x4e57("0x58b")](225)[_0x4e57("0x58e")](x[_0x4e57("0x35f")]), null != x[_0x4e57("0x420")] && x[_0x4e57("0x1")](_0x4e57("0x420")) && e.uint32(234)[_0x4e57("0xb")](x[_0x4e57("0x420")]), null != x[_0x4e57("0x524")] && x[_0x4e57("0x1")](_0x4e57("0x524")) && e[_0x4e57("0x58b")](242)[_0x4e57("0xb")](x[_0x4e57("0x524")]), null != x[_0x4e57("0x4b3")] && x[_0x4e57("0x1")](_0x4e57("0x4b3")) && e[_0x4e57("0x58b")](250)[_0x4e57("0xb")](x.FloorBarName), null != x[_0x4e57("0x54b")] && x.hasOwnProperty("FloorHigh") && e[_0x4e57("0x58b")](256)[_0x4e57("0x58c")](x[_0x4e57("0x54b")]), null != x[_0x4e57("0x43c")] && x.floors[_0x4e57("0x0")]) for (var _ = 0; _ < x.floors.length; ++_) s[_0x4e57("0x592")][_0x4e57("0x58a")](x[_0x4e57("0x43c")][_], e[_0x4e57("0x58b")](266).fork())[_0x4e57("0x593")]();
            if (null != x.navs && x.navs.length) for (_ = 0; _ < x[_0x4e57("0x4b8")][_0x4e57("0x0")]; ++_) s.NavSet[_0x4e57("0x58a")](x[_0x4e57("0x4b8")][_], e[_0x4e57("0x58b")](274)[_0x4e57("0x594")]())[_0x4e57("0x593")]();
            if (null != x[_0x4e57("0x580")] && x[_0x4e57("0x580")][_0x4e57("0x0")]) for (_ = 0; _ < x[_0x4e57("0x580")][_0x4e57("0x0")]; ++_) s[_0x4e57("0x595")][_0x4e57("0x58a")](x[_0x4e57("0x580")][_], e[_0x4e57("0x58b")](282).fork()).ldelim();
            return null != x[_0x4e57("0x53d")] && x.hasOwnProperty(_0x4e57("0x53d")) && e[_0x4e57("0x58b")](290)[_0x4e57("0xb")](x[_0x4e57("0x53d")]), null != x[_0x4e57("0x4e2")] && x.hasOwnProperty(_0x4e57("0x4e2")) && e[_0x4e57("0x58b")](298)[_0x4e57("0xb")](x[_0x4e57("0x4e2")]), null != x.bid && x[_0x4e57("0x1")](_0x4e57("0x528")) && e[_0x4e57("0x58b")](306).string(x[_0x4e57("0x528")]), null != x[_0x4e57("0x523")] && x[_0x4e57("0x1")](_0x4e57("0x523")) && e[_0x4e57("0x58b")](314)[_0x4e57("0xb")](x[_0x4e57("0x523")]), null != x.other1 && x[_0x4e57("0x1")](_0x4e57("0x589")) && e[_0x4e57("0x58b")](322).string(x[_0x4e57("0x589")]), null != x.o1 && x[_0x4e57("0x1")]("o1") && e[_0x4e57("0x58b")](328)[_0x4e57("0x58c")](x.o1), null != x[_0x4e57("0x596")] && x.hasOwnProperty(_0x4e57("0x596")) && e[_0x4e57("0x58b")](338)[_0x4e57("0xb")](x[_0x4e57("0x596")]), null != x.o2 && x[_0x4e57("0x1")]("o2") && e[_0x4e57("0x58b")](344)[_0x4e57("0x58c")](x.o2), null != x.ul && x.hasOwnProperty("ul") && e[_0x4e57("0x58b")](352)[_0x4e57("0x58c")](x.ul), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e).ldelim()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x.len : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x520")]); x[_0x4e57("0x599")] < _;) {
                var i = x[_0x4e57("0x58b")]();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x522")] = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t.maptime = x.int32();
                        break;
                    case 3:
                        t[_0x4e57("0x539")] = x[_0x4e57("0xb")]();
                        break;
                    case 4:
                        t._id = x[_0x4e57("0x58c")]();
                        break;
                    case 5:
                        t[_0x4e57("0x581")] = x[_0x4e57("0x58c")]();
                        break;
                    case 6:
                        t[_0x4e57("0x269")] = x.string();
                        break;
                    case 7:
                        t[_0x4e57("0x4b6")] = x[_0x4e57("0xb")]();
                        break;
                    case 8:
                        t[_0x4e57("0x582")] = x.string();
                        break;
                    case 9:
                        t.adcode = x[_0x4e57("0xb")]();
                        break;
                    case 10:
                        t[_0x4e57("0x58d")] = x[_0x4e57("0xb")]();
                        break;
                    case 11:
                        t.AS = x[_0x4e57("0x58e")]();
                        break;
                    case 12:
                        t.BuildingHigh = x[_0x4e57("0x590")]();
                        break;
                    case 13:
                        t[_0x4e57("0x591")] = x[_0x4e57("0xb")]();
                        break;
                    case 14:
                        t[_0x4e57("0x583")] = x.double();
                        break;
                    case 15:
                        t[_0x4e57("0x584")] = x[_0x4e57("0x58e")]();
                        break;
                    case 16:
                        t[_0x4e57("0x585")] = x[_0x4e57("0x58e")]();
                        break;
                    case 17:
                        t[_0x4e57("0x426")] = x[_0x4e57("0x58e")]();
                        break;
                    case 18:
                        t.DefaultFnum = x[_0x4e57("0x58c")]();
                        break;
                    case 19:
                        t[_0x4e57("0x53c")] = x[_0x4e57("0x58e")]();
                        break;
                    case 20:
                        t[_0x4e57("0x586")] = x[_0x4e57("0x58e")]();
                        break;
                    case 21:
                        t[_0x4e57("0x587")] = x[_0x4e57("0x58e")]();
                        break;
                    case 22:
                        t.x = x[_0x4e57("0x58e")]();
                        break;
                    case 23:
                        t.y = x[_0x4e57("0x58e")]();
                        break;
                    case 24:
                        t.z = x[_0x4e57("0x58e")]();
                        break;
                    case 25:
                        t[_0x4e57("0x35e")] = x.double();
                        break;
                    case 26:
                        t[_0x4e57("0x364")] = x[_0x4e57("0x58e")]();
                        break;
                    case 27:
                        t[_0x4e57("0x35d")] = x[_0x4e57("0x58e")]();
                        break;
                    case 28:
                        t[_0x4e57("0x35f")] = x[_0x4e57("0x58e")]();
                        break;
                    case 29:
                        t.ScaleLevel = x[_0x4e57("0xb")]();
                        break;
                    case 30:
                        t[_0x4e57("0x524")] = x[_0x4e57("0xb")]();
                        break;
                    case 31:
                        t[_0x4e57("0x4b3")] = x[_0x4e57("0xb")]();
                        break;
                    case 32:
                        t[_0x4e57("0x54b")] = x[_0x4e57("0x58c")]();
                        break;
                    case 33:
                        t.floors && t[_0x4e57("0x43c")][_0x4e57("0x0")] || (t[_0x4e57("0x43c")] = []), t[_0x4e57("0x43c")][_0x4e57("0xf")](s[_0x4e57("0x592")][_0x4e57("0x598")](x, x[_0x4e57("0x58b")]()));
                        break;
                    case 34:
                        t[_0x4e57("0x4b8")] && t.navs[_0x4e57("0x0")] || (t[_0x4e57("0x4b8")] = []), t[_0x4e57("0x4b8")][_0x4e57("0xf")](s[_0x4e57("0x59a")].decode(x, x.uint32()));
                        break;
                    case 35:
                        t[_0x4e57("0x580")] && t[_0x4e57("0x580")].length || (t[_0x4e57("0x580")] = []), t[_0x4e57("0x580")][_0x4e57("0xf")](s[_0x4e57("0x595")][_0x4e57("0x598")](x, x[_0x4e57("0x58b")]()));
                        break;
                    case 36:
                        t[_0x4e57("0x53d")] = x[_0x4e57("0xb")]();
                        break;
                    case 37:
                        t[_0x4e57("0x4e2")] = x.string();
                        break;
                    case 38:
                        t[_0x4e57("0x528")] = x[_0x4e57("0xb")]();
                        break;
                    case 39:
                        t.logotoken = x[_0x4e57("0xb")]();
                        break;
                    case 40:
                        t[_0x4e57("0x589")] = x[_0x4e57("0xb")]();
                        break;
                    case 41:
                        t.o1 = x[_0x4e57("0x58c")]();
                        break;
                    case 42:
                        t.other2 = x.string();
                        break;
                    case 43:
                        t.o2 = x[_0x4e57("0x58c")]();
                        break;
                    case 44:
                        t.ul = x[_0x4e57("0x58c")]();
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            if ((typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x) return "object expected";
            if (null != x[_0x4e57("0x522")] && x.hasOwnProperty(_0x4e57("0x522")) && !A.isInteger(x.version)) return "version: integer expected";
            if (null != x[_0x4e57("0x421")] && x.hasOwnProperty(_0x4e57("0x421")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x421")])) return _0x4e57("0x59f");
            if (null != x.Hash && x[_0x4e57("0x1")](_0x4e57("0x539")) && !A.isString(x[_0x4e57("0x539")])) return _0x4e57("0x5a0");
            if (null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && !A[_0x4e57("0x59e")](x._id)) return _0x4e57("0x5a1");
            if (null != x[_0x4e57("0x581")] && x[_0x4e57("0x1")](_0x4e57("0x581")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x581")])) return "Type: integer expected";
            if (null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x269")])) return _0x4e57("0x5a3");
            if (null != x[_0x4e57("0x4b6")] && x[_0x4e57("0x1")]("nameEn") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x4b6")])) return _0x4e57("0x5a4");
            if (null != x[_0x4e57("0x582")] && x.hasOwnProperty(_0x4e57("0x582")) && !A.isString(x[_0x4e57("0x582")])) return _0x4e57("0x5a5");
            if (null != x[_0x4e57("0x53b")] && x[_0x4e57("0x1")]("adcode") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x53b")])) return _0x4e57("0x5a6");
            if (null != x[_0x4e57("0x58d")] && x[_0x4e57("0x1")](_0x4e57("0x58d")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x58d")])) return _0x4e57("0x5a7");
            if (null != x.AS && x.hasOwnProperty("AS") && typeof x.AS !== _0x4e57("0x208")) return _0x4e57("0x5a8");
            if (null != x[_0x4e57("0x58f")] && x.hasOwnProperty(_0x4e57("0x58f")) && typeof x[_0x4e57("0x58f")] !== _0x4e57("0x208")) return _0x4e57("0x5a9");
            if (null != x.Tel && x[_0x4e57("0x1")](_0x4e57("0x591")) && !A[_0x4e57("0x5a2")](x.Tel)) return "Tel: string expected";
            if (null != x[_0x4e57("0x583")] && x[_0x4e57("0x1")]("FirstRotateAngleX") && typeof x[_0x4e57("0x583")] !== _0x4e57("0x208")) return "FirstRotateAngleX: number expected";
            if (null != x[_0x4e57("0x584")] && x.hasOwnProperty("FirstRotateAngleY") && typeof x[_0x4e57("0x584")] !== _0x4e57("0x208")) return _0x4e57("0x5aa");
            if (null != x.FirstRotateAngleZ && x.hasOwnProperty(_0x4e57("0x585")) && typeof x[_0x4e57("0x585")] !== _0x4e57("0x208")) return _0x4e57("0x5ab");
            if (null != x.Firstscale && x.hasOwnProperty("Firstscale") && "number" != typeof x[_0x4e57("0x426")]) return "Firstscale: number expected";
            if (null != x[_0x4e57("0x547")] && x[_0x4e57("0x1")](_0x4e57("0x547")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x547")])) return _0x4e57("0x5ac");
            if (null != x[_0x4e57("0x53c")] && x[_0x4e57("0x1")](_0x4e57("0x53c")) && typeof x[_0x4e57("0x53c")] !== _0x4e57("0x208")) return _0x4e57("0x5ad");
            if (null != x[_0x4e57("0x586")] && x[_0x4e57("0x1")](_0x4e57("0x586")) && typeof x[_0x4e57("0x586")] !== _0x4e57("0x208")) return _0x4e57("0x5ae");
            if (null != x[_0x4e57("0x587")] && x.hasOwnProperty(_0x4e57("0x587")) && typeof x.DefaultCenZ !== _0x4e57("0x208")) return "DefaultCenZ: number expected";
            if (null != x.x && x[_0x4e57("0x1")]("x") && typeof x.x !== _0x4e57("0x208")) return _0x4e57("0x5af");
            if (null != x.y && x[_0x4e57("0x1")]("y") && typeof x.y !== _0x4e57("0x208")) return _0x4e57("0x5b0");
            if (null != x.z && x[_0x4e57("0x1")]("z") && "number" != typeof x.z) return _0x4e57("0x5b1");
            if (null != x.minX && x[_0x4e57("0x1")](_0x4e57("0x35e")) && "number" != typeof x.minX) return _0x4e57("0x5b2");
            if (null != x[_0x4e57("0x364")] && x[_0x4e57("0x1")](_0x4e57("0x364")) && typeof x[_0x4e57("0x364")] !== _0x4e57("0x208")) return _0x4e57("0x5b3");
            if (null != x[_0x4e57("0x35d")] && x[_0x4e57("0x1")](_0x4e57("0x35d")) && typeof x.maxX !== _0x4e57("0x208")) return _0x4e57("0x5b4");
            if (null != x[_0x4e57("0x35f")] && x[_0x4e57("0x1")]("maxY") && typeof x[_0x4e57("0x35f")] !== _0x4e57("0x208")) return _0x4e57("0x5b5");
            if (null != x[_0x4e57("0x420")] && x.hasOwnProperty(_0x4e57("0x420")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x420")])) return _0x4e57("0x5b6");
            if (null != x[_0x4e57("0x524")] && x[_0x4e57("0x1")](_0x4e57("0x524")) && !A[_0x4e57("0x5a2")](x.Remark)) return _0x4e57("0x5b7");
            if (null != x[_0x4e57("0x4b3")] && x[_0x4e57("0x1")](_0x4e57("0x4b3")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x4b3")])) return _0x4e57("0x5b8");
            if (null != x[_0x4e57("0x54b")] && x.hasOwnProperty(_0x4e57("0x54b")) && !A[_0x4e57("0x59e")](x.FloorHigh)) return _0x4e57("0x5b9");
            if (null != x[_0x4e57("0x43c")] && x[_0x4e57("0x1")](_0x4e57("0x43c"))) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x43c")])) return _0x4e57("0x5ba");
                for (var e = 0; e < x.floors[_0x4e57("0x0")]; ++e) {
                    if (_ = s[_0x4e57("0x592")][_0x4e57("0x59d")](x[_0x4e57("0x43c")][e])) return _0x4e57("0x5bb") + _
                }
            }
            if (null != x[_0x4e57("0x4b8")] && x[_0x4e57("0x1")](_0x4e57("0x4b8"))) {
                if (!Array.isArray(x.navs)) return _0x4e57("0x5bc");
                for (e = 0; e < x[_0x4e57("0x4b8")][_0x4e57("0x0")]; ++e) {
                    if (_ = s[_0x4e57("0x59a")][_0x4e57("0x59d")](x[_0x4e57("0x4b8")][e])) return _0x4e57("0x5bd") + _
                }
            }
            if (null != x[_0x4e57("0x580")] && x[_0x4e57("0x1")]("panos")) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x580")])) return _0x4e57("0x5be");
                for (e = 0; e < x.panos[_0x4e57("0x0")]; ++e) {
                    var _;
                    if (_ = s.PicSet[_0x4e57("0x59d")](x.panos[e])) return _0x4e57("0x5bf") + _
                }
            }
            return null != x[_0x4e57("0x53d")] && x[_0x4e57("0x1")](_0x4e57("0x53d")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x53d")]) ? _0x4e57("0x5c0") : null != x[_0x4e57("0x4e2")] && x.hasOwnProperty(_0x4e57("0x4e2")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x4e2")]) ? _0x4e57("0x5c1") : null != x.bid && x.hasOwnProperty(_0x4e57("0x528")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x528")]) ? "bid: string expected" : null != x[_0x4e57("0x523")] && x.hasOwnProperty("logotoken") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x523")]) ? _0x4e57("0x5c2") : null != x.other1 && x[_0x4e57("0x1")](_0x4e57("0x589")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x589")]) ? "other1: string expected" : null != x.o1 && x[_0x4e57("0x1")]("o1") && !A[_0x4e57("0x59e")](x.o1) ? "o1: integer expected" : null != x[_0x4e57("0x596")] && x[_0x4e57("0x1")]("other2") && !A.isString(x[_0x4e57("0x596")]) ? "other2: string expected" : null != x.o2 && x[_0x4e57("0x1")]("o2") && !A[_0x4e57("0x59e")](x.o2) ? _0x4e57("0x5c3") : null != x.ul && x[_0x4e57("0x1")]("ul") && !A.isInteger(x.ul) ? _0x4e57("0x5c4") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x520")]) return x;
            var e = new (s[_0x4e57("0x520")]);
            if (null != x[_0x4e57("0x522")] && (e.version = 0 | x[_0x4e57("0x522")]), null != x[_0x4e57("0x421")] && (e[_0x4e57("0x421")] = 0 | x[_0x4e57("0x421")]), null != x.Hash && (e[_0x4e57("0x539")] = String(x[_0x4e57("0x539")])), null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x._id), null != x[_0x4e57("0x581")] && (e[_0x4e57("0x581")] = 0 | x[_0x4e57("0x581")]), null != x.name && (e[_0x4e57("0x269")] = String(x.name)), null != x[_0x4e57("0x4b6")] && (e[_0x4e57("0x4b6")] = String(x[_0x4e57("0x4b6")])), null != x[_0x4e57("0x582")] && (e.Brief = String(x[_0x4e57("0x582")])), null != x[_0x4e57("0x53b")] && (e[_0x4e57("0x53b")] = String(x[_0x4e57("0x53b")])), null != x[_0x4e57("0x58d")] && (e.address = String(x[_0x4e57("0x58d")])), null != x.AS && (e.AS = Number(x.AS)), null != x[_0x4e57("0x58f")] && (e[_0x4e57("0x58f")] = Number(x[_0x4e57("0x58f")])), null != x[_0x4e57("0x591")] && (e.Tel = String(x[_0x4e57("0x591")])), null != x[_0x4e57("0x583")] && (e.FirstRotateAngleX = Number(x[_0x4e57("0x583")])), null != x.FirstRotateAngleY && (e.FirstRotateAngleY = Number(x.FirstRotateAngleY)), null != x[_0x4e57("0x585")] && (e[_0x4e57("0x585")] = Number(x[_0x4e57("0x585")])), null != x[_0x4e57("0x426")] && (e[_0x4e57("0x426")] = Number(x[_0x4e57("0x426")])), null != x[_0x4e57("0x547")] && (e[_0x4e57("0x547")] = 0 | x[_0x4e57("0x547")]), null != x[_0x4e57("0x53c")] && (e.DefaultCenX = Number(x[_0x4e57("0x53c")])), null != x[_0x4e57("0x586")] && (e[_0x4e57("0x586")] = Number(x[_0x4e57("0x586")])), null != x[_0x4e57("0x587")] && (e[_0x4e57("0x587")] = Number(x[_0x4e57("0x587")])), null != x.x && (e.x = Number(x.x)), null != x.y && (e.y = Number(x.y)), null != x.z && (e.z = Number(x.z)), null != x[_0x4e57("0x35e")] && (e.minX = Number(x.minX)), null != x[_0x4e57("0x364")] && (e[_0x4e57("0x364")] = Number(x[_0x4e57("0x364")])), null != x.maxX && (e[_0x4e57("0x35d")] = Number(x[_0x4e57("0x35d")])), null != x[_0x4e57("0x35f")] && (e[_0x4e57("0x35f")] = Number(x[_0x4e57("0x35f")])), null != x.ScaleLevel && (e[_0x4e57("0x420")] = String(x[_0x4e57("0x420")])), null != x[_0x4e57("0x524")] && (e[_0x4e57("0x524")] = String(x[_0x4e57("0x524")])), null != x[_0x4e57("0x4b3")] && (e[_0x4e57("0x4b3")] = String(x[_0x4e57("0x4b3")])), null != x[_0x4e57("0x54b")] && (e[_0x4e57("0x54b")] = 0 | x[_0x4e57("0x54b")]), x[_0x4e57("0x43c")]) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x43c")])) throw TypeError(_0x4e57("0x5c6"));
                e[_0x4e57("0x43c")] = [];
                for (var _ = 0; _ < x[_0x4e57("0x43c")].length; ++_) {
                    if ((0, i.default)(x[_0x4e57("0x43c")][_]) !== _0x4e57("0x9")) throw TypeError(".ESMapSet.floors: object expected");
                    e[_0x4e57("0x43c")][_] = s[_0x4e57("0x592")][_0x4e57("0x5c5")](x[_0x4e57("0x43c")][_])
                }
            }
            if (x[_0x4e57("0x4b8")]) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x4b8")])) throw TypeError(_0x4e57("0x5c7"));
                e[_0x4e57("0x4b8")] = [];
                for (_ = 0; _ < x[_0x4e57("0x4b8")][_0x4e57("0x0")]; ++_) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x4b8")][_]) !== _0x4e57("0x9")) throw TypeError(_0x4e57("0x5c8"));
                    e[_0x4e57("0x4b8")][_] = s[_0x4e57("0x59a")].fromObject(x[_0x4e57("0x4b8")][_])
                }
            }
            if (x[_0x4e57("0x580")]) {
                if (!Array.isArray(x[_0x4e57("0x580")])) throw TypeError(_0x4e57("0x5c9"));
                e[_0x4e57("0x580")] = [];
                for (_ = 0; _ < x[_0x4e57("0x580")][_0x4e57("0x0")]; ++_) {
                    if ((0, i.default)(x.panos[_]) !== _0x4e57("0x9")) throw TypeError(_0x4e57("0x5ca"));
                    e.panos[_] = s[_0x4e57("0x595")][_0x4e57("0x5c5")](x[_0x4e57("0x580")][_])
                }
            }
            return null != x[_0x4e57("0x53d")] && (e.styleid = String(x.styleid)), null != x[_0x4e57("0x4e2")] && (e[_0x4e57("0x4e2")] = String(x.token)), null != x[_0x4e57("0x528")] && (e[_0x4e57("0x528")] = String(x[_0x4e57("0x528")])), null != x[_0x4e57("0x523")] && (e[_0x4e57("0x523")] = String(x[_0x4e57("0x523")])), null != x.other1 && (e[_0x4e57("0x589")] = String(x[_0x4e57("0x589")])), null != x.o1 && (e.o1 = 0 | x.o1), null != x[_0x4e57("0x596")] && (e.other2 = String(x[_0x4e57("0x596")])), null != x.o2 && (e.o2 = 0 | x.o2), null != x.ul && (e.ul = 0 | x.ul), e
        }, e[_0x4e57("0x5cb")] = e.fromObject, e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            if ((e[_0x4e57("0x5cd")] || e[_0x4e57("0x5ce")]) && (_.floors = [], _[_0x4e57("0x4b8")] = [], _[_0x4e57("0x580")] = []), e[_0x4e57("0x5ce")] && (_[_0x4e57("0x522")] = 0, _.maptime = 0, _[_0x4e57("0x539")] = "", _[_0x4e57("0x537")] = 0, _.Type = 0, _[_0x4e57("0x269")] = "", _.nameEn = "", _.Brief = "", _[_0x4e57("0x53b")] = "", _.address = "", _.AS = 0, _[_0x4e57("0x58f")] = 0, _.Tel = "", _[_0x4e57("0x583")] = 0, _[_0x4e57("0x584")] = 0, _.FirstRotateAngleZ = 0, _[_0x4e57("0x426")] = 0, _[_0x4e57("0x547")] = 0, _[_0x4e57("0x53c")] = 0, _[_0x4e57("0x586")] = 0, _.DefaultCenZ = 0, _.x = 0, _.y = 0, _.z = 0, _[_0x4e57("0x35e")] = 0, _[_0x4e57("0x364")] = 0, _.maxX = 0, _.maxY = 0, _[_0x4e57("0x420")] = "", _[_0x4e57("0x524")] = "", _[_0x4e57("0x4b3")] = "", _[_0x4e57("0x54b")] = 0, _.styleid = "", _[_0x4e57("0x4e2")] = "", _[_0x4e57("0x528")] = "", _[_0x4e57("0x523")] = "", _.other1 = "", _.o1 = 0, _[_0x4e57("0x596")] = "", _.o2 = 0, _.ul = 0), null != x.version && x[_0x4e57("0x1")](_0x4e57("0x522")) && (_.version = x.version), null != x[_0x4e57("0x421")] && x[_0x4e57("0x1")](_0x4e57("0x421")) && (_[_0x4e57("0x421")] = x[_0x4e57("0x421")]), null != x[_0x4e57("0x539")] && x[_0x4e57("0x1")]("Hash") && (_[_0x4e57("0x539")] = x[_0x4e57("0x539")]), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && (_[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x581")] && x[_0x4e57("0x1")](_0x4e57("0x581")) && (_[_0x4e57("0x581")] = x[_0x4e57("0x581")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && (_.name = x[_0x4e57("0x269")]), null != x.nameEn && x[_0x4e57("0x1")](_0x4e57("0x4b6")) && (_[_0x4e57("0x4b6")] = x.nameEn), null != x.Brief && x[_0x4e57("0x1")](_0x4e57("0x582")) && (_[_0x4e57("0x582")] = x.Brief), null != x.adcode && x.hasOwnProperty("adcode") && (_[_0x4e57("0x53b")] = x[_0x4e57("0x53b")]), null != x[_0x4e57("0x58d")] && x[_0x4e57("0x1")](_0x4e57("0x58d")) && (_.address = x.address), null != x.AS && x[_0x4e57("0x1")]("AS") && (_.AS = x.AS), null != x[_0x4e57("0x58f")] && x[_0x4e57("0x1")](_0x4e57("0x58f")) && (_.BuildingHigh = x[_0x4e57("0x58f")]), null != x.Tel && x[_0x4e57("0x1")](_0x4e57("0x591")) && (_[_0x4e57("0x591")] = x[_0x4e57("0x591")]), null != x[_0x4e57("0x583")] && x[_0x4e57("0x1")](_0x4e57("0x583")) && (_[_0x4e57("0x583")] = x.FirstRotateAngleX), null != x[_0x4e57("0x584")] && x[_0x4e57("0x1")](_0x4e57("0x584")) && (_.FirstRotateAngleY = x[_0x4e57("0x584")]), null != x[_0x4e57("0x585")] && x.hasOwnProperty(_0x4e57("0x585")) && (_[_0x4e57("0x585")] = x[_0x4e57("0x585")]), null != x[_0x4e57("0x426")] && x.hasOwnProperty(_0x4e57("0x426")) && (_[_0x4e57("0x426")] = x[_0x4e57("0x426")]), null != x[_0x4e57("0x547")] && x[_0x4e57("0x1")]("DefaultFnum") && (_[_0x4e57("0x547")] = x[_0x4e57("0x547")]), null != x[_0x4e57("0x53c")] && x[_0x4e57("0x1")](_0x4e57("0x53c")) && (_.DefaultCenX = x[_0x4e57("0x53c")]), null != x[_0x4e57("0x586")] && x[_0x4e57("0x1")](_0x4e57("0x586")) && (_[_0x4e57("0x586")] = x[_0x4e57("0x586")]), null != x[_0x4e57("0x587")] && x[_0x4e57("0x1")]("DefaultCenZ") && (_.DefaultCenZ = x[_0x4e57("0x587")]), null != x.x && x[_0x4e57("0x1")]("x") && (_.x = x.x), null != x.y && x[_0x4e57("0x1")]("y") && (_.y = x.y), null != x.z && x[_0x4e57("0x1")]("z") && (_.z = x.z), null != x[_0x4e57("0x35e")] && x[_0x4e57("0x1")](_0x4e57("0x35e")) && (_[_0x4e57("0x35e")] = x[_0x4e57("0x35e")]), null != x[_0x4e57("0x364")] && x[_0x4e57("0x1")](_0x4e57("0x364")) && (_[_0x4e57("0x364")] = x[_0x4e57("0x364")]), null != x[_0x4e57("0x35d")] && x[_0x4e57("0x1")](_0x4e57("0x35d")) && (_[_0x4e57("0x35d")] = x[_0x4e57("0x35d")]), null != x[_0x4e57("0x35f")] && x[_0x4e57("0x1")](_0x4e57("0x35f")) && (_[_0x4e57("0x35f")] = x[_0x4e57("0x35f")]), null != x[_0x4e57("0x420")] && x[_0x4e57("0x1")]("ScaleLevel") && (_.ScaleLevel = x.ScaleLevel), null != x[_0x4e57("0x524")] && x[_0x4e57("0x1")](_0x4e57("0x524")) && (_.Remark = x[_0x4e57("0x524")]), null != x.FloorBarName && x[_0x4e57("0x1")](_0x4e57("0x4b3")) && (_[_0x4e57("0x4b3")] = x.FloorBarName), null != x[_0x4e57("0x54b")] && x[_0x4e57("0x1")](_0x4e57("0x54b")) && (_[_0x4e57("0x54b")] = x[_0x4e57("0x54b")]), x[_0x4e57("0x43c")] && x.floors.length) {
                _[_0x4e57("0x43c")] = [];
                for (var t = 0; t < x[_0x4e57("0x43c")][_0x4e57("0x0")]; ++t) _[_0x4e57("0x43c")][t] = s[_0x4e57("0x592")][_0x4e57("0x5cc")](x[_0x4e57("0x43c")][t], e)
            }
            if (x[_0x4e57("0x4b8")] && x.navs[_0x4e57("0x0")]) {
                _[_0x4e57("0x4b8")] = [];
                for (t = 0; t < x[_0x4e57("0x4b8")][_0x4e57("0x0")]; ++t) _[_0x4e57("0x4b8")][t] = s[_0x4e57("0x59a")][_0x4e57("0x5cc")](x[_0x4e57("0x4b8")][t], e)
            }
            if (x[_0x4e57("0x580")] && x[_0x4e57("0x580")][_0x4e57("0x0")]) {
                _[_0x4e57("0x580")] = [];
                for (t = 0; t < x[_0x4e57("0x580")].length; ++t) _[_0x4e57("0x580")][t] = s[_0x4e57("0x595")][_0x4e57("0x5cc")](x[_0x4e57("0x580")][t], e)
            }
            return null != x[_0x4e57("0x53d")] && x[_0x4e57("0x1")](_0x4e57("0x53d")) && (_[_0x4e57("0x53d")] = x[_0x4e57("0x53d")]), null != x[_0x4e57("0x4e2")] && x[_0x4e57("0x1")](_0x4e57("0x4e2")) && (_[_0x4e57("0x4e2")] = x[_0x4e57("0x4e2")]), null != x[_0x4e57("0x528")] && x[_0x4e57("0x1")]("bid") && (_[_0x4e57("0x528")] = x.bid), null != x.logotoken && x[_0x4e57("0x1")](_0x4e57("0x523")) && (_[_0x4e57("0x523")] = x[_0x4e57("0x523")]), null != x[_0x4e57("0x589")] && x[_0x4e57("0x1")]("other1") && (_[_0x4e57("0x589")] = x[_0x4e57("0x589")]), null != x.o1 && x[_0x4e57("0x1")]("o1") && (_.o1 = x.o1), null != x[_0x4e57("0x596")] && x[_0x4e57("0x1")]("other2") && (_[_0x4e57("0x596")] = x.other2), null != x.o2 && x[_0x4e57("0x1")]("o2") && (_.o2 = x.o2), null != x.ul && x[_0x4e57("0x1")]("ul") && (_.ul = x.ul), _
        }, e[_0x4e57("0xd")].toObject = function (x) {
            return this[_0x4e57("0x1b2")].toObject(this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")].toObject(this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x592")] = function () {
        function e(x) {
            if (this[_0x4e57("0x562")] = {}, this.Facility = {}, this[_0x4e57("0x55f")] = {}, this[_0x4e57("0x563")] = {}, x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x429")] = 0, e[_0x4e57("0xd")].floornumtext = 0, e.prototype[_0x4e57("0x269")] = "", e.prototype.NameEn = "", e.prototype.AS = 0, e[_0x4e57("0xd")].Height = 0, e[_0x4e57("0xd")][_0x4e57("0x45f")] = 0, e[_0x4e57("0xd")][_0x4e57("0x54e")] = "", e[_0x4e57("0xd")].Alias = "", e[_0x4e57("0xd")].Rooms = A[_0x4e57("0x5d1")], e[_0x4e57("0xd")][_0x4e57("0x433")] = A.emptyObject, e[_0x4e57("0xd")].Labels = A[_0x4e57("0x5d1")], e[_0x4e57("0xd")][_0x4e57("0x563")] = A.emptyObject, e[_0x4e57("0xd")][_0x4e57("0x431")] = "", e[_0x4e57("0xd")][_0x4e57("0x5d2")] = "", e[_0x4e57("0xd")][_0x4e57("0x589")] = "", e[_0x4e57("0xd")][_0x4e57("0x596")] = "", e.create = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            if (e || (e = r.create()), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x._id), null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && e.uint32(16)[_0x4e57("0x58c")](x[_0x4e57("0x429")]), null != x.floornumtext && x.hasOwnProperty(_0x4e57("0x5d3")) && e.uint32(24)[_0x4e57("0x58c")](x.floornumtext), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && e[_0x4e57("0x58b")](34).string(x[_0x4e57("0x269")]), null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && e[_0x4e57("0x58b")](42)[_0x4e57("0xb")](x[_0x4e57("0x4b5")]), null != x.AS && x.hasOwnProperty("AS") && e[_0x4e57("0x58b")](49)[_0x4e57("0x58e")](x.AS), null != x[_0x4e57("0x5d4")] && x[_0x4e57("0x1")](_0x4e57("0x5d4")) && e[_0x4e57("0x58b")](56)[_0x4e57("0x58c")](x[_0x4e57("0x5d4")]), null != x[_0x4e57("0x45f")] && x[_0x4e57("0x1")](_0x4e57("0x45f")) && e[_0x4e57("0x58b")](64)[_0x4e57("0x58c")](x[_0x4e57("0x45f")]), null != x.Outline && x[_0x4e57("0x1")]("Outline") && e[_0x4e57("0x58b")](74).string(x[_0x4e57("0x54e")]), null != x.Alias && x[_0x4e57("0x1")](_0x4e57("0x5d5")) && e[_0x4e57("0x58b")](82)[_0x4e57("0xb")](x.Alias), null != x[_0x4e57("0x562")] && x.hasOwnProperty(_0x4e57("0x562"))) for (var _ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x562")]), t = 0; t < _[_0x4e57("0x0")]; ++t) e[_0x4e57("0x58b")](90)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s[_0x4e57("0x5d6")][_0x4e57("0x58a")](x[_0x4e57("0x562")][_[t]], e[_0x4e57("0x58b")](18)[_0x4e57("0x594")]())[_0x4e57("0x593")]()[_0x4e57("0x593")]();
            if (null != x[_0x4e57("0x433")] && x.hasOwnProperty("Facility")) for (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x433")]), t = 0; t < _[_0x4e57("0x0")]; ++t) e[_0x4e57("0x58b")](98).fork()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s[_0x4e57("0x5d7")][_0x4e57("0x58a")](x[_0x4e57("0x433")][_[t]], e[_0x4e57("0x58b")](18).fork())[_0x4e57("0x593")]()[_0x4e57("0x593")]();
            if (null != x[_0x4e57("0x55f")] && x[_0x4e57("0x1")](_0x4e57("0x55f"))) for (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x55f")]), t = 0; t < _[_0x4e57("0x0")]; ++t) e[_0x4e57("0x58b")](106)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s.POISet[_0x4e57("0x58a")](x[_0x4e57("0x55f")][_[t]], e.uint32(18).fork()).ldelim()[_0x4e57("0x593")]();
            if (null != x.Lifts && x.hasOwnProperty(_0x4e57("0x563"))) for (_ = (0, a.default)(x[_0x4e57("0x563")]), t = 0; t < _.length; ++t) e[_0x4e57("0x58b")](114)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s[_0x4e57("0x5d8")].encode(x[_0x4e57("0x563")][_[t]], e.uint32(18)[_0x4e57("0x594")]()).ldelim().ldelim();
            return null != x.image && x.hasOwnProperty(_0x4e57("0x431")) && e[_0x4e57("0x58b")](122)[_0x4e57("0xb")](x[_0x4e57("0x431")]), null != x[_0x4e57("0x5d2")] && x[_0x4e57("0x1")](_0x4e57("0x5d2")) && e[_0x4e57("0x58b")](130)[_0x4e57("0xb")](x.imagesize), null != x[_0x4e57("0x589")] && x.hasOwnProperty(_0x4e57("0x589")) && e[_0x4e57("0x58b")](138)[_0x4e57("0xb")](x.other1), null != x[_0x4e57("0x596")] && x[_0x4e57("0x1")](_0x4e57("0x596")) && e[_0x4e57("0x58b")](146)[_0x4e57("0xb")](x[_0x4e57("0x596")]), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e.decode = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _, t = void 0 === e ? x.len : x[_0x4e57("0x599")] + e, i = new (s[_0x4e57("0x592")]); x[_0x4e57("0x599")] < t;) {
                var a = x[_0x4e57("0x58b")]();
                switch (a >>> 3) {
                    case 1:
                        i._id = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        i[_0x4e57("0x429")] = x.int32();
                        break;
                    case 3:
                        i.floornumtext = x.int32();
                        break;
                    case 4:
                        i.name = x[_0x4e57("0xb")]();
                        break;
                    case 5:
                        i.NameEn = x[_0x4e57("0xb")]();
                        break;
                    case 6:
                        i.AS = x[_0x4e57("0x58e")]();
                        break;
                    case 7:
                        i.Height = x[_0x4e57("0x58c")]();
                        break;
                    case 8:
                        i[_0x4e57("0x45f")] = x[_0x4e57("0x58c")]();
                        break;
                    case 9:
                        i[_0x4e57("0x54e")] = x[_0x4e57("0xb")]();
                        break;
                    case 10:
                        i.Alias = x.string();
                        break;
                    case 11:
                        x[_0x4e57("0x5d9")]()[_0x4e57("0x599")]++, i[_0x4e57("0x562")] === A[_0x4e57("0x5d1")] && (i[_0x4e57("0x562")] = {}), _ = x.int32(), x.pos++, i[_0x4e57("0x562")][_] = s.RoomSet[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]());
                        break;
                    case 12:
                        x[_0x4e57("0x5d9")]().pos++, i[_0x4e57("0x433")] === A[_0x4e57("0x5d1")] && (i[_0x4e57("0x433")] = {}), _ = x[_0x4e57("0x58c")](), x.pos++, i[_0x4e57("0x433")][_] = s[_0x4e57("0x5d7")][_0x4e57("0x598")](x, x.uint32());
                        break;
                    case 13:
                        x[_0x4e57("0x5d9")]()[_0x4e57("0x599")]++, i[_0x4e57("0x55f")] === A.emptyObject && (i[_0x4e57("0x55f")] = {}), _ = x[_0x4e57("0x58c")](), x.pos++, i[_0x4e57("0x55f")][_] = s[_0x4e57("0x5d7")][_0x4e57("0x598")](x, x.uint32());
                        break;
                    case 14:
                        x[_0x4e57("0x5d9")]()[_0x4e57("0x599")]++, i[_0x4e57("0x563")] === A[_0x4e57("0x5d1")] && (i[_0x4e57("0x563")] = {}), _ = x[_0x4e57("0x58c")](), x[_0x4e57("0x599")]++, i[_0x4e57("0x563")][_] = s.LiftSet[_0x4e57("0x598")](x, x.uint32());
                        break;
                    case 15:
                        i[_0x4e57("0x431")] = x[_0x4e57("0xb")]();
                        break;
                    case 16:
                        i[_0x4e57("0x5d2")] = x.string();
                        break;
                    case 17:
                        i[_0x4e57("0x589")] = x[_0x4e57("0xb")]();
                        break;
                    case 18:
                        i[_0x4e57("0x596")] = x[_0x4e57("0xb")]();
                        break;
                    default:
                        x.skipType(7 & a)
                }
            }
            return i
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this.decode(x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            if ("object" !== (void 0 === x ? _0x4e57("0x15") : (0, i.default)(x)) || null === x) return "object expected";
            if (null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && !A[_0x4e57("0x59e")](x[_0x4e57("0x537")])) return _0x4e57("0x5a1");
            if (null != x[_0x4e57("0x429")] && x.hasOwnProperty(_0x4e57("0x429")) && !A.isInteger(x[_0x4e57("0x429")])) return _0x4e57("0x5da");
            if (null != x[_0x4e57("0x5d3")] && x[_0x4e57("0x1")](_0x4e57("0x5d3")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x5d3")])) return _0x4e57("0x5db");
            if (null != x[_0x4e57("0x269")] && x.hasOwnProperty("name") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x269")])) return _0x4e57("0x5a3");
            if (null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x4b5")])) return _0x4e57("0x5dc");
            if (null != x.AS && x[_0x4e57("0x1")]("AS") && typeof x.AS !== _0x4e57("0x208")) return _0x4e57("0x5a8");
            if (null != x[_0x4e57("0x5d4")] && x[_0x4e57("0x1")](_0x4e57("0x5d4")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x5d4")])) return _0x4e57("0x5dd");
            if (null != x[_0x4e57("0x45f")] && x[_0x4e57("0x1")](_0x4e57("0x45f")) && !A.isInteger(x[_0x4e57("0x45f")])) return _0x4e57("0x5de");
            if (null != x[_0x4e57("0x54e")] && x[_0x4e57("0x1")](_0x4e57("0x54e")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x54e")])) return _0x4e57("0x5df");
            if (null != x[_0x4e57("0x5d5")] && x.hasOwnProperty(_0x4e57("0x5d5")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x5d5")])) return _0x4e57("0x5e0");
            if (null != x.Rooms && x[_0x4e57("0x1")](_0x4e57("0x562"))) {
                if (!A[_0x4e57("0x22")](x[_0x4e57("0x562")])) return _0x4e57("0x5e1");
                for (var e = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x562")]), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return _0x4e57("0x5e3");
                    if (t = s[_0x4e57("0x5d6")][_0x4e57("0x59d")](x[_0x4e57("0x562")][e[_]])) return "Rooms." + t
                }
            }
            if (null != x.Facility && x[_0x4e57("0x1")]("Facility")) {
                if (!A[_0x4e57("0x22")](x[_0x4e57("0x433")])) return _0x4e57("0x5e4");
                for (e = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x433")]), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return "Facility: integer key{k:int32} expected";
                    if (t = s[_0x4e57("0x5d7")][_0x4e57("0x59d")](x[_0x4e57("0x433")][e[_]])) return "Facility." + t
                }
            }
            if (null != x[_0x4e57("0x55f")] && x[_0x4e57("0x1")](_0x4e57("0x55f"))) {
                if (!A[_0x4e57("0x22")](x.Labels)) return _0x4e57("0x5e5");
                for (e = (0, a[_0x4e57("0xa")])(x.Labels), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return _0x4e57("0x5e6");
                    if (t = s[_0x4e57("0x5d7")].verify(x[_0x4e57("0x55f")][e[_]])) return _0x4e57("0x5e7") + t
                }
            }
            if (null != x[_0x4e57("0x563")] && x[_0x4e57("0x1")](_0x4e57("0x563"))) {
                if (!A[_0x4e57("0x22")](x[_0x4e57("0x563")])) return "Lifts: object expected";
                for (e = (0, a[_0x4e57("0xa")])(x.Lifts), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")].test(e[_])) return _0x4e57("0x5e8");
                    var t;
                    if (t = s[_0x4e57("0x5d8")][_0x4e57("0x59d")](x[_0x4e57("0x563")][e[_]])) return _0x4e57("0x5e9") + t
                }
            }
            return null != x[_0x4e57("0x431")] && x.hasOwnProperty(_0x4e57("0x431")) && !A[_0x4e57("0x5a2")](x.image) ? _0x4e57("0x5ea") : null != x[_0x4e57("0x5d2")] && x[_0x4e57("0x1")](_0x4e57("0x5d2")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x5d2")]) ? _0x4e57("0x5eb") : null != x[_0x4e57("0x589")] && x.hasOwnProperty(_0x4e57("0x589")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x589")]) ? _0x4e57("0x5ec") : null != x[_0x4e57("0x596")] && x[_0x4e57("0x1")](_0x4e57("0x596")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x596")]) ? _0x4e57("0x5ed") : null
        }, e.fromObject = function (x) {
            if (x instanceof s[_0x4e57("0x592")]) return x;
            var e = new (s[_0x4e57("0x592")]);
            if (null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x[_0x4e57("0x537")]), null != x[_0x4e57("0x429")] && (e[_0x4e57("0x429")] = 0 | x[_0x4e57("0x429")]), null != x[_0x4e57("0x5d3")] && (e[_0x4e57("0x5d3")] = 0 | x.floornumtext), null != x[_0x4e57("0x269")] && (e.name = String(x[_0x4e57("0x269")])), null != x[_0x4e57("0x4b5")] && (e.NameEn = String(x[_0x4e57("0x4b5")])), null != x.AS && (e.AS = Number(x.AS)), null != x.Height && (e[_0x4e57("0x5d4")] = 0 | x[_0x4e57("0x5d4")]), null != x.Elevation && (e[_0x4e57("0x45f")] = 0 | x.Elevation), null != x[_0x4e57("0x54e")] && (e[_0x4e57("0x54e")] = String(x[_0x4e57("0x54e")])), null != x[_0x4e57("0x5d5")] && (e.Alias = String(x[_0x4e57("0x5d5")])), x.Rooms) {
                if ("object" !== (0, i.default)(x[_0x4e57("0x562")])) throw TypeError(".FloorSet.Rooms: object expected");
                e[_0x4e57("0x562")] = {};
                for (var _ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x562")]), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ("object" !== (0, i[_0x4e57("0xa")])(x[_0x4e57("0x562")][_[t]])) throw TypeError(_0x4e57("0x5ee"));
                    e[_0x4e57("0x562")][_[t]] = s[_0x4e57("0x5d6")][_0x4e57("0x5c5")](x[_0x4e57("0x562")][_[t]])
                }
            }
            if (x[_0x4e57("0x433")]) {
                if ("object" !== (0, i.default)(x[_0x4e57("0x433")])) throw TypeError(_0x4e57("0x5ef"));
                e.Facility = {};
                for (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x433")]), t = 0; t < _.length; ++t) {
                    if ((0, i.default)(x.Facility[_[t]]) !== _0x4e57("0x9")) throw TypeError(".FloorSet.Facility: object expected");
                    e[_0x4e57("0x433")][_[t]] = s[_0x4e57("0x5d7")][_0x4e57("0x5c5")](x[_0x4e57("0x433")][_[t]])
                }
            }
            if (x[_0x4e57("0x55f")]) {
                if ((0, i[_0x4e57("0xa")])(x.Labels) !== _0x4e57("0x9")) throw TypeError(_0x4e57("0x5f0"));
                e[_0x4e57("0x55f")] = {};
                for (_ = (0, a.default)(x.Labels), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x55f")][_[t]]) !== _0x4e57("0x9")) throw TypeError(_0x4e57("0x5f0"));
                    e[_0x4e57("0x55f")][_[t]] = s.POISet.fromObject(x.Labels[_[t]])
                }
            }
            if (x[_0x4e57("0x563")]) {
                if ("object" !== (0, i[_0x4e57("0xa")])(x[_0x4e57("0x563")])) throw TypeError(_0x4e57("0x5f1"));
                e[_0x4e57("0x563")] = {};
                for (_ = (0, a[_0x4e57("0xa")])(x.Lifts), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x563")][_[t]]) !== _0x4e57("0x9")) throw TypeError(".FloorSet.Lifts: object expected");
                    e[_0x4e57("0x563")][_[t]] = s[_0x4e57("0x5d8")][_0x4e57("0x5c5")](x[_0x4e57("0x563")][_[t]])
                }
            }
            return null != x[_0x4e57("0x431")] && (e.image = String(x[_0x4e57("0x431")])), null != x[_0x4e57("0x5d2")] && (e[_0x4e57("0x5d2")] = String(x[_0x4e57("0x5d2")])), null != x[_0x4e57("0x589")] && (e.other1 = String(x[_0x4e57("0x589")])), null != x[_0x4e57("0x596")] && (e[_0x4e57("0x596")] = String(x[_0x4e57("0x596")])), e
        }, e.from = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _, t = {};
            if ((e[_0x4e57("0x23c")] || e[_0x4e57("0x5ce")]) && (t[_0x4e57("0x562")] = {}, t[_0x4e57("0x433")] = {}, t[_0x4e57("0x55f")] = {}, t.Lifts = {}), e[_0x4e57("0x5ce")] && (t[_0x4e57("0x537")] = 0, t[_0x4e57("0x429")] = 0, t[_0x4e57("0x5d3")] = 0, t.name = "", t[_0x4e57("0x4b5")] = "", t.AS = 0, t[_0x4e57("0x5d4")] = 0, t[_0x4e57("0x45f")] = 0, t[_0x4e57("0x54e")] = "", t.Alias = "", t[_0x4e57("0x431")] = "", t[_0x4e57("0x5d2")] = "", t[_0x4e57("0x589")] = "", t[_0x4e57("0x596")] = ""), null != x._id && x[_0x4e57("0x1")](_0x4e57("0x537")) && (t[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x429")] && x.hasOwnProperty(_0x4e57("0x429")) && (t.floornum = x[_0x4e57("0x429")]), null != x[_0x4e57("0x5d3")] && x.hasOwnProperty(_0x4e57("0x5d3")) && (t[_0x4e57("0x5d3")] = x[_0x4e57("0x5d3")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && (t[_0x4e57("0x269")] = x.name), null != x[_0x4e57("0x4b5")] && x.hasOwnProperty(_0x4e57("0x4b5")) && (t[_0x4e57("0x4b5")] = x.NameEn), null != x.AS && x[_0x4e57("0x1")]("AS") && (t.AS = x.AS), null != x[_0x4e57("0x5d4")] && x[_0x4e57("0x1")](_0x4e57("0x5d4")) && (t[_0x4e57("0x5d4")] = x.Height), null != x[_0x4e57("0x45f")] && x.hasOwnProperty(_0x4e57("0x45f")) && (t[_0x4e57("0x45f")] = x[_0x4e57("0x45f")]), null != x[_0x4e57("0x54e")] && x.hasOwnProperty(_0x4e57("0x54e")) && (t[_0x4e57("0x54e")] = x[_0x4e57("0x54e")]), null != x[_0x4e57("0x5d5")] && x[_0x4e57("0x1")](_0x4e57("0x5d5")) && (t[_0x4e57("0x5d5")] = x[_0x4e57("0x5d5")]), x[_0x4e57("0x562")] && (_ = (0, a.default)(x[_0x4e57("0x562")]))[_0x4e57("0x0")]) {
                t.Rooms = {};
                for (var i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x562")][_[i]] = s.RoomSet.toObject(x[_0x4e57("0x562")][_[i]], e)
            }
            if (x.Facility && (_ = (0, a.default)(x.Facility))[_0x4e57("0x0")]) {
                t.Facility = {};
                for (i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x433")][_[i]] = s[_0x4e57("0x5d7")][_0x4e57("0x5cc")](x[_0x4e57("0x433")][_[i]], e)
            }
            if (x.Labels && (_ = (0, a[_0x4e57("0xa")])(x.Labels)).length) {
                t[_0x4e57("0x55f")] = {};
                for (i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x55f")][_[i]] = s[_0x4e57("0x5d7")][_0x4e57("0x5cc")](x.Labels[_[i]], e)
            }
            if (x[_0x4e57("0x563")] && (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x563")]))[_0x4e57("0x0")]) {
                t[_0x4e57("0x563")] = {};
                for (i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x563")][_[i]] = s.LiftSet[_0x4e57("0x5cc")](x.Lifts[_[i]], e)
            }
            return null != x.image && x[_0x4e57("0x1")](_0x4e57("0x431")) && (t[_0x4e57("0x431")] = x[_0x4e57("0x431")]), null != x.imagesize && x[_0x4e57("0x1")](_0x4e57("0x5d2")) && (t[_0x4e57("0x5d2")] = x.imagesize), null != x[_0x4e57("0x589")] && x.hasOwnProperty("other1") && (t[_0x4e57("0x589")] = x[_0x4e57("0x589")]), null != x[_0x4e57("0x596")] && x[_0x4e57("0x1")](_0x4e57("0x596")) && (t.other2 = x[_0x4e57("0x596")]), t
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x5d6")] = function () {
        function e(x) {
            if (x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x269")] = "", e[_0x4e57("0xd")][_0x4e57("0x4b5")] = "", e[_0x4e57("0xd")][_0x4e57("0x582")] = "", e[_0x4e57("0xd")].Tid = 0, e[_0x4e57("0xd")].RL = "", e[_0x4e57("0xd")][_0x4e57("0x55a")] = "", e[_0x4e57("0xd")].BC = 0, e[_0x4e57("0xd")].RC = "", e.prototype.RH = 0, e[_0x4e57("0xd")].RM = "", e[_0x4e57("0xd")].RMS = "", e.prototype[_0x4e57("0x55e")] = "", e[_0x4e57("0xd")][_0x4e57("0x556")] = "", e.prototype.RS = 0, e[_0x4e57("0xd")].SL = 0, e.prototype.CenX = 0, e[_0x4e57("0xd")][_0x4e57("0x553")] = 0, e[_0x4e57("0xd")].AS = 0, e[_0x4e57("0xd")].Outline = "", e[_0x4e57("0xd")][_0x4e57("0x5f2")] = 0, e[_0x4e57("0xd")][_0x4e57("0x5f3")] = 0, e.prototype.FS = 0, e[_0x4e57("0xd")].FC = "", e[_0x4e57("0xd")][_0x4e57("0x589")] = "", e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e.encode = function (x, e) {
            return e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && e.uint32(18)[_0x4e57("0xb")](x[_0x4e57("0x269")]), null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && e[_0x4e57("0x58b")](26)[_0x4e57("0xb")](x[_0x4e57("0x4b5")]), null != x[_0x4e57("0x582")] && x[_0x4e57("0x1")](_0x4e57("0x582")) && e[_0x4e57("0x58b")](34)[_0x4e57("0xb")](x[_0x4e57("0x582")]), null != x[_0x4e57("0x434")] && x[_0x4e57("0x1")]("Tid") && e.uint32(40)[_0x4e57("0x58c")](x[_0x4e57("0x434")]), null != x.RL && x[_0x4e57("0x1")]("RL") && e[_0x4e57("0x58b")](50).string(x.RL), null != x[_0x4e57("0x55a")] && x[_0x4e57("0x1")]("RLSize") && e[_0x4e57("0x58b")](58)[_0x4e57("0xb")](x.RLSize), null != x.BC && x[_0x4e57("0x1")]("BC") && e[_0x4e57("0x58b")](64)[_0x4e57("0x58c")](x.BC), null != x.RC && x[_0x4e57("0x1")]("RC") && e[_0x4e57("0x58b")](74).string(x.RC), null != x.RH && x[_0x4e57("0x1")]("RH") && e[_0x4e57("0x58b")](81)[_0x4e57("0x58e")](x.RH), null != x.RM && x[_0x4e57("0x1")]("RM") && e[_0x4e57("0x58b")](90)[_0x4e57("0xb")](x.RM), null != x[_0x4e57("0x55c")] && x[_0x4e57("0x1")](_0x4e57("0x55c")) && e[_0x4e57("0x58b")](98).string(x[_0x4e57("0x55c")]), null != x[_0x4e57("0x55e")] && x[_0x4e57("0x1")](_0x4e57("0x55e")) && e[_0x4e57("0x58b")](106)[_0x4e57("0xb")](x[_0x4e57("0x55e")]), null != x.RMO && x[_0x4e57("0x1")](_0x4e57("0x556")) && e[_0x4e57("0x58b")](114).string(x[_0x4e57("0x556")]), null != x.RS && x[_0x4e57("0x1")]("RS") && e[_0x4e57("0x58b")](120)[_0x4e57("0x58c")](x.RS), null != x.SL && x[_0x4e57("0x1")]("SL") && e[_0x4e57("0x58b")](128)[_0x4e57("0x58c")](x.SL), null != x[_0x4e57("0x552")] && x[_0x4e57("0x1")](_0x4e57("0x552")) && e[_0x4e57("0x58b")](137).double(x[_0x4e57("0x552")]), null != x[_0x4e57("0x553")] && x[_0x4e57("0x1")](_0x4e57("0x553")) && e[_0x4e57("0x58b")](145).double(x.CenY), null != x.AS && x[_0x4e57("0x1")]("AS") && e[_0x4e57("0x58b")](153)[_0x4e57("0x58e")](x.AS), null != x.Outline && x[_0x4e57("0x1")](_0x4e57("0x54e")) && e[_0x4e57("0x58b")](162)[_0x4e57("0xb")](x[_0x4e57("0x54e")]), null != x[_0x4e57("0x5f2")] && x[_0x4e57("0x1")]("PointID") && e[_0x4e57("0x58b")](168)[_0x4e57("0x58c")](x[_0x4e57("0x5f2")]), null != x[_0x4e57("0x5f3")] && x[_0x4e57("0x1")](_0x4e57("0x5f3")) && e[_0x4e57("0x58b")](176)[_0x4e57("0x58c")](x[_0x4e57("0x5f3")]), null != x.FS && x.hasOwnProperty("FS") && e.uint32(184)[_0x4e57("0x58c")](x.FS), null != x.FC && x.hasOwnProperty("FC") && e[_0x4e57("0x58b")](194)[_0x4e57("0xb")](x.FC), null != x.other1 && x.hasOwnProperty(_0x4e57("0x589")) && e[_0x4e57("0x58b")](202)[_0x4e57("0xb")](x.other1), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x.len : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x5d6")]); x[_0x4e57("0x599")] < _;) {
                var i = x[_0x4e57("0x58b")]();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x537")] = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t[_0x4e57("0x269")] = x.string();
                        break;
                    case 3:
                        t[_0x4e57("0x4b5")] = x[_0x4e57("0xb")]();
                        break;
                    case 4:
                        t[_0x4e57("0x582")] = x.string();
                        break;
                    case 5:
                        t[_0x4e57("0x434")] = x[_0x4e57("0x58c")]();
                        break;
                    case 6:
                        t.RL = x.string();
                        break;
                    case 7:
                        t[_0x4e57("0x55a")] = x.string();
                        break;
                    case 8:
                        t.BC = x.int32();
                        break;
                    case 9:
                        t.RC = x.string();
                        break;
                    case 10:
                        t.RH = x[_0x4e57("0x58e")]();
                        break;
                    case 11:
                        t.RM = x[_0x4e57("0xb")]();
                        break;
                    case 12:
                        t[_0x4e57("0x55c")] = x.string();
                        break;
                    case 13:
                        t[_0x4e57("0x55e")] = x[_0x4e57("0xb")]();
                        break;
                    case 14:
                        t[_0x4e57("0x556")] = x.string();
                        break;
                    case 15:
                        t.RS = x[_0x4e57("0x58c")]();
                        break;
                    case 16:
                        t.SL = x[_0x4e57("0x58c")]();
                        break;
                    case 17:
                        t[_0x4e57("0x552")] = x.double();
                        break;
                    case 18:
                        t.CenY = x.double();
                        break;
                    case 19:
                        t.AS = x.double();
                        break;
                    case 20:
                        t[_0x4e57("0x54e")] = x[_0x4e57("0xb")]();
                        break;
                    case 21:
                        t[_0x4e57("0x5f2")] = x[_0x4e57("0x58c")]();
                        break;
                    case 22:
                        t[_0x4e57("0x5f3")] = x[_0x4e57("0x58c")]();
                        break;
                    case 23:
                        t.FS = x[_0x4e57("0x58c")]();
                        break;
                    case 24:
                        t.FC = x.string();
                        break;
                    case 25:
                        t[_0x4e57("0x589")] = x[_0x4e57("0xb")]();
                        break;
                    default:
                        x.skipType(7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            return (typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, i.default)(x)) !== _0x4e57("0x9") || null === x ? _0x4e57("0x5f4") : null != x._id && x.hasOwnProperty(_0x4e57("0x537")) && !A.isInteger(x[_0x4e57("0x537")]) ? _0x4e57("0x5a1") : null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && !A.isString(x[_0x4e57("0x269")]) ? _0x4e57("0x5a3") : null != x[_0x4e57("0x4b5")] && x.hasOwnProperty("NameEn") && !A.isString(x[_0x4e57("0x4b5")]) ? _0x4e57("0x5dc") : null != x[_0x4e57("0x582")] && x.hasOwnProperty(_0x4e57("0x582")) && !A.isString(x[_0x4e57("0x582")]) ? _0x4e57("0x5a5") : null != x[_0x4e57("0x434")] && x[_0x4e57("0x1")](_0x4e57("0x434")) && !A[_0x4e57("0x59e")](x.Tid) ? _0x4e57("0x5f5") : null != x.RL && x[_0x4e57("0x1")]("RL") && !A[_0x4e57("0x5a2")](x.RL) ? _0x4e57("0x5f6") : null != x[_0x4e57("0x55a")] && x[_0x4e57("0x1")](_0x4e57("0x55a")) && !A.isString(x[_0x4e57("0x55a")]) ? _0x4e57("0x5f7") : null != x.BC && x[_0x4e57("0x1")]("BC") && !A[_0x4e57("0x59e")](x.BC) ? _0x4e57("0x5f8") : null != x.RC && x.hasOwnProperty("RC") && !A.isString(x.RC) ? _0x4e57("0x5f9") : null != x.RH && x.hasOwnProperty("RH") && typeof x.RH !== _0x4e57("0x208") ? _0x4e57("0x5fa") : null != x.RM && x[_0x4e57("0x1")]("RM") && !A[_0x4e57("0x5a2")](x.RM) ? _0x4e57("0x5fb") : null != x[_0x4e57("0x55c")] && x.hasOwnProperty(_0x4e57("0x55c")) && !A.isString(x.RMS) ? _0x4e57("0x5fc") : null != x[_0x4e57("0x55e")] && x.hasOwnProperty(_0x4e57("0x55e")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x55e")]) ? _0x4e57("0x5fd") : null != x.RMO && x[_0x4e57("0x1")](_0x4e57("0x556")) && !A[_0x4e57("0x5a2")](x.RMO) ? _0x4e57("0x5fe") : null != x.RS && x[_0x4e57("0x1")]("RS") && !A[_0x4e57("0x59e")](x.RS) ? _0x4e57("0x5ff") : null != x.SL && x.hasOwnProperty("SL") && !A[_0x4e57("0x59e")](x.SL) ? _0x4e57("0x600") : null != x[_0x4e57("0x552")] && x.hasOwnProperty(_0x4e57("0x552")) && typeof x[_0x4e57("0x552")] !== _0x4e57("0x208") ? _0x4e57("0x601") : null != x[_0x4e57("0x553")] && x[_0x4e57("0x1")](_0x4e57("0x553")) && typeof x[_0x4e57("0x553")] !== _0x4e57("0x208") ? _0x4e57("0x602") : null != x.AS && x[_0x4e57("0x1")]("AS") && typeof x.AS !== _0x4e57("0x208") ? _0x4e57("0x5a8") : null != x.Outline && x[_0x4e57("0x1")](_0x4e57("0x54e")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x54e")]) ? _0x4e57("0x5df") : null != x[_0x4e57("0x5f2")] && x[_0x4e57("0x1")](_0x4e57("0x5f2")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x5f2")]) ? _0x4e57("0x603") : null != x[_0x4e57("0x5f3")] && x.hasOwnProperty("ShopID") && !A[_0x4e57("0x59e")](x[_0x4e57("0x5f3")]) ? _0x4e57("0x604") : null != x.FS && x[_0x4e57("0x1")]("FS") && !A[_0x4e57("0x59e")](x.FS) ? _0x4e57("0x605") : null != x.FC && x.hasOwnProperty("FC") && !A[_0x4e57("0x5a2")](x.FC) ? _0x4e57("0x606") : null != x[_0x4e57("0x589")] && x.hasOwnProperty("other1") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x589")]) ? "other1: string expected" : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x5d6")]) return x;
            var e = new (s[_0x4e57("0x5d6")]);
            return null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && (e.name = String(x[_0x4e57("0x269")])), null != x[_0x4e57("0x4b5")] && (e[_0x4e57("0x4b5")] = String(x.NameEn)), null != x.Brief && (e[_0x4e57("0x582")] = String(x[_0x4e57("0x582")])), null != x[_0x4e57("0x434")] && (e.Tid = 0 | x[_0x4e57("0x434")]), null != x.RL && (e.RL = String(x.RL)), null != x[_0x4e57("0x55a")] && (e[_0x4e57("0x55a")] = String(x[_0x4e57("0x55a")])), null != x.BC && (e.BC = 0 | x.BC), null != x.RC && (e.RC = String(x.RC)), null != x.RH && (e.RH = Number(x.RH)), null != x.RM && (e.RM = String(x.RM)), null != x[_0x4e57("0x55c")] && (e[_0x4e57("0x55c")] = String(x[_0x4e57("0x55c")])), null != x[_0x4e57("0x55e")] && (e.RMR = String(x.RMR)), null != x.RMO && (e[_0x4e57("0x556")] = String(x[_0x4e57("0x556")])), null != x.RS && (e.RS = 0 | x.RS), null != x.SL && (e.SL = 0 | x.SL), null != x[_0x4e57("0x552")] && (e.CenX = Number(x.CenX)), null != x[_0x4e57("0x553")] && (e[_0x4e57("0x553")] = Number(x[_0x4e57("0x553")])), null != x.AS && (e.AS = Number(x.AS)), null != x[_0x4e57("0x54e")] && (e[_0x4e57("0x54e")] = String(x.Outline)), null != x[_0x4e57("0x5f2")] && (e.PointID = 0 | x[_0x4e57("0x5f2")]), null != x[_0x4e57("0x5f3")] && (e[_0x4e57("0x5f3")] = 0 | x[_0x4e57("0x5f3")]), null != x.FS && (e.FS = 0 | x.FS), null != x.FC && (e.FC = String(x.FC)), null != x[_0x4e57("0x589")] && (e.other1 = String(x[_0x4e57("0x589")])), e
        }, e[_0x4e57("0x5cb")] = e.fromObject, e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            return e[_0x4e57("0x5ce")] && (_._id = 0, _[_0x4e57("0x269")] = "", _.NameEn = "", _[_0x4e57("0x582")] = "", _[_0x4e57("0x434")] = 0, _.RL = "", _[_0x4e57("0x55a")] = "", _.BC = 0, _.RC = "", _.RH = 0, _.RM = "", _[_0x4e57("0x55c")] = "", _.RMR = "", _[_0x4e57("0x556")] = "", _.RS = 0, _.SL = 0, _[_0x4e57("0x552")] = 0, _.CenY = 0, _.AS = 0, _.Outline = "", _.PointID = 0, _[_0x4e57("0x5f3")] = 0, _.FS = 0, _.FC = "", _[_0x4e57("0x589")] = ""), null != x._id && x.hasOwnProperty(_0x4e57("0x537")) && (_._id = x[_0x4e57("0x537")]), null != x.name && x.hasOwnProperty(_0x4e57("0x269")) && (_[_0x4e57("0x269")] = x[_0x4e57("0x269")]), null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && (_[_0x4e57("0x4b5")] = x[_0x4e57("0x4b5")]), null != x[_0x4e57("0x582")] && x[_0x4e57("0x1")](_0x4e57("0x582")) && (_[_0x4e57("0x582")] = x[_0x4e57("0x582")]), null != x[_0x4e57("0x434")] && x[_0x4e57("0x1")](_0x4e57("0x434")) && (_[_0x4e57("0x434")] = x[_0x4e57("0x434")]), null != x.RL && x[_0x4e57("0x1")]("RL") && (_.RL = x.RL), null != x[_0x4e57("0x55a")] && x[_0x4e57("0x1")](_0x4e57("0x55a")) && (_.RLSize = x.RLSize), null != x.BC && x[_0x4e57("0x1")]("BC") && (_.BC = x.BC), null != x.RC && x[_0x4e57("0x1")]("RC") && (_.RC = x.RC), null != x.RH && x.hasOwnProperty("RH") && (_.RH = x.RH), null != x.RM && x[_0x4e57("0x1")]("RM") && (_.RM = x.RM), null != x[_0x4e57("0x55c")] && x[_0x4e57("0x1")]("RMS") && (_[_0x4e57("0x55c")] = x[_0x4e57("0x55c")]), null != x.RMR && x[_0x4e57("0x1")](_0x4e57("0x55e")) && (_[_0x4e57("0x55e")] = x[_0x4e57("0x55e")]), null != x[_0x4e57("0x556")] && x[_0x4e57("0x1")](_0x4e57("0x556")) && (_[_0x4e57("0x556")] = x[_0x4e57("0x556")]), null != x.RS && x[_0x4e57("0x1")]("RS") && (_.RS = x.RS), null != x.SL && x[_0x4e57("0x1")]("SL") && (_.SL = x.SL), null != x[_0x4e57("0x552")] && x[_0x4e57("0x1")](_0x4e57("0x552")) && (_[_0x4e57("0x552")] = x[_0x4e57("0x552")]), null != x[_0x4e57("0x553")] && x[_0x4e57("0x1")]("CenY") && (_.CenY = x[_0x4e57("0x553")]), null != x.AS && x[_0x4e57("0x1")]("AS") && (_.AS = x.AS), null != x[_0x4e57("0x54e")] && x[_0x4e57("0x1")](_0x4e57("0x54e")) && (_.Outline = x.Outline), null != x[_0x4e57("0x5f2")] && x.hasOwnProperty("PointID") && (_[_0x4e57("0x5f2")] = x.PointID), null != x.ShopID && x[_0x4e57("0x1")](_0x4e57("0x5f3")) && (_[_0x4e57("0x5f3")] = x.ShopID), null != x.FS && x[_0x4e57("0x1")]("FS") && (_.FS = x.FS), null != x.FC && x[_0x4e57("0x1")]("FC") && (_.FC = x.FC), null != x[_0x4e57("0x589")] && x.hasOwnProperty(_0x4e57("0x589")) && (_[_0x4e57("0x589")] = x.other1), _
        }, e[_0x4e57("0xd")][_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n.util.toJSONOptions)
        }, e
    }(), s[_0x4e57("0x5d7")] = function () {
        function e(x) {
            if (x) for (var e = (0, a.default)(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x269")] = "", e[_0x4e57("0xd")][_0x4e57("0x4b5")] = "", e[_0x4e57("0xd")][_0x4e57("0x582")] = "", e[_0x4e57("0xd")][_0x4e57("0x434")] = 0, e.prototype.X = 0, e[_0x4e57("0xd")].Y = 0, e[_0x4e57("0xd")].SL = 0, e[_0x4e57("0xd")].SH = 0, e.prototype.w = 0, e.prototype.h = 0, e.prototype.image = "", e[_0x4e57("0xd")][_0x4e57("0x560")] = 0, e.prototype.other1 = "", e[_0x4e57("0xd")][_0x4e57("0x607")] = 0, e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            return e || (e = r.create()), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && e.uint32(8)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && e[_0x4e57("0x58b")](18)[_0x4e57("0xb")](x.name), null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && e[_0x4e57("0x58b")](26)[_0x4e57("0xb")](x[_0x4e57("0x4b5")]), null != x[_0x4e57("0x582")] && x[_0x4e57("0x1")](_0x4e57("0x582")) && e[_0x4e57("0x58b")](34)[_0x4e57("0xb")](x[_0x4e57("0x582")]), null != x.Tid && x[_0x4e57("0x1")](_0x4e57("0x434")) && e.uint32(40)[_0x4e57("0x58c")](x[_0x4e57("0x434")]), null != x.X && x.hasOwnProperty("X") && e[_0x4e57("0x58b")](49)[_0x4e57("0x58e")](x.X), null != x.Y && x.hasOwnProperty("Y") && e[_0x4e57("0x58b")](57).double(x.Y), null != x.SL && x[_0x4e57("0x1")]("SL") && e[_0x4e57("0x58b")](64)[_0x4e57("0x58c")](x.SL), null != x.SH && x[_0x4e57("0x1")]("SH") && e.uint32(77)[_0x4e57("0x590")](x.SH), null != x.w && x[_0x4e57("0x1")]("w") && e[_0x4e57("0x58b")](85)[_0x4e57("0x590")](x.w), null != x.h && x.hasOwnProperty("h") && e.uint32(93)[_0x4e57("0x590")](x.h), null != x[_0x4e57("0x431")] && x.hasOwnProperty(_0x4e57("0x431")) && e.uint32(98)[_0x4e57("0xb")](x[_0x4e57("0x431")]), null != x.FSId && x.hasOwnProperty("FSId") && e[_0x4e57("0x58b")](104)[_0x4e57("0x58c")](x[_0x4e57("0x560")]), null != x.other1 && x[_0x4e57("0x1")](_0x4e57("0x589")) && e.uint32(114)[_0x4e57("0xb")](x[_0x4e57("0x589")]), null != x[_0x4e57("0x607")] && x.hasOwnProperty("ipos") && e.uint32(120)[_0x4e57("0x58c")](x.ipos), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this.encode(x, e)[_0x4e57("0x593")]()
        }, e.decode = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x.len : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x5d7")]); x[_0x4e57("0x599")] < _;) {
                var i = x.uint32();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x537")] = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t[_0x4e57("0x269")] = x[_0x4e57("0xb")]();
                        break;
                    case 3:
                        t[_0x4e57("0x4b5")] = x.string();
                        break;
                    case 4:
                        t[_0x4e57("0x582")] = x[_0x4e57("0xb")]();
                        break;
                    case 5:
                        t[_0x4e57("0x434")] = x[_0x4e57("0x58c")]();
                        break;
                    case 6:
                        t.X = x[_0x4e57("0x58e")]();
                        break;
                    case 7:
                        t.Y = x[_0x4e57("0x58e")]();
                        break;
                    case 8:
                        t.SL = x[_0x4e57("0x58c")]();
                        break;
                    case 9:
                        t.SH = x[_0x4e57("0x590")]();
                        break;
                    case 10:
                        t.w = x[_0x4e57("0x590")]();
                        break;
                    case 11:
                        t.h = x.float();
                        break;
                    case 12:
                        t[_0x4e57("0x431")] = x[_0x4e57("0xb")]();
                        break;
                    case 13:
                        t.FSId = x[_0x4e57("0x58c")]();
                        break;
                    case 14:
                        t[_0x4e57("0x589")] = x.string();
                        break;
                    case 15:
                        t.ipos = x[_0x4e57("0x58c")]();
                        break;
                    default:
                        x.skipType(7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this.decode(x, x.uint32())
        }, e.verify = function (x) {
            return "object" !== (typeof x === _0x4e57("0x15") ? "undefined" : (0, i[_0x4e57("0xa")])(x)) || null === x ? _0x4e57("0x5f4") : null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x537")]) ? _0x4e57("0x5a1") : null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x269")]) ? _0x4e57("0x5a3") : null != x[_0x4e57("0x4b5")] && x.hasOwnProperty(_0x4e57("0x4b5")) && !A[_0x4e57("0x5a2")](x.NameEn) ? _0x4e57("0x5dc") : null != x[_0x4e57("0x582")] && x[_0x4e57("0x1")]("Brief") && !A.isString(x[_0x4e57("0x582")]) ? "Brief: string expected" : null != x.Tid && x.hasOwnProperty("Tid") && !A.isInteger(x.Tid) ? _0x4e57("0x5f5") : null != x.X && x[_0x4e57("0x1")]("X") && typeof x.X !== _0x4e57("0x208") ? _0x4e57("0x608") : null != x.Y && x[_0x4e57("0x1")]("Y") && typeof x.Y !== _0x4e57("0x208") ? _0x4e57("0x609") : null != x.SL && x[_0x4e57("0x1")]("SL") && !A[_0x4e57("0x59e")](x.SL) ? _0x4e57("0x600") : null != x.SH && x[_0x4e57("0x1")]("SH") && typeof x.SH !== _0x4e57("0x208") ? _0x4e57("0x60a") : null != x.w && x[_0x4e57("0x1")]("w") && typeof x.w !== _0x4e57("0x208") ? _0x4e57("0x60b") : null != x.h && x[_0x4e57("0x1")]("h") && typeof x.h !== _0x4e57("0x208") ? _0x4e57("0x60c") : null != x[_0x4e57("0x431")] && x[_0x4e57("0x1")](_0x4e57("0x431")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x431")]) ? _0x4e57("0x5ea") : null != x[_0x4e57("0x560")] && x[_0x4e57("0x1")](_0x4e57("0x560")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x560")]) ? _0x4e57("0x60d") : null != x.other1 && x[_0x4e57("0x1")](_0x4e57("0x589")) && !A.isString(x[_0x4e57("0x589")]) ? _0x4e57("0x5ec") : null != x.ipos && x[_0x4e57("0x1")](_0x4e57("0x607")) && !A[_0x4e57("0x59e")](x.ipos) ? _0x4e57("0x60e") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x5d7")]) return x;
            var e = new (s[_0x4e57("0x5d7")]);
            return null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x._id), null != x[_0x4e57("0x269")] && (e.name = String(x.name)), null != x[_0x4e57("0x4b5")] && (e[_0x4e57("0x4b5")] = String(x.NameEn)), null != x[_0x4e57("0x582")] && (e.Brief = String(x.Brief)), null != x[_0x4e57("0x434")] && (e[_0x4e57("0x434")] = 0 | x[_0x4e57("0x434")]), null != x.X && (e.X = Number(x.X)), null != x.Y && (e.Y = Number(x.Y)), null != x.SL && (e.SL = 0 | x.SL), null != x.SH && (e.SH = Number(x.SH)), null != x.w && (e.w = Number(x.w)), null != x.h && (e.h = Number(x.h)), null != x[_0x4e57("0x431")] && (e[_0x4e57("0x431")] = String(x[_0x4e57("0x431")])), null != x[_0x4e57("0x560")] && (e[_0x4e57("0x560")] = 0 | x[_0x4e57("0x560")]), null != x.other1 && (e[_0x4e57("0x589")] = String(x[_0x4e57("0x589")])), null != x.ipos && (e[_0x4e57("0x607")] = 0 | x[_0x4e57("0x607")]), e
        }, e[_0x4e57("0x5cb")] = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            return e[_0x4e57("0x5ce")] && (_._id = 0, _[_0x4e57("0x269")] = "", _[_0x4e57("0x4b5")] = "", _[_0x4e57("0x582")] = "", _[_0x4e57("0x434")] = 0, _.X = 0, _.Y = 0, _.SL = 0, _.SH = 0, _.w = 0, _.h = 0, _.image = "", _.FSId = 0, _[_0x4e57("0x589")] = "", _[_0x4e57("0x607")] = 0), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && (_[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && (_[_0x4e57("0x269")] = x.name), null != x[_0x4e57("0x4b5")] && x[_0x4e57("0x1")](_0x4e57("0x4b5")) && (_[_0x4e57("0x4b5")] = x[_0x4e57("0x4b5")]), null != x[_0x4e57("0x582")] && x[_0x4e57("0x1")](_0x4e57("0x582")) && (_.Brief = x.Brief), null != x[_0x4e57("0x434")] && x[_0x4e57("0x1")]("Tid") && (_.Tid = x[_0x4e57("0x434")]), null != x.X && x.hasOwnProperty("X") && (_.X = x.X), null != x.Y && x[_0x4e57("0x1")]("Y") && (_.Y = x.Y), null != x.SL && x[_0x4e57("0x1")]("SL") && (_.SL = x.SL), null != x.SH && x.hasOwnProperty("SH") && (_.SH = x.SH), null != x.w && x[_0x4e57("0x1")]("w") && (_.w = x.w), null != x.h && x.hasOwnProperty("h") && (_.h = x.h), null != x[_0x4e57("0x431")] && x[_0x4e57("0x1")](_0x4e57("0x431")) && (_[_0x4e57("0x431")] = x.image), null != x[_0x4e57("0x560")] && x[_0x4e57("0x1")]("FSId") && (_[_0x4e57("0x560")] = x.FSId), null != x.other1 && x[_0x4e57("0x1")](_0x4e57("0x589")) && (_.other1 = x[_0x4e57("0x589")]), null != x.ipos && x[_0x4e57("0x1")](_0x4e57("0x607")) && (_[_0x4e57("0x607")] = x[_0x4e57("0x607")]), _
        }, e[_0x4e57("0xd")].toObject = function (x) {
            return this.constructor[_0x4e57("0x5cc")](this, x)
        }, e.prototype[_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x5d8")] = function () {
        function e(x) {
            if (x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x269")] = "", e[_0x4e57("0xd")][_0x4e57("0x434")] = 0, e[_0x4e57("0xd")].F1 = 0, e[_0x4e57("0xd")].F2 = 0, e[_0x4e57("0xd")].ST = 0, e[_0x4e57("0xd")].LT = 0, e[_0x4e57("0xd")].LH = 0, e[_0x4e57("0xd")].LM = "", e[_0x4e57("0xd")].LS = "", e[_0x4e57("0xd")].LR = "", e[_0x4e57("0xd")].LO = "", e.prototype.X1 = 0, e[_0x4e57("0xd")].X2 = 0, e[_0x4e57("0xd")].Y1 = 0, e[_0x4e57("0xd")].Y2 = 0, e[_0x4e57("0xd")].O1 = "", e[_0x4e57("0xd")].O2 = "", e[_0x4e57("0xd")][_0x4e57("0x589")] = "", e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            return e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x537")] && x.hasOwnProperty(_0x4e57("0x537")) && e.uint32(8)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")](_0x4e57("0x269")) && e.uint32(18)[_0x4e57("0xb")](x[_0x4e57("0x269")]), null != x.Tid && x[_0x4e57("0x1")](_0x4e57("0x434")) && e[_0x4e57("0x58b")](24)[_0x4e57("0x58c")](x[_0x4e57("0x434")]), null != x.F1 && x[_0x4e57("0x1")]("F1") && e[_0x4e57("0x58b")](32).int32(x.F1), null != x.F2 && x[_0x4e57("0x1")]("F2") && e[_0x4e57("0x58b")](40)[_0x4e57("0x58c")](x.F2), null != x.ST && x.hasOwnProperty("ST") && e[_0x4e57("0x58b")](48).int32(x.ST), null != x.LT && x.hasOwnProperty("LT") && e[_0x4e57("0x58b")](56)[_0x4e57("0x58c")](x.LT), null != x.LH && x[_0x4e57("0x1")]("LH") && e[_0x4e57("0x58b")](64)[_0x4e57("0x58c")](x.LH), null != x.LM && x.hasOwnProperty("LM") && e[_0x4e57("0x58b")](74)[_0x4e57("0xb")](x.LM), null != x.LS && x.hasOwnProperty("LS") && e[_0x4e57("0x58b")](82)[_0x4e57("0xb")](x.LS), null != x.LR && x[_0x4e57("0x1")]("LR") && e.uint32(90)[_0x4e57("0xb")](x.LR), null != x.LO && x[_0x4e57("0x1")]("LO") && e.uint32(98)[_0x4e57("0xb")](x.LO), null != x.X1 && x[_0x4e57("0x1")]("X1") && e[_0x4e57("0x58b")](105)[_0x4e57("0x58e")](x.X1), null != x.X2 && x.hasOwnProperty("X2") && e[_0x4e57("0x58b")](113)[_0x4e57("0x58e")](x.X2), null != x.Y1 && x[_0x4e57("0x1")]("Y1") && e[_0x4e57("0x58b")](121)[_0x4e57("0x58e")](x.Y1), null != x.Y2 && x[_0x4e57("0x1")]("Y2") && e[_0x4e57("0x58b")](129)[_0x4e57("0x58e")](x.Y2), null != x.O1 && x[_0x4e57("0x1")]("O1") && e[_0x4e57("0x58b")](138)[_0x4e57("0xb")](x.O1), null != x.O2 && x.hasOwnProperty("O2") && e[_0x4e57("0x58b")](146)[_0x4e57("0xb")](x.O2), null != x.other1 && x.hasOwnProperty(_0x4e57("0x589")) && e[_0x4e57("0x58b")](154).string(x[_0x4e57("0x589")]), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e.decode = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x[_0x4e57("0x60f")] : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x5d8")]); x[_0x4e57("0x599")] < _;) {
                var i = x.uint32();
                switch (i >>> 3) {
                    case 1:
                        t._id = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t[_0x4e57("0x269")] = x[_0x4e57("0xb")]();
                        break;
                    case 3:
                        t[_0x4e57("0x434")] = x[_0x4e57("0x58c")]();
                        break;
                    case 4:
                        t.F1 = x[_0x4e57("0x58c")]();
                        break;
                    case 5:
                        t.F2 = x[_0x4e57("0x58c")]();
                        break;
                    case 6:
                        t.ST = x.int32();
                        break;
                    case 7:
                        t.LT = x[_0x4e57("0x58c")]();
                        break;
                    case 8:
                        t.LH = x.int32();
                        break;
                    case 9:
                        t.LM = x[_0x4e57("0xb")]();
                        break;
                    case 10:
                        t.LS = x[_0x4e57("0xb")]();
                        break;
                    case 11:
                        t.LR = x.string();
                        break;
                    case 12:
                        t.LO = x[_0x4e57("0xb")]();
                        break;
                    case 13:
                        t.X1 = x[_0x4e57("0x58e")]();
                        break;
                    case 14:
                        t.X2 = x[_0x4e57("0x58e")]();
                        break;
                    case 15:
                        t.Y1 = x[_0x4e57("0x58e")]();
                        break;
                    case 16:
                        t.Y2 = x[_0x4e57("0x58e")]();
                        break;
                    case 17:
                        t.O1 = x.string();
                        break;
                    case 18:
                        t.O2 = x[_0x4e57("0xb")]();
                        break;
                    case 19:
                        t[_0x4e57("0x589")] = x[_0x4e57("0xb")]();
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x.uint32())
        }, e.verify = function (x) {
            return (typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, i.default)(x)) !== _0x4e57("0x9") || null === x ? "object expected" : null != x._id && x[_0x4e57("0x1")](_0x4e57("0x537")) && !A.isInteger(x[_0x4e57("0x537")]) ? _0x4e57("0x5a1") : null != x[_0x4e57("0x269")] && x.hasOwnProperty(_0x4e57("0x269")) && !A[_0x4e57("0x5a2")](x.name) ? _0x4e57("0x5a3") : null != x[_0x4e57("0x434")] && x[_0x4e57("0x1")](_0x4e57("0x434")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x434")]) ? "Tid: integer expected" : null != x.F1 && x[_0x4e57("0x1")]("F1") && !A.isInteger(x.F1) ? _0x4e57("0x610") : null != x.F2 && x[_0x4e57("0x1")]("F2") && !A[_0x4e57("0x59e")](x.F2) ? _0x4e57("0x611") : null != x.ST && x[_0x4e57("0x1")]("ST") && !A[_0x4e57("0x59e")](x.ST) ? _0x4e57("0x612") : null != x.LT && x[_0x4e57("0x1")]("LT") && !A[_0x4e57("0x59e")](x.LT) ? "LT: integer expected" : null != x.LH && x.hasOwnProperty("LH") && !A[_0x4e57("0x59e")](x.LH) ? "LH: integer expected" : null != x.LM && x[_0x4e57("0x1")]("LM") && !A[_0x4e57("0x5a2")](x.LM) ? _0x4e57("0x613") : null != x.LS && x[_0x4e57("0x1")]("LS") && !A[_0x4e57("0x5a2")](x.LS) ? _0x4e57("0x614") : null != x.LR && x.hasOwnProperty("LR") && !A[_0x4e57("0x5a2")](x.LR) ? "LR: string expected" : null != x.LO && x[_0x4e57("0x1")]("LO") && !A[_0x4e57("0x5a2")](x.LO) ? "LO: string expected" : null != x.X1 && x[_0x4e57("0x1")]("X1") && "number" != typeof x.X1 ? "X1: number expected" : null != x.X2 && x[_0x4e57("0x1")]("X2") && typeof x.X2 !== _0x4e57("0x208") ? _0x4e57("0x615") : null != x.Y1 && x[_0x4e57("0x1")]("Y1") && typeof x.Y1 !== _0x4e57("0x208") ? "Y1: number expected" : null != x.Y2 && x.hasOwnProperty("Y2") && "number" != typeof x.Y2 ? _0x4e57("0x616") : null != x.O1 && x[_0x4e57("0x1")]("O1") && !A[_0x4e57("0x5a2")](x.O1) ? _0x4e57("0x617") : null != x.O2 && x.hasOwnProperty("O2") && !A[_0x4e57("0x5a2")](x.O2) ? "O2: string expected" : null != x[_0x4e57("0x589")] && x.hasOwnProperty("other1") && !A.isString(x.other1) ? _0x4e57("0x5ec") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s.LiftSet) return x;
            var e = new (s[_0x4e57("0x5d8")]);
            return null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && (e.name = String(x[_0x4e57("0x269")])), null != x[_0x4e57("0x434")] && (e[_0x4e57("0x434")] = 0 | x[_0x4e57("0x434")]), null != x.F1 && (e.F1 = 0 | x.F1), null != x.F2 && (e.F2 = 0 | x.F2), null != x.ST && (e.ST = 0 | x.ST), null != x.LT && (e.LT = 0 | x.LT), null != x.LH && (e.LH = 0 | x.LH), null != x.LM && (e.LM = String(x.LM)), null != x.LS && (e.LS = String(x.LS)), null != x.LR && (e.LR = String(x.LR)), null != x.LO && (e.LO = String(x.LO)), null != x.X1 && (e.X1 = Number(x.X1)), null != x.X2 && (e.X2 = Number(x.X2)), null != x.Y1 && (e.Y1 = Number(x.Y1)), null != x.Y2 && (e.Y2 = Number(x.Y2)), null != x.O1 && (e.O1 = String(x.O1)), null != x.O2 && (e.O2 = String(x.O2)), null != x[_0x4e57("0x589")] && (e[_0x4e57("0x589")] = String(x.other1)), e
        }, e[_0x4e57("0x5cb")] = e.fromObject, e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            return e[_0x4e57("0x5ce")] && (_[_0x4e57("0x537")] = 0, _[_0x4e57("0x269")] = "", _[_0x4e57("0x434")] = 0, _.F1 = 0, _.F2 = 0, _.ST = 0, _.LT = 0, _.LH = 0, _.LM = "", _.LS = "", _.LR = "", _.LO = "", _.X1 = 0, _.X2 = 0, _.Y1 = 0, _.Y2 = 0, _.O1 = "", _.O2 = "", _[_0x4e57("0x589")] = ""), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && (_[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x269")] && x[_0x4e57("0x1")]("name") && (_[_0x4e57("0x269")] = x[_0x4e57("0x269")]), null != x[_0x4e57("0x434")] && x.hasOwnProperty(_0x4e57("0x434")) && (_[_0x4e57("0x434")] = x[_0x4e57("0x434")]), null != x.F1 && x.hasOwnProperty("F1") && (_.F1 = x.F1), null != x.F2 && x.hasOwnProperty("F2") && (_.F2 = x.F2), null != x.ST && x[_0x4e57("0x1")]("ST") && (_.ST = x.ST), null != x.LT && x.hasOwnProperty("LT") && (_.LT = x.LT), null != x.LH && x.hasOwnProperty("LH") && (_.LH = x.LH), null != x.LM && x[_0x4e57("0x1")]("LM") && (_.LM = x.LM), null != x.LS && x[_0x4e57("0x1")]("LS") && (_.LS = x.LS), null != x.LR && x[_0x4e57("0x1")]("LR") && (_.LR = x.LR), null != x.LO && x[_0x4e57("0x1")]("LO") && (_.LO = x.LO), null != x.X1 && x[_0x4e57("0x1")]("X1") && (_.X1 = x.X1), null != x.X2 && x[_0x4e57("0x1")]("X2") && (_.X2 = x.X2), null != x.Y1 && x[_0x4e57("0x1")]("Y1") && (_.Y1 = x.Y1), null != x.Y2 && x[_0x4e57("0x1")]("Y2") && (_.Y2 = x.Y2), null != x.O1 && x[_0x4e57("0x1")]("O1") && (_.O1 = x.O1), null != x.O2 && x[_0x4e57("0x1")]("O2") && (_.O2 = x.O2), null != x[_0x4e57("0x589")] && x[_0x4e57("0x1")]("other1") && (_[_0x4e57("0x589")] = x[_0x4e57("0x589")]), _
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this.constructor[_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")].toJSONOptions)
        }, e
    }(), s[_0x4e57("0x59a")] = function () {
        function e(x) {
            if (this[_0x4e57("0x618")] = {}, this.Lines = {}, x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x429")] = 0, e.prototype[_0x4e57("0x618")] = A[_0x4e57("0x5d1")], e[_0x4e57("0xd")][_0x4e57("0x619")] = A[_0x4e57("0x5d1")], e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            if (e || (e = r[_0x4e57("0x2ba")]()), null != x.floornum && x[_0x4e57("0x1")](_0x4e57("0x429")) && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x[_0x4e57("0x429")]), null != x.Nodes && x[_0x4e57("0x1")]("Nodes")) for (var _ = (0, a.default)(x[_0x4e57("0x618")]), t = 0; t < _[_0x4e57("0x0")]; ++t) e[_0x4e57("0x58b")](18)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s[_0x4e57("0x61a")].encode(x[_0x4e57("0x618")][_[t]], e[_0x4e57("0x58b")](18).fork())[_0x4e57("0x593")]()[_0x4e57("0x593")]();
            if (null != x[_0x4e57("0x619")] && x[_0x4e57("0x1")](_0x4e57("0x619"))) for (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x619")]), t = 0; t < _[_0x4e57("0x0")]; ++t) e[_0x4e57("0x58b")](26)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8).int32(_[t]), s[_0x4e57("0x61b")][_0x4e57("0x58a")](x[_0x4e57("0x619")][_[t]], e[_0x4e57("0x58b")](18)[_0x4e57("0x594")]()).ldelim()[_0x4e57("0x593")]();
            return e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e).ldelim()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g.create(x));
            for (var _, t = void 0 === e ? x.len : x[_0x4e57("0x599")] + e, i = new (s[_0x4e57("0x59a")]); x[_0x4e57("0x599")] < t;) {
                var a = x.uint32();
                switch (a >>> 3) {
                    case 1:
                        i.floornum = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        x[_0x4e57("0x5d9")]()[_0x4e57("0x599")]++, i[_0x4e57("0x618")] === A.emptyObject && (i.Nodes = {}), _ = x[_0x4e57("0x58c")](), x.pos++, i[_0x4e57("0x618")][_] = s[_0x4e57("0x61a")].decode(x, x.uint32());
                        break;
                    case 3:
                        x[_0x4e57("0x5d9")]().pos++, i[_0x4e57("0x619")] === A[_0x4e57("0x5d1")] && (i.Lines = {}), _ = x[_0x4e57("0x58c")](), x[_0x4e57("0x599")]++, i.Lines[_] = s[_0x4e57("0x61b")][_0x4e57("0x598")](x, x[_0x4e57("0x58b")]());
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & a)
                }
            }
            return i
        }, e.decodeDelimited = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            if ((void 0 === x ? "undefined" : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x) return "object expected";
            if (null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && !A.isInteger(x[_0x4e57("0x429")])) return _0x4e57("0x5da");
            if (null != x.Nodes && x.hasOwnProperty(_0x4e57("0x618"))) {
                if (!A.isObject(x[_0x4e57("0x618")])) return _0x4e57("0x61c");
                for (var e = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x618")]), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return _0x4e57("0x61d");
                    if (t = s.NavNodeSet.verify(x.Nodes[e[_]])) return _0x4e57("0x61e") + t
                }
            }
            if (null != x[_0x4e57("0x619")] && x[_0x4e57("0x1")](_0x4e57("0x619"))) {
                if (!A[_0x4e57("0x22")](x[_0x4e57("0x619")])) return _0x4e57("0x61f");
                for (e = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x619")]), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")].test(e[_])) return _0x4e57("0x620");
                    var t;
                    if (t = s[_0x4e57("0x61b")][_0x4e57("0x59d")](x[_0x4e57("0x619")][e[_]])) return _0x4e57("0x621") + t
                }
            }
            return null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x59a")]) return x;
            var e = new (s[_0x4e57("0x59a")]);
            if (null != x[_0x4e57("0x429")] && (e[_0x4e57("0x429")] = 0 | x[_0x4e57("0x429")]), x[_0x4e57("0x618")]) {
                if ((0, i[_0x4e57("0xa")])(x.Nodes) !== _0x4e57("0x9")) throw TypeError(".NavSet.Nodes: object expected");
                e.Nodes = {};
                for (var _ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x618")]), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x618")][_[t]]) !== _0x4e57("0x9")) throw TypeError(".NavSet.Nodes: object expected");
                    e[_0x4e57("0x618")][_[t]] = s[_0x4e57("0x61a")].fromObject(x[_0x4e57("0x618")][_[t]])
                }
            }
            if (x.Lines) {
                if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x619")]) !== _0x4e57("0x9")) throw TypeError(".NavSet.Lines: object expected");
                e[_0x4e57("0x619")] = {};
                for (_ = (0, a.default)(x[_0x4e57("0x619")]), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x619")][_[t]]) !== _0x4e57("0x9")) throw TypeError(".NavSet.Lines: object expected");
                    e.Lines[_[t]] = s[_0x4e57("0x61b")][_0x4e57("0x5c5")](x[_0x4e57("0x619")][_[t]])
                }
            }
            return e
        }, e.from = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _, t = {};
            if ((e.objects || e[_0x4e57("0x5ce")]) && (t.Nodes = {}, t[_0x4e57("0x619")] = {}), e[_0x4e57("0x5ce")] && (t[_0x4e57("0x429")] = 0), null != x.floornum && x[_0x4e57("0x1")](_0x4e57("0x429")) && (t[_0x4e57("0x429")] = x[_0x4e57("0x429")]), x[_0x4e57("0x618")] && (_ = (0, a[_0x4e57("0xa")])(x.Nodes))[_0x4e57("0x0")]) {
                t.Nodes = {};
                for (var i = 0; i < _[_0x4e57("0x0")]; ++i) t.Nodes[_[i]] = s[_0x4e57("0x61a")][_0x4e57("0x5cc")](x[_0x4e57("0x618")][_[i]], e)
            }
            if (x[_0x4e57("0x619")] && (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x619")])).length) {
                t[_0x4e57("0x619")] = {};
                for (i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x619")][_[i]] = s[_0x4e57("0x61b")][_0x4e57("0x5cc")](x[_0x4e57("0x619")][_[i]], e)
            }
            return t
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")].toObject(this, x)
        }, e[_0x4e57("0xd")].toJSON = function () {
            return this.constructor.toObject(this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x61a")] = function () {
        function e(x) {
            if (x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x622")] = 0, e[_0x4e57("0xd")][_0x4e57("0x623")] = 0, e[_0x4e57("0xd")].X = 0, e[_0x4e57("0xd")].Y = 0, e.prototype.sid = 0, e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            return e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x537")] && x.hasOwnProperty("_id") && e.uint32(8)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x[_0x4e57("0x622")] && x[_0x4e57("0x1")](_0x4e57("0x622")) && e.uint32(16).int32(x[_0x4e57("0x622")]), null != x[_0x4e57("0x623")] && x[_0x4e57("0x1")](_0x4e57("0x623")) && e[_0x4e57("0x58b")](24).int32(x[_0x4e57("0x623")]), null != x.X && x[_0x4e57("0x1")]("X") && e[_0x4e57("0x58b")](33)[_0x4e57("0x58e")](x.X), null != x.Y && x.hasOwnProperty("Y") && e[_0x4e57("0x58b")](41).double(x.Y), null != x.sid && x[_0x4e57("0x1")](_0x4e57("0x624")) && e[_0x4e57("0x58b")](48)[_0x4e57("0x58c")](x[_0x4e57("0x624")]), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this.encode(x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x[_0x4e57("0x60f")] : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x61a")]); x[_0x4e57("0x599")] < _;) {
                var i = x[_0x4e57("0x58b")]();
                switch (i >>> 3) {
                    case 1:
                        t._id = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t[_0x4e57("0x622")] = x.int32();
                        break;
                    case 3:
                        t.rid = x[_0x4e57("0x58c")]();
                        break;
                    case 4:
                        t.X = x[_0x4e57("0x58e")]();
                        break;
                    case 5:
                        t.Y = x[_0x4e57("0x58e")]();
                        break;
                    case 6:
                        t.sid = x[_0x4e57("0x58c")]();
                        break;
                    default:
                        x.skipType(7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            return (typeof x === _0x4e57("0x15") ? "undefined" : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x ? _0x4e57("0x5f4") : null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && !A[_0x4e57("0x59e")](x[_0x4e57("0x537")]) ? _0x4e57("0x5a1") : null != x[_0x4e57("0x622")] && x.hasOwnProperty(_0x4e57("0x622")) && !A[_0x4e57("0x59e")](x.tid) ? _0x4e57("0x625") : null != x.rid && x.hasOwnProperty(_0x4e57("0x623")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x623")]) ? _0x4e57("0x626") : null != x.X && x.hasOwnProperty("X") && typeof x.X !== _0x4e57("0x208") ? _0x4e57("0x608") : null != x.Y && x[_0x4e57("0x1")]("Y") && typeof x.Y !== _0x4e57("0x208") ? _0x4e57("0x609") : null != x[_0x4e57("0x624")] && x.hasOwnProperty(_0x4e57("0x624")) && !A[_0x4e57("0x59e")](x.sid) ? _0x4e57("0x627") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x61a")]) return x;
            var e = new s.NavNodeSet;
            return null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x[_0x4e57("0x537")]), null != x.tid && (e.tid = 0 | x.tid), null != x[_0x4e57("0x623")] && (e.rid = 0 | x.rid), null != x.X && (e.X = Number(x.X)), null != x.Y && (e.Y = Number(x.Y)), null != x[_0x4e57("0x624")] && (e[_0x4e57("0x624")] = 0 | x[_0x4e57("0x624")]), e
        }, e[_0x4e57("0x5cb")] = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            return e[_0x4e57("0x5ce")] && (_[_0x4e57("0x537")] = 0, _[_0x4e57("0x622")] = 0, _[_0x4e57("0x623")] = 0, _.X = 0, _.Y = 0, _[_0x4e57("0x624")] = 0), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && (_[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x622")] && x.hasOwnProperty(_0x4e57("0x622")) && (_[_0x4e57("0x622")] = x.tid), null != x[_0x4e57("0x623")] && x.hasOwnProperty(_0x4e57("0x623")) && (_[_0x4e57("0x623")] = x.rid), null != x.X && x[_0x4e57("0x1")]("X") && (_.X = x.X), null != x.Y && x.hasOwnProperty("Y") && (_.Y = x.Y), null != x.sid && x[_0x4e57("0x1")](_0x4e57("0x624")) && (_.sid = x[_0x4e57("0x624")]), _
        }, e[_0x4e57("0xd")].toObject = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")].toObject(this, n.util[_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x61b")] = function () {
        function e(x) {
            if (x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")].sid = 0, e.prototype[_0x4e57("0x628")] = 0, e[_0x4e57("0xd")].efnum = 0, e[_0x4e57("0xd")][_0x4e57("0x629")] = 0, e[_0x4e57("0xd")].length = 0, e[_0x4e57("0xd")][_0x4e57("0x62a")] = "", e[_0x4e57("0xd")][_0x4e57("0x62b")] = "", e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            return e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x537")] && x.hasOwnProperty(_0x4e57("0x537")) && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x._id), null != x[_0x4e57("0x624")] && x[_0x4e57("0x1")]("sid") && e.uint32(16)[_0x4e57("0x58c")](x[_0x4e57("0x624")]), null != x[_0x4e57("0x628")] && x[_0x4e57("0x1")](_0x4e57("0x628")) && e[_0x4e57("0x58b")](24)[_0x4e57("0x58c")](x[_0x4e57("0x628")]), null != x[_0x4e57("0x62c")] && x.hasOwnProperty("efnum") && e[_0x4e57("0x58b")](32).int32(x[_0x4e57("0x62c")]), null != x.rank && x[_0x4e57("0x1")](_0x4e57("0x629")) && e.uint32(40).int32(x.rank), null != x[_0x4e57("0x0")] && x[_0x4e57("0x1")](_0x4e57("0x0")) && e[_0x4e57("0x58b")](49)[_0x4e57("0x58e")](x[_0x4e57("0x0")]), null != x.direction && x[_0x4e57("0x1")](_0x4e57("0x62a")) && e[_0x4e57("0x58b")](58).string(x[_0x4e57("0x62a")]), null != x[_0x4e57("0x62b")] && x.hasOwnProperty(_0x4e57("0x62b")) && e[_0x4e57("0x58b")](66).string(x.bstair), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this.encode(x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x[_0x4e57("0x60f")] : x[_0x4e57("0x599")] + e, t = new s.NavLineSet; x.pos < _;) {
                var i = x.uint32();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x537")] = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t[_0x4e57("0x624")] = x.int32();
                        break;
                    case 3:
                        t[_0x4e57("0x628")] = x[_0x4e57("0x58c")]();
                        break;
                    case 4:
                        t[_0x4e57("0x62c")] = x[_0x4e57("0x58c")]();
                        break;
                    case 5:
                        t.rank = x[_0x4e57("0x58c")]();
                        break;
                    case 6:
                        t[_0x4e57("0x0")] = x[_0x4e57("0x58e")]();
                        break;
                    case 7:
                        t[_0x4e57("0x62a")] = x[_0x4e57("0xb")]();
                        break;
                    case 8:
                        t.bstair = x[_0x4e57("0xb")]();
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x.uint32())
        }, e[_0x4e57("0x59d")] = function (x) {
            return (typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x ? _0x4e57("0x5f4") : null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && !A[_0x4e57("0x59e")](x[_0x4e57("0x537")]) ? _0x4e57("0x5a1") : null != x.sid && x[_0x4e57("0x1")](_0x4e57("0x624")) && !A.isInteger(x[_0x4e57("0x624")]) ? _0x4e57("0x627") : null != x[_0x4e57("0x628")] && x[_0x4e57("0x1")](_0x4e57("0x628")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x628")]) ? _0x4e57("0x62d") : null != x.efnum && x.hasOwnProperty(_0x4e57("0x62c")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x62c")]) ? "efnum: integer expected" : null != x.rank && x[_0x4e57("0x1")](_0x4e57("0x629")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x629")]) ? _0x4e57("0x62e") : null != x[_0x4e57("0x0")] && x[_0x4e57("0x1")](_0x4e57("0x0")) && "number" != typeof x.length ? "length: number expected" : null != x.direction && x[_0x4e57("0x1")](_0x4e57("0x62a")) && !A[_0x4e57("0x5a2")](x.direction) ? "direction: string expected" : null != x[_0x4e57("0x62b")] && x[_0x4e57("0x1")](_0x4e57("0x62b")) && !A[_0x4e57("0x5a2")](x.bstair) ? _0x4e57("0x62f") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x61b")]) return x;
            var e = new (s[_0x4e57("0x61b")]);
            return null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x._id), null != x.sid && (e[_0x4e57("0x624")] = 0 | x.sid), null != x[_0x4e57("0x628")] && (e.eid = 0 | x[_0x4e57("0x628")]), null != x[_0x4e57("0x62c")] && (e.efnum = 0 | x[_0x4e57("0x62c")]), null != x[_0x4e57("0x629")] && (e.rank = 0 | x[_0x4e57("0x629")]), null != x.length && (e.length = Number(x[_0x4e57("0x0")])), null != x[_0x4e57("0x62a")] && (e[_0x4e57("0x62a")] = String(x[_0x4e57("0x62a")])), null != x[_0x4e57("0x62b")] && (e[_0x4e57("0x62b")] = String(x[_0x4e57("0x62b")])), e
        }, e[_0x4e57("0x5cb")] = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            return e.defaults && (_[_0x4e57("0x537")] = 0, _.sid = 0, _.eid = 0, _[_0x4e57("0x62c")] = 0, _[_0x4e57("0x629")] = 0, _[_0x4e57("0x0")] = 0, _[_0x4e57("0x62a")] = "", _[_0x4e57("0x62b")] = ""), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && (_._id = x[_0x4e57("0x537")]), null != x.sid && x[_0x4e57("0x1")](_0x4e57("0x624")) && (_[_0x4e57("0x624")] = x[_0x4e57("0x624")]), null != x[_0x4e57("0x628")] && x[_0x4e57("0x1")](_0x4e57("0x628")) && (_[_0x4e57("0x628")] = x.eid), null != x[_0x4e57("0x62c")] && x.hasOwnProperty("efnum") && (_[_0x4e57("0x62c")] = x.efnum), null != x[_0x4e57("0x629")] && x[_0x4e57("0x1")]("rank") && (_.rank = x.rank), null != x.length && x[_0x4e57("0x1")](_0x4e57("0x0")) && (_.length = x[_0x4e57("0x0")]), null != x[_0x4e57("0x62a")] && x[_0x4e57("0x1")](_0x4e57("0x62a")) && (_.direction = x[_0x4e57("0x62a")]), null != x.bstair && x[_0x4e57("0x1")]("bstair") && (_[_0x4e57("0x62b")] = x[_0x4e57("0x62b")]), _
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x595")] = function () {
        function e(x) {
            if (this.Nodes = {}, this[_0x4e57("0x630")] = {}, x) for (var e = (0, a[_0x4e57("0xa")])(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e.prototype[_0x4e57("0x631")] = "", e[_0x4e57("0xd")][_0x4e57("0x632")] = "", e.prototype.bgaudioplay = 0, e.prototype[_0x4e57("0x633")] = "", e[_0x4e57("0xd")][_0x4e57("0x634")] = "", e.prototype[_0x4e57("0x618")] = A[_0x4e57("0x5d1")], e[_0x4e57("0xd")][_0x4e57("0x630")] = A[_0x4e57("0x5d1")], e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            if (e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x631")] && x[_0x4e57("0x1")](_0x4e57("0x631")) && e[_0x4e57("0x58b")](10)[_0x4e57("0xb")](x[_0x4e57("0x631")]), null != x.bgaudio && x[_0x4e57("0x1")](_0x4e57("0x632")) && e[_0x4e57("0x58b")](18)[_0x4e57("0xb")](x[_0x4e57("0x632")]), null != x.bgaudioplay && x[_0x4e57("0x1")](_0x4e57("0x635")) && e.uint32(24)[_0x4e57("0x58c")](x.bgaudioplay), null != x[_0x4e57("0x633")] && x[_0x4e57("0x1")](_0x4e57("0x633")) && e[_0x4e57("0x58b")](34)[_0x4e57("0xb")](x.picscale), null != x[_0x4e57("0x634")] && x[_0x4e57("0x1")](_0x4e57("0x634")) && e[_0x4e57("0x58b")](42)[_0x4e57("0xb")](x[_0x4e57("0x634")]), null != x[_0x4e57("0x618")] && x[_0x4e57("0x1")](_0x4e57("0x618"))) for (var _ = (0, a[_0x4e57("0xa")])(x.Nodes), t = 0; t < _[_0x4e57("0x0")]; ++t) e.uint32(50).fork()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s[_0x4e57("0x636")].encode(x[_0x4e57("0x618")][_[t]], e[_0x4e57("0x58b")](18)[_0x4e57("0x594")]())[_0x4e57("0x593")]()[_0x4e57("0x593")]();
            if (null != x[_0x4e57("0x630")] && x[_0x4e57("0x1")](_0x4e57("0x630"))) for (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x630")]), t = 0; t < _.length; ++t) e.uint32(58)[_0x4e57("0x594")]()[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](_[t]), s.PicClickSet[_0x4e57("0x58a")](x[_0x4e57("0x630")][_[t]], e[_0x4e57("0x58b")](18).fork())[_0x4e57("0x593")]()[_0x4e57("0x593")]();
            return e
        }, e.encodeDelimited = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g.create(x));
            for (var _, t = void 0 === e ? x[_0x4e57("0x60f")] : x[_0x4e57("0x599")] + e, i = new (s[_0x4e57("0x595")]); x.pos < t;) {
                var a = x[_0x4e57("0x58b")]();
                switch (a >>> 3) {
                    case 1:
                        i[_0x4e57("0x631")] = x[_0x4e57("0xb")]();
                        break;
                    case 2:
                        i[_0x4e57("0x632")] = x[_0x4e57("0xb")]();
                        break;
                    case 3:
                        i[_0x4e57("0x635")] = x[_0x4e57("0x58c")]();
                        break;
                    case 4:
                        i[_0x4e57("0x633")] = x[_0x4e57("0xb")]();
                        break;
                    case 5:
                        i[_0x4e57("0x634")] = x[_0x4e57("0xb")]();
                        break;
                    case 6:
                        x.skip()[_0x4e57("0x599")]++, i[_0x4e57("0x618")] === A[_0x4e57("0x5d1")] && (i.Nodes = {}), _ = x[_0x4e57("0x58c")](), x[_0x4e57("0x599")]++, i[_0x4e57("0x618")][_] = s[_0x4e57("0x636")][_0x4e57("0x598")](x, x[_0x4e57("0x58b")]());
                        break;
                    case 7:
                        x[_0x4e57("0x5d9")]()[_0x4e57("0x599")]++, i[_0x4e57("0x630")] === A[_0x4e57("0x5d1")] && (i[_0x4e57("0x630")] = {}), _ = x[_0x4e57("0x58c")](), x[_0x4e57("0x599")]++, i[_0x4e57("0x630")][_] = s[_0x4e57("0x637")].decode(x, x[_0x4e57("0x58b")]());
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & a)
                }
            }
            return i
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            if ((typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x) return _0x4e57("0x5f4");
            if (null != x[_0x4e57("0x631")] && x[_0x4e57("0x1")](_0x4e57("0x631")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x631")])) return _0x4e57("0x638");
            if (null != x.bgaudio && x[_0x4e57("0x1")]("bgaudio") && !A[_0x4e57("0x5a2")](x[_0x4e57("0x632")])) return _0x4e57("0x639");
            if (null != x[_0x4e57("0x635")] && x[_0x4e57("0x1")](_0x4e57("0x635")) && !A[_0x4e57("0x59e")](x.bgaudioplay)) return "bgaudioplay: integer expected";
            if (null != x[_0x4e57("0x633")] && x[_0x4e57("0x1")](_0x4e57("0x633")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x633")])) return "picscale: string expected";
            if (null != x.msgscale && x[_0x4e57("0x1")](_0x4e57("0x634")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x634")])) return _0x4e57("0x63a");
            if (null != x[_0x4e57("0x618")] && x[_0x4e57("0x1")]("Nodes")) {
                if (!A[_0x4e57("0x22")](x[_0x4e57("0x618")])) return "Nodes: object expected";
                for (var e = (0, a.default)(x.Nodes), _ = 0; _ < e.length; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return _0x4e57("0x61d");
                    if (t = s[_0x4e57("0x636")].verify(x[_0x4e57("0x618")][e[_]])) return "Nodes." + t
                }
            }
            if (null != x[_0x4e57("0x630")] && x[_0x4e57("0x1")](_0x4e57("0x630"))) {
                if (!A[_0x4e57("0x22")](x.Infos)) return _0x4e57("0x63b");
                for (e = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x630")]), _ = 0; _ < e[_0x4e57("0x0")]; ++_) {
                    if (!A[_0x4e57("0x5e2")][_0x4e57("0x17")](e[_])) return _0x4e57("0x63c");
                    var t;
                    if (t = s[_0x4e57("0x637")][_0x4e57("0x59d")](x.Infos[e[_]])) return _0x4e57("0x63d") + t
                }
            }
            return null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s[_0x4e57("0x595")]) return x;
            var e = new s.PicSet;
            if (null != x[_0x4e57("0x631")] && (e[_0x4e57("0x631")] = String(x[_0x4e57("0x631")])), null != x[_0x4e57("0x632")] && (e[_0x4e57("0x632")] = String(x[_0x4e57("0x632")])), null != x[_0x4e57("0x635")] && (e[_0x4e57("0x635")] = 0 | x.bgaudioplay), null != x[_0x4e57("0x633")] && (e[_0x4e57("0x633")] = String(x.picscale)), null != x.msgscale && (e.msgscale = String(x[_0x4e57("0x634")])), x.Nodes) {
                if ("object" !== (0, i[_0x4e57("0xa")])(x[_0x4e57("0x618")])) throw TypeError(".PicSet.Nodes: object expected");
                e.Nodes = {};
                for (var _ = (0, a[_0x4e57("0xa")])(x.Nodes), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ((0, i[_0x4e57("0xa")])(x[_0x4e57("0x618")][_[t]]) !== _0x4e57("0x9")) throw TypeError(".PicSet.Nodes: object expected");
                    e[_0x4e57("0x618")][_[t]] = s[_0x4e57("0x636")][_0x4e57("0x5c5")](x.Nodes[_[t]])
                }
            }
            if (x[_0x4e57("0x630")]) {
                if ((0, i.default)(x[_0x4e57("0x630")]) !== _0x4e57("0x9")) throw TypeError(".PicSet.Infos: object expected");
                e.Infos = {};
                for (_ = (0, a.default)(x.Infos), t = 0; t < _[_0x4e57("0x0")]; ++t) {
                    if ("object" !== (0, i.default)(x[_0x4e57("0x630")][_[t]])) throw TypeError(_0x4e57("0x63e"));
                    e.Infos[_[t]] = s[_0x4e57("0x637")][_0x4e57("0x5c5")](x[_0x4e57("0x630")][_[t]])
                }
            }
            return e
        }, e.from = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _, t = {};
            if ((e.objects || e[_0x4e57("0x5ce")]) && (t[_0x4e57("0x618")] = {}, t.Infos = {}), e[_0x4e57("0x5ce")] && (t.serverurl = "", t.bgaudio = "", t[_0x4e57("0x635")] = 0, t[_0x4e57("0x633")] = "", t[_0x4e57("0x634")] = ""), null != x[_0x4e57("0x631")] && x.hasOwnProperty(_0x4e57("0x631")) && (t.serverurl = x[_0x4e57("0x631")]), null != x[_0x4e57("0x632")] && x[_0x4e57("0x1")](_0x4e57("0x632")) && (t[_0x4e57("0x632")] = x.bgaudio), null != x.bgaudioplay && x[_0x4e57("0x1")]("bgaudioplay") && (t[_0x4e57("0x635")] = x.bgaudioplay), null != x[_0x4e57("0x633")] && x[_0x4e57("0x1")](_0x4e57("0x633")) && (t[_0x4e57("0x633")] = x.picscale), null != x.msgscale && x[_0x4e57("0x1")](_0x4e57("0x634")) && (t.msgscale = x[_0x4e57("0x634")]), x[_0x4e57("0x618")] && (_ = (0, a.default)(x[_0x4e57("0x618")])).length) {
                t[_0x4e57("0x618")] = {};
                for (var i = 0; i < _[_0x4e57("0x0")]; ++i) t[_0x4e57("0x618")][_[i]] = s[_0x4e57("0x636")][_0x4e57("0x5cc")](x[_0x4e57("0x618")][_[i]], e)
            }
            if (x[_0x4e57("0x630")] && (_ = (0, a[_0x4e57("0xa")])(x[_0x4e57("0x630")]))[_0x4e57("0x0")]) {
                t[_0x4e57("0x630")] = {};
                for (i = 0; i < _[_0x4e57("0x0")]; ++i) t.Infos[_[i]] = s.PicClickSet[_0x4e57("0x5cc")](x.Infos[_[i]], e)
            }
            return t
        }, e[_0x4e57("0xd")].toObject = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e.prototype[_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")].toObject(this, n[_0x4e57("0x57e")].toJSONOptions)
        }, e
    }(), s[_0x4e57("0x636")] = function () {
        function e(x) {
            if (this[_0x4e57("0x63f")] = [], this[_0x4e57("0x640")] = [], x) for (var e = (0, a.default)(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e.prototype[_0x4e57("0x429")] = 0, e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x36")] = "", e.prototype.base = 0, e.prototype.X = 0, e[_0x4e57("0xd")].Y = 0, e[_0x4e57("0xd")][_0x4e57("0x63f")] = A.emptyArray, e[_0x4e57("0xd")][_0x4e57("0x640")] = A[_0x4e57("0x588")], e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e.encode = function (x, e) {
            if (e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x[_0x4e57("0x429")]), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && e[_0x4e57("0x58b")](16)[_0x4e57("0x58c")](x[_0x4e57("0x537")]), null != x.url && x[_0x4e57("0x1")](_0x4e57("0x36")) && e[_0x4e57("0x58b")](26).string(x[_0x4e57("0x36")]), null != x[_0x4e57("0x641")] && x[_0x4e57("0x1")]("base") && e[_0x4e57("0x58b")](32).int32(x.base), null != x.X && x[_0x4e57("0x1")]("X") && e[_0x4e57("0x58b")](41)[_0x4e57("0x58e")](x.X), null != x.Y && x[_0x4e57("0x1")]("Y") && e[_0x4e57("0x58b")](49)[_0x4e57("0x58e")](x.Y), null != x[_0x4e57("0x63f")] && x[_0x4e57("0x63f")][_0x4e57("0x0")]) {
                e[_0x4e57("0x58b")](58).fork();
                for (var _ = 0; _ < x.idlist1[_0x4e57("0x0")]; ++_) e[_0x4e57("0x58c")](x.idlist1[_]);
                e.ldelim()
            }
            if (null != x[_0x4e57("0x640")] && x.idlist2[_0x4e57("0x0")]) {
                e[_0x4e57("0x58b")](66).fork();
                for (_ = 0; _ < x[_0x4e57("0x640")].length; ++_) e[_0x4e57("0x58c")](x[_0x4e57("0x640")][_]);
                e[_0x4e57("0x593")]()
            }
            return e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g[_0x4e57("0x2ba")](x));
            for (var _ = void 0 === e ? x.len : x.pos + e, t = new s.PicNodeSet; x[_0x4e57("0x599")] < _;) {
                var i = x[_0x4e57("0x58b")]();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x429")] = x[_0x4e57("0x58c")]();
                        break;
                    case 2:
                        t._id = x[_0x4e57("0x58c")]();
                        break;
                    case 3:
                        t[_0x4e57("0x36")] = x[_0x4e57("0xb")]();
                        break;
                    case 4:
                        t[_0x4e57("0x641")] = x[_0x4e57("0x58c")]();
                        break;
                    case 5:
                        t.X = x[_0x4e57("0x58e")]();
                        break;
                    case 6:
                        t.Y = x[_0x4e57("0x58e")]();
                        break;
                    case 7:
                        if (t.idlist1 && t.idlist1[_0x4e57("0x0")] || (t.idlist1 = []), 2 == (7 & i)) for (var a = x[_0x4e57("0x58b")]() + x[_0x4e57("0x599")]; x[_0x4e57("0x599")] < a;) t[_0x4e57("0x63f")][_0x4e57("0xf")](x[_0x4e57("0x58c")]()); else t[_0x4e57("0x63f")][_0x4e57("0xf")](x[_0x4e57("0x58c")]());
                        break;
                    case 8:
                        if (t[_0x4e57("0x640")] && t[_0x4e57("0x640")][_0x4e57("0x0")] || (t[_0x4e57("0x640")] = []), 2 == (7 & i)) for (a = x[_0x4e57("0x58b")]() + x[_0x4e57("0x599")]; x[_0x4e57("0x599")] < a;) t.idlist2[_0x4e57("0xf")](x[_0x4e57("0x58c")]()); else t[_0x4e57("0x640")][_0x4e57("0xf")](x[_0x4e57("0x58c")]());
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & i)
                }
            }
            return t
        }, e.decodeDelimited = function (x) {
            return x instanceof g || (x = g(x)), this.decode(x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            if ((typeof x === _0x4e57("0x15") ? "undefined" : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x) return _0x4e57("0x5f4");
            if (null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x429")])) return _0x4e57("0x5da");
            if (null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && !A.isInteger(x[_0x4e57("0x537")])) return _0x4e57("0x5a1");
            if (null != x[_0x4e57("0x36")] && x[_0x4e57("0x1")](_0x4e57("0x36")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x36")])) return _0x4e57("0x642");
            if (null != x[_0x4e57("0x641")] && x[_0x4e57("0x1")](_0x4e57("0x641")) && !A[_0x4e57("0x59e")](x[_0x4e57("0x641")])) return _0x4e57("0x643");
            if (null != x.X && x[_0x4e57("0x1")]("X") && "number" != typeof x.X) return _0x4e57("0x608");
            if (null != x.Y && x[_0x4e57("0x1")]("Y") && typeof x.Y !== _0x4e57("0x208")) return _0x4e57("0x609");
            if (null != x.idlist1 && x[_0x4e57("0x1")](_0x4e57("0x63f"))) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x63f")])) return _0x4e57("0x644");
                for (var e = 0; e < x.idlist1[_0x4e57("0x0")]; ++e) if (!A[_0x4e57("0x59e")](x[_0x4e57("0x63f")][e])) return _0x4e57("0x645")
            }
            if (null != x[_0x4e57("0x640")] && x[_0x4e57("0x1")](_0x4e57("0x640"))) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x640")])) return _0x4e57("0x646");
                for (e = 0; e < x[_0x4e57("0x640")][_0x4e57("0x0")]; ++e) if (!A[_0x4e57("0x59e")](x[_0x4e57("0x640")][e])) return "idlist2: integer[] expected"
            }
            return null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s.PicNodeSet) return x;
            var e = new (s[_0x4e57("0x636")]);
            if (null != x[_0x4e57("0x429")] && (e[_0x4e57("0x429")] = 0 | x[_0x4e57("0x429")]), null != x._id && (e._id = 0 | x[_0x4e57("0x537")]), null != x[_0x4e57("0x36")] && (e.url = String(x[_0x4e57("0x36")])), null != x[_0x4e57("0x641")] && (e.base = 0 | x[_0x4e57("0x641")]), null != x.X && (e.X = Number(x.X)), null != x.Y && (e.Y = Number(x.Y)), x[_0x4e57("0x63f")]) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x63f")])) throw TypeError(_0x4e57("0x647"));
                e.idlist1 = [];
                for (var _ = 0; _ < x[_0x4e57("0x63f")][_0x4e57("0x0")]; ++_) e[_0x4e57("0x63f")][_] = 0 | x.idlist1[_]
            }
            if (x.idlist2) {
                if (!Array[_0x4e57("0x311")](x[_0x4e57("0x640")])) throw TypeError(".PicNodeSet.idlist2: array expected");
                e[_0x4e57("0x640")] = [];
                for (_ = 0; _ < x[_0x4e57("0x640")][_0x4e57("0x0")]; ++_) e[_0x4e57("0x640")][_] = 0 | x[_0x4e57("0x640")][_]
            }
            return e
        }, e[_0x4e57("0x5cb")] = e[_0x4e57("0x5c5")], e[_0x4e57("0x5cc")] = function (x, e) {
            e || (e = {});
            var _ = {};
            if ((e.arrays || e[_0x4e57("0x5ce")]) && (_.idlist1 = [], _[_0x4e57("0x640")] = []), e[_0x4e57("0x5ce")] && (_.floornum = 0, _[_0x4e57("0x537")] = 0, _[_0x4e57("0x36")] = "", _[_0x4e57("0x641")] = 0, _.X = 0, _.Y = 0), null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && (_[_0x4e57("0x429")] = x[_0x4e57("0x429")]), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && (_._id = x[_0x4e57("0x537")]), null != x[_0x4e57("0x36")] && x.hasOwnProperty("url") && (_[_0x4e57("0x36")] = x[_0x4e57("0x36")]), null != x.base && x.hasOwnProperty(_0x4e57("0x641")) && (_[_0x4e57("0x641")] = x[_0x4e57("0x641")]), null != x.X && x[_0x4e57("0x1")]("X") && (_.X = x.X), null != x.Y && x[_0x4e57("0x1")]("Y") && (_.Y = x.Y), x[_0x4e57("0x63f")] && x.idlist1[_0x4e57("0x0")]) {
                _[_0x4e57("0x63f")] = [];
                for (var t = 0; t < x[_0x4e57("0x63f")][_0x4e57("0x0")]; ++t) _[_0x4e57("0x63f")][t] = x[_0x4e57("0x63f")][t]
            }
            if (x[_0x4e57("0x640")] && x.idlist2[_0x4e57("0x0")]) {
                _.idlist2 = [];
                for (t = 0; t < x[_0x4e57("0x640")][_0x4e57("0x0")]; ++t) _[_0x4e57("0x640")][t] = x[_0x4e57("0x640")][t]
            }
            return _
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e.prototype[_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), s[_0x4e57("0x637")] = function () {
        function e(x) {
            if (x) for (var e = (0, a.default)(x), _ = 0; _ < e[_0x4e57("0x0")]; ++_) null != x[e[_]] && (this[e[_]] = x[e[_]])
        }

        return e[_0x4e57("0xd")][_0x4e57("0x429")] = 0, e[_0x4e57("0xd")][_0x4e57("0x537")] = 0, e[_0x4e57("0xd")][_0x4e57("0x648")] = "", e[_0x4e57("0xd")][_0x4e57("0x649")] = "", e[_0x4e57("0xd")].msgt = "", e[_0x4e57("0xd")][_0x4e57("0x64a")] = "", e[_0x4e57("0xd")].X = 0, e[_0x4e57("0xd")].Y = 0, e[_0x4e57("0xd")].Z = 0, e[_0x4e57("0xd")].curl = "", e[_0x4e57("0xd")][_0x4e57("0x64b")] = "", e[_0x4e57("0x2ba")] = function (x) {
            return new e(x)
        }, e[_0x4e57("0x58a")] = function (x, e) {
            return e || (e = r[_0x4e57("0x2ba")]()), null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && e[_0x4e57("0x58b")](8)[_0x4e57("0x58c")](x.floornum), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && e[_0x4e57("0x58b")](16).int32(x[_0x4e57("0x537")]), null != x[_0x4e57("0x648")] && x[_0x4e57("0x1")]("purl") && e[_0x4e57("0x58b")](26)[_0x4e57("0xb")](x[_0x4e57("0x648")]), null != x.aurl && x[_0x4e57("0x1")](_0x4e57("0x649")) && e[_0x4e57("0x58b")](34)[_0x4e57("0xb")](x[_0x4e57("0x649")]), null != x[_0x4e57("0x64c")] && x[_0x4e57("0x1")](_0x4e57("0x64c")) && e[_0x4e57("0x58b")](42)[_0x4e57("0xb")](x[_0x4e57("0x64c")]), null != x[_0x4e57("0x64a")] && x[_0x4e57("0x1")](_0x4e57("0x64a")) && e[_0x4e57("0x58b")](50).string(x[_0x4e57("0x64a")]), null != x.X && x.hasOwnProperty("X") && e[_0x4e57("0x58b")](57)[_0x4e57("0x58e")](x.X), null != x.Y && x[_0x4e57("0x1")]("Y") && e[_0x4e57("0x58b")](65).double(x.Y), null != x.Z && x[_0x4e57("0x1")]("Z") && e.uint32(73).double(x.Z), null != x.curl && x[_0x4e57("0x1")](_0x4e57("0x64d")) && e[_0x4e57("0x58b")](82)[_0x4e57("0xb")](x[_0x4e57("0x64d")]), null != x[_0x4e57("0x64b")] && x[_0x4e57("0x1")](_0x4e57("0x64b")) && e[_0x4e57("0x58b")](90)[_0x4e57("0xb")](x.csize), e
        }, e[_0x4e57("0x597")] = function (x, e) {
            return this[_0x4e57("0x58a")](x, e)[_0x4e57("0x593")]()
        }, e[_0x4e57("0x598")] = function (x, e) {
            x instanceof g || (x = g.create(x));
            for (var _ = void 0 === e ? x[_0x4e57("0x60f")] : x[_0x4e57("0x599")] + e, t = new (s[_0x4e57("0x637")]); x[_0x4e57("0x599")] < _;) {
                var i = x[_0x4e57("0x58b")]();
                switch (i >>> 3) {
                    case 1:
                        t[_0x4e57("0x429")] = x.int32();
                        break;
                    case 2:
                        t[_0x4e57("0x537")] = x[_0x4e57("0x58c")]();
                        break;
                    case 3:
                        t[_0x4e57("0x648")] = x.string();
                        break;
                    case 4:
                        t[_0x4e57("0x649")] = x.string();
                        break;
                    case 5:
                        t[_0x4e57("0x64c")] = x[_0x4e57("0xb")]();
                        break;
                    case 6:
                        t[_0x4e57("0x64a")] = x[_0x4e57("0xb")]();
                        break;
                    case 7:
                        t.X = x[_0x4e57("0x58e")]();
                        break;
                    case 8:
                        t.Y = x.double();
                        break;
                    case 9:
                        t.Z = x[_0x4e57("0x58e")]();
                        break;
                    case 10:
                        t[_0x4e57("0x64d")] = x[_0x4e57("0xb")]();
                        break;
                    case 11:
                        t[_0x4e57("0x64b")] = x[_0x4e57("0xb")]();
                        break;
                    default:
                        x[_0x4e57("0x59b")](7 & i)
                }
            }
            return t
        }, e[_0x4e57("0x59c")] = function (x) {
            return x instanceof g || (x = g(x)), this[_0x4e57("0x598")](x, x[_0x4e57("0x58b")]())
        }, e[_0x4e57("0x59d")] = function (x) {
            return (void 0 === x ? _0x4e57("0x15") : (0, i[_0x4e57("0xa")])(x)) !== _0x4e57("0x9") || null === x ? _0x4e57("0x5f4") : null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && !A[_0x4e57("0x59e")](x.floornum) ? "floornum: integer expected" : null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")]("_id") && !A.isInteger(x._id) ? _0x4e57("0x5a1") : null != x[_0x4e57("0x648")] && x[_0x4e57("0x1")](_0x4e57("0x648")) && !A.isString(x[_0x4e57("0x648")]) ? _0x4e57("0x64e") : null != x[_0x4e57("0x649")] && x[_0x4e57("0x1")](_0x4e57("0x649")) && !A[_0x4e57("0x5a2")](x.aurl) ? _0x4e57("0x64f") : null != x.msgt && x[_0x4e57("0x1")](_0x4e57("0x64c")) && !A[_0x4e57("0x5a2")](x.msgt) ? _0x4e57("0x650") : null != x[_0x4e57("0x64a")] && x[_0x4e57("0x1")](_0x4e57("0x64a")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x64a")]) ? _0x4e57("0x651") : null != x.X && x[_0x4e57("0x1")]("X") && typeof x.X !== _0x4e57("0x208") ? _0x4e57("0x608") : null != x.Y && x[_0x4e57("0x1")]("Y") && typeof x.Y !== _0x4e57("0x208") ? _0x4e57("0x609") : null != x.Z && x[_0x4e57("0x1")]("Z") && "number" != typeof x.Z ? "Z: number expected" : null != x.curl && x.hasOwnProperty(_0x4e57("0x64d")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x64d")]) ? _0x4e57("0x652") : null != x[_0x4e57("0x64b")] && x[_0x4e57("0x1")](_0x4e57("0x64b")) && !A[_0x4e57("0x5a2")](x[_0x4e57("0x64b")]) ? _0x4e57("0x653") : null
        }, e[_0x4e57("0x5c5")] = function (x) {
            if (x instanceof s.PicClickSet) return x;
            var e = new s.PicClickSet;
            return null != x.floornum && (e[_0x4e57("0x429")] = 0 | x.floornum), null != x[_0x4e57("0x537")] && (e[_0x4e57("0x537")] = 0 | x[_0x4e57("0x537")]), null != x.purl && (e.purl = String(x[_0x4e57("0x648")])), null != x[_0x4e57("0x649")] && (e[_0x4e57("0x649")] = String(x[_0x4e57("0x649")])), null != x.msgt && (e[_0x4e57("0x64c")] = String(x[_0x4e57("0x64c")])), null != x[_0x4e57("0x64a")] && (e[_0x4e57("0x64a")] = String(x[_0x4e57("0x64a")])), null != x.X && (e.X = Number(x.X)), null != x.Y && (e.Y = Number(x.Y)), null != x.Z && (e.Z = Number(x.Z)), null != x[_0x4e57("0x64d")] && (e.curl = String(x[_0x4e57("0x64d")])), null != x[_0x4e57("0x64b")] && (e[_0x4e57("0x64b")] = String(x[_0x4e57("0x64b")])), e
        }, e[_0x4e57("0x5cb")] = e[_0x4e57("0x5c5")], e.toObject = function (x, e) {
            e || (e = {});
            var _ = {};
            return e.defaults && (_[_0x4e57("0x429")] = 0, _[_0x4e57("0x537")] = 0, _[_0x4e57("0x648")] = "", _[_0x4e57("0x649")] = "", _[_0x4e57("0x64c")] = "", _.msgc = "", _.X = 0, _.Y = 0, _.Z = 0, _[_0x4e57("0x64d")] = "", _[_0x4e57("0x64b")] = ""), null != x[_0x4e57("0x429")] && x[_0x4e57("0x1")](_0x4e57("0x429")) && (_[_0x4e57("0x429")] = x[_0x4e57("0x429")]), null != x[_0x4e57("0x537")] && x[_0x4e57("0x1")](_0x4e57("0x537")) && (_[_0x4e57("0x537")] = x[_0x4e57("0x537")]), null != x[_0x4e57("0x648")] && x[_0x4e57("0x1")](_0x4e57("0x648")) && (_[_0x4e57("0x648")] = x[_0x4e57("0x648")]), null != x[_0x4e57("0x649")] && x[_0x4e57("0x1")](_0x4e57("0x649")) && (_[_0x4e57("0x649")] = x[_0x4e57("0x649")]), null != x[_0x4e57("0x64c")] && x[_0x4e57("0x1")](_0x4e57("0x64c")) && (_[_0x4e57("0x64c")] = x[_0x4e57("0x64c")]), null != x[_0x4e57("0x64a")] && x[_0x4e57("0x1")](_0x4e57("0x64a")) && (_[_0x4e57("0x64a")] = x[_0x4e57("0x64a")]), null != x.X && x.hasOwnProperty("X") && (_.X = x.X), null != x.Y && x[_0x4e57("0x1")]("Y") && (_.Y = x.Y), null != x.Z && x[_0x4e57("0x1")]("Z") && (_.Z = x.Z), null != x[_0x4e57("0x64d")] && x[_0x4e57("0x1")]("curl") && (_[_0x4e57("0x64d")] = x[_0x4e57("0x64d")]), null != x.csize && x[_0x4e57("0x1")](_0x4e57("0x64b")) && (_[_0x4e57("0x64b")] = x[_0x4e57("0x64b")]), _
        }, e.prototype[_0x4e57("0x5cc")] = function (x) {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, x)
        }, e[_0x4e57("0xd")][_0x4e57("0x5cf")] = function () {
            return this[_0x4e57("0x1b2")][_0x4e57("0x5cc")](this, n[_0x4e57("0x57e")][_0x4e57("0x5d0")])
        }, e
    }(), x[_0x4e57("0x5")] = s
}, , , , , , , , , , , , , , , , , function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = n(_(0)), i = n(_(1)), a = n(_(46));

    function n(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function () {
        function e(x) {
            (0, t[_0x4e57("0xa")])(this, e), this[_0x4e57("0x654")] = _0x4e57("0x655"), this[_0x4e57("0x4a2")] = null, this[_0x4e57("0x656")] = null, this.floorStyleBase = null, this[_0x4e57("0x657")] = {}, this[_0x4e57("0x658")] = null, this.defaultTheme_ = {
                color_: 16777215,
                alpha: 1,
                strokeColor_: 16777215,
                strokeWidth: 2
            }, this[_0x4e57("0x405")] = 16777215, this[_0x4e57("0x406")] = 1, this.modelOpacity_ = .875, this.floorColor_ = 16776960, this[_0x4e57("0x4a0")] = .875, this[_0x4e57("0x659")] = 16750950, this[_0x4e57("0x65a")] = 16711680, this.navigateStyle_ = {
                color: 16711680,
                lineWidth: 8,
                alpha: .8,
                dash: {size: 1, gap: 1}
            }, this.options_ = x, this[_0x4e57("0x654")] = this[_0x4e57("0x3d0")][_0x4e57("0x403")] || this[_0x4e57("0x654")]
        }

        return (0, i[_0x4e57("0xa")])(e, [{
            key: _0x4e57("0x65b"), value: function (x, e) {
                return new (THREE[_0x4e57("0x2ec")])({
                    color: e || x[_0x4e57("0x65c")],
                    opacity: x[_0x4e57("0x485")],
                    transparent: !0,
                    side: THREE[_0x4e57("0x10c")]
                })
            }
        }, {
            key: _0x4e57("0x65d"), value: function (x) {
                var e = this[_0x4e57("0x4a2")][x];
                return a[_0x4e57("0xa")].cloneObj(e || this[_0x4e57("0x65e")])
            }
        }, {
            key: "getFontTheme", value: function (x) {
                for (var e in this.fontStyleThemeDic) if (1 * this[_0x4e57("0x658")][e][_0x4e57("0x65f")] == x) return this[_0x4e57("0x658")][e]
            }
        }, {
            key: "getModelMaterial", value: function (x, e) {
                var _;
                e[_0x4e57("0x0")] < 1 ? _ = (this.materialList_[x] || this[_0x4e57("0x65b")](this[_0x4e57("0x65e")]))[_0x4e57("0xe8")]() : (_ = this[_0x4e57("0x65b")](this[_0x4e57("0x65d")](x), esmap[_0x4e57("0x7d")].toColor(e)))[_0x4e57("0x65c")] = esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](e);
                return _ || this[_0x4e57("0x660")]
            }
        }, {
            key: _0x4e57("0x661"), value: function (x) {
                var e = this[_0x4e57("0x4a2")][x];
                return e && null != e[_0x4e57("0x40d")] ? e[_0x4e57("0x40d")][_0x4e57("0xe8")]() : new (THREE[_0x4e57("0x572")])({color: 16711680})
            }
        }, {
            key: "initPoiMateriaByData", value: function (x, e) {
                var _ = esmap.ESMap.instance;
                for (var t in x) {
                    var i = {};
                    if (i.id = t, i[_0x4e57("0x1c5")] = e, !this[_0x4e57("0x4a2")][i.id] && 12e4 != i.id) {
                        var a = this[_0x4e57("0x3d0")][_0x4e57("0x48d")] + "/" + this[_0x4e57("0x654")] + "/" + i.id + _0x4e57("0x432");
                        i.id && 0 < i.id[_0x4e57("0x2a9")]()[_0x4e57("0x41")](_0x4e57("0x432")) && (a = this.options_[_0x4e57("0x48c")] + "/" + _.sceneId_ + "/imagelabel/" + i.id);
                        var n = esmap[_0x4e57("0x7d")].loadTexture(a);
                        n.minFilter = THREE[_0x4e57("0x281")], n[_0x4e57("0x2e5")] = THREE.NearestFilter, i[_0x4e57("0x40d")] = new THREE.SpriteMaterial({map: n}), i[_0x4e57("0x40d")][_0x4e57("0x486")] = e, this[_0x4e57("0x4a2")][i.id] = i
                    }
                }
            }
        }, {
            key: _0x4e57("0x404"), get: function () {
                return this[_0x4e57("0x654")]
            }, set: function (x) {
                this.themeID_ = x
            }
        }, {
            key: "Model3DSelectColor", set: function (x) {
                this.model3DSelectedColor_ = esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](x)
            }, get: function () {
                return this.model3DSelectedColor_
            }
        }, {
            key: _0x4e57("0x37"), set: function (x) {
                this[_0x4e57("0x405")] = esmap.ESMapUtil[_0x4e57("0x3eb")](x[_0x4e57("0x662")][_0x4e57("0x663")]), this[_0x4e57("0x406")] = 1 - x.mapstyle[_0x4e57("0x664")] || 0, this[_0x4e57("0x4a2")] = {}, this[_0x4e57("0x656")] = {};
                for (var e = x.roomstyle, _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                    var t = e[_];
                    t.color_ = esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](t[_0x4e57("0x1df")]), 1 == t[_0x4e57("0x65f")] && (this[_0x4e57("0x659")] = t.color_), t[_0x4e57("0x49d")] = esmap.ESMapUtil[_0x4e57("0x3eb")](t[_0x4e57("0x665")]), t[_0x4e57("0x485")] = t.transparent, this[_0x4e57("0x656")][t[_0x4e57("0x65f")]] = this.createMaterial_(t), this[_0x4e57("0x4a2")][t[_0x4e57("0x65f")]] = t
                }
                var i = {}, a = x[_0x4e57("0x666")], n = this;
                if (this[_0x4e57("0x4a1")] = {}, a && 0 < a.length) {
                    var g = a[0];
                    this[_0x4e57("0x667")] = esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](g[_0x4e57("0x1df")]), g[_0x4e57("0x2f0")] && (this[_0x4e57("0x4a0")] = 1 - parseFloat(g.transparent)), a[_0x4e57("0x60")](function (x) {
                        n[_0x4e57("0x4a1")][x[_0x4e57("0x429")]] = {
                            height: x[_0x4e57("0x668")],
                            opacity: 1 - parseFloat(x[_0x4e57("0x2f0")]),
                            color: esmap[_0x4e57("0x7d")][_0x4e57("0x3eb")](x[_0x4e57("0x1df")]),
                            image: x[_0x4e57("0x431")] || "",
                            imagesize: x[_0x4e57("0x5d2")] || ""
                        };
                        var e = x.image;
                        e && !i[e[_0x4e57("0x2ad")](".png", "")] && (i[e.replace(_0x4e57("0x432"), "")] = 1)
                    })
                }
                n[_0x4e57("0x435")](i, 32), this[_0x4e57("0x658")] = {};
                var r = x[_0x4e57("0x669")];
                if (r) {
                    r[0] && (this[_0x4e57("0x4a8")] = r[0], r[1] && (this[_0x4e57("0x66a")] = r[1]));
                    var A, s = this[_0x4e57("0x3d0")][_0x4e57("0x48d")] + this[_0x4e57("0x654")] + "/";
                    for (_ = 0; _ < r[_0x4e57("0x0")]; _++) {
                        null != (A = r[_])[_0x4e57("0x431")] && "" != A[_0x4e57("0x431")] && (A.texture = esmap.ESMapUtil.loadTexture(s + A[_0x4e57("0x431")]));
                        for (var C = A[_0x4e57("0x65f")].split(","), I = 0; I < C[_0x4e57("0x0")]; I++) this[_0x4e57("0x658")][C[I]] = A
                    }
                }
                this[_0x4e57("0x3f1")] || (this.selectModelMat = new (THREE[_0x4e57("0x2ec")])({
                    color: this.selectedColor_,
                    emissive: this[_0x4e57("0x659")],
                    transparent: !0,
                    name: _0x4e57("0x66b")
                })), this[_0x4e57("0x3f1")].color = new (THREE[_0x4e57("0x203")])(this[_0x4e57("0x659")]), this[_0x4e57("0x660")] = this[_0x4e57("0x65b")](this[_0x4e57("0x65e")])
            }
        }]), e
    }();
    e[_0x4e57("0xa")] = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = o(_(20)), c = o(_(207)), u = o(_(210)), g = o(_(93)), r = o(_(213)), t = o(_(94)), n = o(_(45)),
        A = o(_(35)), s = o(_(0)), C = o(_(1)), I = o(_(65));

    function o(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var h, f = function () {
        function x() {
            (0, s.default)(this, x)
        }

        var e;
        return (0, C[_0x4e57("0xa")])(x, null, [{
            key: _0x4e57("0x3eb"), value: function (x) {
                var e = x[_0x4e57("0x464")](",");
                if (e[_0x4e57("0x0")] < 3 && (e = esmap.ESMapUtil[_0x4e57("0x66c")](x).split(","))[_0x4e57("0x0")] < 3) return console[_0x4e57("0x2f")](_0x4e57("0x66d"), x), 0;
                return parseInt(e[0]) << 16 | parseInt(e[1]) << 8 | parseInt(e[2])
            }
        }, {
            key: _0x4e57("0x66e"), value: function (x) {
                var e = x[_0x4e57("0x464")](",");
                return "#" + ((1 << 24) + (parseInt(e[0]) << 16) + (parseInt(e[1]) << 8) + parseInt(e[2])).toString(16)[_0x4e57("0x10")](1)
            }
        }, {
            key: "hexToRgb", value: function (x) {
                var e = x.toLowerCase();
                if (e && /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)) {
                    if (4 === e.length) {
                        for (var _ = "#", t = 1; t < 4; t += 1) _ += e[_0x4e57("0x10")](t, t + 1).concat(e[_0x4e57("0x10")](t, t + 1));
                        e = _
                    }
                    var i = [];
                    for (t = 1; t < 7; t += 2) i[_0x4e57("0xf")](parseInt("0x" + e[_0x4e57("0x10")](t, t + 2)));
                    return i.join(",")
                }
                return e
            }
        }, {
            key: _0x4e57("0x66f"), value: function (x) {
                var e = x[_0x4e57("0x464")](",");
                return 3 <= e.length ? _0x4e57("0x670") + parseInt(e[0]) + "," + parseInt(e[1]) + "," + parseInt(e[2]) + _0x4e57("0x671") : (console[_0x4e57("0x2f")](_0x4e57("0x66d"), x), 0)
            }
        }, {
            key: _0x4e57("0x672"), value: function (x) {
                return x && x instanceof esmap.ESFloorManager ? x.mapScene : x[_0x4e57("0x3d9")] && x[_0x4e57("0x3d9")][_0x4e57("0x66")] ? esmap[_0x4e57("0x7d")][_0x4e57("0x672")](x[_0x4e57("0x3d9")].parent[_0x4e57("0x382")]) : null
            }
        }, {
            key: _0x4e57("0x673"), value: function (x) {
                return x[_0x4e57("0x3ee")] || null
            }
        }, {
            key: _0x4e57("0x674"), value: function () {
                var x = esmap[_0x4e57("0x101")].instance[_0x4e57("0xd9")];
                return {
                    target: x[_0x4e57("0xe9")].x[_0x4e57("0x675")](3) + "," + x.target.y[_0x4e57("0x675")](3) + "," + x[_0x4e57("0xe9")].z[_0x4e57("0x675")](3),
                    position: x.object.position.x[_0x4e57("0x675")](3) + "," + x[_0x4e57("0x9")][_0x4e57("0xe7")].y.toFixed(3) + "," + x.object[_0x4e57("0xe7")].z[_0x4e57("0x675")](3)
                }
            }
        }, {
            key: "getNearestAngle", value: function (x, e) {
                var _ = e - x;
                return 180 < Math[_0x4e57("0x13f")](_) && (_ = -1 * (0, A[_0x4e57("0xa")])(_) * 360 + _), _
            }
        }, {
            key: _0x4e57("0x676"), value: function (x) {
                var e = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0xd9")],
                    _ = x[_0x4e57("0xe9")][_0x4e57("0x464")](","), t = x[_0x4e57("0xe7")][_0x4e57("0x464")](","),
                    i = new THREE.Vector3(parseFloat(_[0]), parseFloat(_[1]), parseFloat(_[2])),
                    a = new THREE.Vector3(parseFloat(t[0]), parseFloat(t[1]), parseFloat(t[2]));
                e.target[_0x4e57("0xf2")](i), e[_0x4e57("0x9")][_0x4e57("0xe7")][_0x4e57("0xf2")](a), e[_0x4e57("0x65")]()
            }
        }, {
            key: _0x4e57("0x570"), value: function () {
                for (var x = navigator[_0x4e57("0x236")], e = new Array(_0x4e57("0x677"), _0x4e57("0x678"), _0x4e57("0x679"), "Windows Phone", _0x4e57("0x67a"), _0x4e57("0x67b")), _ = !0, t = "PC", i = !1, a = 0; a < e.length; a++) if (0 < x[_0x4e57("0x41")](e[a])) {
                    _ = !1, t = e[a], 0 < x[_0x4e57("0x41")](_0x4e57("0x67c")) && (i = !0);
                    break
                }
                return {isPC: _, isWX: i, platform: t}
            }
        }, {
            key: _0x4e57("0x67d"), value: function () {
                return new (n[_0x4e57("0xa")])(function (e, x) {
                    var _ = esmap.ESMap.instance;
                    if (_[_0x4e57("0x67e")]) e(); else {
                        var t = _[_0x4e57("0x3cd")], i = _0x4e57("0x67f"),
                            a = esmap[_0x4e57("0x7d")].encode64(t + "escopegoodwork"),
                            n = i + _0x4e57("0x680") + t + _0x4e57("0x681") + a;
                        I[_0x4e57("0xa")][_0x4e57("0x31")]({url: n, async: !0})[_0x4e57("0x2b")](function (x) {
                            1 == x[_0x4e57("0x52")] && (_.audioToken = x.t, e())
                        }).error(function () {
                            console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x682")]), x()
                        })
                    }
                })
            }
        }, {
            key: "cacheAudio", value: (e = (0, t.default)(g[_0x4e57("0xa")][_0x4e57("0x683")](function x(e) {
                var a, _, t, n;
                return g[_0x4e57("0xa")][_0x4e57("0x684")](function (x) {
                    for (; ;) switch (x.prev = x[_0x4e57("0x685")]) {
                        case 0:
                            return a = esmap[_0x4e57("0x101")][_0x4e57("0x107")], _ = new (r[_0x4e57("0xa")]), t = ["左转", "右转", _0x4e57("0x686"), "右前方继续直行", _0x4e57("0x687"), _0x4e57("0x688"), "直行10米", "直行20米", "直行50米"], e instanceof Array && (t = t.concat(e)), t[_0x4e57("0x60")](function (x) {
                                a.audioList[x] || _[_0x4e57("0x28")](x)
                            }), x[_0x4e57("0x685")] = 7, esmap[_0x4e57("0x7d")][_0x4e57("0x67d")]();
                        case 7:
                            n = a[_0x4e57("0x67e")], _[_0x4e57("0x60")](function (x) {
                                var e = new Audio;
                                e[_0x4e57("0x689")] = !0, e[_0x4e57("0x6f")](_0x4e57("0x689"), !0), a[_0x4e57("0xe5")].container_[_0x4e57("0x235")](e);
                                var _ = "https://tsn.baidu.com/text2audio?",
                                    t = _0x4e57("0x68a") + a.options[_0x4e57("0x68b")],
                                    i = _ += _0x4e57("0x68c") + x + _0x4e57("0x68d") + n + "&vol=9&spd=5&pit=5" + t;
                                e.src = i, a.audioList[x] = e
                            });
                        case 9:
                        case _0x4e57("0x3c9"):
                            return x[_0x4e57("0x68e")]()
                    }
                }, x, this)
            })), function (x) {
                return e[_0x4e57("0x4")](this, arguments)
            })
        }, {
            key: _0x4e57("0x68f"), value: function (t) {
                if (t) {
                    var x = function () {
                            var x = _0x4e57("0x690"), e = i[_0x4e57("0x67e")];
                            if (e) {
                                var _ = "&per=" + i.options[_0x4e57("0x68b")];
                                return x += _0x4e57("0x68c") + t + "&ctp=1&cuid=esmap&tok=" + e + _0x4e57("0x691") + _, a[_0x4e57("0x468")] = x, 0 < navigator[_0x4e57("0x236")][_0x4e57("0x41")](_0x4e57("0x67c")) ? WeixinJSBridge ? WeixinJSBridge[_0x4e57("0x692")](_0x4e57("0x693"), {}, function (x) {
                                    a[_0x4e57("0x694")]()
                                }) : wx[_0x4e57("0x693")] && wx[_0x4e57("0x693")]({
                                    success: function (x) {
                                    }, complete: function () {
                                        a[_0x4e57("0x694")]()
                                    }, error: function () {
                                    }
                                }) : a.play(), !0
                            }
                        }, i = esmap[_0x4e57("0x101")].instance,
                        a = i.audioList[t] || (i[_0x4e57("0x695")] = new Audio, i[_0x4e57("0x695")][_0x4e57("0x689")] = !0, i[_0x4e57("0x695")][_0x4e57("0x6f")](_0x4e57("0x689"), !0), i[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x235")](i.audio)),
                        e = 1 < arguments[_0x4e57("0x0")] && void 0 !== arguments[1] ? arguments[1] : 2;
                    if (t) {
                        if (0 === a.readyState) return x();
                        if (2 === e) {
                            if (a.ended) return x();
                            x()
                        }
                    }
                }
            }
        }, {
            key: "getSpriteScale", value: function (x, e) {
                var _ = null, t = 100;
                if ("3d" == x.viewMode) {
                    if (_0x4e57("0x208") == typeof e) t = e; else {
                        var i = null != e ? e[_0x4e57("0x696")]() : x[_0x4e57("0xd9")].target;
                        t = x.mapView.camera[_0x4e57("0xe7")][_0x4e57("0x494")](i)
                    }
                    _ = 2 * esmap[_0x4e57("0x7d")].getOrthoCameraSizeByPerspectiveCamera(x[_0x4e57("0xe5")][_0x4e57("0xe6")], x[_0x4e57("0xd9")], t)[_0x4e57("0xa9")] / x[_0x4e57("0x1c5")]
                } else (_0x4e57("0xa9") == x[_0x4e57("0xf4")] || "2d" == x[_0x4e57("0xf4")]) && (_ = 2 * x[_0x4e57("0xd9")].object[_0x4e57("0xa9")] / x[_0x4e57("0xd9")][_0x4e57("0x9")][_0x4e57("0x136")] / x[_0x4e57("0x1c5")]);
                return _
            }
        }, {
            key: _0x4e57("0x311"), value: function (x) {
                return Object[_0x4e57("0xd")][_0x4e57("0x2a9")][_0x4e57("0x2")](x) == _0x4e57("0x2aa")
            }
        }, {
            key: "getOrthoCameraSizeByPerspectiveCamera", value: function (x, e, _) {
                x instanceof esmap[_0x4e57("0x101")] && (_ = e, e = x.controls, x = x[_0x4e57("0xe5")].camera);
                var t = x[_0x4e57("0x132")], i = x.aspect,
                    a = null != _ ? _ : e[_0x4e57("0xe9")][_0x4e57("0x494")](x[_0x4e57("0xe7")]),
                    n = Math.tan(t * THREE.Math[_0x4e57("0x463")] / 2) * a;
                return {top: n || 1, right: 2 * n * i / 2}
            }
        }, {
            key: _0x4e57("0x697"), value: function (e, _) {
                var t = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                t[_0x4e57("0x3ec")][_0x4e57("0x60")](function (x) {
                    t[_0x4e57("0xf8")](x)[_0x4e57("0x698")](e, _)
                })
            }
        }, {
            key: _0x4e57("0x699"), value: function (x, e, g, _) {
                function r(x) {
                    if (g && g(x) && A[_0x4e57("0xf")](x), _) return _ == A[_0x4e57("0x0")]
                }

                var A = [], t = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0xf8")](x);
                return t && t[_0x4e57("0x698")](e, function (x) {
                    if (null != g) for (var e = x.o3d_[_0x4e57("0x23e")][_0x4e57("0x0")], _ = 0; _ < e; _++) {
                        var t = x[_0x4e57("0x3d9")].children[_][_0x4e57("0x382")], i = t[_0x4e57("0x388")];
                        if (i) {
                            for (var a = i[_0x4e57("0x0")], n = 0; n < a; n++) if (r(i[n])) return !0
                        } else if (r(t)) return !0
                    } else A = x[_0x4e57("0x3d9")][_0x4e57("0x23e")][_0x4e57("0x69a")](function (x, e) {
                        return x.push[_0x4e57("0x4")](x, null != e[_0x4e57("0x382")][_0x4e57("0x388")] ? e[_0x4e57("0x382")][_0x4e57("0x388")] : [e[_0x4e57("0x382")]]), x
                    }, [])
                }), A
            }
        }, {
            key: _0x4e57("0x46f"), value: function (x, i, e) {
                var _ = esmap.ESMap[_0x4e57("0x107")];
                null == e && (e = !0), e && esmap[_0x4e57("0x7d")][_0x4e57("0x444")](x);
                var a = _[_0x4e57("0xe4")][_0x4e57("0xf9")][x];
                a && (a[_0x4e57("0x69b")] || (a.lastAlpha = {}), a[_0x4e57("0x49a")](function (x) {
                    if (x[_0x4e57("0x7c")]) {
                        var e;
                        e = x[_0x4e57("0x7c")][_0x4e57("0x2e9")] ? x[_0x4e57("0x7c")][_0x4e57("0x2e9")] : [x.material];
                        for (var _ = 0; _ < e[_0x4e57("0x0")]; _++) {
                            var t = e[_];
                            if (t.opacity <= .1) break;
                            if (t[_0x4e57("0x2f1")] <= .5 && i > t[_0x4e57("0x2f1")]) break;
                            if (a.lastAlpha[t.uuid] || (a[_0x4e57("0x69b")][t[_0x4e57("0x342")]] = t[_0x4e57("0x2f1")]), t[_0x4e57("0x269")] && t.name == _0x4e57("0x66b")) break;
                            t[_0x4e57("0x2f1")] = i, t[_0x4e57("0x2f0")] = !0
                        }
                    }
                }))
            }
        }, {
            key: "restoreFloorAlpha", value: function (x) {
                var e = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0xe4")][_0x4e57("0xf9")][x];
                e && e[_0x4e57("0x69b")] && e[_0x4e57("0x49a")](function (x) {
                    if (x[_0x4e57("0x7c")]) {
                        (x[_0x4e57("0x7c")].materials ? x[_0x4e57("0x7c")].materials : [x.material])[_0x4e57("0x60")](function (x) {
                            e[_0x4e57("0x69b")][x[_0x4e57("0x342")]] && (x[_0x4e57("0x2f1")] = e[_0x4e57("0x69b")][x.uuid]), x[_0x4e57("0x381")] && (x[_0x4e57("0x2f0")] = !1)
                        })
                    }
                })
            }
        }, {
            key: _0x4e57("0x69c"), value: function (x, e, _) {
                for (var t = _0x4e57("0x208") == typeof e, i = t || null != e[_0x4e57("0x382")] ? e[_0x4e57("0x382")] : e, a = (_ = t ? _ : i[_0x4e57("0x383")].oid, t ? e : i[_0x4e57("0xe2")]), n = x.getFloor(a)[_0x4e57("0x37e")]("label"), g = n[_0x4e57("0x0")], r = 0; r < g; r++) if (n[r][_0x4e57("0x383")][_0x4e57("0x550")] == _) return n[r];
                return null
            }
        }, {
            key: _0x4e57("0x69d"), value: function (x, e) {
                var _ = [], t = esmap[_0x4e57("0x101")][_0x4e57("0x107")],
                    i = (_[_0x4e57("0x0")], [][_0x4e57("0x11")]((0, u.default)(x[_0x4e57("0x3e8")] ? [x.fnum] : t[_0x4e57("0x3ec")]))),
                    a = x[_0x4e57("0x69e")] || "ID", n = [][_0x4e57("0x11")](x[_0x4e57("0x37")]), g = n[_0x4e57("0x0")],
                    r = !0, A = !1, s = void 0;
                try {
                    for (var C, I = (0, c[_0x4e57("0xa")])(i); !(r = (C = I.next())[_0x4e57("0x69f")]); r = !0) {
                        var o = C.value;
                        _[_0x4e57("0xf")][_0x4e57("0x4")](_, esmap[_0x4e57("0x7d")][_0x4e57("0x699")](o, ["model"], function (x) {
                            return -1 < n[_0x4e57("0x41")](x[a])
                        }, a == _0x4e57("0x269") ? void 0 : g))
                    }
                } catch (x) {
                    A = !0, s = x
                } finally {
                    try {
                        !r && I[_0x4e57("0x6a0")] && I[_0x4e57("0x6a0")]()
                    } finally {
                        if (A) throw s
                    }
                }
                return e && e(_), _
            }
        }, {
            key: "m", value: function (x) {
                return 1e-5 < x
            }
        }, {
            key: "n", value: function (x) {
                return x < -1e-5
            }
        }, {
            key: "l", value: function (x) {
                return x < 1e-5 && -1e-5 < x
            }
        }, {
            key: "o", value: function (x, e, _, t) {
                var i = e.x, a = e.y, n = _.x, g = _.y, r = x.x, A = x.y, s = n - i, C = g - a,
                    I = Math[_0x4e57("0x161")](s * s + C * C), o = r - i, c = A - a,
                    u = Math[_0x4e57("0x161")](o * o + c * c);
                if (esmap[_0x4e57("0x7d")].l(I)) return l(u) ? (t.x = e.x, t.y = e.y, 0) : (t.x = e.x, t.y = e.y, u);
                var h = s / I, f = C / I, d = h * o + f * c;
                if (!esmap[_0x4e57("0x7d")].m(d)) return t.x = e.x, t.y = e.y, u;
                if (!esmap[_0x4e57("0x7d")].n(d - I)) {
                    var p = r - n, b = A - g, m = Math[_0x4e57("0x161")](p * p + b * b);
                    return t.x = _.x, t.y = _.y, m
                }
                var v = i + d * h, y = a + d * f, E = r - v, w = A - y, T = Math.sqrt(E * E + w * w);
                return t.x = v, t.y = y, T
            }
        }, {
            key: _0x4e57("0x6a1"), value: function (x) {
                var e = new THREE.BufferGeometry;
                return x[_0x4e57("0x6a2")] && e[_0x4e57("0x323")](_0x4e57("0xe7"), new (THREE[_0x4e57("0x6a3")])(parmas[_0x4e57("0x6a2")], 3)), x[_0x4e57("0x6a4")] && e[_0x4e57("0x326")](new (THREE[_0x4e57("0x6a3")])(x[_0x4e57("0x6a4")], 6)), e
            }
        }, {
            key: _0x4e57("0x529"), value: function (x) {
                for (var e, _, t, i, a, n = _0x4e57("0x6a5") + _0x4e57("0x6a6") + "ABCDEFGHIJKLMNOP" + _0x4e57("0x6a7") + "=", g = "", r = "", A = "", s = 0; t = (e = x[_0x4e57("0x469")](s++)) >> 4, i = (3 & e) << 4 | (_ = x[_0x4e57("0x469")](s++)) >> 4, a = (15 & _) << 2 | (r = x[_0x4e57("0x469")](s++)) >> 6, A = 63 & r, isNaN(_) ? a = A = 64 : isNaN(r) && (A = 64), g = g + n.charAt(t) + n.charAt(i) + n[_0x4e57("0x2c1")](a) + n[_0x4e57("0x2c1")](A), e = _ = r = "", t = i = a = A = "", s < x[_0x4e57("0x0")];) ;
                return g
            }
        }, {
            key: _0x4e57("0x6a8"), value: function (x, e) {
                var _ = new THREE.Vector3(0, 0, 1), t = new THREE.Vector3(x.x, 0, x.y),
                    i = new (THREE[_0x4e57("0x11b")])(e.x, 0, e.y).clone()[_0x4e57("0xec")](t)[_0x4e57("0x12f")](),
                    a = i[_0x4e57("0x6a9")](_) * THREE[_0x4e57("0x141")][_0x4e57("0x492")];
                return 0 < i[_0x4e57("0xe8")]()[_0x4e57("0x6aa")](_).y ? 360 - a : a
            }
        }, {
            key: "getDeviceDPI", value: function () {
                var x = new Array;
                if (null != window[_0x4e57("0x6ab")][_0x4e57("0x6ac")]) x[0] = window[_0x4e57("0x6ab")][_0x4e57("0x6ac")], x[1] = window[_0x4e57("0x6ab")].deviceYDPI; else {
                    var e = document[_0x4e57("0x6a")](_0x4e57("0x6ad"));
                    e[_0x4e57("0x6c")].cssText = _0x4e57("0x6ae"), document[_0x4e57("0x1e")].appendChild(e), x[0] = parseInt(e[_0x4e57("0x6af")]), x[1] = parseInt(e.offsetHeight), e.parentNode[_0x4e57("0x111")](e)
                }
                return x
            }
        }]), x
    }();
    f[_0x4e57("0x6b0")] = function (r, x, A, e) {
        var _ = [], t = null, s = null, C = null, I = [],
            i = A[_0x4e57("0x6b1")] || [_0x4e57("0x85"), _0x4e57("0x87"), _0x4e57("0x86"), _0x4e57("0x8e"), "textMarker", _0x4e57("0x6b2")];
        _0x4e57("0x208") == typeof x ? t = 0 == x ? r[_0x4e57("0x3ec")] : [x] : _0x4e57("0x42a") == x ? t = r[_0x4e57("0x3ec")] : x instanceof Array && (t = x);
        for (var n = 0; n < t[_0x4e57("0x0")]; n++) {
            var o = t[n];
            _.push[_0x4e57("0x4")](_, esmap[_0x4e57("0x7d")][_0x4e57("0x699")](o, i, function (x) {
                if (A[_0x4e57("0x419")] && A[_0x4e57("0x419")] != esmap[_0x4e57("0x9a")][_0x4e57("0x6b3")] && A.nodeType != x.nodeType) return !1;
                if (A[_0x4e57("0x269")] && (!x[_0x4e57("0x269")] || A[_0x4e57("0x269")] != x[_0x4e57("0x269")])) return !1;
                if (A[_0x4e57("0x6b4")] && (!x[_0x4e57("0x269")] || x[_0x4e57("0x269")][_0x4e57("0x41")](A[_0x4e57("0x6b4")]) < 0)) return !1;
                if (A.ID && A.ID != x.ID) return !1;
                if (A[_0x4e57("0xe2")] && A[_0x4e57("0xe2")] != x[_0x4e57("0xe2")]) return !1;
                if (A[_0x4e57("0x49b")]) {
                    var e = parseInt(A[_0x4e57("0x49b")]);
                    if (A[_0x4e57("0x49b")] < 1e4) {
                        if (parseInt(x.typeID / 1e4) != e) return !1
                    } else if (x[_0x4e57("0x49b")] != e) return !1
                }
                if (A.mapCoord && A[_0x4e57("0x365")]) {
                    if (A[_0x4e57("0x419")] == esmap[_0x4e57("0x9a")].MODEL) {
                        var _ = x[_0x4e57("0x383")][_0x4e57("0x38d")], t = [];
                        s = null;
                        for (var i = r[_0x4e57("0x3f6")](o), n = 0; n < _[_0x4e57("0x0")]; n += 2) t[_0x4e57("0xf")](new (esmap[_0x4e57("0xc3")])(-_[n].x, _[n].y, i));
                        if (t.length < 2) s = p(A[_0x4e57("0x415")], t[0]); else {
                            var g = new esmap.ESMapCoord;
                            for (n = 0; n < t[_0x4e57("0x0")] - 1; n++) C = esmap[_0x4e57("0x7d")].o(A.mapCoord, t[n], t[n + 1], g), (!s || C < s) && (s = C)
                        }
                        if (s > A[_0x4e57("0x365")]) return;
                        I[_0x4e57("0xf")]({node: x, distance: s})
                    }
                    if (A.nodeType == esmap.ESNodeType[_0x4e57("0x4a5")]) {
                        if ((s = esmap[_0x4e57("0x6b5")].getMapCoordDistance(a, A[_0x4e57("0x415")], x[_0x4e57("0x415")])) > A[_0x4e57("0x365")]) return;
                        I[_0x4e57("0xf")]({node: x, distance: s})
                    }
                }
                return !0
            }))
        }
        return 0 < I[_0x4e57("0x0")] && (I.sort(function (x, e) {
            return x[_0x4e57("0x155")] - e[_0x4e57("0x155")]
        }), _ = I[_0x4e57("0x5a")](function (x) {
            return x[_0x4e57("0x2bc")]
        })), e && e(_), _
    }, f[_0x4e57("0x7e")] = ((h = new THREE.TextureLoader)[_0x4e57("0x24c")] = "anonymous", function (x, e, _, t) {
        return h.load(x, e, _, t)
    }), f[_0x4e57("0x6b6")] = function (x, _, e, t) {
        _ = _ || _0x4e57("0xe7"), e = e || _0x4e57("0x6b7"), (0, i[_0x4e57("0xa")])(x, {
            x: {
                get: function () {
                    return esmap[_0x4e57("0x101")][_0x4e57("0x107")].center.x - this[_].x
                }, set: function (x) {
                    var e = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0x6b8")].x;
                    this[_].x = e - x
                }
            }, y: {
                get: function () {
                    var x = esmap[_0x4e57("0x101")][_0x4e57("0x107")].center.y;
                    return this[_].z + x
                }, set: function (x) {
                    var e = esmap.ESMap[_0x4e57("0x107")][_0x4e57("0x6b8")].y;
                    this[_].z = x - e
                }
            }, height: t || {
                get: function () {
                    return this[e]
                }, set: function (x) {
                    this[e] = x
                }
            }
        })
    }, e[_0x4e57("0xa")] = f
}, , , , , , , , , , , , , , , , function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = n(_(20)), i = n(_(0)), a = n(_(1));

    function n(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function () {
        function e(x) {
            (0, i[_0x4e57("0xa")])(this, e), this[_0x4e57("0x1da")] = null, this[_0x4e57("0xe6")] = null, this.sceneOrtho = null, this[_0x4e57("0x4f7")] = null, this[_0x4e57("0x1c2")] = null, this[_0x4e57("0x4c3")] = esmap[_0x4e57("0x7d")].getPlatform()[_0x4e57("0x4c3")], this[_0x4e57("0x35a")] = x, esmap[_0x4e57("0xb7")][_0x4e57("0x107")] || (esmap[_0x4e57("0xb7")][_0x4e57("0x107")] = this)
        }

        return (0, a[_0x4e57("0xa")])(e, [{
            key: _0x4e57("0x39f"), value: function () {
                var g = this;
                this[_0x4e57("0xfe")] = this[_0x4e57("0x35a")][_0x4e57("0xf0")].container;
                try {
                    this.renderer = new THREE.WebGLRenderer({
                        antialias: this[_0x4e57("0x35a")].options[_0x4e57("0x4e8")],
                        precision: this[_0x4e57("0x35a")].options[_0x4e57("0x4e5")],
                        alpha: !0,
                        logarithmicDepthBuffer: !1
                    }), this[_0x4e57("0x1c2")][_0x4e57("0x6b9")] = !0
                } catch (x) {
                    return (new (esmap[_0x4e57("0xae")]))[_0x4e57("0xaf")](this[_0x4e57("0xfe")]), !1
                }
                this[_0x4e57("0x1c2")][_0x4e57("0x1f0")](16777215), this[_0x4e57("0x1c2")][_0x4e57("0x6ba")](window[_0x4e57("0x6bb")]), this.renderer[_0x4e57("0x1ec")] = !1, this[_0x4e57("0x1c2")][_0x4e57("0x6bc")][_0x4e57("0x5d")] = !0, this[_0x4e57("0x1c2")].shadowMap[_0x4e57("0x38")] = THREE[_0x4e57("0x6bd")], this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x241")] && this.renderer[_0x4e57("0x6be")](0), this[_0x4e57("0x41f")] = this[_0x4e57("0x1c2")][_0x4e57("0x106")], this[_0x4e57("0xfe")][_0x4e57("0x235")](this[_0x4e57("0x41f")]);
                var x = this.container_.clientWidth, e = this.container_[_0x4e57("0x184")];
                this.map_.options[_0x4e57("0x4e5")] == esmap[_0x4e57("0x4e6")][_0x4e57("0x6bf")] && (this[_0x4e57("0x1c2")][_0x4e57("0x6bc")][_0x4e57("0x5d")] = !1), this[_0x4e57("0xe6")] = new THREE.PerspectiveCamera(35, x / e, 2, 2e4), this[_0x4e57("0x1da")] = new (THREE[_0x4e57("0x6c0")]), this[_0x4e57("0x14c")] = new (THREE[_0x4e57("0x133")])(-x / 2, x / 2, -e / 2, e / 2, 1, 1e5), this.cameraTop[_0x4e57("0x340")][_0x4e57("0x115")](-Math.PI / 2, 0, 0, _0x4e57("0x6c1")), this.cameraTop[_0x4e57("0x6c2")] = !1, this[_0x4e57("0x14c")][_0x4e57("0xe7")][_0x4e57("0x115")](0, 1e5, 0), this[_0x4e57("0x4c2")] = new (esmap[_0x4e57("0xb3")])(this[_0x4e57("0x35a")]), this[_0x4e57("0x4f7")] = new THREE.OrthographicCamera(-x / 2, x / 2, e / 2, -e / 2, 1, 10), this[_0x4e57("0x4f7")][_0x4e57("0xe7")][_0x4e57("0x6c3")](10), this[_0x4e57("0x3aa")] = new THREE.Scene, this[_0x4e57("0x6c4")] = new THREE.AmbientLight(7829367), this[_0x4e57("0x1da")].add(this[_0x4e57("0x6c4")]), this[_0x4e57("0x6c5")] = new (THREE[_0x4e57("0x6c6")])(8947848, 1.4), this[_0x4e57("0x6c5")][_0x4e57("0xe7")].set(1, 1, 1)[_0x4e57("0x12f")](), this[_0x4e57("0x6c5")].target[_0x4e57("0xe7")][_0x4e57("0xf2")](new (THREE[_0x4e57("0x11b")])), this[_0x4e57("0x1da")][_0x4e57("0x28")](this.mainLight);
                var r = new (THREE[_0x4e57("0x6c6")])(0, .1);
                return this[_0x4e57("0x1da")][_0x4e57("0x28")](r), r.castShadow = this.map_[_0x4e57("0xf0")][_0x4e57("0x4af")], r[_0x4e57("0x6c7")][_0x4e57("0xe6")].near = .1, r[_0x4e57("0x6c7")][_0x4e57("0xe6")].far = 2e3, r[_0x4e57("0x6c7")][_0x4e57("0x6c8")][_0x4e57("0x115")](this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x4db")], this[_0x4e57("0x35a")].options[_0x4e57("0x4db")]), r[_0x4e57("0x6c7")][_0x4e57("0x6c9")] = 1e-4, this.shadowLight = r, this[_0x4e57("0x6ca")] = this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x4d9")], this[_0x4e57("0x6cb")] = this[_0x4e57("0x35a")].options[_0x4e57("0x4da")], (0, t[_0x4e57("0xa")])(this, {
                    shadowAngleX: {
                        get: function () {
                            return this[_0x4e57("0x6ca")]
                        }, set: function (x) {
                            this._shadowAngleX = x, this.updateShadowPostion()
                        }
                    }, shadowAngleY: {
                        get: function () {
                            return this[_0x4e57("0x6cb")]
                        }, set: function (x) {
                            this[_0x4e57("0x6cb")] = x, this[_0x4e57("0x46e")]()
                        }
                    }
                }), g[_0x4e57("0x35a")].on(_0x4e57("0x451"), function () {
                    var _, e, t, i, a, n,
                        x = Math[_0x4e57("0x159")](g.map_[_0x4e57("0x35d")] - g[_0x4e57("0x35a")][_0x4e57("0x35e")], g[_0x4e57("0x35a")][_0x4e57("0x35f")] - g[_0x4e57("0x35a")][_0x4e57("0x364")]) / 2;
                    r[_0x4e57("0x6c7")][_0x4e57("0xe6")][_0x4e57("0xa9")] = x, r[_0x4e57("0x6c7")][_0x4e57("0xe6")].bottom = -x, r[_0x4e57("0x6c7")][_0x4e57("0xe6")][_0x4e57("0x134")] = x, r[_0x4e57("0x6c7")][_0x4e57("0xe6")].left = -x, r.shadow[_0x4e57("0xe6")][_0x4e57("0x14d")](), g[_0x4e57("0x46e")](), g.pageVisibility = (e = !(t = function (x, e) {
                        return "" !== x ? x + e[_0x4e57("0x10")](0, 1).toUpperCase() + e.slice(1) : e
                    }), typeof window[_0x4e57("0x6cc")] === _0x4e57("0x208") && ["webkit", _0x4e57("0x6cd"), "ms", "o", ""][_0x4e57("0x60")](function (x) {
                        0 == e && null != document[t(x, _0x4e57("0x231"))] && (_ = x, e = !0)
                    }), i = e, n = function () {
                        if (i) return document[t(_, "visibilityState")]
                    }, {
                        hidden: (a = function () {
                            if (i) return document[t(_, _0x4e57("0x231"))]
                        })(), visibilityState: n(), visibilitychange: function (e, x) {
                            if (i && typeof e === _0x4e57("0x16")) return document[_0x4e57("0x1af")](_ + _0x4e57("0x6ce"), function (x) {
                                this.hidden = a(), this[_0x4e57("0x6cf")] = n(), e[_0x4e57("0x2")](this, x)
                            }[_0x4e57("0xc")](this), !1)
                        }
                    }), g.pageVisibility[_0x4e57("0x6ce")](function () {
                        g.map_.emit("visibilityChanged", this[_0x4e57("0x6cf")])
                    })
                }), this.secondLight = new (THREE[_0x4e57("0x6c6")])(3355443), this[_0x4e57("0x6d0")][_0x4e57("0xe7")][_0x4e57("0x115")](-1, .5, -1)[_0x4e57("0x12f")](), this[_0x4e57("0x1da")].add(this[_0x4e57("0x6d0")]), !0
            }
        }, {
            key: _0x4e57("0x46e"), value: function (x) {
                x || (x = this.shadowLight[_0x4e57("0x6c7")].camera[_0x4e57("0xa9")] / 1.5), this.shadowDirection = new (THREE[_0x4e57("0x11b")])(1, 0, 0), this[_0x4e57("0x6d1")][_0x4e57("0x6d2")](new (THREE[_0x4e57("0x6d3")])(0, this[_0x4e57("0x6cb")] * THREE.Math[_0x4e57("0x463")], this._shadowAngleX * THREE[_0x4e57("0x141")].DEG2RAD, _0x4e57("0x6d4"))), this[_0x4e57("0x6c5")].position[_0x4e57("0xf2")](this[_0x4e57("0x6d1")]), this[_0x4e57("0x4b0")][_0x4e57("0xe7")].copy(this[_0x4e57("0x35a")][_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0xe8")]()[_0x4e57("0x28")](this[_0x4e57("0x6d1")][_0x4e57("0xf3")](x))), this[_0x4e57("0x4b0")].target[_0x4e57("0xe7")][_0x4e57("0xf2")](this.map_[_0x4e57("0xd9")][_0x4e57("0xe9")]), this[_0x4e57("0x4b0")][_0x4e57("0x167")](this.shadowLight[_0x4e57("0xe9")])
            }
        }, {
            key: _0x4e57("0x45a"), value: function (x) {
                var e = this[_0x4e57("0xfe")][_0x4e57("0x16c")], _ = this[_0x4e57("0xfe")][_0x4e57("0x184")];
                return x || e != this.w_ || _ != this.h_ ? {w: e, h: _} : null
            }
        }, {
            key: _0x4e57("0x6d5"), value: function () {
                this[_0x4e57("0x6d6")][_0x4e57("0x60")](function (x) {
                    x()
                })
            }
        }, {
            key: "initCssScene", value: function () {
                var x = [];
                this[_0x4e57("0x116")] = 1e3;
                var _ = new (THREE[_0x4e57("0x22f")]);
                this[_0x4e57("0x6d7")] = _;
                var e = this[_0x4e57("0xe6")],
                    t = new THREE.PerspectiveCamera(e[_0x4e57("0x132")], e[_0x4e57("0x6d8")], 1e3 * e[_0x4e57("0x6d9")], 1e3 * e[_0x4e57("0x6da")]);
                x[_0x4e57("0xf")](function () {
                    t[_0x4e57("0x11d")].copy(e[_0x4e57("0x11d")]), t[_0x4e57("0xe7")][_0x4e57("0xf2")](e.position)[_0x4e57("0xf3")](1e3)
                });
                var i = new (THREE[_0x4e57("0x6c0")]);
                this.cssScene = i, this[_0x4e57("0x6db")] = !0, x.push(function () {
                    !0 === this[_0x4e57("0x6db")] && i[_0x4e57("0x49a")](function (x) {
                        if (x instanceof THREE[_0x4e57("0x6c0")] != !0) {
                            var e = x[_0x4e57("0x31d")][_0x4e57("0x6dc")];
                            void 0 !== e && e[_0x4e57("0x65")]()
                        }
                    })
                }[_0x4e57("0xc")](this)), x[_0x4e57("0xf")](function (x, e) {
                    _[_0x4e57("0x1ce")](i, t)
                }), this[_0x4e57("0x6d6")] = x
            }
        }, {
            key: "resize", value: function (x, e) {
                this[_0x4e57("0x47d")] = x / 2, this[_0x4e57("0x480")] = e / 2, this[_0x4e57("0x4c2")].reSize(x, e), this.renderer.setSize(x, e), this[_0x4e57("0x6d7")] && this[_0x4e57("0x6d7")][_0x4e57("0x1cd")](x, e), this[_0x4e57("0xe6")][_0x4e57("0x6d8")] = x / e, this[_0x4e57("0xe6")][_0x4e57("0x14d")]();
                var _ = esmap.ESMapUtil.getOrthoCameraSizeByPerspectiveCamera(this[_0x4e57("0xe6")], this[_0x4e57("0x35a")][_0x4e57("0xd9")]);
                this[_0x4e57("0x14c")][_0x4e57("0x135")] = -_[_0x4e57("0x134")], this.cameraTop[_0x4e57("0x134")] = _[_0x4e57("0x134")], this.cameraTop[_0x4e57("0xa9")] = _[_0x4e57("0xa9")], this[_0x4e57("0x14c")][_0x4e57("0x137")] = -_[_0x4e57("0xa9")], this.cameraTop[_0x4e57("0x14d")](), this.cameraOrtho[_0x4e57("0x135")] = -this[_0x4e57("0x47d")], this[_0x4e57("0x4f7")][_0x4e57("0x134")] = this[_0x4e57("0x47d")], this[_0x4e57("0x4f7")].top = this[_0x4e57("0x480")], this[_0x4e57("0x4f7")].bottom = -this[_0x4e57("0x480")], this[_0x4e57("0x4f7")][_0x4e57("0x14d")](), this.w_ = this[_0x4e57("0xfe")][_0x4e57("0x16c")], this.h_ = this[_0x4e57("0xfe")][_0x4e57("0x184")]
            }
        }, {
            key: _0x4e57("0x1ce"), value: function (x) {
                this[_0x4e57("0x1c2")][_0x4e57("0x1d7")](), "3d" == x ? this[_0x4e57("0x4c2")][_0x4e57("0x1ce")]() : this[_0x4e57("0x4c2")][_0x4e57("0x4c8")](), this.renderer.clearDepth(), this[_0x4e57("0x1c2")].render(this[_0x4e57("0x3aa")], this[_0x4e57("0x4f7")])
            }
        }]), e
    }();
    e[_0x4e57("0xa")] = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(0)), a = t(_(1));

    function t(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var n = function () {
        function t(x, e, _) {
            (0, i[_0x4e57("0xa")])(this, t), this.options_ = _, this[_0x4e57("0x490")] = null, this[_0x4e57("0x491")] = null, this[_0x4e57("0x6dd")] = null, this[_0x4e57("0x6de")] = null, this[_0x4e57("0x568")] = x, this[_0x4e57("0x569")] = e, this.w_ = Math[_0x4e57("0x150")](_[_0x4e57("0x4cf")], 128), this.h_ = Math[_0x4e57("0x150")](_[_0x4e57("0x4cf")], 128)
        }

        return (0, a[_0x4e57("0xa")])(t, [{
            key: "updateHUD", value: function (x, e, _) {
                if (null != this[_0x4e57("0x490")] && null != this.spritePt_) {
                    var t = x / 2, i = e / 2, a = _ || this[_0x4e57("0x3d0")][_0x4e57("0x48f")];
                    this[_0x4e57("0x490")][_0x4e57("0xe7")][_0x4e57("0x115")](-t + this.w_ / 2 + a[0], i - this.h_ / 2 - a[1], .5), this[_0x4e57("0x491")][_0x4e57("0xe7")][_0x4e57("0x115")](-t + this.w_ / 2 + a[0], i - this.h_ / 2 - a[1], 1)
                }
            }
        }, {
            key: "updateDirection", value: function (x) {
                null != this.materialBg_ && (this.materialPt_[_0x4e57("0x340")] = Math.PI + x)
            }
        }, {
            key: _0x4e57("0x39f"), value: function () {
                if (null == this.spriteBg_ && null == this.spritePt_) {
                    var x = document.createElement(_0x4e57("0x56f"));
                    x.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==";
                    var e = new (THREE[_0x4e57("0x27f")])(x), _ = document[_0x4e57("0x6a")](_0x4e57("0x56f"));
                    _[_0x4e57("0x468")] = _0x4e57("0x6df");
                    var t = new (THREE[_0x4e57("0x27f")])(_);
                    this.w_ = THREE.Math[_0x4e57("0x6e0")](this.w_), this.h_ = THREE[_0x4e57("0x141")].nextPowerOfTwo(this.h_), this[_0x4e57("0x6e1")] = this.w_, this[_0x4e57("0x6e2")] = this.h_, e.needsUpdate = !0, t[_0x4e57("0x7f")] = !0, this[_0x4e57("0x6de")] = new THREE.SpriteMaterial({map: e}), this[_0x4e57("0x490")] = new THREE.Sprite(this[_0x4e57("0x6de")]), this[_0x4e57("0x490")][_0x4e57("0x114")][_0x4e57("0x115")](this.w_, this.h_, 1), this.materialPt_ = new THREE.SpriteMaterial({map: t}), this[_0x4e57("0x491")] = new THREE.Sprite(this[_0x4e57("0x6dd")]), this[_0x4e57("0x491")][_0x4e57("0x114")].set(this[_0x4e57("0x6e1")], this[_0x4e57("0x6e2")], 1), this.sceneOrtho_[_0x4e57("0x28")](this[_0x4e57("0x490")]), this[_0x4e57("0x569")][_0x4e57("0x28")](this[_0x4e57("0x491")]);
                    var i = this[_0x4e57("0x3d0")][_0x4e57("0xad")], a = i[_0x4e57("0x16c")], n = i.clientHeight;
                    this[_0x4e57("0x45c")](a, n)
                }
            }
        }, {
            key: _0x4e57("0x3da"), set: function (x) {
                x != this[_0x4e57("0x568")] && ((this.visible_ = x) ? (this[_0x4e57("0x39f")](), this[_0x4e57("0x490")][_0x4e57("0x3da")] = this[_0x4e57("0x491")][_0x4e57("0x3da")] = !0) : null != this[_0x4e57("0x490")] && null != this[_0x4e57("0x491")] && (this.spriteBg_[_0x4e57("0x3da")] = this[_0x4e57("0x491")][_0x4e57("0x3da")] = !1))
            }, get: function () {
                return this[_0x4e57("0x568")]
            }
        }]), t
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x), this[_0x4e57("0x6e3")]
        }

        return (0, i.default)(x, [{
            key: _0x4e57("0x1d7"), value: function () {
                this[_0x4e57("0x6e3")] = []
            }
        }, {
            key: "push", value: function (x, e) {
                if (0 == this.rects_[_0x4e57("0x0")]) return this[_0x4e57("0x6e3")].push(e), !1;
                for (var _ in this[_0x4e57("0x6e3")]) {
                    var t = this[_0x4e57("0x6e3")][_];
                    if (this[_0x4e57("0x6e4")](t, e)) return !0
                }
                return this[_0x4e57("0x6e3")][_0x4e57("0xf")](e), !1
            }
        }, {
            key: _0x4e57("0x6e4"), value: function (x, e) {
                return x.x < e.x + e.w && x.x + x.w > e.x && x.y < e.y + e.h && x.h + x.y > e.y
            }
        }]), x
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = g(_(3)), r = g(_(0)), i = g(_(1)), a = g(_(4)), n = g(_(5));

    function g(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function e() {
            return (0, r[_0x4e57("0xa")])(this, e), (0, a[_0x4e57("0xa")])(this, (e.__proto__ || (0, t[_0x4e57("0xa")])(e))[_0x4e57("0x4")](this, arguments))
        }

        return (0, n[_0x4e57("0xa")])(e, x), (0, i[_0x4e57("0xa")])(e, [{
            key: _0x4e57("0x6e5"), value: function (x) {
                this[_0x4e57("0x4c4")] || (this[_0x4e57("0x4c4")] = {
                    width: this[_0x4e57("0x6e6")],
                    height: this[_0x4e57("0x6e7")]
                }), this.width_ = this[_0x4e57("0x4c4")][_0x4e57("0x112")], this[_0x4e57("0x6e7")] = this[_0x4e57("0x4c4")].height, (x = x || {})[_0x4e57("0xef")] = null == x[_0x4e57("0xef")] ? .6 : x[_0x4e57("0xef")];
                var e = this, _ = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")];
                if (!this._isAnimating || x[_0x4e57("0x6e8")]) return e[_0x4e57("0x6e9")] = !0, x.scale = _(x, _0x4e57("0x114"), 1.5), x.times = _(x, "times", 1), x[_0x4e57("0x76")] = _(x, _0x4e57("0x76"), 0), 0 == x[_0x4e57("0x6ea")] && (x[_0x4e57("0x6ea")] = Number[_0x4e57("0x6eb")]), x[_0x4e57("0xef")] = null == x[_0x4e57("0xef")] ? .6 : x[_0x4e57("0xef")], clearInterval(this[_0x4e57("0x6ec")]), this[_0x4e57("0x6ec")] = THREE.Tween.action(this, .2 * x[_0x4e57("0xef")], {
                    width_: this[_0x4e57("0x6e6")] * x[_0x4e57("0x114")],
                    height_: this[_0x4e57("0x6e7")] * x.scale
                }, THREE[_0x4e57("0xee")][_0x4e57("0x1f9")], function () {
                    e[_0x4e57("0x6ec")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](e, .8 * x[_0x4e57("0xef")], {
                        width_: e[_0x4e57("0x4c4")][_0x4e57("0x112")],
                        height_: e.originSize[_0x4e57("0x1c5")]
                    }, THREE[_0x4e57("0xee")][_0x4e57("0x1f9")], function () {
                        x[_0x4e57("0x6ea")]--, 0 < x[_0x4e57("0x6ea")] ? e.flashId = setTimeout(function () {
                            x[_0x4e57("0x6e8")] = !0, e.flash(x)
                        }, 1e3 * x[_0x4e57("0x76")]) : (e[_0x4e57("0x6e9")] = !1, x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")]())
                    })
                }), x
            }
        }, {
            key: _0x4e57("0x6ed"), value: function (x) {
                var e, _, t = this;
                x = x || {};
                var i = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")];
                if (!this._isAnimating || x[_0x4e57("0x6e8")]) return t[_0x4e57("0x6e9")] = !0, x[_0x4e57("0x114")] = i(x, _0x4e57("0x114"), 1.5), x[_0x4e57("0x6ea")] = i(x, _0x4e57("0x6ea"), 1), x[_0x4e57("0x76")] = i(x, _0x4e57("0x76"), 0), 0 == x[_0x4e57("0x6ea")] && (x[_0x4e57("0x6ea")] = Number[_0x4e57("0x6eb")]), x[_0x4e57("0xef")] = null == x[_0x4e57("0xef")] ? .6 : x[_0x4e57("0xef")], clearInterval(this.flashId), e = new (THREE[_0x4e57("0x11b")])(x[_0x4e57("0x114")], x[_0x4e57("0x114")], x[_0x4e57("0x114")]), _ = new THREE.Vector3(1, 1, 1), this[_0x4e57("0x6ec")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](this, .2 * x[_0x4e57("0xef")], {scale: e}, THREE[_0x4e57("0xee")][_0x4e57("0x1f9")], function () {
                    t[_0x4e57("0x6ec")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](t, .8 * x.time, {scale: _}, THREE[_0x4e57("0xee")][_0x4e57("0x1f9")], function () {
                        x.times--, 0 < x[_0x4e57("0x6ea")] ? t[_0x4e57("0x6ec")] = setTimeout(function () {
                            x[_0x4e57("0x6e8")] = !0, t.flash(x)
                        }, 1e3 * x[_0x4e57("0x76")]) : (t._isAnimating = !1, x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")]())
                    })
                }), x
            }
        }, {
            key: _0x4e57("0x6ee"), value: function (x, e) {
                var _ = esmap[_0x4e57("0x7d")][_0x4e57("0x673")](this.datas_), t = esmap[_0x4e57("0x6ef")][_];
                e = null == e ? null == t ? 10 : t : e, x = null == x || x, this.material[_0x4e57("0x307")] = !x, this.material[_0x4e57("0x305")] = !x, this[_0x4e57("0x6f0")] = x ? e : 0
            }
        }, {
            key: _0x4e57("0x6f1"), value: function (I) {
                function _(x) {
                    var s = !1;
                    if (l[_0x4e57("0x3bb")][l[_0x4e57("0x3bb")][_0x4e57("0x0")] - 1] == _ && (s = !0), n += x * t, (c = getPointByDistance(g, n, a)) && c[_0x4e57("0x26d")]) {
                        var C = null, e = u[_0x4e57("0x12e")][_0x4e57("0xe8")]();
                        e.lookAt(u[_0x4e57("0xe7")], new (THREE[_0x4e57("0x11b")])(c.point.x + h[_0x4e57("0xe7")].x, u.position.y, c[_0x4e57("0x26d")].z + h.position.z), u.up), e[_0x4e57("0x261")]((new (THREE[_0x4e57("0x256")])).makeRotationFromEuler(new (THREE[_0x4e57("0x6d3")])(0, f, 0))), C = (new THREE.Quaternion).setFromRotationMatrix(e)
                    }
                    c[_0x4e57("0x6f2")] ? i ? n = 0 : (u.stop(), u[_0x4e57("0x68e")] = null, o.emit(_0x4e57("0x6f3"), {_this: o})) : function (x, e, _) {
                        I[_0x4e57("0x6f4")];
                        u[_0x4e57("0xe7")].x = c[_0x4e57("0x26d")].x + h.position.x, u[_0x4e57("0xe7")].z = c.point.z + h.position.z;
                        var t = {x: -x - map[_0x4e57("0xe4")][_0x4e57("0xea")], z: e + map[_0x4e57("0xe4")].sceneZ_};
                        if (o[_0x4e57("0x149")]("animating", {x: t.x, y: t.z}), I[_0x4e57("0x6f4")] && s) {
                            var i = new (THREE[_0x4e57("0x11b")])(1, 0, 0), a = i[_0x4e57("0xe8")](),
                                n = u[_0x4e57("0x12e")][_0x4e57("0xe8")]();
                            n[_0x4e57("0x6f5")](new (THREE[_0x4e57("0x11b")])), a[_0x4e57("0x6f6")](n);
                            var g = a.clone().cross(i), g = g.y < 0 ? -1 : 1, r = i[_0x4e57("0x6a9")](a),
                                A = Math.PI - r * g - f;
                            l[_0x4e57("0xd9")][_0x4e57("0x9")] instanceof THREE.PerspectiveCamera && (A += Math.PI), l[_0x4e57("0xd9")].update({forceTheta: A})
                        }
                        I.followPosition && s && l[_0x4e57("0xe1")]({
                            x: t.x,
                            y: t.z,
                            time: 0,
                            FloorNum: 1,
                            callback: null
                        });
                        u[_0x4e57("0x11d")][_0x4e57("0x20a")](C, .2)
                    }(u[_0x4e57("0xe7")].x, u[_0x4e57("0xe7")].z)
                }

                var o = this;
                if (I && I[_0x4e57("0x38d")]) {
                    var c, l = esmap[_0x4e57("0x101")][_0x4e57("0x107")], x = I[_0x4e57("0x38d")].map(function (x) {
                            return new (THREE[_0x4e57("0x11b")])(-l[_0x4e57("0xe4")].sceneX_ - x.x, 0, x.y - l[_0x4e57("0xe4")].sceneZ_)
                        }), u = this[_0x4e57("0x3d9")], h = x, t = I.speed || 12, i = I[_0x4e57("0x6f7")],
                        a = I[_0x4e57("0x3f7")] || 0,
                        f = I[_0x4e57("0x19c")] * THREE[_0x4e57("0x141")][_0x4e57("0x463")],
                        n = I[_0x4e57("0x6f8")] || 0,
                        g = (new (THREE[_0x4e57("0x11b")])(1, 0, 0), void 0 === I.rotateY ? Math.PI : I.rotateY, h);
                    h.position = {
                        x: 0,
                        y: 0,
                        z: 0
                    }, l[_0x4e57("0x3bb")][_0x4e57("0xf")](_), u[_0x4e57("0x68e")] && u[_0x4e57("0x68e")](), l.on(_0x4e57("0x65"), _), u[_0x4e57("0x68e")] = function () {
                        u._stop && u._stop(), l.off("update", _)
                    }
                }
            }
        }, {
            key: _0x4e57("0x6f9"), value: function (x) {
                if (void 0 === this[_0x4e57("0x6fa")] && (this.enabledUpdateSize = !0), this.enabledUpdateSize) {
                    var e = (x = x || esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0xe5")])[_0x4e57("0x35a")][_0x4e57("0x3ae")],
                        _ = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0x425")];
                    this[_0x4e57("0x6fb")] || (this[_0x4e57("0x6fb")] = this[_0x4e57("0xe7")].clone()), (null == this[_0x4e57("0x6b7")] || isNaN(this[_0x4e57("0x6b7")])) && (isNaN(this[_0x4e57("0xe7")].y) && (this[_0x4e57("0xe7")].y = 0), this[_0x4e57("0x6b7")] = this[_0x4e57("0xe7")].y);
                    var t = this[_0x4e57("0x383")] ? 0 == this[_0x4e57("0x383")].ShowLevel ? 0 : this[_0x4e57("0x383")][_0x4e57("0x55b")] : 0 == this[_0x4e57("0x382")][_0x4e57("0x6fc")] ? 0 : this[_0x4e57("0x382")][_0x4e57("0x6fc")];
                    if ((t || 0 == t) && (this[_0x4e57("0x3da")] = !(t < _)), "3d" == x.map_[_0x4e57("0xf4")]) {
                        if (0 == x.h_) return;
                        this[_0x4e57("0x6fd")] = void 0;
                        var i = this.datas_ instanceof esmap.ESTextMarker && !this[_0x4e57("0x382")][_0x4e57("0x6fe")] ? 16 : 2,
                            a = esmap[_0x4e57("0xb9")].getPerspectiveScale(this, x),
                            n = this[_0x4e57("0x6e7")] ? this[_0x4e57("0x6e7")] * a.meterperpixel / i : 0,
                            g = this[_0x4e57("0x6ff")] ? 0 : n;
                        if (this.position[_0x4e57("0x700")](this[_0x4e57("0x6b7")] + g), this[_0x4e57("0x3de")] && (this.type_ == _0x4e57("0x3df") || this[_0x4e57("0x3de")] == _0x4e57("0x4ff") || this.type_ == _0x4e57("0x4fb")) && (this[_0x4e57("0x382")][_0x4e57("0x701")] || null != this.datas_[_0x4e57("0x6fe")] && !this.datas_[_0x4e57("0x6fe")])) return;
                        this[_0x4e57("0x114")][_0x4e57("0xf2")](a[_0x4e57("0x114")])
                    } else {
                        if (this.type_ && ("UserPOI" == this[_0x4e57("0x3de")] || this.type_ == _0x4e57("0x4ff") || this[_0x4e57("0x3de")] == _0x4e57("0x4fb")) && (null != this[_0x4e57("0x382")].spritify_ && !this[_0x4e57("0x382")][_0x4e57("0x6fe")] || this[_0x4e57("0x382")][_0x4e57("0x701")])) return;
                        this[_0x4e57("0x6fd")] = esmap[_0x4e57("0xb9")][_0x4e57("0x702")](this, x).scale, this[_0x4e57("0x114")].copy(this._lastScale[_0x4e57("0xe8")]().multiplyScalar(1 / e[_0x4e57("0x136")]))
                    }
                }
            }
        }, {
            key: "makeTextSprite_", value: function (x, e) {
                if (x && -1 < x.indexOf("\\n")) {
                    var _ = x[_0x4e57("0x464")]("\\n"), t = "";
                    _[_0x4e57("0x60")](function (x) {
                        t += x + "\n"
                    }), x = t
                }

                function i(x, e) {
                    if (H[x] && "" != H[x]) {
                        if (_0x4e57("0x1df") == e) return esmap[_0x4e57("0x7d")][_0x4e57("0x66f")](H[x]);
                        if (_0x4e57("0x208") == e) return parseFloat(H[x])
                    }
                    return 0
                }

                var a, n = this;
                void 0 === e && (e = {}), n.data_ && n[_0x4e57("0x383")].image && esmap.ESMapUtil[_0x4e57("0x7e")](n[_0x4e57("0x383")].image, function (x) {
                    n.data_.texture = x
                });
                var g = e[_0x4e57("0x1")](_0x4e57("0x703")) ? e[_0x4e57("0x703")] : _0x4e57("0x704"),
                    r = e[_0x4e57("0x1")](_0x4e57("0x705")) ? e[_0x4e57("0x705")] : 36, A = 0;
                r = Math[_0x4e57("0x48e")](r * (this[_0x4e57("0x706")] || 1));
                var s = e.hasOwnProperty("color") ? e.color : _0x4e57("0x707"),
                    C = e[_0x4e57("0x1")](_0x4e57("0x708")) ? e[_0x4e57("0x708")] : 2,
                    I = e[_0x4e57("0x1")](_0x4e57("0x709")) ? e[_0x4e57("0x709")] : _0x4e57("0x70a"),
                    o = esmap[_0x4e57("0x7d")].getPlatform()[_0x4e57("0x4c3")];
                null == C && (C = 2), 0 == C && (I = s, A = 2), C *= o ? 3 : 2, A *= o ? 3.5 : 2.5;
                var c, l, u = Math[_0x4e57("0x48e")](r * (o && r <= 36 ? 1.1 : 1)), h = u + "px " + g;
                n[_0x4e57("0x36c")] || (n[_0x4e57("0x36c")] = document.createElement("canvas")), n.context || (n[_0x4e57("0x1d0")] = n[_0x4e57("0x36c")][_0x4e57("0x36d")]("2d")), c = n[_0x4e57("0x36c")], (l = n[_0x4e57("0x1d0")]).font = h;
                for (var f = C / 2, d = x[_0x4e57("0x464")]("\n"), p = [], b = 0, m = 0, v = 0; v < d[_0x4e57("0x0")]; v++) if ("" == d[v]) d.splice(v, 1), v--; else {
                    var y = l[_0x4e57("0x70b")](d[v]).width;
                    b = Math[_0x4e57("0x159")](b, y), m += u + C + A, p[_0x4e57("0xf")]({text: d[v], width: y})
                }
                e.lineheight = e[_0x4e57("0x70c")], m += e[_0x4e57("0x70c")] * (d[_0x4e57("0x0")] - 1), 0 == C && (m += o ? 3 : 2);
                var E = null, w = !1, T = {x: f, y: -C}, R = {x: 0, y: 0}, k = b + C, S = null == x || "" == x ? 0 : m,
                    M = e[_0x4e57("0x5d2")] || u, L = e.imagespace || 0, O = b, P = 0,
                    H = n[_0x4e57("0x383")] && n.data_.fontstyleid && n[_0x4e57("0x5a")][_0x4e57("0x3a6")][_0x4e57("0x658")] ? n.map[_0x4e57("0x3a6")][_0x4e57("0x658")][n[_0x4e57("0x383")][_0x4e57("0x70d")]] : void 0;
                if (H) {
                    var D = i(_0x4e57("0x705"), "number"), N = i("platesize", _0x4e57("0x208")),
                        F = i(_0x4e57("0x70e"), "color"), z = i("platestorkcolor", _0x4e57("0x1df"));
                    if (N) {
                        var j = 4 * (N - D);
                        k = (b += 2 * j) + C, S = m += j, M = e.imagesize || M + j
                    }
                }
                if (n[_0x4e57("0x383")] && n[_0x4e57("0x383")][_0x4e57("0x431")]) switch (w = !0, e[_0x4e57("0x70f")]) {
                    case _0x4e57("0x135"):
                    case"right":
                        m < M ? (T.y = (M - m) / 2, S = M) : (T.y = -C, R.y = (m - M) / 2), k = _0x4e57("0x135") == e[_0x4e57("0x70f")] ? (T.x = M + L, b + T.x) : (R.x = 0 != b ? b + L : 0, b + M + L);
                        break;
                    case _0x4e57("0xa9"):
                    case"bottom":
                        if (O = Math.max(b, M) + C, M <= b ? R.x = Math.ceil((b + f - M) / 2) : T.x = Math[_0x4e57("0x48e")]((M - b + f) / 2), _0x4e57("0xa9") == e.imagealign) S = S + M + L, k = O, T.y = M + L - f; else {
                            var Y = S;
                            S = S + M + L, k = O, R.y = Y + L
                        }
                }
                if (k += e[_0x4e57("0x710")] * x.length, c[_0x4e57("0x112")] = k, c[_0x4e57("0x1c5")] = S, n[_0x4e57("0x711")] = new (THREE[_0x4e57("0x11b")])(c.width / 2, 0, c[_0x4e57("0x1c5")] / 2), n[_0x4e57("0x712")] = n[_0x4e57("0x711")][_0x4e57("0xe8")](), w) var X = setInterval(function () {
                    50 == P && clearInterval(X), n[_0x4e57("0x383")][_0x4e57("0xa7")] && ((E = n.data_[_0x4e57("0xa7")][_0x4e57("0x431")]) && (l[_0x4e57("0x713")](E, R.x, R.y, M, M), n[_0x4e57("0x714")] = new THREE.Vector3(R.x + M / 2, 0, R.y + M / 2), _0x4e57("0x715") == e.pivottype && (n[_0x4e57("0x716")] = n[_0x4e57("0x714")]), a && (a[_0x4e57("0x7f")] = !0), clearInterval(X)), P++)
                }, 0);
                if (null != x && x) {
                    if (l.font = h, l[_0x4e57("0x717")] = !0, N) {
                        l[_0x4e57("0x718")] = z, l[_0x4e57("0x484")] = 4;
                        var Z = 0;
                        _0x4e57("0xa9") == e[_0x4e57("0x70f")] && (Z = M + L), l[_0x4e57("0x719")](T.x + 4, 4 + Z, b - 8, m - 8, 10)[_0x4e57("0x71a")](), l[_0x4e57("0x38b")] = F, l[_0x4e57("0x719")](T.x + 4, 4 + Z, b - 8, m - 8, 10)[_0x4e57("0x376")]()
                    }
                    var G = 0;
                    for (v = 0; v < p[_0x4e57("0x0")]; v++) {
                        var B = (b - p[v][_0x4e57("0x112")]) / 2 + T.x,
                            U = (v + 1) * (u + e[_0x4e57("0x70c")] + f) + T.y - e[_0x4e57("0x70c")];
                        N ? G = j / 2 : (G = 0, l[_0x4e57("0x718")] = I, l.lineWidth = C), l[_0x4e57("0x38b")] = s, l[_0x4e57("0x71b")](p[v].text, B, U, G, e[_0x4e57("0x710")])
                    }
                }
                return this[_0x4e57("0x6e6")] = c[_0x4e57("0x112")], this[_0x4e57("0x6e7")] = c[_0x4e57("0x1c5")], (a = new THREE.Texture(c)[_0x4e57("0xe8")]())[_0x4e57("0x2e6")] = THREE[_0x4e57("0x281")], a[_0x4e57("0x71c")] = esmap[_0x4e57("0xb7")][_0x4e57("0x107")].renderer[_0x4e57("0x71d")](), a[_0x4e57("0x71e")] = !1, a[_0x4e57("0x7f")] = !0, e[_0x4e57("0x71f")] || this[_0x4e57("0x40d")] || (this[_0x4e57("0x40d")] = new (THREE[_0x4e57("0x572")])({})), this[_0x4e57("0x40d")][_0x4e57("0x5a")] = a, this[_0x4e57("0x40d")][_0x4e57("0x7f")] = !0, a
            }
        }, {
            key: _0x4e57("0x4a7"), value: function (x) {
                return x = x || this[_0x4e57("0x6c")], this[_0x4e57("0x720")](this[_0x4e57("0x721")], {
                    fontsize: 2 * x.fontsize,
                    borderThickness: 0 == x[_0x4e57("0x722")] ? 0 : x[_0x4e57("0x722")],
                    color: esmap.ESMapUtil[_0x4e57("0x66f")](x[_0x4e57("0x723")] || _0x4e57("0x724")),
                    borderColor: esmap.ESMapUtil[_0x4e57("0x66f")](x[_0x4e57("0x665")] || "255,255,255"),
                    imagealign: x.imagealign || _0x4e57("0x135"),
                    imagesize: x[_0x4e57("0x5d2")],
                    imagespace: x[_0x4e57("0x725")],
                    lineheight: x.lineheight || 4,
                    fontspace: x.fontspace || 0,
                    pivottype: x[_0x4e57("0x726")] || _0x4e57("0x6b8")
                })
            }
        }, {
            key: "setname", value: function (x) {
                this[_0x4e57("0x721")] = x;
                var e = this[_0x4e57("0x4a7")]();
                this[_0x4e57("0x7c")][_0x4e57("0x5a")] = e, this.material.map.needsUpdate = !0, this[_0x4e57("0x7c")][_0x4e57("0x7f")] = !0
            }
        }, {
            key: _0x4e57("0x727"), value: function (x) {
                this[_0x4e57("0x6c")][_0x4e57("0x705")] = x, this[_0x4e57("0x4a7")]()
            }
        }, {
            key: "setfillcolor", value: function (x) {
                this[_0x4e57("0x6c")].fillcolor = x, this[_0x4e57("0x4a7")]()
            }
        }, {
            key: _0x4e57("0x728"), value: function (x) {
                this[_0x4e57("0x6c")][_0x4e57("0x665")] = x, this[_0x4e57("0x4a7")]()
            }
        }, {
            key: _0x4e57("0x729"), value: function () {
                if (clearInterval(this[_0x4e57("0x6ec")]), this[_0x4e57("0x4c4")]) this[_0x4e57("0x6e6")] = this[_0x4e57("0x4c4")][_0x4e57("0x112")], this[_0x4e57("0x6e7")] = this[_0x4e57("0x4c4")][_0x4e57("0x1c5")]; else {
                    var x = new THREE.Vector3(1, 1, 1);
                    this[_0x4e57("0x6ec")] = em[_0x4e57("0xee")][_0x4e57("0x205")](this, .1, {scale: x}, em[_0x4e57("0xee")].linear)
                }
                this[_0x4e57("0x6e9")] = !1
            }
        }, {
            key: _0x4e57("0x72a"), value: function () {
                clearInterval(this[_0x4e57("0x72b")], this.initY_ = this[_0x4e57("0x72c")], this[_0x4e57("0x6e9")] = !1)
            }
        }, {
            key: "stopJump3d", value: function () {
                clearInterval(this[_0x4e57("0x72b")], this.position.y = this.initY_, this[_0x4e57("0x6e9")] = !1)
            }
        }, {
            key: _0x4e57("0x72d"), value: function (x) {
                clearInterval(this[_0x4e57("0x72e")]), this[_0x4e57("0x6e9")] = !1
            }
        }, {
            key: _0x4e57("0x72f"), value: function (x) {
                var e = this;
                x = x || {};
                var _ = esmap.ESUtil.Option[_0x4e57("0x3e1")], t = e[_0x4e57("0xe7")].y;
                if (e.initY_ = t, !this._isAnimating || x[_0x4e57("0x6e8")]) return e._isAnimating = !0, x[_0x4e57("0x6ea")] = _(x, _0x4e57("0x6ea"), 1), 0 == x[_0x4e57("0x6ea")] && (x.times = Number[_0x4e57("0x6eb")]), x[_0x4e57("0x76")] = _(x, _0x4e57("0x76"), 0), x.height = _(x, _0x4e57("0x1c5"), 8), x[_0x4e57("0x39b")] = _(x, _0x4e57("0xef"), "duration", 1), clearInterval(this._jumpID), this[_0x4e57("0x72b")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](this[_0x4e57("0xe7")], .2 * x.duration, {y: t + x.height}, THREE[_0x4e57("0xee")].easeOutQuad, function () {
                    e[_0x4e57("0x72b")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](e.position, .8 * x.duration, {y: t}, THREE[_0x4e57("0xee")][_0x4e57("0x20f")], function () {
                        x[_0x4e57("0x6ea")]--, 0 < x[_0x4e57("0x6ea")] ? e._jumpID = setTimeout(function () {
                            x[_0x4e57("0x6e8")] = !0, e.jump(x)
                        }, 1e3 * x[_0x4e57("0x76")]) : (e[_0x4e57("0x6e9")] = !1, x.callback && x[_0x4e57("0xf1")]())
                    })
                }), x
            }
        }, {
            key: "jump", value: function (x) {
                var e = this;
                x = x || {};
                var _ = esmap[_0x4e57("0xcd")].Option.getValues;
                if (!this._isAnimating || x[_0x4e57("0x6e8")]) return e._isAnimating = !0, null == x[_0x4e57("0x72c")] && (e[_0x4e57("0x72c")] = e.initY_), x.times = _(x, _0x4e57("0x6ea"), 1), 0 == x[_0x4e57("0x6ea")] && (x[_0x4e57("0x6ea")] = Number[_0x4e57("0x6eb")]), x[_0x4e57("0x76")] = _(x, "delay", 0), x[_0x4e57("0x1c5")] = _(x, _0x4e57("0x1c5"), 8), x[_0x4e57("0x39b")] = _(x, _0x4e57("0xef"), "duration", 1), clearInterval(this[_0x4e57("0x72b")]), this[_0x4e57("0x72b")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](this, .2 * x[_0x4e57("0x39b")], {initY_: e[_0x4e57("0x72c")] + x[_0x4e57("0x1c5")]}, THREE[_0x4e57("0xee")][_0x4e57("0x1fa")], function () {
                    e[_0x4e57("0x72b")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](e, .8 * x[_0x4e57("0x39b")], {initY_: e[_0x4e57("0x72c")]}, THREE[_0x4e57("0xee")][_0x4e57("0x20f")], function () {
                        x[_0x4e57("0x6ea")]--, 0 < x.times ? e[_0x4e57("0x72b")] = setTimeout(function () {
                            x[_0x4e57("0x6e8")] = !0, e[_0x4e57("0x730")](x)
                        }, 1e3 * x[_0x4e57("0x76")]) : (e[_0x4e57("0x6e9")] = !1, x.callback && x[_0x4e57("0xf1")]())
                    })
                }), x
            }
        }, {
            key: "moveTo", value: function (e) {
                var _ = this,
                    x = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](e, _0x4e57("0xef"), _0x4e57("0x39b"), 1),
                    t = esmap[_0x4e57("0x101")][_0x4e57("0x107")].mapScene;
                if (_ instanceof esmap[_0x4e57("0xbd")]) {
                    var i = esmap[_0x4e57("0x101")][_0x4e57("0x107")],
                        a = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](e, _0x4e57("0x3e8"), null),
                        n = esmap.ESUtil.Option[_0x4e57("0x3e1")](e, _0x4e57("0x1c5"), _0x4e57("0x731"), _0x4e57("0x3f7"), _0x4e57("0x3e0"), 0);
                    a && (_[_0x4e57("0x6b7")] = i[_0x4e57("0x3f6")](a) + (n || 0), _[_0x4e57("0xe7")].setY(_[_0x4e57("0x6b7")]))
                }
                return _[_0x4e57("0x6e9")] = !0, THREE[_0x4e57("0xee")][_0x4e57("0x1fe")](_._moveToID), _[_0x4e57("0x72e")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](_[_0x4e57("0xe7")], x, {
                    x: -t[_0x4e57("0xea")] - e.x,
                    z: e.y - t[_0x4e57("0xeb")]
                }, e[_0x4e57("0x732")] || THREE[_0x4e57("0xee")].linear, function () {
                    _[_0x4e57("0x6e9")] = !1, e.callback && e[_0x4e57("0xf1")]()
                }, function (x) {
                    e[_0x4e57("0x65")] && e[_0x4e57("0x65")]({x: _.x, y: _.y})
                }), e
            }
        }, {
            key: _0x4e57("0x55d"), value: function (x) {
                var e = this, _ = esmap[_0x4e57("0xcd")][_0x4e57("0x18")].getValues(x, _0x4e57("0xef"), "duration", 1),
                    t = !1;
                return e.type && e.type == _0x4e57("0x733") && (t = !0), THREE.Tween[_0x4e57("0x1fe")](e[_0x4e57("0x734")]), e[_0x4e57("0x734")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](t ? e[_0x4e57("0x340")] : e, _, {y: THREE[_0x4e57("0x141")].degToRad(x[_0x4e57("0x19c")])}, x[_0x4e57("0x732")] || THREE.Tween.linear, function () {
                    x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")]()
                }), x
            }
        }, {
            key: _0x4e57("0x735"), value: function (x) {
                var e = this;
                if (e.material && !e[_0x4e57("0x736")]) {
                    e._isFading = !0, (x = x || {})[_0x4e57("0x737")] || (e[_0x4e57("0x3da")] = !0);
                    var _ = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](x, _0x4e57("0xef"), _0x4e57("0x39b"), .2);
                    THREE[_0x4e57("0xee")][_0x4e57("0x1fe")](e[_0x4e57("0x738")]), e[_0x4e57("0x738")] = THREE.Tween[_0x4e57("0x205")](e[_0x4e57("0x7c")], _, {opacity: x[_0x4e57("0x737")] ? 0 : 1}, null, function () {
                        e[_0x4e57("0x736")] = !1, x.out && (e[_0x4e57("0x3da")] = !1), x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")]()
                    })
                }
            }
        }, {
            key: _0x4e57("0x716"), get: function () {
                return this[_0x4e57("0x712")]
            }, set: function (x) {
                if (x instanceof THREE.Vector3) {
                    this[_0x4e57("0x712")] = x, this.pivotOffset = new THREE.Vector3(this[_0x4e57("0x6e6")] / 2 - x.x, 0, x.y - this[_0x4e57("0x6e7")] / 2);
                    var e = new THREE.Euler(this.map[_0x4e57("0xd9")][_0x4e57("0xf7")](), this.map[_0x4e57("0xd9")].getAzimuthalAngle(), 0, _0x4e57("0x739")),
                        _ = (new (THREE[_0x4e57("0x256")]))[_0x4e57("0x73a")](e);
                    this.position[_0x4e57("0xf2")](this[_0x4e57("0x6fb")][_0x4e57("0xe8")]()[_0x4e57("0x28")](this.pivotOffset[_0x4e57("0xe8")]().multiplyScalar(this[_0x4e57("0x73b")]).applyMatrix4(_)))
                }
            }
        }]), e
    }(THREE[_0x4e57("0x571")]), s = function () {
        function g(x, e, _) {
            (0, r.default)(this, g), this.map = esmap[_0x4e57("0x101")][_0x4e57("0x107")], this[_0x4e57("0x383")] = e, this.data_[_0x4e57("0x429")] = x, e[_0x4e57("0x73c")] && (this.data_.x_ = e[_0x4e57("0x73c")][0], this[_0x4e57("0x383")].y_ = e[_0x4e57("0x73c")][1]), this.width_, this[_0x4e57("0x6e7")], this.material_ = null, this.scaleRatio_ = 1, this[_0x4e57("0x6fa")] = !0, this[_0x4e57("0x721")] = e.name, this[_0x4e57("0x73d")] = e[_0x4e57("0x73d")], (_ = _ || {})[_0x4e57("0x70f")] = _[_0x4e57("0x70f")] || _0x4e57("0x135"), _[_0x4e57("0x5d2")] = _[_0x4e57("0x5d2")] || null, _[_0x4e57("0x725")] = _[_0x4e57("0x725")] || .5, _.lineheight = _.lineheight || 4, _[_0x4e57("0x710")] = _[_0x4e57("0x710")] || 0, _.pivottype = _.pivottype || "center", this[_0x4e57("0x6c")] = _, this[_0x4e57("0x6fb")] = null, this[_0x4e57("0x73e")] = null, this[_0x4e57("0x712")] = null, this.originPivot = null, this[_0x4e57("0x714")] = null, this[_0x4e57("0x4a7")](_), THREE.Sprite[_0x4e57("0x2")](this, this[_0x4e57("0x40d")]), this[_0x4e57("0x40d")] = null, this[_0x4e57("0x6f0")] = esmap.ESRenderOrder.label;
            var t = e[_0x4e57("0x114")] || 1;
            if (!this[_0x4e57("0x73d")]) {
                var i = 174.22169477307486 / this[_0x4e57("0x5a")].mapView.h_ * .3,
                    a = (this[_0x4e57("0x706")], this[_0x4e57("0x6e6")] * i), n = this.height_ * i;
                this[_0x4e57("0x114")][_0x4e57("0x115")](a * t, n * t, 1)
            }
        }

        return (0, i.default)(g, null, [{
            key: "getPerspectiveScale", value: function (x, e) {
                var _ = x[_0x4e57("0x696")](new (THREE[_0x4e57("0x11b")]));
                _0x4e57("0xa9") == e[_0x4e57("0x35a")][_0x4e57("0xf4")] && (_.y = e[_0x4e57("0x35a")][_0x4e57("0x460")].y);
                var t = _, i = e.camera[_0x4e57("0xe7")],
                    a = e[_0x4e57("0x35a")][_0x4e57("0xd9")][_0x4e57("0xe9")][_0x4e57("0xe8")](),
                    n = t[_0x4e57("0x494")](i), g = a[_0x4e57("0xe8")]()[_0x4e57("0xec")](i).normalize(),
                    r = t.clone().sub(i).normalize(), A = (n *= g[_0x4e57("0x169")](r)) / e.h_ * .3,
                    s = (x[_0x4e57("0x706")], x[_0x4e57("0x6e6")] * A), C = x[_0x4e57("0x6e7")] * A;
                return x[_0x4e57("0x73b")] = A, {
                    scale: 6 == x[_0x4e57("0x382")][_0x4e57("0x419")] ? new (THREE[_0x4e57("0x11b")])(s, C, s) : new (THREE[_0x4e57("0x11b")])(s, C, 1),
                    meterperpixel: A
                }
            }
        }]), g
    }();
    (e.default = s)[_0x4e57("0xd")] = new A, esmap[_0x4e57("0x7d")]._setGeneralProperties(s[_0x4e57("0xd")], _0x4e57("0x6fb")), CanvasRenderingContext2D[_0x4e57("0xd")][_0x4e57("0x71b")] = function (x, _, t, e, i) {
        var a = this, n = a.canvas, g = t + e;
        if (!i && n) {
            var r = window[_0x4e57("0x73f")](n);
            i = parseFloat(r[_0x4e57("0x740")])
        }
        if (!i) return this[_0x4e57("0x741")](x, _, t), this[_0x4e57("0x742")](x, _, g);
        var A = x[_0x4e57("0x464")](""), s = a[_0x4e57("0x743")] || _0x4e57("0x135"),
            C = a[_0x4e57("0x70b")](x)[_0x4e57("0x112")] + i * (A[_0x4e57("0x0")] - 1);
        s == _0x4e57("0x6b8") ? _ -= C / 2 : s == _0x4e57("0x134") && (_ -= C), a[_0x4e57("0x743")] = _0x4e57("0x135"), A.forEach(function (x) {
            var e = a[_0x4e57("0x70b")](x).width;
            a[_0x4e57("0x741")](x, _, t), a[_0x4e57("0x742")](x, _, g), _ = _ + e + i
        }), a.textAlign = s
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(9)), a = t(_(3)), n = t(_(0)), g = t(_(1)), r = t(_(4)), A = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    function s(x) {
        for (var e, _ = [], t = 2 * Math.PI / x[_0x4e57("0x3e5")], i = 0; i < x.segments; i++) {
            var a = new THREE.Vector3(0, x[_0x4e57("0x365")] * x[_0x4e57("0x744")] * Math[_0x4e57("0x165")](t * i), x[_0x4e57("0x365")] * Math[_0x4e57("0x166")](t * i));
            _.push(a), 0 == i && (e = a)
        }
        _[_0x4e57("0xf")](e);
        var n, g, r, A, s, C, I = x[_0x4e57("0x745")][_0x4e57("0x0")], o = function (x) {
            for (var e = 0, _ = x[0][_0x4e57("0xe8")](), t = 1; t < x[_0x4e57("0x0")]; t++) e += x[t][_0x4e57("0x494")](x[t - 1]), _[_0x4e57("0x28")](x[t]);
            return {length: e, center: _.divideScalar(x.length)}
        }(x[_0x4e57("0x745")]);
        x[_0x4e57("0x0")] = o[_0x4e57("0x0")], x.center = o.center, x[_0x4e57("0x746")] || (s = x[_0x4e57("0x745")], C = x[_0x4e57("0x6b8")], s.forEach(function (x) {
            x[_0x4e57("0xec")](C)
        })), x[_0x4e57("0x747")] = 2 * Math.PI * x.radius;
        var c, l = 0, u = 0, h = x[_0x4e57("0x747")] / x[_0x4e57("0x3e5")];
        x._uvs = [], p = x.up.clone(), x[_0x4e57("0x748")] = null;
        for (i = 0; i < I; i++) {
            n = 0 == i ? null : x.pathVertices[i - 1], r = i == I - 1 ? null : x[_0x4e57("0x745")][i + 1], A = d(n, g = x.pathVertices[i], r), x[_0x4e57("0x748")] || (x[_0x4e57("0x748")] = new (THREE[_0x4e57("0x11b")])(0, 1, 0)[_0x4e57("0x6f6")](A)[_0x4e57("0x12f")]()), 0 < i && (l += g[_0x4e57("0x494")](n)), u = 0, x._rings[i] = [];
            g[_0x4e57("0xe8")]().y = 0;
            for (var f = 0; f < _[_0x4e57("0x0")]; f++) c = _[f][_0x4e57("0xe8")]()[_0x4e57("0x6f6")](A), x[_0x4e57("0x749")][_0x4e57("0xf")](c), x[_0x4e57("0x74a")][i][_0x4e57("0xf")](c), x._uvs[_0x4e57("0xf")](new (THREE[_0x4e57("0x199")])((l + 0) / x.length, 1 - u / x[_0x4e57("0x747")])), u += h
        }
    }

    function d(x, e, _) {
        var t, i = x && x[_0x4e57("0xe8")](), a = e.clone(), n = _ && _[_0x4e57("0xe8")](), g = 1, r = null;
        if (x) if (_) {
            var A = a[_0x4e57("0xe8")]()[_0x4e57("0xec")](i).normalize(), s = n[_0x4e57("0xec")](a)[_0x4e57("0x12f")]();
            r = A[_0x4e57("0x6a9")](s) / 2, g = 1 / Math[_0x4e57("0x166")](r), g = THREE[_0x4e57("0x141")][_0x4e57("0x142")](g, 1, 2), t = A[_0x4e57("0x28")](s)[_0x4e57("0x12f")]()
        } else t = a[_0x4e57("0xec")](i).normalize(); else t = n[_0x4e57("0xec")](a)[_0x4e57("0x12f")]();
        var C = p[_0x4e57("0xe8")](), I = (new THREE.Vector3)[_0x4e57("0x74e")](t, C)[_0x4e57("0x12f")](),
            o = (new (THREE[_0x4e57("0x11b")]))[_0x4e57("0x74e")](I, t).normalize();
        p = o.clone(), I.multiplyScalar(g);
        var c = (new (THREE[_0x4e57("0x256")]))[_0x4e57("0x74f")](t, o, I)[_0x4e57("0x6f5")](e);
        return c[_0x4e57("0x19c")] = r, c.vz = I, c
    }

    var C = function (x) {
        !x[_0x4e57("0x745")] || x[_0x4e57("0x745")][_0x4e57("0x0")] < 2 || (s(x), function (x) {
            for (var e, _ = x.pathVertices[_0x4e57("0x0")], t = x.segments + 1, i = 0; i < _ - 1; i++) {
                e = i * t;
                for (var a = 0; a < t - 1; a++) x.faces[_0x4e57("0xf")](new (THREE[_0x4e57("0x74b")])(e + a + 1, e + a, e + t + a)), x.faces[_0x4e57("0xf")](new (THREE[_0x4e57("0x74b")])(e + a + 1, e + a + t, e + t + a + 1))
            }
        }(x), function (x) {
            for (var e = x[_0x4e57("0x3f2")][_0x4e57("0x0")], _ = 0; _ < e; _++) {
                var t = x[_0x4e57("0x3f2")][_];
                x.faceVertexUvs[0][_0x4e57("0xf")]([x[_0x4e57("0x74c")][t.a], x[_0x4e57("0x74c")][t.b], x[_0x4e57("0x74c")][t.c]])
            }
            x[_0x4e57("0x74d")] = !0
        }(x), x[_0x4e57("0x750")]())
    }, p = null, I = function (x) {
        function t(x) {
            (0, n.default)(this, t);
            var e = (0, r.default)(this, (t[_0x4e57("0x751")] || (0, a.default)(t))[_0x4e57("0x2")](this)), _ = e;
            return _[_0x4e57("0x745")] = null, _[_0x4e57("0x365")] = 1, _[_0x4e57("0x3e5")] = 12, _[_0x4e57("0x752")] = 1, (0, i[_0x4e57("0xa")])(_, x), _[_0x4e57("0x744")] || (_.lineMode == esmap[_0x4e57("0x9b")][_0x4e57("0x753")] ? _[_0x4e57("0x744")] = .3 : _[_0x4e57("0x754")] == esmap[_0x4e57("0x9b")].CIRCLE && (_[_0x4e57("0x744")] = 1)), _[_0x4e57("0x3e4")] = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](_, _0x4e57("0x3e4"), !0), _.up || (_.up = new (THREE[_0x4e57("0x11b")])(0, 1, 0)), e._uvs = [], e[_0x4e57("0x74a")] = [], C(_), e
        }

        return (0, A[_0x4e57("0xa")])(t, x), (0, g[_0x4e57("0xa")])(t, [{
            key: _0x4e57("0x755"), value: function (x) {
                for (var e, _ = this, t = 0, i = _[_0x4e57("0x74a")], a = (Array, 1), n = 0; n < i[_0x4e57("0x0")]; n++) {
                    var g = i[n], r = _[_0x4e57("0x745")][n];
                    if (r) for (var A = 0; A < g[_0x4e57("0x0")]; A++) {
                        var s = g[A];
                        0 == A && 1 != _.yScale && (e = g[0].clone()[_0x4e57("0xec")](r).length()), 1 != _[_0x4e57("0x744")] && (a = s[_0x4e57("0xe8")]()[_0x4e57("0xec")](r).length() / e);
                        var C = r[_0x4e57("0xe8")]()[_0x4e57("0x28")](s[_0x4e57("0xe8")]()[_0x4e57("0xec")](r).normalize().multiplyScalar(x * a));
                        _.vertices[t][_0x4e57("0xf2")](C), t++
                    }
                }
                x < .1 && (x = .1), _.radius = x, _[_0x4e57("0x756")] = !0
            }
        }]), t
    }(THREE[_0x4e57("0x757")]);
    e.default = I
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var r = i(_(3)), A = i(_(4)), t = i(_(5)), s = i(_(0));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function x(e, _, t) {
        var i;
        (0, s[_0x4e57("0xa")])(this, x), this.data_ = _, this.data_[_0x4e57("0x429")] = e;
        var a = _[_0x4e57("0x384")];
        _.image && "" != _.image && (a = _[_0x4e57("0x431")]), esmap[_0x4e57("0xbb")][_0x4e57("0x758")] = esmap[_0x4e57("0xbb")][_0x4e57("0x758")] || {}, (i = esmap.ESMapPoi._mats[e + "_" + a]) || (i = t[_0x4e57("0x661")](a), esmap[_0x4e57("0xbb")][_0x4e57("0x758")][e + "_" + a] = i), THREE[_0x4e57("0x571")][_0x4e57("0x2")](this, i), this[_0x4e57("0x114")].set(10, 10, 10), this.width_ = parseFloat(_.w), this.height_ = parseFloat(_.h)
    };
    e[_0x4e57("0xa")] = a;
    var n = function (x) {
        function g() {
            var x, e, _, t;
            (0, s.default)(this, g);
            for (var i = arguments[_0x4e57("0x0")], a = Array(i), n = 0; n < i; n++) a[n] = arguments[n];
            return (e = _ = (0, A[_0x4e57("0xa")])(this, (x = g.__proto__ || (0, r[_0x4e57("0xa")])(g)).call.apply(x, [this][_0x4e57("0x11")](a))))[_0x4e57("0x6f9")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6f9")], _[_0x4e57("0x6e5")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x6e5")], _[_0x4e57("0x730")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].jump, _[_0x4e57("0x72a")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].stopJump, t = e, (0, A[_0x4e57("0xa")])(_, t)
        }

        return (0, t[_0x4e57("0xa")])(g, x), g
    }(THREE[_0x4e57("0x571")]);
    a.prototype = new n, esmap[_0x4e57("0x7d")]._setGeneralProperties(a[_0x4e57("0xd")])
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var r = i(_(3)), A = i(_(4)), t = i(_(5)), s = i(_(0));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function x(i, e, a) {
        (0, s[_0x4e57("0xa")])(this, x), this[_0x4e57("0x759")] = esmap[_0x4e57("0x7b")][_0x4e57("0x759")], this.data_ = i, this[_0x4e57("0x3da")] = !1;
        var n = new (THREE[_0x4e57("0x572")]);
        THREE.Sprite.call(this, n);
        var g = this;
        esmap[_0x4e57("0x7d")][_0x4e57("0x7e")](e, function (x) {
            n.map = x, g[_0x4e57("0x3da")] = !0;
            var e = {};
            i[_0x4e57("0x75a")] instanceof Object ? (e.w = i[_0x4e57("0x75a")].w, e.h = i[_0x4e57("0x75a")].h) : e.w = e.h = i.size_;
            var _ = e.w / 32 * 10, t = e.h / 32 * 10;
            g.renderOrder = esmap[_0x4e57("0x6ef")].imageMarker, g[_0x4e57("0x114")][_0x4e57("0x115")](_, t, 1), g[_0x4e57("0x6e6")] = e.w, g[_0x4e57("0x6e7")] = e.h, a && a(x)
        })
    };
    e[_0x4e57("0xa")] = a;
    var n = function (x) {
        function g() {
            var x, e, _, t;
            (0, s[_0x4e57("0xa")])(this, g);
            for (var i = arguments.length, a = Array(i), n = 0; n < i; n++) a[n] = arguments[n];
            return (e = _ = (0, A[_0x4e57("0xa")])(this, (x = g.__proto__ || (0, r[_0x4e57("0xa")])(g))[_0x4e57("0x2")][_0x4e57("0x4")](x, [this][_0x4e57("0x11")](a))))[_0x4e57("0x6f9")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x6f9")], _[_0x4e57("0x6e5")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].flash, _[_0x4e57("0x6ee")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6ee")], _.moveTo = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0xe1")], _[_0x4e57("0x735")] = esmap.ESMapLabel.prototype[_0x4e57("0x735")], _[_0x4e57("0x730")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x730")], _[_0x4e57("0x72a")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].stopJump, _.stopFlash = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x729")], t = e, (0, A.default)(_, t)
        }

        return (0, t[_0x4e57("0xa")])(g, x), g
    }(THREE[_0x4e57("0x571")]);
    a[_0x4e57("0xd")] = new n, esmap[_0x4e57("0x7d")][_0x4e57("0x6b6")](a[_0x4e57("0xd")])
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var A = i(_(3)), s = i(_(0)), C = i(_(4)), t = i(_(5));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function (x) {
        function r(x, i, e, a) {
            (0, s[_0x4e57("0xa")])(this, r);
            var n = new THREE.MeshLambertMaterial({transparent: !0}), _ = new (THREE[_0x4e57("0x75b")])(1, 1, 1, 1),
                t = (0, C.default)(this, (r.__proto__ || (0, A[_0x4e57("0xa")])(r))[_0x4e57("0x2")](this, _, n));
            t[_0x4e57("0x759")] = esmap.ESappendMapPoi__[_0x4e57("0x759")], t[_0x4e57("0x6f9")] = esmap[_0x4e57("0xb9")].prototype[_0x4e57("0x6f9")], t[_0x4e57("0x6e5")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6e5")], t[_0x4e57("0x6ee")] = esmap[_0x4e57("0xb9")].prototype[_0x4e57("0x6ee")], t.moveTo = esmap.ESMapLabel.prototype[_0x4e57("0xe1")], t[_0x4e57("0x735")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x735")], t[_0x4e57("0x730")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x72f")], t.stopJump = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x75c")], t[_0x4e57("0x383")] = i, t.visible = !1;
            var g = t;
            return esmap.ESMapUtil.loadTexture(e, function (x) {
                n[_0x4e57("0x5a")] = x, n.doubleSided = !0, n[_0x4e57("0x307")] = !1, n[_0x4e57("0x305")] = !1, n[_0x4e57("0x75d")] = THREE[_0x4e57("0x10c")], g.renderOrder = esmap[_0x4e57("0x6ef")][_0x4e57("0x6b2")];
                var e = {};
                i[_0x4e57("0x75a")] instanceof Object ? (e.w = i.size_.w, e.h = i[_0x4e57("0x75a")].h) : e.w = e.h = i[_0x4e57("0x75a")];
                var _ = e.w / 32 * 10, t = e.h / 32 * 10;
                g[_0x4e57("0x114")][_0x4e57("0x115")](_, t, 1), g[_0x4e57("0x340")].set(-Math.PI / 2, 0, Math.PI, _0x4e57("0x6c1")), g[_0x4e57("0x6e6")] = e.w, g.height_ = e.h, g[_0x4e57("0x3da")] = !0, a && a(x)
            }), t
        }

        return (0, t[_0x4e57("0xa")])(r, x), r
    }(THREE.Mesh);
    e[_0x4e57("0xa")] = a, esmap[_0x4e57("0x7d")]._setGeneralProperties(a[_0x4e57("0xd")])
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var I = i(_(3)), o = i(_(0)), c = i(_(4)), t = i(_(5));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var l = new (THREE[_0x4e57("0x44c")])(1, 1, 1, 1), a = function (x) {
        function C(x, e, _, t) {
            (0, o[_0x4e57("0xa")])(this, C);
            var i = new (THREE[_0x4e57("0x2ec")])({transparent: !0}), a = {
                    fontsize: 2 * _[_0x4e57("0x705")],
                    borderThickness: .1,
                    color: esmap[_0x4e57("0x7d")][_0x4e57("0x66f")](_[_0x4e57("0x723")] || _0x4e57("0x724")),
                    borderColor: esmap[_0x4e57("0x7d")].toRgba(_[_0x4e57("0x665")] || _0x4e57("0x75e")),
                    imagealign: _[_0x4e57("0x70f")] || _0x4e57("0x135"),
                    imagesize: _[_0x4e57("0x5d2")],
                    imagespace: _[_0x4e57("0x725")],
                    textspace: _[_0x4e57("0x75f")] || 4,
                    pivottype: _.pivottype || _0x4e57("0x6b8")
                },
                n = (_.fontsize, (0, c[_0x4e57("0xa")])(this, (C[_0x4e57("0x751")] || (0, I[_0x4e57("0xa")])(C))[_0x4e57("0x2")](this, l, i)));
            n.setUrl = esmap[_0x4e57("0x7b")][_0x4e57("0x759")], n.updateScreenSize = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x6f9")], n.flash = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].flash, n.alwaysShow = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6ee")], n.moveTo = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0xe1")], n[_0x4e57("0x735")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x735")];
            var g = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x720")].call(n, e[_0x4e57("0x269")], a),
                r = g[_0x4e57("0x431")].width, A = g[_0x4e57("0x431")][_0x4e57("0x1c5")];
            g.needsUpdate = !0, n[_0x4e57("0x7c")][_0x4e57("0x5a")] = g, n[_0x4e57("0x7c")][_0x4e57("0x5a")][_0x4e57("0x7f")] = !0, n[_0x4e57("0x7c")].doubleSided = !0, n[_0x4e57("0x7c")][_0x4e57("0x7f")] = !0, n[_0x4e57("0x3ea")] = new (THREE[_0x4e57("0x44c")])(r, A, 1, 1), n[_0x4e57("0x383")] = e, n[_0x4e57("0x3da")] = !1;
            var s = n;
            return s.rotation.set(-Math.PI / 2, 0, Math.PI, _0x4e57("0x6c1")), s[_0x4e57("0x760")](THREE[_0x4e57("0x141")][_0x4e57("0x761")](Number(e[_0x4e57("0x19c")]))), s.renderOrder = esmap[_0x4e57("0x6ef")][_0x4e57("0x6b2")], s[_0x4e57("0x114")][_0x4e57("0x115")](.04, .04, 1), t && t(), n
        }

        return (0, t[_0x4e57("0xa")])(C, x), C
    }(THREE[_0x4e57("0x10d")]);
    e[_0x4e57("0xa")] = a, esmap[_0x4e57("0x7d")][_0x4e57("0x6b6")](a[_0x4e57("0xd")])
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, "__esModule", {value: !0});
    var t = n(_(0)), i = n(_(1)), a = n(_(232));

    function n(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function () {
        function _(x, e) {
            (0, t.default)(this, _), this[_0x4e57("0x430")] = null, this[_0x4e57("0xea")] = 0, this.sceneZ_ = 0, this[_0x4e57("0x439")] = {}, this[_0x4e57("0x762")] = 0, this[_0x4e57("0x44d")] = null, this[_0x4e57("0xf9")] = {}, this[_0x4e57("0x763")] = {}, this[_0x4e57("0x3d7")] = null, this[_0x4e57("0x45e")] = null, this[_0x4e57("0x488")] = 0, this[_0x4e57("0x48a")] = 0, this[_0x4e57("0x489")] = 0, this[_0x4e57("0x48b")] = 0, this[_0x4e57("0x764")] = 0, this.map_ = x, this[_0x4e57("0x765")] = e, this[_0x4e57("0x474")] = new (esmap[_0x4e57("0xd6")])(x);
            e = esmap.ESMapUtil[_0x4e57("0x570")]();
            this.isPC = e[_0x4e57("0x4c3")], this.meshHandler = new a.default(this)
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x1d7"), value: function () {
                !function x(e) {
                    if (null !== e) {
                        e[_0x4e57("0x382")] && e[_0x4e57("0x382")][_0x4e57("0x3d9")] && (e[_0x4e57("0x382")].o3d_ = void 0, e.datas_ = void 0);
                        for (var _ = 0; _ < e[_0x4e57("0x23e")][_0x4e57("0x0")]; _++) x(e[_0x4e57("0x23e")][_]);
                        e[_0x4e57("0x3ea")] && (e[_0x4e57("0x3ea")].dispose(), e[_0x4e57("0x3ea")] = void 0), e.material && (e.material[_0x4e57("0x2e9")] ? e[_0x4e57("0x7c")][_0x4e57("0x2e9")][_0x4e57("0x60")](function (x) {
                            x.map && (x[_0x4e57("0x5a")].dispose(), x[_0x4e57("0x5a")] = void 0), x.dispose(), x = void 0
                        }) : (e[_0x4e57("0x7c")][_0x4e57("0x1a8")](), e[_0x4e57("0x7c")] = void 0))
                    }
                    e = void 0
                }(this.o3dScene_), this[_0x4e57("0x766")][_0x4e57("0x767")][_0x4e57("0x768")] = {}, this[_0x4e57("0x35a")].emit(_0x4e57("0x1a8"))
            }
        }, {
            key: _0x4e57("0x769"), value: function (x, e) {
                var _ = x[_0x4e57("0x421")] < 32503514 ? x[_0x4e57("0x421")] : x[_0x4e57("0x421")] / 1e3;
                if (!((new Date)[_0x4e57("0xdc")]() > 1e6 * _) && (esmap[_0x4e57("0x7d")].encode64(x.token + x[_0x4e57("0x523")] + x.Remark + (x.o1 || 0) + _0x4e57("0x538") + (x.o2 || 0)) == x[_0x4e57("0x539")] || x[_0x4e57("0x539")] == x[_0x4e57("0x4e2")] || x.token == _0x4e57("0x52e"))) {
                    this[_0x4e57("0x430")] = x, this.mapId_ = e, this[_0x4e57("0xea")] = this[_0x4e57("0x430")].DefaultCenX, this[_0x4e57("0xeb")] = this[_0x4e57("0x430")][_0x4e57("0x586")], this[_0x4e57("0x44d")] = new (THREE[_0x4e57("0x22b")]), this[_0x4e57("0xf9")] = {}, this.userFloors_ = {}, this.lineManager = new (THREE[_0x4e57("0x22b")]);
                    var t = this[_0x4e57("0x35a")].mapService[_0x4e57("0x108")][_0x4e57("0x524")],
                        i = document[_0x4e57("0x76a")];
                    1 < t[_0x4e57("0x0")] && -1 == t[_0x4e57("0x41")](i) ? console.info(esmap[_0x4e57("0xdf")].DOM_ERR) : (this[_0x4e57("0x44d")].add(this[_0x4e57("0x3d7")]), this[_0x4e57("0x45e")] = esmap[_0x4e57("0xbf")][_0x4e57("0x76b")](this[_0x4e57("0x430")]), this[_0x4e57("0x488")] = this[_0x4e57("0x430")][_0x4e57("0x35e")], this[_0x4e57("0x489")] = this[_0x4e57("0x430")].maxX, this[_0x4e57("0x48a")] = this[_0x4e57("0x430")][_0x4e57("0x364")], this[_0x4e57("0x48b")] = this.mapSceneData[_0x4e57("0x35f")])
                }
            }
        }, {
            key: "calcInitCamera", value: function () {
                return esmap[_0x4e57("0xbf")][_0x4e57("0x76c")](this.box3_)
            }
        }, {
            key: _0x4e57("0x3cf"), value: function () {
                return this.o3dScene_
            }
        }, {
            key: _0x4e57("0x43d"), value: function (x, e) {
                if (e == this[_0x4e57("0x35a")][_0x4e57("0x3bc")]) {
                    var _ = this[_0x4e57("0x439")][x], t = new (esmap[_0x4e57("0x76d")])(this, _).o3d_;
                    t[_0x4e57("0x3da")] = !1, t[_0x4e57("0x440")] = _, t[_0x4e57("0xe7")][_0x4e57("0x115")](0, _[_0x4e57("0x45f")], 0), this[_0x4e57("0xf9")][x] = t, this[_0x4e57("0x44d")][_0x4e57("0x28")](t)
                }
            }
        }, {
            key: "setFloorLabelVisible", value: function (x, e) {
                console[_0x4e57("0x151")](_0x4e57("0x76e"))
            }
        }, {
            key: _0x4e57("0x76f"), value: function (x, e) {
                console[_0x4e57("0x151")](_0x4e57("0x76e"))
            }
        }, {
            key: "getO3dFloor", value: function (x) {
                return this.o3dFloors_[x]
            }
        }, {
            key: _0x4e57("0x43f"), value: function (x, e, _, t, i, a) {
                var n = this.getO3dFloor(x);
                if (n) {
                    var g = e, r = this, A = null, s = null;
                    if (this[_0x4e57("0x35a")][_0x4e57("0x10e")][_0x4e57("0x108")][_0x4e57("0x522")] > esmap.maxV || this.map_[_0x4e57("0x10e")][_0x4e57("0x108")][_0x4e57("0x522")] < esmap[_0x4e57("0x770")]) return;
                    r[_0x4e57("0x771")](g, n, x).then(function () {
                        t(), i && i(), A = r[_0x4e57("0x766")][_0x4e57("0x772")](g, x), s = r[_0x4e57("0x766")][_0x4e57("0x773")](g, x)
                    }).then(r[_0x4e57("0x774")][_0x4e57("0xc")](r, g, n, x)).then(r[_0x4e57("0x775")][_0x4e57("0xc")](r, g, n, x))[_0x4e57("0x78")](r[_0x4e57("0x776")][_0x4e57("0xc")](r, g, n, x)).then(function () {
                        A && r[_0x4e57("0x766")][_0x4e57("0x777")](A), s && r.meshHandler.checkMoPos(s), a && r[_0x4e57("0x766")].complete()
                    })
                }
            }
        }, {
            key: _0x4e57("0x771"), value: function (x, e, _) {
                var t = this, i = new (THREE[_0x4e57("0x74")]), a = x[_0x4e57("0x778")], n = t[_0x4e57("0x439")][_];
                n[_0x4e57("0x54a")];
                return n[_0x4e57("0x43a")] = a[0][_0x4e57("0x779")], setTimeout(function () {
                    t[_0x4e57("0x766")][_0x4e57("0x77a")](x, _), i[_0x4e57("0x77")](), t[_0x4e57("0x35a")][_0x4e57("0x459")]()
                }, t[_0x4e57("0x764")]), i
            }
        }, {
            key: "asyncBuildPOIs", value: function (r, A, s) {
                var C = this, I = new THREE.Promise;
                if (C.map_.options[_0x4e57("0x4e1")]) return C[_0x4e57("0x77b")] = null, setTimeout(function () {
                    for (var x in r[_0x4e57("0x77c")]) {
                        var e = r[_0x4e57("0x77c")][x],
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")].MODEL_POI);
                        A[_0x4e57("0x28")](_[_0x4e57("0x3d9")]), _[_0x4e57("0x3d9")][_0x4e57("0x77d")] = new (esmap[_0x4e57("0xb8")]);
                        var t = e.pois;
                        for (var i in t) {
                            var a = t[i], n = new (esmap[_0x4e57("0xbb")])(s, a, C[_0x4e57("0x765")]);
                            new esmap.ESFacility(a, n, C), _[_0x4e57("0x3d9")].add(n);
                            var g = a.Height || 3;
                            n[_0x4e57("0xe7")].set(a.X - C[_0x4e57("0xea")], g, a.Y - C[_0x4e57("0xeb")]), n[_0x4e57("0x6b7")] = g, C[_0x4e57("0x35a")][_0x4e57("0x61")][_0x4e57("0x4fc")](n)
                        }
                    }
                    C[_0x4e57("0x35a")][_0x4e57("0x149")]("loadLayerComplete", s, _0x4e57("0x86")), I[_0x4e57("0x77")]()
                }, C[_0x4e57("0x764")]), I
            }
        }, {
            key: _0x4e57("0x775"), value: function (r, A, s) {
                var C = this, I = new (THREE[_0x4e57("0x74")]);
                if (C.map_[_0x4e57("0xf0")][_0x4e57("0x77e")]) return setTimeout(function () {
                    for (var x in r[_0x4e57("0x77f")]) {
                        var e = r[_0x4e57("0x77f")][x],
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c4")]);
                        A[_0x4e57("0x28")](_[_0x4e57("0x3d9")]), _[_0x4e57("0x3d9")][_0x4e57("0x77d")] = new (esmap[_0x4e57("0xb8")]);
                        var t = e[_0x4e57("0x780")];
                        for (var i in t) {
                            var a = t[i];
                            if ("" != a.name) {
                                var n = a.Height || 2.5,
                                    g = new esmap.ESMapLabel(s, a, C[_0x4e57("0x765")][_0x4e57("0x4a8")]);
                                new esmap.ESLabel(a, g, C), g[_0x4e57("0x3da")] = !1, _[_0x4e57("0x3d9")][_0x4e57("0x28")](g), g.position.set(a.X - C[_0x4e57("0xea")], n, a.Y - C[_0x4e57("0xeb")]), C.map_[_0x4e57("0x61")][_0x4e57("0x4fd")](g)
                            }
                        }
                    }
                    C[_0x4e57("0x35a")][_0x4e57("0x149")]("loadLayerComplete", s, _0x4e57("0x87")), I[_0x4e57("0x77")]()
                }, C[_0x4e57("0x764")]), I
            }
        }, {
            key: _0x4e57("0x776"), value: function (x, c, e) {
                var l = this, u = l[_0x4e57("0x439")][e].HeightSpan - l[_0x4e57("0x35a")].options[_0x4e57("0x4df")];
                new (THREE[_0x4e57("0x74")]);
                return x[_0x4e57("0x781")][_0x4e57("0x60")](function (x) {
                    var e = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3ef")]);
                    e.name = _0x4e57("0x782"), c[_0x4e57("0x28")](e[_0x4e57("0x3d9")]);
                    var _ = x;
                    for (var t in _[_0x4e57("0x782")]) if (l[_0x4e57("0x35a")].options[_0x4e57("0x4e0")]) {
                        var i = _[_0x4e57("0x782")][t];
                        if (i.LM && 2 < i.LM[_0x4e57("0x0")] && "undefined" != i.LM) {
                            var a = l[_0x4e57("0x35a")].mapScene, n = i.LS[_0x4e57("0x464")](",");
                            if (2 < n.length) var g = new THREE.Vector3(parseFloat(n[0]), parseFloat(n[1]), parseFloat(n[2]));
                            if (i.LR) var r = Math.PI / 180, A = i.LR.split(","),
                                s = new (THREE[_0x4e57("0x6d3")])(parseFloat(A[0]) * r, parseFloat(A[1]) * r, parseFloat(A[2]) * r);
                            var C = i.LO[_0x4e57("0x464")](",");
                            if (2 < C[_0x4e57("0x0")]) var I = new THREE.Vector3(-i.X1 - a[_0x4e57("0xea")] + parseFloat(C[0]), u / 2 - parseFloat(C[1]), i.Y1 - a[_0x4e57("0xeb")] + parseFloat(C[2])); else I = new (THREE[_0x4e57("0x11b")])(-i.X1 - a[_0x4e57("0xea")], u / 2, i.Y1 - a.sceneZ_);
                            var o = l[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x48c")] + "/" + l.map_[_0x4e57("0x3cd")] + _0x4e57("0x783") + i.LM + _0x4e57("0x784");
                            l[_0x4e57("0x474")].addModel({
                                name: i.LM,
                                url: o,
                                scale: g,
                                rotate: s,
                                position: I,
                                parent: e[_0x4e57("0x3d9")],
                                id: i[_0x4e57("0x537")]
                            })
                        }
                    }
                })
            }
        }, {
            key: "collideLabel_", value: function (x, e) {
                var _ = this[_0x4e57("0x35a")][_0x4e57("0x3be")], t = e[_0x4e57("0x77d")],
                    i = e.datas_[_0x4e57("0x785")];
                for (var a in t[_0x4e57("0x1d7")](), e[_0x4e57("0x23e")]) {
                    var n = e[_0x4e57("0x23e")][a];
                    if (n.forceVisible_) {
                        var g = this[_0x4e57("0x35a")].project_(n), r = n[_0x4e57("0x6e6")] / 2,
                            A = n[_0x4e57("0x6e7")] / 2;
                        i && t[_0x4e57("0xf")](n, {
                            x: g.x - r / 2,
                            y: g.y - A / 2,
                            w: r,
                            h: A
                        }) ? n.visible = !_ : (n[_0x4e57("0x3da")] = !0, n[_0x4e57("0x6f9")](x))
                    }
                }
            }
        }, {
            key: _0x4e57("0x457"), value: function (x) {
                for (var e in this[_0x4e57("0xf9")]) {
                    var _ = this[_0x4e57("0xf9")][e];
                    if (_.visible) for (var t = 0; t < _[_0x4e57("0x23e")][_0x4e57("0x0")]; t++) {
                        var i = _.children[t], a = i[_0x4e57("0x382")];
                        a && a.visible && (a[_0x4e57("0x3ee")] == esmap[_0x4e57("0x3c0")].MODEL_LABEL || a[_0x4e57("0x3ee")] == esmap[_0x4e57("0x3c0")][_0x4e57("0x3c5")] ? this.collideLabel_(x, i) : (a[_0x4e57("0x3ee")] == esmap.ESLayerType[_0x4e57("0x786")] || a._type_ == esmap[_0x4e57("0x3c0")][_0x4e57("0x3c6")]) && this.collideLabel_(x, i))
                    }
                }
            }
        }]), _
    }();
    e.default = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = g(_(0)), i = g(_(1)), a = g(_(233)), n = g(_(234));

    function g(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var r = function () {
        function e(x) {
            (0, t[_0x4e57("0xa")])(this, e), this[_0x4e57("0x787")] = new a.default, this[_0x4e57("0x767")] = new (n[_0x4e57("0xa")])(x), this.scene = x, this[_0x4e57("0x1da")][_0x4e57("0x788")] = null, this[_0x4e57("0x1da")][_0x4e57("0x789")] = null
        }

        return (0, i[_0x4e57("0xa")])(e, [{
            key: _0x4e57("0x773"), value: function (x, e) {
                var _ = this.scene, t = {
                    fnum: e,
                    sceneX: _[_0x4e57("0xea")],
                    sceneZ: _[_0x4e57("0xeb")],
                    minX: _[_0x4e57("0x35a")][_0x4e57("0x35e")],
                    minY: _.map_[_0x4e57("0x364")],
                    maxX: _.map_[_0x4e57("0x35d")],
                    maxY: _.map_[_0x4e57("0x35f")],
                    modelHeight: 5,
                    isMerge: _[_0x4e57("0x35a")].options.mergeModels,
                    showBase: _.map_[_0x4e57("0xf0")].showBase,
                    layers: x[_0x4e57("0x78a")],
                    layerType: 1
                };
                return this[_0x4e57("0x787")][_0x4e57("0x78b")](t)
            }
        }, {
            key: _0x4e57("0x772"), value: function (x, e) {
                var _ = this.scene, t = {
                    fnum: e,
                    sceneX: _[_0x4e57("0xea")],
                    sceneZ: _[_0x4e57("0xeb")],
                    minX: _.map_[_0x4e57("0x35e")],
                    minY: _[_0x4e57("0x35a")][_0x4e57("0x364")],
                    maxX: _[_0x4e57("0x35a")].maxX,
                    maxY: _[_0x4e57("0x35a")][_0x4e57("0x35f")],
                    modelHeight: 5,
                    isMerge: _.map_.options[_0x4e57("0x40a")],
                    showBase: _[_0x4e57("0x35a")][_0x4e57("0xf0")].showBase,
                    layers: x[_0x4e57("0x78c")],
                    layerType: 0
                };
                return this[_0x4e57("0x787")][_0x4e57("0x78b")](t)
            }
        }, {
            key: _0x4e57("0x77a"), value: function (x, e) {
                var _ = this[_0x4e57("0x1da")], t = {
                    fnum: e,
                    sceneX: _.sceneX_,
                    sceneZ: _.sceneZ_,
                    minX: _[_0x4e57("0x35a")][_0x4e57("0x35e")],
                    minY: _.map_[_0x4e57("0x364")],
                    maxX: _.map_[_0x4e57("0x35d")],
                    maxY: _[_0x4e57("0x35a")][_0x4e57("0x35f")],
                    floorHeight: _[_0x4e57("0x765")][_0x4e57("0x4a1")][e] ? _[_0x4e57("0x765")][_0x4e57("0x4a1")][e].height : 1,
                    layers: x[_0x4e57("0x778")],
                    layerType: 2
                }, i = this[_0x4e57("0x787")].createFloors(t);
                this[_0x4e57("0x767")][_0x4e57("0x78d")](i), _.map_.emit(_0x4e57("0x78e"), e, _0x4e57("0x78f"))
            }
        }, {
            key: "checkMoPos", value: function (x) {
                this[_0x4e57("0x767")][_0x4e57("0x790")](x)
            }
        }, {
            key: _0x4e57("0x26"), value: function () {
                this[_0x4e57("0x1da")].map_[_0x4e57("0x450")](), this.RoomsLoader[_0x4e57("0x791")]()
            }
        }]), e
    }();
    e[_0x4e57("0xa")] = r
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var E = a(_(9)), t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x)
        }

        return (0, i.default)(x, [{
            key: "createFloors", value: function (x) {
                for (var e = {}, _ = x.layers, t = (x[_0x4e57("0x792")], x[_0x4e57("0x793")]), i = (x[_0x4e57("0x794")], x[_0x4e57("0x4de")], {
                    sceneX: x.sceneX,
                    sceneZ: x[_0x4e57("0x795")],
                    minX: x[_0x4e57("0x35e")],
                    minY: x[_0x4e57("0x364")],
                    maxX: x[_0x4e57("0x35d")],
                    maxY: x.maxY
                }), a = 0; a < _[_0x4e57("0x0")]; a++) {
                    var n = _[a][_0x4e57("0x779")];
                    for (var g in n) {
                        var r = n[g], A = this[_0x4e57("0x796")](r, i, t, 0);
                        A.geometry;
                        e[0] || (e[0] = {}, e[0][_0x4e57("0x3ea")] = new (THREE[_0x4e57("0x757")]), e[0][_0x4e57("0x797")] = A[_0x4e57("0x797")], e[0].brothers = [], e[0][_0x4e57("0x41a")] = 0), e[0].geometry[_0x4e57("0x798")](A[_0x4e57("0x3ea")]), e[0][_0x4e57("0x3ea")][_0x4e57("0x799")](), e[0][_0x4e57("0x797")][_0x4e57("0x798")](A[_0x4e57("0x797")])
                    }
                }
                return {types: e, fnum: x[_0x4e57("0x3e8")]}
            }
        }, {
            key: _0x4e57("0x78b"), value: function (x) {
                for (var e = {}, _ = [], t = [], i = x.layers, a = x[_0x4e57("0x792")], n = 5, g = x[_0x4e57("0x794")], r = x[_0x4e57("0x4de")], A = {
                    sceneX: x.sceneX,
                    sceneZ: x[_0x4e57("0x795")],
                    minX: x.minX,
                    minY: x[_0x4e57("0x364")],
                    maxX: x[_0x4e57("0x35d")],
                    maxY: x[_0x4e57("0x35f")]
                }, s = 0; s < i.length; s++) {
                    var C, I = i[s];
                    switch (a) {
                        case 0:
                            C = I[_0x4e57("0x79a")];
                            break;
                        case 1:
                            C = I.models
                    }
                    for (var o = C[_0x4e57("0x0")], c = 0; c < o; c++) {
                        var l = C[c];
                        if (l[_0x4e57("0x1")](_0x4e57("0x557")) && null != l.RoomHigh && 0 < l[_0x4e57("0x557")] && (n = l.RoomHigh), l[_0x4e57("0x1")](_0x4e57("0x558")) && null != l[_0x4e57("0x558")] && 1 < l[_0x4e57("0x558")][_0x4e57("0x0")] && 0 == l[_0x4e57("0x555")] && "" != l[_0x4e57("0x559")]) {
                            var u = {}, h = l[_0x4e57("0x559")][_0x4e57("0x464")](",");
                            if (u[_0x4e57("0x79b")] = {
                                x: l.CenX,
                                y: l[_0x4e57("0x553")]
                            }, u[_0x4e57("0x486")] = [parseFloat(h[0]), parseFloat(h[1])], u[_0x4e57("0x558")] = l[_0x4e57("0x558")], u.id = l.oid, u.height = l[_0x4e57("0x557")] + .05, u[_0x4e57("0x55d")] = 2 < h[_0x4e57("0x0")] ? parseFloat(h[2]) : 0, u[_0x4e57("0x19c")] = 3 < h[_0x4e57("0x0")] ? parseFloat(h[3]) : 0, u.offset = 5 < h.length ? {
                                x: parseFloat(h[4]),
                                y: parseFloat(h[5]),
                                z: parseFloat(h[6]) || 0
                            } : {
                                x: 0,
                                y: 0,
                                z: 0
                            }, l[_0x4e57("0x1")](_0x4e57("0x3f7")) && 0 < l.offset[_0x4e57("0x0")]) {
                                var f = l.offset[_0x4e57("0x464")](",");
                                u[_0x4e57("0x3f7")].x += parseFloat(f[0]), u[_0x4e57("0x3f7")].z += parseFloat(f[1]), u[_0x4e57("0x3f7")].y += parseFloat(f[2])
                            }
                            _[_0x4e57("0xf")](u)
                        }
                        if (l.RModel && 2 < l[_0x4e57("0x79c")][_0x4e57("0x0")] && l[_0x4e57("0x79c")] != _0x4e57("0x15") && t.push({
                            model: l[_0x4e57("0x79c")],
                            scale: l[_0x4e57("0x114")],
                            rotate: l[_0x4e57("0x55d")],
                            name: l[_0x4e57("0x269")],
                            x: l.CenX,
                            y: l[_0x4e57("0x553")],
                            offset: l[_0x4e57("0x3f7")],
                            id: l.oid,
                            bclick: l.bclick
                        }), 999 != l[_0x4e57("0x4a4")] || 0 != r) {
                            var d = this[_0x4e57("0x796")](l, A, n, 1);
                            if (d) {
                                var p = g ? l[_0x4e57("0x4a4")] : l.oid || 0, b = d[_0x4e57("0x3ea")];
                                e[p] || (e[p] = {}, e[p][_0x4e57("0x3ea")] = new (THREE[_0x4e57("0x757")]), e[p][_0x4e57("0x797")] = d.pointsGeometry, e[p].brothers = [], e[p].faceIndex = 0);
                                var m = e[p][_0x4e57("0x41a")];
                                e[p][_0x4e57("0x41a")] += b.faces[_0x4e57("0x0")];
                                var v = {}, y = (0, E[_0x4e57("0xa")])({}, l);
                                v[_0x4e57("0x383")] = y, v[_0x4e57("0xe2")] = y.floornum, v.ID = y[_0x4e57("0x550")], v[_0x4e57("0x269")] = y[_0x4e57("0x269")], v.typeID = y[_0x4e57("0x384")], v.nodeType = 5, v[_0x4e57("0x557")] = y.RoomHigh, v[_0x4e57("0x4a4")] = y.RoomStyle, v.mapCoord = {
                                    x: y[_0x4e57("0x552")],
                                    y: y[_0x4e57("0x553")]
                                }, v.faceRange = [m, e[p][_0x4e57("0x41a")]], e[p].brothers[_0x4e57("0xf")](v), e[p][_0x4e57("0x3ea")][_0x4e57("0x798")](d[_0x4e57("0x3ea")]), e[p].geometry.computeBoundingSphere(), e[p].pointsGeometry[_0x4e57("0x798")](d[_0x4e57("0x797")])
                            }
                        }
                    }
                }
                return {
                    types: e,
                    fnum: x[_0x4e57("0x3e8")],
                    modelImagesData: _,
                    model3DData: t,
                    layerType: a,
                    showBase: r
                }
            }
        }, {
            key: _0x4e57("0x796"), value: function (x, e, _, t) {
                var i = x.points, a = e[_0x4e57("0x79d")], n = e[_0x4e57("0x795")];
                if (4 <= i.length) {
                    for (var g, r = new THREE.Shape, A = 0; A < i[_0x4e57("0x0")]; A++) {
                        var s = i[A];
                        if (isNaN(s.x) || isNaN(s.y)) return console[_0x4e57("0x2f")](_0x4e57("0x79e") + x[_0x4e57("0x550")]), null;
                        0 == A ? r[_0x4e57("0xe1")](s.x - a, s.y - n) : r[_0x4e57("0x79f")](s.x - a, s.y - n)
                    }
                    if (x[_0x4e57("0x7a0")] && 0 < x[_0x4e57("0x7a0")][_0x4e57("0x0")]) for (var C in x.holes) {
                        var I = x.holes[C], o = new (THREE[_0x4e57("0x7a1")]);
                        for (var A in I) {
                            s = I[A];
                            0 == A ? o[_0x4e57("0xe1")](s.x - a, s.y - n) : o.lineTo(s.x - a, s.y - n)
                        }
                        r[_0x4e57("0x7a0")][_0x4e57("0xf")](o)
                    }
                    g = 0 == _ ? new THREE.ShapeGeometry(r) : new (THREE[_0x4e57("0x7a2")])(r, {
                        needtop: x[_0x4e57("0xa9")],
                        amount: _,
                        bevelEnabled: !1,
                        material: 0,
                        extrudeMaterial: 1
                    });
                    var c = e[_0x4e57("0x35e")], l = e[_0x4e57("0x364")], u = e[_0x4e57("0x35d")] - c,
                        h = e[_0x4e57("0x35f")] - l, f = g[_0x4e57("0x3f2")], d = f[_0x4e57("0x0")];
                    for (C = 0; C < d; C++) {
                        var p = g[_0x4e57("0x749")][f[C].a], b = g.vertices[f[C].b], m = g[_0x4e57("0x749")][f[C].c];
                        g[_0x4e57("0x7a3")][0][C][0].x = (p.x - c - a) / u, g[_0x4e57("0x7a3")][0][C][0].y = (p.y - l + n) / h, g[_0x4e57("0x7a3")][0][C][1].x = (b.x - c - a) / u, g[_0x4e57("0x7a3")][0][C][1].y = (b.y - l + n) / h, g[_0x4e57("0x7a3")][0][C][2].x = (m.x - c - a) / u, g.faceVertexUvs[0][C][2].y = (m.y - l + n) / h
                    }
                    I = 0;
                    var v = g[_0x4e57("0x749")].length, y = r[_0x4e57("0x6a1")]();
                    if (t) {
                        var E = {x: 0, y: 0, z: 0};
                        if (x[_0x4e57("0x3f7")] && !x.RModel) {
                            var w = x[_0x4e57("0x3f7")][_0x4e57("0x464")](",");
                            2 <= w[_0x4e57("0x0")] && (E.x += parseFloat(w[0]), E.y += parseFloat(w[2]), E.z += parseFloat(w[1]))
                        }
                        for (E.z += _; I < v; I++) g[_0x4e57("0x749")][I].z -= E.z;
                        E.z -= .002;
                        for (var T = [], R = y[_0x4e57("0x749")][_0x4e57("0x0")], k = 0; k < R; k++) {
                            (S = y[_0x4e57("0x749")][k]).x += parseFloat(E.x), S.y += parseFloat(E.y), S.z -= parseFloat(E.z), 0 == k || k == R - 1 ? T[_0x4e57("0xf")](S) : T[_0x4e57("0xf")](S, S)
                        }
                    } else for (T = [], R = y[_0x4e57("0x749")][_0x4e57("0x0")], k = 0; k < R; k++) {
                        var S = y.vertices[k];
                        0 == k || k == R - 1 ? T.push(S) : T[_0x4e57("0xf")](S, S)
                    }
                    return y[_0x4e57("0x749")] = T, {geometry: g, pointsGeometry: y, model: x}
                }
                return null
            }
        }]), x
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var u = a(_(93)), C = a(_(45)), I = a(_(94)), t = a(_(0)), i = a(_(1));
    _(235);

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function e(x) {
            (0, t.default)(this, e), this.scene = x, this.toHandle = {}
        }

        return (0, i[_0x4e57("0xa")])(e, [{
            key: "loadFloors", value: function (x) {
                var e = this[_0x4e57("0x1da")], _ = x.types, t = x[_0x4e57("0x3e8")], i = e[_0x4e57("0x443")](t),
                    a = e[_0x4e57("0x439")][t],
                    n = (a[_0x4e57("0x54a")], new esmap.ESLayer(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c1")]));
                for (var g in i.add(n[_0x4e57("0x3d9")]), _) {
                    var r = _[g], A = e.mapTheme_[_0x4e57("0x4a1")][t];
                    null == A && (A = e.mapTheme_.floorStyleBase[0]);
                    var s = e[_0x4e57("0x765")][_0x4e57("0x667")], C = e[_0x4e57("0x765")][_0x4e57("0x4a0")], I = null,
                        o = null;
                    A && ((A[_0x4e57("0x1df")] || 0 === A[_0x4e57("0x1df")]) && (s = A[_0x4e57("0x1df")]), (A[_0x4e57("0x2f1")] || 0 === A[_0x4e57("0x2f1")]) && (C = A[_0x4e57("0x2f1")]), A[_0x4e57("0x431")] && (I = A[_0x4e57("0x431")], o = A[_0x4e57("0x5d2")], e[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x48d")] + "/" + e[_0x4e57("0x765")][_0x4e57("0x404")] + "/")), a[_0x4e57("0x431")] && (I = a[_0x4e57("0x431")], o = a[_0x4e57("0x5d2")], e[_0x4e57("0x35a")].options[_0x4e57("0x48c")] + "/" + e[_0x4e57("0x35a")][_0x4e57("0x3cd")] + _0x4e57("0x7a4"));
                    var c = new (THREE[_0x4e57("0x757")]);
                    c[_0x4e57("0x749")] = r.geometry[_0x4e57("0x749")], c[_0x4e57("0x3f2")] = r.geometry[_0x4e57("0x3f2")], c[_0x4e57("0x7a3")] = r.geometry[_0x4e57("0x7a3")];
                    var l = new (THREE[_0x4e57("0x10d")])(c);
                    l.rotation[_0x4e57("0x115")](Math.PI / 2, 0, 0, _0x4e57("0x6c1")), l.position[_0x4e57("0x700")](esmap.ESMapConfiguration[_0x4e57("0x7a5")]), l[_0x4e57("0x382")] = {
                        floor: t,
                        nodeType: esmap.ESNodeType[_0x4e57("0x49f")]
                    }, n[_0x4e57("0x3d9")][_0x4e57("0x28")](l);
                    var u = new (THREE[_0x4e57("0x2ec")])({color: s, transparent: !0, opacity: C});
                    if (l[_0x4e57("0x7c")] = u, I && 1 < I[_0x4e57("0x0")]) {
                        var h = o.split(","), f = [Number(h[0]), Number(h[1])],
                            d = new (THREE[_0x4e57("0x386")])([u, u[_0x4e57("0xe8")]()]), p = d[_0x4e57("0x2e9")][0],
                            b = e[_0x4e57("0x765")][_0x4e57("0x4a2")][I[_0x4e57("0x2ad")](_0x4e57("0x432"), "")].material_[_0x4e57("0x5a")];
                        b[_0x4e57("0x2e7")] = b[_0x4e57("0x2e8")] = THREE[_0x4e57("0x288")];
                        var m = (e[_0x4e57("0x35a")].maxX - e[_0x4e57("0x35a")][_0x4e57("0x35e")]) / (e[_0x4e57("0x35a")][_0x4e57("0x35f")] - e[_0x4e57("0x35a")][_0x4e57("0x364")]);
                        b[_0x4e57("0x4a3")][_0x4e57("0x115")](f[0] * m, f[1]), p[_0x4e57("0x5a")] = b, p.color[_0x4e57("0x115")](16777215), b[_0x4e57("0x7f")] = !0, p.needsUpdate = !0, l[_0x4e57("0x7c")] = d
                    }
                    e[_0x4e57("0x35a")][_0x4e57("0x61")][_0x4e57("0x500")](l)
                }
            }
        }, {
            key: "loadRooms", value: function (x) {
                var e = this[_0x4e57("0x1da")], _ = x[_0x4e57("0x6b1")], t = x[_0x4e57("0x3e8")],
                    i = x[_0x4e57("0x792")] ? esmap[_0x4e57("0x3c0")].MODEL : esmap[_0x4e57("0x3c0")][_0x4e57("0x3f0")],
                    a = e[_0x4e57("0x443")](t), n = x[_0x4e57("0x4de")], g = new esmap.ESLayer(i, {});
                if (a) {
                    for (var r in a[_0x4e57("0x28")](g[_0x4e57("0x3d9")]), _) {
                        var A = _[r], s = r;
                        1 == A[_0x4e57("0x388")].length && (s = A[_0x4e57("0x388")][0][_0x4e57("0x383")].RoomStyle);
                        var C = e[_0x4e57("0x765")][_0x4e57("0x65d")](s),
                            I = e[_0x4e57("0x765")][_0x4e57("0x7a6")](s, ""), o = new THREE.Geometry;
                        o[_0x4e57("0x749")] = A[_0x4e57("0x3ea")].vertices, o[_0x4e57("0x3f2")] = A.geometry.faces, o[_0x4e57("0x7a3")] = A[_0x4e57("0x3ea")].faceVertexUvs;
                        var c = new THREE.Mesh(o);
                        c[_0x4e57("0x7c")] = I, c[_0x4e57("0x340")][_0x4e57("0x115")](Math.PI / 2, 0, 0, _0x4e57("0x6c1")), A[_0x4e57("0x388")][_0x4e57("0x60")](function (x) {
                            x.o3d_ = c
                        }), c.datas_ = {
                            FloorNum: t,
                            brothers: A[_0x4e57("0x388")],
                            o3d_: c,
                            nodeType: esmap[_0x4e57("0x9a")][_0x4e57("0x3c2")]
                        }, c[_0x4e57("0x34e")] = !0, c.renderOrder = esmap[_0x4e57("0x6ef")][_0x4e57("0x85")], g[_0x4e57("0x3d9")].add(c), (n || x.layerType) && e[_0x4e57("0x35a")][_0x4e57("0x61")][_0x4e57("0x442")](c), this.drawOutline(s, A[_0x4e57("0x797")], C, t)
                    }
                    if (!this.toHandle[t]) {
                        this[_0x4e57("0x768")][t] = {};
                        var l = new (esmap[_0x4e57("0x3c3")])(esmap.ESLayerType.MODEL_IMAGE, {});
                        a[_0x4e57("0x28")](l[_0x4e57("0x3d9")]);
                        var u = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3ef")]);
                        u[_0x4e57("0x269")] = _0x4e57("0x7a7"), a[_0x4e57("0x28")](u.o3d_), this[_0x4e57("0x768")][t].modelimagelayer = l, this[_0x4e57("0x768")][t].rmodellayer = u, this[_0x4e57("0x768")][t][_0x4e57("0x7a8")] = [], this[_0x4e57("0x768")][t][_0x4e57("0x7a9")] = []
                    }
                    this[_0x4e57("0x768")][t].modelimagedata = this[_0x4e57("0x768")][t][_0x4e57("0x7a8")][_0x4e57("0x11")](x.modelImagesData), this[_0x4e57("0x768")][t][_0x4e57("0x7a9")] = this[_0x4e57("0x768")][t].model3data[_0x4e57("0x11")](x[_0x4e57("0x7aa")]), a[_0x4e57("0x3da")] && e[_0x4e57("0x35a")].options[_0x4e57("0x37d")] && (t == e[_0x4e57("0x35a")][_0x4e57("0xe3")] ? esmap[_0x4e57("0x7d")][_0x4e57("0x444")](t) : esmap[_0x4e57("0x7d")][_0x4e57("0x46f")](t, e[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x445")])), x[_0x4e57("0x792")] && (e[_0x4e57("0x35a")][_0x4e57("0x149")](_0x4e57("0x78e"), t, "model"), e[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x7ab")] && f[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x7ab")](t), e[_0x4e57("0x35a")].emit(_0x4e57("0x4aa"), t))
                }
            }
        }, {
            key: _0x4e57("0x791"), value: function () {
                var _, t, e, i, x,
                    a = (_ = (0, I[_0x4e57("0xa")])(u[_0x4e57("0xa")][_0x4e57("0x683")](function x(a, n) {
                        return u[_0x4e57("0xa")][_0x4e57("0x684")](function (x) {
                            for (; ;) switch (x[_0x4e57("0x7ac")] = x[_0x4e57("0x685")]) {
                                case 0:
                                    return x.next = 2, new (C[_0x4e57("0xa")])(function (_) {
                                        var x = l[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x48c")] + "/" + l.map_[_0x4e57("0x3cd")] + _0x4e57("0x7a4") + a.RoomLogo;
                                        if (c[_0x4e57("0x768")][n]) {
                                            var t = c.toHandle[n][_0x4e57("0x7ad")], e = null;
                                            if (s[_0x4e57("0x657")][a[_0x4e57("0x558")]]) {
                                                e = s[_0x4e57("0x657")][a.RoomLogo], a[_0x4e57("0x431")] = e, a.coord = new THREE.Vector2(a[_0x4e57("0x79b")].x, a.coord.y), a[_0x4e57("0x486")] = new (THREE[_0x4e57("0x199")])(a[_0x4e57("0x486")][0], a[_0x4e57("0x486")][1]);
                                                var i = new (esmap[_0x4e57("0xcb")])({
                                                    style: a,
                                                    sx: l[_0x4e57("0xea")],
                                                    sz: l.sceneZ_,
                                                    id: a.id
                                                });
                                                t.add(i), _()
                                            } else esmap.ESMapUtil[_0x4e57("0x7e")](x, function (x) {
                                                s[_0x4e57("0x657")][a.RoomLogo] = x, a[_0x4e57("0x431")] = x, a[_0x4e57("0x79b")] = new (THREE[_0x4e57("0x199")])(a[_0x4e57("0x79b")].x, a[_0x4e57("0x79b")].y), a[_0x4e57("0x486")] = new THREE.Vector2(a[_0x4e57("0x486")][0], a[_0x4e57("0x486")][1]);
                                                var e = new (esmap[_0x4e57("0xcb")])({
                                                    style: a,
                                                    sx: l.sceneX_,
                                                    sz: l[_0x4e57("0xeb")],
                                                    id: a.id
                                                });
                                                t.add(e), _()
                                            }, function () {
                                            }, function () {
                                                _()
                                            })
                                        }
                                    });
                                case 2:
                                case _0x4e57("0x3c9"):
                                    return x[_0x4e57("0x68e")]()
                            }
                        }, x, this)
                    })), function (x, e) {
                        return _[_0x4e57("0x4")](this, arguments)
                    }), n = (t = (0, I[_0x4e57("0xa")])(u[_0x4e57("0xa")][_0x4e57("0x683")](function x(e, _) {
                        var t, i, a, n, g, r, A, s, C, I, o;
                        return u[_0x4e57("0xa")][_0x4e57("0x684")](function (x) {
                            for (; ;) switch (x[_0x4e57("0x7ac")] = x[_0x4e57("0x685")]) {
                                case 0:
                                    if (t = c[_0x4e57("0x768")][_][_0x4e57("0x7ae")], l[_0x4e57("0x35a")].options[_0x4e57("0x4e0")] && e[_0x4e57("0x85")]) {
                                        x.next = 3;
                                        break
                                    }
                                    return x[_0x4e57("0x7af")](_0x4e57("0x6a0"));
                                case 3:
                                    i = l.map_, a = new (THREE[_0x4e57("0x11b")])(1, 1.5, 1), e[_0x4e57("0x114")] && (n = e[_0x4e57("0x114")][_0x4e57("0x464")](","), a = new (THREE[_0x4e57("0x11b")])(parseFloat(n[0]), parseFloat(n[1]), parseFloat(n[2]))), e[_0x4e57("0x55d")] && (g = Math.PI / 180, r = e.rotate[_0x4e57("0x464")](","), A = new (THREE[_0x4e57("0x6d3")])(parseFloat(r[0]) * g, parseFloat(r[1]) * g, parseFloat(r[2]) * g)), s = new (THREE[_0x4e57("0x11b")])(-e.x - l[_0x4e57("0xea")], 0, e.y - l.sceneZ_), e.offset && (C = e[_0x4e57("0x3f7")][_0x4e57("0x464")](","), s.x += parseFloat(C[0]), s.y += parseFloat(C[1]), s.z += parseFloat(C[2])), I = i.options[_0x4e57("0x48c")] + "/" + i[_0x4e57("0x3cd")], o = I + "/model/" + e[_0x4e57("0x85")] + _0x4e57("0x784"), l[_0x4e57("0x474")].addModel({
                                        name: e[_0x4e57("0x269")],
                                        url: o,
                                        scale: a,
                                        rotate: A,
                                        position: s,
                                        data_: {
                                            CenX: e.x,
                                            CenY: e.y,
                                            scale: e[_0x4e57("0x114")] || null,
                                            rotate: e[_0x4e57("0x55d")] || null,
                                            offset: e[_0x4e57("0x3f7")] || null
                                        },
                                        parent: t[_0x4e57("0x3d9")],
                                        id: e.id,
                                        bclick: e.bclick,
                                        fnum: _
                                    });
                                case 12:
                                case"end":
                                    return x[_0x4e57("0x68e")]()
                            }
                        }, x, this)
                    })), function (x, e) {
                        return t.apply(this, arguments)
                    }), g = (e = (0, I[_0x4e57("0xa")])(u[_0x4e57("0xa")][_0x4e57("0x683")](function x(e) {
                        var _, t;
                        return u[_0x4e57("0xa")].wrap(function (x) {
                            for (; ;) switch (x.prev = x[_0x4e57("0x685")]) {
                                case 0:
                                    if (!(_ = c[_0x4e57("0x768")][e]) || !_.modelimagedata) {
                                        x[_0x4e57("0x685")] = 9;
                                        break
                                    }
                                    x.t0 = u[_0x4e57("0xa")][_0x4e57("0x190")](_[_0x4e57("0x7a8")]);
                                case 3:
                                    if ((x.t1 = x.t0())[_0x4e57("0x69f")]) {
                                        x[_0x4e57("0x685")] = 9;
                                        break
                                    }
                                    return t = x.t1.value, x[_0x4e57("0x685")] = 7, a(_[_0x4e57("0x7a8")][t], e);
                                case 7:
                                    x[_0x4e57("0x685")] = 3;
                                    break;
                                case 9:
                                case"end":
                                    return x[_0x4e57("0x68e")]()
                            }
                        }, x, this)
                    })), function (x) {
                        return e[_0x4e57("0x4")](this, arguments)
                    }), r = (i = (0, I[_0x4e57("0xa")])(u[_0x4e57("0xa")][_0x4e57("0x683")](function x(e) {
                        var _, t;
                        return u.default[_0x4e57("0x684")](function (x) {
                            for (; ;) switch (x.prev = x[_0x4e57("0x685")]) {
                                case 0:
                                    if (!(_ = c[_0x4e57("0x768")][e]) || !_.model3data) {
                                        x[_0x4e57("0x685")] = 9;
                                        break
                                    }
                                    x.t0 = u.default[_0x4e57("0x190")](_.model3data);
                                case 3:
                                    if ((x.t1 = x.t0())[_0x4e57("0x69f")]) {
                                        x[_0x4e57("0x685")] = 9;
                                        break
                                    }
                                    return t = x.t1.value, x[_0x4e57("0x685")] = 7, n(_[_0x4e57("0x7a9")][t], e);
                                case 7:
                                    x.next = 3;
                                    break;
                                case 9:
                                case _0x4e57("0x3c9"):
                                    return x[_0x4e57("0x68e")]()
                            }
                        }, x, this)
                    })), function (x) {
                        return i.apply(this, arguments)
                    }), A = (x = (0, I[_0x4e57("0xa")])(u[_0x4e57("0xa")][_0x4e57("0x683")](function x() {
                        var e, _;
                        return u[_0x4e57("0xa")][_0x4e57("0x684")](function (x) {
                            for (; ;) switch (x[_0x4e57("0x7ac")] = x[_0x4e57("0x685")]) {
                                case 0:
                                    x.t0 = u[_0x4e57("0xa")].keys(l[_0x4e57("0x35a")][_0x4e57("0x7b0")]);
                                case 1:
                                    if ((x.t1 = x.t0())[_0x4e57("0x69f")]) {
                                        x[_0x4e57("0x685")] = 9;
                                        break
                                    }
                                    return e = x.t1[_0x4e57("0x259")], _ = l[_0x4e57("0x35a")][_0x4e57("0x7b0")][e], g(_), x[_0x4e57("0x685")] = 7, r(_);
                                case 7:
                                    x.next = 1;
                                    break;
                                case 9:
                                case"end":
                                    return x[_0x4e57("0x68e")]()
                            }
                        }, x, this)
                    })), function () {
                        return x[_0x4e57("0x4")](this, arguments)
                    }), c = this, l = c[_0x4e57("0x1da")], s = l[_0x4e57("0x765")];
                A()[_0x4e57("0x78")](function () {
                    l[_0x4e57("0x474")][_0x4e57("0x62")]()
                })
            }
        }, {
            key: "drawOutline", value: function (x, e, _, t) {
                var i = this[_0x4e57("0x1da")][_0x4e57("0x443")](t),
                    a = this[_0x4e57("0x1da")][_0x4e57("0x35a")][_0x4e57("0xf8")](t).getOrCreateLayerByName(_0x4e57("0x7b1"), esmap[_0x4e57("0x3c0")].MODEL_LINE);
                i[_0x4e57("0x28")](a[_0x4e57("0x3d9")]);
                var n = {color: _[_0x4e57("0x49d")], linewidth: 5 < _.strokewidth ? 5 : _.strokewidth},
                    g = (new THREE.Shape)[_0x4e57("0x6a1")]();
                g.vertices = e[_0x4e57("0x749")];
                var r = new (THREE[_0x4e57("0x7b2")])(n), A = new THREE.LineSegments(g, r);
                A[_0x4e57("0x34e")] = !1, A[_0x4e57("0x382")] = {
                    nodeType: esmap[_0x4e57("0x9a")].LINE,
                    typeID: x
                }, A[_0x4e57("0x340")][_0x4e57("0x115")](Math.PI / 2, 0, 0, _0x4e57("0x6c1")), this[_0x4e57("0x1da")][_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x4e9")] && a[_0x4e57("0x3d9")].add(A)
            }
        }]), e
    }();
    e[_0x4e57("0xa")] = n
}, , , , , function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function x() {
            (0, t[_0x4e57("0xa")])(this, x)
        }

        return (0, i.default)(x, null, [{
            key: "calcSceneBox3", value: function (x) {
                var e = Number[_0x4e57("0x7b3")], _ = Number[_0x4e57("0x7b4")], t = x[_0x4e57("0x43c")];
                for (var i in t) {
                    var a = t[i][_0x4e57("0x45f")];
                    e = Math.min(e, a), _ = Math[_0x4e57("0x159")](_, a)
                }
                return new (THREE[_0x4e57("0x7b5")])(new (THREE[_0x4e57("0x11b")])(x[_0x4e57("0x35e")], e, x[_0x4e57("0x364")]), new (THREE[_0x4e57("0x11b")])(x[_0x4e57("0x35d")], _, x[_0x4e57("0x35f")]))
            }
        }, {
            key: _0x4e57("0x76c"), value: function (x) {
                var e = x[_0x4e57("0x6b8")](), _ = x[_0x4e57("0x486")]();
                return {
                    target: new (THREE[_0x4e57("0x11b")])(0, e.y, 0),
                    position: new (THREE[_0x4e57("0x11b")])(1 * _.x, e.y + .75 * _.x, 1 * -_.x)
                }
            }
        }, {
            key: _0x4e57("0x7b6"), value: function (x, e, _) {
                if (3 <= x[_0x4e57("0x0")]) {
                    var t = Math.PI / 20, i = Math.PI - t, a = _ || 1, n = null == e ? 8 : e;
                    if (0 == n) return x;
                    var g = 1 / n;
                    x[_0x4e57("0xf")](x[x[_0x4e57("0x0")] - 1]);
                    for (var r = [], A = 0; A < x[_0x4e57("0x0")] - 2;) {
                        var s = x[A][_0x4e57("0xe8")](), C = x[A + 1].clone(), I = x[A + 2][_0x4e57("0xe8")](),
                            o = s[_0x4e57("0xe8")]()[_0x4e57("0xec")](C), c = I.clone()[_0x4e57("0xec")](C),
                            l = o[_0x4e57("0x6a9")](c), u = o[_0x4e57("0x0")](), h = c[_0x4e57("0x0")]();
                        if (s[_0x4e57("0x3e8")] = x[A].fnum, C[_0x4e57("0x3e8")] = x[A + 1][_0x4e57("0x3e8")], I.fnum = x[A + 2][_0x4e57("0x3e8")], r[_0x4e57("0xf")](s), t < l && l < i && a < u && a < h) {
                            var f = C[_0x4e57("0xe8")]()[_0x4e57("0x209")](s, a / u),
                                d = C[_0x4e57("0xe8")]()[_0x4e57("0x209")](I, a / h);
                            f[_0x4e57("0x3e8")] = C.fnum, r[_0x4e57("0xf")](f);
                            for (var p = g; p < .999999; p += g) {
                                var b = p, m = f.clone()[_0x4e57("0x209")](C, b),
                                    v = C[_0x4e57("0xe8")]()[_0x4e57("0x209")](d, b), y = m[_0x4e57("0x209")](v, b);
                                y[_0x4e57("0x3e8")] = f[_0x4e57("0x3e8")], r[_0x4e57("0xf")](y)
                            }
                            (x[A + 1] = d).fnum = C[_0x4e57("0x3e8")], A++
                        } else A++;
                        A == x[_0x4e57("0x0")] - 2 && r.push(I)
                    }
                    return r
                }
                return x
            }
        }]), x
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(1)), g = t(_(4)), r = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function t(x, e) {
            (0, a[_0x4e57("0xa")])(this, t);
            var _ = (0, g[_0x4e57("0xa")])(this, (t[_0x4e57("0x751")] || (0, i.default)(t)).call(this, x));
            return _[_0x4e57("0x765")] = e, _[_0x4e57("0x7b7")] = !1, _.selected_ = !1, _[_0x4e57("0x7b8")] = null, _[_0x4e57("0x7b9")] = null, _
        }

        return (0, r[_0x4e57("0xa")])(t, x), (0, n[_0x4e57("0xa")])(t, [{
            key: _0x4e57("0x7ba"), value: function () {
                this.material[_0x4e57("0x1df")] = new (THREE[_0x4e57("0x203")])(this[_0x4e57("0x765")].color_)
            }
        }, {
            key: _0x4e57("0x7bb"), value: function (x) {
                var e = null == x ? this[_0x4e57("0x765")][_0x4e57("0x659")] : x;
                this[_0x4e57("0x7c")].color = new (THREE[_0x4e57("0x203")])(e)
            }
        }, {
            key: _0x4e57("0x7bc"), set: function (x) {
                x = new (THREE[_0x4e57("0x203")])(x), this.setSelectedTheme_(x)
            }, get: function () {
                return this[_0x4e57("0x7b9")] ? this[_0x4e57("0x7b9")].color : this.mapTheme_[_0x4e57("0x659")]
            }
        }]), t
    }(THREE[_0x4e57("0x10d")]);
    e.default = A
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, "__esModule", {value: !0});
    var i = n(_(35)), t = n(_(9)), a = n(_(16)), o = n(_(78)), c = n(_(14));

    function n(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function (x, e, _, t) {
        var i = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
        this._type_ = "esline", esmap[_0x4e57("0xc1")][_0x4e57("0x2")](this, i[_0x4e57("0x7bd")], this), this.fnum = x[0].fnum;
        var a = x[_0x4e57("0x5a")](function (x) {
            return x.clone()
        });
        this[_0x4e57("0x7be")] = t, this[_0x4e57("0x5a")] = i;
        var n = this.style = e;
        this[_0x4e57("0x7bf")] = null == n[_0x4e57("0x7bf")] || n.fixedWidth, this[_0x4e57("0x419")] = esmap[_0x4e57("0x9a")][_0x4e57("0x49c")], (_ = _ || {}).up = _.up || e.up || new (THREE[_0x4e57("0x11b")])(0, 1, 0), this[_0x4e57("0x6c")][_0x4e57("0x3c7")] = null == this[_0x4e57("0x6c")][_0x4e57("0x3c7")] || e[_0x4e57("0x3c7")];
        var g;
        switch ((0, c[_0x4e57("0xa")])(n[_0x4e57("0x1df")])) {
            case _0x4e57("0x208"):
                n[_0x4e57("0x1df")] = this[_0x4e57("0x7c0")](n[_0x4e57("0x1df")])
        }
        n.dash || (n[_0x4e57("0xa2")] = {
            size: 2,
            gap: 1
        }), n[_0x4e57("0x38")] = _0x4e57("0xab"), n[_0x4e57("0x754")] = esmap.ESLineMode[_0x4e57("0x7c1")], _0x4e57("0xa5") != n[_0x4e57("0x7c2")] && _0x4e57("0xa6") != n[_0x4e57("0x7c2")] || (n[_0x4e57("0x38")] = n[_0x4e57("0x7c2")], n[_0x4e57("0x754")] = esmap[_0x4e57("0x9b")].PLANE), n[_0x4e57("0x7c3")] = n.dashArray || n[_0x4e57("0x7c2")] && this.getDashArrayByLineType(n[_0x4e57("0x7c2")]) || [n[_0x4e57("0xa2")].size, n[_0x4e57("0xa2")][_0x4e57("0x487")]], n[_0x4e57("0x484")] = esmap.ESUtil[_0x4e57("0x18")][_0x4e57("0x3e1")](n, "lineWidth", _0x4e57("0x49e"), 8), n[_0x4e57("0x7c3")] && (this[_0x4e57("0x7c4")] = n[_0x4e57("0x7c3")].reduce(function (x, e) {
            return x + e
        })), g = this[_0x4e57("0x7c4")];
        var r = JSON[_0x4e57("0x32")]((0, o.default)(n));
        delete r[_0x4e57("0x1c5")], this.naviMap = new (esmap[_0x4e57("0xd1")])(r);
        var A = new (THREE[_0x4e57("0x27f")])(this[_0x4e57("0x7c5")].canvas);
        A[_0x4e57("0x2e6")] = THREE[_0x4e57("0x280")], A.needsUpdate = !0;
        var s = new (esmap[_0x4e57("0xba")])({
            radius: n[_0x4e57("0x484")],
            pathVertices: a,
            uvBaseLen: g,
            up: n.up || _.up,
            notCenter: _[_0x4e57("0x746")] || e.notCenter,
            lineMode: n[_0x4e57("0x754")],
            yScale: n[_0x4e57("0x744")],
            smooth: n[_0x4e57("0x3e4")],
            billboard: n.billboard
        });
        A[_0x4e57("0x2e7")] = A[_0x4e57("0x2e8")] = THREE[_0x4e57("0x288")], this[_0x4e57("0x7c6")] = Math[_0x4e57("0x48e")](s[_0x4e57("0x0")] / s[_0x4e57("0x752")]), A[_0x4e57("0x4a3")].x = this.baseRepeatX, A[_0x4e57("0x4a3")].y = 1, A[_0x4e57("0x7f")] = !0;
        var C = new (THREE[_0x4e57("0x109")]);
        C.transparent = !0, C.opacity = null == n[_0x4e57("0x485")] ? 1 : n[_0x4e57("0x485")], C[_0x4e57("0x5a")] = A, C[_0x4e57("0x7f")] = !0, C[_0x4e57("0x3da")] = !1, this[_0x4e57("0x3da")] = !1, C[_0x4e57("0x307")] = !0, n[_0x4e57("0x7c7")] && (C[_0x4e57("0x305")] = !1), THREE[_0x4e57("0x10d")][_0x4e57("0x2")](this, s, C), this.position[_0x4e57("0xf2")](s.center), this[_0x4e57("0x6f0")] = esmap[_0x4e57("0x6ef")][_0x4e57("0x7c8")], this._updateMaterialByNaviMap(), this[_0x4e57("0x1af")](_0x4e57("0x22d"), this.dispose), this[_0x4e57("0x7c9")] = this.update[_0x4e57("0xc")](this), this.map.on(_0x4e57("0x65"), this._update), this[_0x4e57("0x7ca")] = this[_0x4e57("0x4ac")].bind(this), this.map.on("visibleFloorNumsChanged", this[_0x4e57("0x7ca")]);
        var I = new (THREE[_0x4e57("0x10d")])(this[_0x4e57("0x3ea")], this.material);
        I.renderOrder = esmap[_0x4e57("0x6ef")][_0x4e57("0x7cb")], this[_0x4e57("0x28")](I), this[_0x4e57("0x7cc")] = I
    };
    g[_0x4e57("0xd")] = (0, a[_0x4e57("0xa")])(THREE[_0x4e57("0x10d")][_0x4e57("0xd")], {
        height: {
            get: function () {
                return this[_0x4e57("0xe7")].y
            }, set: function (x) {
                this[_0x4e57("0xe7")].y = x
            }
        }, color: {
            get: function () {
                return this[_0x4e57("0x6c")][_0x4e57("0x1df")]
            }, set: function (x) {
                _0x4e57("0x208") == typeof x && (x = this._colorToStr(x)), this.naviMap[_0x4e57("0x65")]({color: x}), this[_0x4e57("0x7c")][_0x4e57("0x5a")].needsUpdate = !0
            }
        }, lineStyle: {
            get: function () {
                return this[_0x4e57("0x6c")]
            }, set: function (x) {
                this.updateStyle(x)
            }
        }, alpha: {
            get: function () {
                return this[_0x4e57("0x7c")][_0x4e57("0x2f1")]
            }, set: function (x) {
                this[_0x4e57("0x7c")][_0x4e57("0x2f1")] = x
            }
        }, lineWidth: {
            get: function () {
                return this[_0x4e57("0x6c")][_0x4e57("0x484")]
            }, set: function (x) {
                this.updateStyle({lineWidth: x})
            }
        }
    }), (0, t.default)(g[_0x4e57("0xd")], esmap[_0x4e57("0xc1")][_0x4e57("0xd")], {
        _colorToStr: function (x) {
            if (_0x4e57("0x208") != typeof x) return x;
            for (var e = x.toString(16); e.length < 6;) e = "0" + e;
            return "#" + e
        }, getDashArrayByLineType: function (x) {
            if (x instanceof Array) return x;
            switch (x) {
                case esmap[_0x4e57("0x9e")][_0x4e57("0x7cd")]:
                    return [1, 0];
                case esmap.ESLineType[_0x4e57("0x7ce")]:
                    return [1, 1];
                case esmap[_0x4e57("0x9e")].DOT_DASH:
                    return [2.5, 1, .5, 1];
                case esmap[_0x4e57("0x9e")][_0x4e57("0x7cf")]:
                    return [3, 1, 1.5, 1];
                case esmap[_0x4e57("0x9e")].DASH:
                    return [2, 1];
                case esmap.ESLineType[_0x4e57("0x7d0")]:
                    return [2.5, .5, .5, .5, .5, .5];
                case esmap[_0x4e57("0x9e")][_0x4e57("0x7d1")]:
                    return [2.5, .5, .5, .5, .5, .5, .5, .5];
                case esmap[_0x4e57("0x9e")][_0x4e57("0x7d2")]:
                    return [5, 0];
                case esmap.ESLineType[_0x4e57("0x7d3")]:
                    return [7, 0]
            }
        }, visibleFloorNumsChanged: function (e) {
            var x = this[_0x4e57("0x3e8")], _ = !0;
            _0x4e57("0x208") == typeof x ? -1 == e[_0x4e57("0x41")](x) && (_ = !1) : x instanceof Array && x[_0x4e57("0x60")](function (x) {
                -1 == e.indexOf(x) && (_ = !1)
            }), this.visible = _
        }, updateStyle: function (e) {
            e.color && "number" == typeof e[_0x4e57("0x1df")] && (e.color = this[_0x4e57("0x7c0")](e.color)), (0, t[_0x4e57("0xa")])(this[_0x4e57("0x6c")], e), this.style[_0x4e57("0x38")] = _0x4e57("0xab"), _0x4e57("0xa5") != this[_0x4e57("0x6c")].lineType && _0x4e57("0xa6") != this.style[_0x4e57("0x7c2")] || (this[_0x4e57("0x6c")].type = this.style[_0x4e57("0x7c2")]), e.lineType && !e[_0x4e57("0x7c3")] && (this[_0x4e57("0x6c")].dashArray = this[_0x4e57("0x7d4")](e[_0x4e57("0x7c2")])), delete this[_0x4e57("0x6c")][_0x4e57("0x1c5")], this[_0x4e57("0x7c5")].update(this.style), this[_0x4e57("0x7d5")](), this[_0x4e57("0x7c")][_0x4e57("0x5a")][_0x4e57("0x7f")] = !0, this[_0x4e57("0x7c4")] = this[_0x4e57("0x6c")][_0x4e57("0x7c3")][_0x4e57("0x69a")](function (x, e) {
                return x + e
            }), this[_0x4e57("0x388")] && 0 < this[_0x4e57("0x388")].length && this[_0x4e57("0x388")].forEach(function (x) {
                x.updateStyle(e)
            })
        }, _updateMaterialByNaviMap: function () {
            var x = this[_0x4e57("0x7c5")].materialInfo;
            this[_0x4e57("0x7c")][_0x4e57("0x5a")][_0x4e57("0x3f7")].y = x.offset, this.material[_0x4e57("0x75d")] = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](x, _0x4e57("0x75d"), 0)
        }, _firstUpdate: !0, update: function (x) {
            this[_0x4e57("0x5a")].options[_0x4e57("0x4dd")] && !this[_0x4e57("0x6c")][_0x4e57("0x7d6")] && (this.material[_0x4e57("0x5a")].offset.x -= x * (this.style[_0x4e57("0xa2")][_0x4e57("0x7d7")] || this.style[_0x4e57("0x7d7")] || 1));
            var e, _ = this.map[_0x4e57("0xe5")],
                t = (_[_0x4e57("0xe6")], this[_0x4e57("0x5a")][_0x4e57("0x3a6")][_0x4e57("0x522")]);
            this.ind_;
            if (e = esmap[_0x4e57("0x7d")][_0x4e57("0x7d8")](this[_0x4e57("0x5a")], this), this[_0x4e57("0x6c")][_0x4e57("0x3c7")]) {
                if ("3d" == _.map_.viewMode_) {
                    if (0 == _.h_) return;
                    this.fixedWidth && this.geometry[_0x4e57("0x755")](e * this[_0x4e57("0x6c")][_0x4e57("0x484")] * .7), this[_0x4e57("0x7d9")]()
                } else this[_0x4e57("0x7bf")] && (1 == t ? this[_0x4e57("0x3ea")][_0x4e57("0x755")](e * this[_0x4e57("0x6c")][_0x4e57("0x484")] * .7 / _[_0x4e57("0x35a")][_0x4e57("0x3ae")].zoom) : this.geometry[_0x4e57("0x755")](e * this.style[_0x4e57("0x484")] * .7));
                this[_0x4e57("0x7c")].map.repeat.x = this[_0x4e57("0x3ea")][_0x4e57("0x0")] / (this[_0x4e57("0x7c4")] * e * 7 * (1 == t ? 2 : 1))
            }
        }, _upVec: new (THREE[_0x4e57("0x11b")])(0, 1, 0), _zVec: new THREE.Vector3(0, 0, 1), _billboard: function () {
            if (this[_0x4e57("0x6c")][_0x4e57("0x7da")] && 2 == this[_0x4e57("0x3ea")][_0x4e57("0x745")][_0x4e57("0x0")]) {
                var x = this[_0x4e57("0x3ea")][_0x4e57("0x745")],
                    e = x[1][_0x4e57("0xe8")]()[_0x4e57("0xec")](x[0]).normalize(), _ = e.dot(this[_0x4e57("0x7db")]),
                    t = (0, i[_0x4e57("0xa")])(_) * this[_0x4e57("0x5a")][_0x4e57("0xd9")].constraint[_0x4e57("0xf6")]();
                this[_0x4e57("0x11d")][_0x4e57("0x7dc")](e, t)
            }
        }, alwaysShow: esmap.ESMapLabel.prototype[_0x4e57("0x6ee")], picked: function () {
        }, dispose: function () {
            this[_0x4e57("0x388")] && 0 < this[_0x4e57("0x388")][_0x4e57("0x0")] && this[_0x4e57("0x388")][_0x4e57("0x60")](function (x) {
                x[_0x4e57("0x1a8")]()
            }), esmap[_0x4e57("0xc1")][_0x4e57("0xd")][_0x4e57("0x1a8")][_0x4e57("0x2")](this), this[_0x4e57("0x5a")][_0x4e57("0x437")](_0x4e57("0x65"), this[_0x4e57("0x7c9")]), this[_0x4e57("0x5a")].off("visibleFloorNumsChanged", this[_0x4e57("0x7ca")]), this.parent && this[_0x4e57("0x66")].remove(this), this.transparentObj = null;
            var x = this.children[0];
            x && (x.material && (x[_0x4e57("0x7c")][_0x4e57("0x5a")] && (x.material.map[_0x4e57("0x1a8")](), x[_0x4e57("0x7c")].map = null), x[_0x4e57("0x7c")][_0x4e57("0x1a8")](), x[_0x4e57("0x7c")] = void 0), x[_0x4e57("0x3ea")] && (x[_0x4e57("0x3ea")].dispose(), x[_0x4e57("0x3ea")] = void 0), this.children[0] = null), this[_0x4e57("0x3ea")] && (this.geometry.dispose(), this[_0x4e57("0x3ea")] = void 0), this[_0x4e57("0x7c")] && (this[_0x4e57("0x7c")].map && (this[_0x4e57("0x7c")].map[_0x4e57("0x1a8")](), this[_0x4e57("0x7c")][_0x4e57("0x5a")] = null), this[_0x4e57("0x7c")].dispose(), this[_0x4e57("0x7c")] = void 0)
        }
    }), e[_0x4e57("0xa")] = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(0)), a = t(_(1));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function t(x, e, _) {
            (0, i.default)(this, t), this.x = x, this.y = e, this.z = _
        }

        return (0, a[_0x4e57("0xa")])(t, [{
            key: "setGeoPoint", value: function (x) {
                this.x = x.x, this.y = x.y
            }
        }]), t
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t, i = _(0), a = (t = i) && t[_0x4e57("0x8")] ? t : {default: t};
    e[_0x4e57("0xa")] = function x(e, _) {
        (0, a[_0x4e57("0xa")])(this, x), this.x = e, this.y = _
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x7dd")] = x, this.controls_ = e, this[_0x4e57("0x7de")] = !0, this[_0x4e57("0x7df")] = !0, this.enableMapIncline_ = !0, this[_0x4e57("0x7e0")] = !0, this[_0x4e57("0x7e1")] = !0, this[_0x4e57("0x7e2")] = !0, this.enableFloorChange_ = !1
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x7e3"), get: function () {
                return this[_0x4e57("0x7e4")]
            }, set: function (x) {
                x != this.enableFloorChange_ && (this.enableFloorChange_ = x, this.controls_[_0x4e57("0x7e4")] = x), this.enableMapPan_ = !x, this.controls_[_0x4e57("0x188")] = !x
            }
        }, {
            key: _0x4e57("0x7e5"), get: function () {
                return this.enableMapPan_
            }, set: function (x) {
                x != this[_0x4e57("0x7de")] && (this[_0x4e57("0x7de")] = x, this[_0x4e57("0x7e6")].enablePan = x)
            }
        }, {
            key: _0x4e57("0x7e7"), get: function () {
                return this.enableMapRotate_
            }, set: function (x) {
                x != this[_0x4e57("0x7df")] && (this[_0x4e57("0x7df")] = x, this[_0x4e57("0x7e6")].enableGestureRotate = x)
            }
        }, {
            key: _0x4e57("0x7e8"), get: function () {
                return this[_0x4e57("0x7e2")]
            }, set: function (x) {
                x != this.enableCompassTap_ && (this[_0x4e57("0x7e2")] = x)
            }
        }, {
            key: _0x4e57("0x7e9"), get: function () {
                return this[_0x4e57("0x7ea")]
            }, set: function (x) {
                x != this.enableMapIncline_ && (this[_0x4e57("0x7ea")] = x, this[_0x4e57("0x7e6")].enableGestureIncline = x)
            }
        }, {
            key: "enableMapZoom", get: function () {
                return this[_0x4e57("0x7e0")]
            }, set: function (x) {
                x != this[_0x4e57("0x7e0")] && (this[_0x4e57("0x7e0")] = x, this.controls_[_0x4e57("0x179")] = x)
            }
        }, {
            key: _0x4e57("0x7eb"), get: function () {
                return this.enableMapSingleTap_
            }, set: function (x) {
                x != this[_0x4e57("0x7e1")] && (this[_0x4e57("0x7e1")] = x, this[_0x4e57("0x7dd")].enabled = x)
            }
        }]), _
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var a = i(_(20)), n = i(_(0)), t = i(_(1));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var g = function () {
        function i(x, e, _, t) {
            (0, n[_0x4e57("0xa")])(this, i), _[_0x4e57("0x382")] = this, (0, a.default)(this, {
                nodeType: {
                    enumerable: !0,
                    get: function () {
                        return x
                    }
                }, mapScene: {
                    get: function () {
                        return esmap[_0x4e57("0x101")][_0x4e57("0x107")].mapScene
                    }, set: function (x) {
                    }
                }, o3d_: {
                    get: function () {
                        return _
                    }, set: function (x) {
                        _ = x
                    }, configurable: !0, enumerable: !1
                }, data_: {
                    enumerable: !0, get: function () {
                        return e
                    }
                }
            })
        }

        return (0, t.default)(i, [{
            key: "x", get: function () {
                return this[_0x4e57("0xe4")] ? -this[_0x4e57("0x3d9")][_0x4e57("0xe7")].x - this[_0x4e57("0xe4")][_0x4e57("0xea")] : 0
            }, set: function (x) {
                this[_0x4e57("0xe4")] ? this[_0x4e57("0x3d9")][_0x4e57("0xe7")][_0x4e57("0x7ec")](-x - this[_0x4e57("0xe4")][_0x4e57("0xea")]) : (this[_0x4e57("0x7ed")] = this.opts_ || {}, this[_0x4e57("0x7ed")].x = x)
            }
        }, {
            key: "y", get: function () {
                return this[_0x4e57("0xe4")] ? this[_0x4e57("0x3d9")].position.z + this.mapScene[_0x4e57("0xeb")] : 0
            }, set: function (x) {
                this[_0x4e57("0xe4")] ? this[_0x4e57("0x3d9")][_0x4e57("0xe7")][_0x4e57("0x6c3")](x - this[_0x4e57("0xe4")][_0x4e57("0xeb")]) : (this[_0x4e57("0x7ed")] = this[_0x4e57("0x7ed")] || {}, this[_0x4e57("0x7ed")].y = x)
            }
        }, {
            key: "z", get: function () {
                return this[_0x4e57("0xe4")] ? this.o3d_[_0x4e57("0xe7")].y : 0
            }, set: function (x) {
            }
        }, {
            key: _0x4e57("0x415"), get: function () {
                return new (esmap[_0x4e57("0xc3")])(this.x, this.y, this.z)
            }
        }, {
            key: _0x4e57("0x66"), get: function () {
                return this[_0x4e57("0x3d9")][_0x4e57("0x66")] ? this[_0x4e57("0x3d9")].parent[_0x4e57("0x382")] : null
            }
        }, {
            key: _0x4e57("0x3da"), set: function (x) {
                this[_0x4e57("0x3d9")].visible = x
            }, get: function () {
                return this[_0x4e57("0x3d9")].visible
            }
        }, {
            key: _0x4e57("0x391"), get: function () {
                if (this instanceof esmap[_0x4e57("0x76d")]) return this;
                var x = this[_0x4e57("0x66")];
                if (x) {
                    if (x instanceof esmap[_0x4e57("0x76d")]) return x;
                    var e = x[_0x4e57("0x66")];
                    if (e && e instanceof esmap[_0x4e57("0x76d")]) return e
                }
                return null
            }
        }, {
            key: _0x4e57("0xe2"), get: function () {
                return this[_0x4e57("0x391")] ? this[_0x4e57("0x391")][_0x4e57("0xe2")] : null
            }
        }]), (0, t[_0x4e57("0xa")])(i, [{
            key: "dispose", value: function () {
                if (this[_0x4e57("0x3d9")]) {
                    this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = !1;
                    var x = this.o3d_[_0x4e57("0x66")];
                    return x ? (x[_0x4e57("0x13")](this.o3d_), !0) : void 0
                }
            }
        }, {
            key: _0x4e57("0x6e5"), value: function (x, e) {
                this[_0x4e57("0x3d9")][_0x4e57("0x6e5")] && this[_0x4e57("0x3d9")][_0x4e57("0x6e5")]({
                    scale: e,
                    time: x
                })
            }
        }]), i
    }();
    e.default = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(4)), g = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var r = function (x) {
        function t(x) {
            (0, a[_0x4e57("0xa")])(this, t);
            var e = (x = x || {})[_0x4e57("0x37")],
                _ = (0, n[_0x4e57("0xa")])(this, (t[_0x4e57("0x751")] || (0, i[_0x4e57("0xa")])(t))[_0x4e57("0x2")](this, esmap.ESNodeType[_0x4e57("0x7ee")], e, x[_0x4e57("0x7ef")] || new (THREE[_0x4e57("0x22b")]), x[_0x4e57("0x1da")] || esmap.ESMap[_0x4e57("0x107")].mapScene));
            return _[_0x4e57("0x2b9")] = x, e && null != e[_0x4e57("0x49b")] && (_.typeID = x[_0x4e57("0x37")][_0x4e57("0x49b")]), _[_0x4e57("0x3ee")] = x[_0x4e57("0x38")] || esmap[_0x4e57("0x7f0")][_0x4e57("0x17b")], _
        }

        return (0, g[_0x4e57("0xa")])(t, x), t
    }(esmap[_0x4e57("0xc5")]);
    e[_0x4e57("0xa")] = r
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var a = i(_(3)), n = i(_(0)), t = i(_(1)), g = i(_(4)), r = i(_(5));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function i(x, e, _) {
            var t;
            return (0, n[_0x4e57("0xa")])(this, i), (t = (0, g.default)(this, (i.__proto__ || (0, a[_0x4e57("0xa")])(i)).call(this, esmap[_0x4e57("0x9a")][_0x4e57("0x4a5")], x, e, _)))[_0x4e57("0x6e5")] = function (x) {
                return this.o3d_[_0x4e57("0x6e5")](x)
            }, t[_0x4e57("0x730")] = function (x) {
                return this[_0x4e57("0x3d9")].jump(x)
            }, t[_0x4e57("0x72a")] = function (x) {
                this[_0x4e57("0x3d9")].stopJump(x)
            }, t.o3d_[_0x4e57("0x7f1")] = t[_0x4e57("0x3d9")][_0x4e57("0x3da")], t
        }

        return (0, r[_0x4e57("0xa")])(i, x), (0, t[_0x4e57("0xa")])(i, [{
            key: "ID", get: function () {
                return this.data_[_0x4e57("0x550")]
            }
        }, {
            key: "name", get: function () {
                return this[_0x4e57("0x383")].name
            }
        }, {
            key: _0x4e57("0x49b"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x384")]
            }
        }, {
            key: "x", get: function () {
                return this[_0x4e57("0x7f2")].x
            }, set: function (x) {
            }
        }, {
            key: "y", get: function () {
                return this[_0x4e57("0x7f2")].y
            }, set: function (x) {
            }
        }, {
            key: "z", get: function () {
                return this[_0x4e57("0x7f2")].z
            }, set: function (x) {
            }
        }, {
            key: "mapCoord", get: function () {
                if (!this[_0x4e57("0x7f2")]) {
                    var x = this.data_;
                    this[_0x4e57("0x7f2")] = new (esmap[_0x4e57("0xc3")])(-x.X, x.Y, this[_0x4e57("0x3d9")][_0x4e57("0x66")][_0x4e57("0x7f3")](new (THREE[_0x4e57("0x11b")])(0, 6, 0)).y)
                }
                return this[_0x4e57("0x7f2")]
            }
        }, {
            key: "visible", get: function () {
                return this[_0x4e57("0x3d9")].forceVisible_
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = x, this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = x
            }
        }]), i
    }(esmap.ESNode);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = r(_(3)), i = r(_(0)), a = r(_(1)), n = r(_(4)), g = r(_(5));

    function r(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function _(x) {
            var e;
            return (0, i[_0x4e57("0xa")])(this, _), (e = (0, n.default)(this, (_[_0x4e57("0x751")] || (0, t.default)(_))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x3c6")], {}, new (THREE[_0x4e57("0x22b")]))))[_0x4e57("0x6ee")] = function (x, e) {
                this.o3d_[_0x4e57("0x6ee")](x, e)
            }, e.moveTo = function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0xe1")](x)
            }, e[_0x4e57("0x6e5")] = function (x) {
                return this[_0x4e57("0x3d9")][_0x4e57("0x6e5")](x)
            }, e[_0x4e57("0x730")] = function (x) {
                return this[_0x4e57("0x3d9")][_0x4e57("0x730")](x)
            }, e[_0x4e57("0x72a")] = function (x) {
                this.o3d_[_0x4e57("0x72a")](x)
            }, e.stopFlash = function () {
                this.o3d_.stopFlash()
            }, e[_0x4e57("0x72d")] = function (x) {
                this[_0x4e57("0x3d9")].stopMoveTo(x)
            }, e.fade = function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x735")](x)
            }, e[_0x4e57("0x7f4")] = function (x) {
                this.oc || (this.oc = this[_0x4e57("0x3d9")].material.color);
                var e = new (THREE[_0x4e57("0x203")])(x);
                this.o3d_[_0x4e57("0x7c")][_0x4e57("0x1df")] = e
            }, e[_0x4e57("0x7f5")] = function () {
                this.o3d_[_0x4e57("0x7c")][_0x4e57("0x1df")] = this.oc
            }, e[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = e[_0x4e57("0x3d9")].visible, e[_0x4e57("0x507")] = _0x4e57("0x8e"), e[_0x4e57("0x7ed")] = x || {}, e[_0x4e57("0x7f6")](), e.oc = null, e
        }

        return (0, g[_0x4e57("0xa")])(_, x), (0, a[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x7f6"), value: function () {
                if (!(!this[_0x4e57("0x3d9")] instanceof THREE[_0x4e57("0x22b")])) {
                    var e = esmap.ESMap[_0x4e57("0x107")], _ = e[_0x4e57("0xe4")],
                        x = esmap[_0x4e57("0xcd")][_0x4e57("0x18")];
                    this.x_ = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "x", e[_0x4e57("0x6b8")].x), this.y_ = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "y", e[_0x4e57("0x6b8")].y), this[_0x4e57("0x7ed")][_0x4e57("0x36")] = x.getValue(this[_0x4e57("0x7ed")], _0x4e57("0x36"), _0x4e57("0x7f8")), this[_0x4e57("0x7ed")].angle = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x19c"), null), this[_0x4e57("0x7f9")] = x.getValue(this[_0x4e57("0x7ed")], _0x4e57("0x269"), null), this[_0x4e57("0x7fa")] = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "id", esmap[_0x4e57("0xcd")].id++), this[_0x4e57("0x75a")] = x[_0x4e57("0x7f7")](this.opts_, _0x4e57("0x486"), 32), this.up_ = x[_0x4e57("0x7f7")](this.opts_, "up", !0), this.spritify_ = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x73d"), !0), this[_0x4e57("0x6fc")] = x[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "showLevel", 18), this.seeThrough_ = x[_0x4e57("0x7f7")](this.opts_, _0x4e57("0x7c7"), !1);
                    var t = this, i = this[_0x4e57("0x3d9")][_0x4e57("0x7f1")];
                    0 == this[_0x4e57("0x7ed")][_0x4e57("0x19c")] || this[_0x4e57("0x7ed")][_0x4e57("0x19c")] ? this[_0x4e57("0x3d9")] = new esmap.ESMapPoi3(this.id_, {
                        vertex: [this.x_, this.y_],
                        name: this[_0x4e57("0x7f9")],
                        size_: this[_0x4e57("0x75a")],
                        ShowLevel: this[_0x4e57("0x6fc")]
                    }, this[_0x4e57("0x7ed")][_0x4e57("0x36")], function (x) {
                        setTimeout(function () {
                            t[_0x4e57("0x3da")] = i;
                            var x;
                            x = null != t.opts_.height ? t[_0x4e57("0x7ed")][_0x4e57("0x1c5")] : null != t.opts_.z ? t[_0x4e57("0x7ed")].z : 3, t[_0x4e57("0x3d9")][_0x4e57("0xe7")].set(-(t.x_ + _[_0x4e57("0xea")]), x, t.y_ - _[_0x4e57("0xeb")]), t.o3d_[_0x4e57("0x340")].set(0, 0, 0, _0x4e57("0x6c1")), t.up_ ? t[_0x4e57("0x3d9")][_0x4e57("0x340")].y = THREE[_0x4e57("0x141")].degToRad(t[_0x4e57("0x7ed")].angle) : (t[_0x4e57("0x3d9")].rotation[_0x4e57("0x115")](-Math.PI / 2, 0, Math.PI, _0x4e57("0x6c1")), t.o3d_.rotation.z = THREE[_0x4e57("0x141")][_0x4e57("0x761")](t[_0x4e57("0x7ed")].angle)), t[_0x4e57("0x3d9")][_0x4e57("0x6b7")] = x, !t[_0x4e57("0x7fb")] && (t[_0x4e57("0x3d9")][_0x4e57("0x7c")].depthTest = !0), t[_0x4e57("0x3d9")][_0x4e57("0x6fa")] = !1, t.opts_[_0x4e57("0xf1")] && t[_0x4e57("0x7ed")][_0x4e57("0xf1")](t)
                        }, 0)
                    }) : this[_0x4e57("0x3d9")] = new (esmap[_0x4e57("0xbc")])({
                        id: this[_0x4e57("0x7fa")],
                        vertex: [this.x_, this.y_],
                        name: this[_0x4e57("0x7f9")],
                        size_: this.size_,
                        ShowLevel: this[_0x4e57("0x6fc")]
                    }, this[_0x4e57("0x7ed")][_0x4e57("0x36")], function () {
                        t[_0x4e57("0x3da")] = i;
                        var x;
                        x = null != t[_0x4e57("0x7ed")][_0x4e57("0x1c5")] ? t[_0x4e57("0x7ed")][_0x4e57("0x1c5")] : null != t.opts_.z ? t[_0x4e57("0x7ed")].z : 6, t[_0x4e57("0x3d9")][_0x4e57("0xe7")][_0x4e57("0x115")](-(t.x_ + _[_0x4e57("0xea")]), x, t.y_ - _.sceneZ_), t[_0x4e57("0x3d9")][_0x4e57("0x6b7")] = x, t[_0x4e57("0x7fb")] && (t[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x305")] = !1), t.opts_.callback && t[_0x4e57("0x7ed")].callback(t), e[_0x4e57("0x3db")](!0)
                    }), this[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = !1, this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = !1, this[_0x4e57("0x3d9")][_0x4e57("0x382")] = this
                }
            }
        }, {
            key: _0x4e57("0x39a"), value: function (x) {
                var e = this;
                _0x4e57("0x208") == typeof x && (x = {to: x});
                var _, t = esmap[_0x4e57("0xcd")].Option[_0x4e57("0x3e1")](x, _0x4e57("0xef"), _0x4e57("0x39b"), .3),
                    i = e[_0x4e57("0x19c")], a = esmap[_0x4e57("0x7d")][_0x4e57("0x7fc")](i, x.to);
                return clearInterval(e._rotateToID), e[_0x4e57("0x39d")] = THREE.Tween[_0x4e57("0x204")](t, function (x) {
                    (_ = i + a * x) <= 0 ? _ = 360 + _ : 360 <= _ && (_ -= 360), e[_0x4e57("0x19c")] = _
                }, function () {
                    x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")]()
                }), e[_0x4e57("0x39d")]
            }
        }, {
            key: "url", get: function () {
                return this.opts_[_0x4e57("0x36")]
            }, set: function (x) {
                this.opts_[_0x4e57("0x36")] = x, this[_0x4e57("0x3d9")][_0x4e57("0x759")](x)
            }
        }, {
            key: _0x4e57("0x3da"), get: function () {
                return this.forceVisible_
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = x, this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = x
            }
        }, {
            key: _0x4e57("0x19c"), get: function () {
                return this.o3d_[_0x4e57("0x340")].y * THREE[_0x4e57("0x141")][_0x4e57("0x492")]
            }, set: function (x) {
                this[_0x4e57("0x3d9")].rotation.y = x * THREE[_0x4e57("0x141")][_0x4e57("0x463")]
            }
        }, {
            key: "ID", get: function () {
                return this[_0x4e57("0x7fa")]
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this[_0x4e57("0x7f9")]
            }, set: function (x) {
                this[_0x4e57("0x7f9")] = x
            }
        }]), _
    }(esmap[_0x4e57("0xc5")]);
    (e[_0x4e57("0xa")] = A).prototype[_0x4e57("0x7f1")] = {
        get: function () {
            return this[_0x4e57("0x3d9")][_0x4e57("0x7f1")]
        }, set: function (x) {
            this[_0x4e57("0x3d9")].forceVisible_ = x
        }
    }
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var a = i(_(3)), n = i(_(0)), t = i(_(1)), g = i(_(4)), r = i(_(5));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function i(x, e, _) {
            var t;
            return (0, n[_0x4e57("0xa")])(this, i), (t = (0, g[_0x4e57("0xa")])(this, (i.__proto__ || (0, a[_0x4e57("0xa")])(i))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x4a6")], x, e, _))).o3d_.forceVisible_ = t[_0x4e57("0x3d9")][_0x4e57("0x3da")], t
        }

        return (0, r.default)(i, x), (0, t[_0x4e57("0xa")])(i, [{
            key: "ID", get: function () {
                return this.data_.oid
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x269")]
            }
        }, {
            key: "x", get: function () {
                return this.coord_.x
            }, set: function (x) {
            }
        }, {
            key: "y", get: function () {
                return this[_0x4e57("0x7f2")].y
            }, set: function (x) {
            }
        }, {
            key: "z", get: function () {
                return this[_0x4e57("0x7f2")].z
            }, set: function (x) {
            }
        }, {
            key: _0x4e57("0x415"), get: function () {
                if (!this.coord_) {
                    var x = this.data_;
                    this[_0x4e57("0x7f2")] = new (esmap[_0x4e57("0xc3")])(-x.X, x.Y, this[_0x4e57("0x3d9")].parent[_0x4e57("0x7f3")](new THREE.Vector3(0, 6, 0)).y)
                }
                return this.coord_
            }
        }, {
            key: _0x4e57("0x3da"), get: function () {
                return this[_0x4e57("0x7f1")]
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = x, this.o3d_[_0x4e57("0x3da")] = x
            }
        }]), i
    }(esmap.ESNode);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var a = s(_(14)), t = s(_(20)), i = s(_(3)), n = s(_(0)), g = s(_(1)), r = s(_(4)), A = s(_(5));

    function s(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var C = function (x) {
        function _(x) {
            var e;
            return (0, n[_0x4e57("0xa")])(this, _), (e = (0, r[_0x4e57("0xa")])(this, (_[_0x4e57("0x751")] || (0, i[_0x4e57("0xa")])(_))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x7fd")], {}, new (THREE[_0x4e57("0x22b")]))))[_0x4e57("0x4ac")] = esmap[_0x4e57("0x3e9")].prototype.visibleFloorNumsChanged, e[_0x4e57("0x6ee")] = esmap[_0x4e57("0xb9")].prototype[_0x4e57("0x6ee")], e[_0x4e57("0xe1")] = function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0xe1")](x)
            }, e[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = e[_0x4e57("0x3d9")].visible, e.opts_ = x, e.fnum = 1, e[_0x4e57("0x7f6")](), e
        }

        return (0, A[_0x4e57("0xa")])(_, x), (0, g.default)(_, [{
            key: "createMarker_", value: function (x) {
                if (this.o3d_ instanceof THREE[_0x4e57("0x22b")]) {
                    var e = esmap[_0x4e57("0xcd")][_0x4e57("0x18")],
                        _ = this[_0x4e57("0x7ed")][_0x4e57("0x5a")] || esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                    this.x_ = e[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "x", 0), this.y_ = e.getValue(this.opts_, "y", 0), this[_0x4e57("0x6e7")] = e[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "height", 0), this[_0x4e57("0x7fe")] = e[_0x4e57("0x7f7")](this.opts_, _0x4e57("0x36"), _0x4e57("0x7f8")), this.name_ = e[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x269"), null), this[_0x4e57("0x7fa")] = e[_0x4e57("0x7f7")](this.opts_, "id", esmap.ESUtil.id++), this[_0x4e57("0x75a")] = e[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x486"), 128), this.spritify_ = !0;
                    var t = this;
                    if (this[_0x4e57("0x3d9")][_0x4e57("0x7f1")], this[_0x4e57("0x3d9")] = new (esmap[_0x4e57("0xbd")])(0, {
                        id: this[_0x4e57("0x7fa")],
                        vertex: [0, 0],
                        name: this[_0x4e57("0x7f9")],
                        size_: this[_0x4e57("0x75a")]
                    }, this.url_, function (x) {
                        t[_0x4e57("0x7ff")] = !0, t.o3d_.material[_0x4e57("0x3da")] = !0, t[_0x4e57("0x7ed")][_0x4e57("0x62a")] && (t[_0x4e57("0x62a")] = t[_0x4e57("0x7ed")].direction), t._visibleFloorNumsChanged = t.visibleFloorNumsChanged[_0x4e57("0xc")](t), _.on(_0x4e57("0x4ac"), t._visibleFloorNumsChanged), t.opts_[_0x4e57("0xf1")] && t[_0x4e57("0x7ed")][_0x4e57("0xf1")](t)
                    }), t[_0x4e57("0x3d9")].initY_ = 0, t.opts_[_0x4e57("0x1c5")] && (t[_0x4e57("0x3d9")][_0x4e57("0x6b7")] = t[_0x4e57("0x7ed")][_0x4e57("0x1c5")]), t[_0x4e57("0x7ed")][_0x4e57("0x3e8")]) {
                        var i = _[_0x4e57("0x3f6")](t[_0x4e57("0x7ed")].floornum);
                        t[_0x4e57("0x3d9")][_0x4e57("0x6b7")] += i
                    }
                    this.o3d_.x = this.x_, this[_0x4e57("0x3d9")].y = this.y_, this[_0x4e57("0x3d9")].material[_0x4e57("0x3da")] = !1, this[_0x4e57("0x3d9")][_0x4e57("0x6ff")] = !0, this[_0x4e57("0x3d9")].forceVisible_ = !0, (this[_0x4e57("0x3d9")][_0x4e57("0x382")] = this)[_0x4e57("0x3d9")].up.multiplyScalar(-1), this._update_ = this[_0x4e57("0x7c9")][_0x4e57("0xc")](this), _.on(_0x4e57("0x65"), this[_0x4e57("0x800")])
                }
            }
        }, {
            key: _0x4e57("0x62a"), get: function () {
                return this[_0x4e57("0x3d9")].rotation.z / Math.PI * 180 - 180
            }, set: function (x) {
                this.o3d_.rotation.set(-Math.PI / 2, 0, x / 180 * Math.PI + Math.PI, "XYZ")
            }
        }, {
            key: _0x4e57("0x3da"), get: function () {
                return this[_0x4e57("0x3d9")].forceVisible_
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x7f1")] = x, this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = x
            }
        }, {
            key: _0x4e57("0x1c5"), set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x6b7")] = x
            }, get: function () {
                return this[_0x4e57("0x3d9")].position.y
            }
        }, {
            key: _0x4e57("0x429"), get: function () {
                return this.fnum
            }, set: function (x) {
                this[_0x4e57("0x3e8")] = x
            }
        }, {
            key: _0x4e57("0xe7"), get: function () {
                return this[_0x4e57("0x3d9")][_0x4e57("0xe7")]
            }
        }, {
            key: "ID", get: function () {
                return this.id_
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this.name_
            }
        }]), _
    }(esmap.ESNode);
    e[_0x4e57("0xa")] = C, (0, t[_0x4e57("0xa")])(C[_0x4e57("0xd")], {
        _update: {
            value: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x6f9")](esmap.ESMap.instance.mapView)
            }
        }, setPosition: {
            value: function (x, e, _, t) {
                var i = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                _0x4e57("0x9") == (typeof x === _0x4e57("0x15") ? "undefined" : (0, a.default)(x)) && (e = x.y, _ = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](x, _0x4e57("0x3e8"), _0x4e57("0x429"), _0x4e57("0xe2"), 1), t = esmap[_0x4e57("0xcd")][_0x4e57("0x18")].getValues(x, "height", _0x4e57("0x731"), "offset", "offsetHeight", 0), x = x.x), this.x = x, this.y = e, this instanceof esmap[_0x4e57("0xc8")] ? (_ = _ || this[_0x4e57("0x3e8")] || i[_0x4e57("0x37c")], this[_0x4e57("0x3e8")] = _, this[_0x4e57("0x3d9")][_0x4e57("0x6b7")] = i[_0x4e57("0x3f6")](_) + (t || 0), this[_0x4e57("0xe7")][_0x4e57("0x115")](-(x + i.mapScene[_0x4e57("0xea")]), this[_0x4e57("0x3d9")][_0x4e57("0x6b7")], e - i[_0x4e57("0xe4")].sceneZ_)) : null != _ && (this[_0x4e57("0x3d9")].initY_ = _)
            }
        }, getPosition: {
            value: function () {
                var x = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                return {
                    x: -x[_0x4e57("0xe4")][_0x4e57("0xea")] - this[_0x4e57("0xe7")].x,
                    y: this[_0x4e57("0xe7")].z + x[_0x4e57("0xe4")].sceneZ_,
                    z: this[_0x4e57("0x3d9")][_0x4e57("0x6b7")] || 0,
                    fnum: this[_0x4e57("0x3e8")]
                }
            }
        }, dispose: {
            value: function () {
                this[_0x4e57("0x3d9")][_0x4e57("0x66")] && (esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0x437")](_0x4e57("0x65"), this[_0x4e57("0x800")]), this[_0x4e57("0x3d9")].parent.remove(this[_0x4e57("0x3d9")]))
            }
        }, rotateTo: {
            value: function (x) {
                var e = this;
                "number" == typeof x && (x = {to: x});
                var _, t = esmap.ESUtil.Option[_0x4e57("0x3e1")](x, _0x4e57("0xef"), _0x4e57("0x39b"), .3),
                    i = e.direction, a = esmap[_0x4e57("0x7d")][_0x4e57("0x7fc")](i, x.to);
                return clearInterval(e._rotateToID), e[_0x4e57("0x39d")] = THREE.Tween[_0x4e57("0x204")](t, function (x) {
                    (_ = i + a * x) <= 0 ? _ = 360 + _ : 360 <= _ && (_ -= 360), e[_0x4e57("0x62a")] = _
                }, function () {
                    x.callback && x[_0x4e57("0xf1")]()
                }), e[_0x4e57("0x39d")]
            }
        }
    })
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(1)), g = t(_(4)), r = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function t(x, e, _) {
            return (0, a[_0x4e57("0xa")])(this, t), (0, g.default)(this, (t.__proto__ || (0, i[_0x4e57("0xa")])(t)).call(this, esmap[_0x4e57("0x9a")][_0x4e57("0x3c2")], x, e, _))
        }

        return (0, r.default)(t, x), (0, n[_0x4e57("0xa")])(t, [{
            key: "ID", get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x550")]
            }
        }, {
            key: _0x4e57("0xe2"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x429")]
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x269")]
            }
        }, {
            key: "x", get: function () {
                return this[_0x4e57("0x7f2")].x
            }, set: function (x) {
            }
        }, {
            key: "y", get: function () {
                return this[_0x4e57("0x7f2")].y
            }, set: function (x) {
            }
        }, {
            key: "z", get: function () {
                return this[_0x4e57("0x7f2")].z
            }, set: function (x) {
            }
        }, {
            key: "mapCoord", get: function () {
                if (!this[_0x4e57("0x7f2")]) {
                    this.o3d_.geometry[_0x4e57("0x801")] || this[_0x4e57("0x3d9")][_0x4e57("0x3ea")][_0x4e57("0x799")]();
                    var x = this[_0x4e57("0x3d9")][_0x4e57("0x3ea")][_0x4e57("0x801")][_0x4e57("0x6b8")];
                    this[_0x4e57("0x7f2")] = new (esmap[_0x4e57("0xc3")])(-(this[_0x4e57("0xe4")].sceneX_ + x.x), this.mapScene[_0x4e57("0xeb")] + x.y, this[_0x4e57("0x3d9")].parent.localToWorld(new (THREE[_0x4e57("0x11b")])).y)
                }
                return this[_0x4e57("0x7f2")]
            }
        }, {
            key: _0x4e57("0x49b"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x384")]
            }
        }]), t
    }(esmap[_0x4e57("0xc5")]);
    e.default = A
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var n = i(_(14)), t = i(_(16)), g = i(_(9));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function (x) {
        this[_0x4e57("0x802")] = null, x = x || {}, this[_0x4e57("0x507")] = _0x4e57("0x8d"), this[_0x4e57("0x5a")] = x.map || esmap.ESMap[_0x4e57("0x107")], (0, g[_0x4e57("0xa")])(this, {
            color: 15881754,
            alpha: .5,
            lineWidth: 1,
            height: 6,
            points: {type: _0x4e57("0x803"), center: this[_0x4e57("0x5a")][_0x4e57("0x6b8")], width: 30, height: 30}
        }, x), this[_0x4e57("0x3d9")] = new THREE.Mesh, this.o3d_.material[_0x4e57("0x2f0")] = !0, this.o3d_[_0x4e57("0x7c")].depthWrite = !0, this[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x75d")] = THREE[_0x4e57("0x10c")], (this.o3d_[_0x4e57("0x382")] = this)[_0x4e57("0x419")] = esmap[_0x4e57("0x9a")].POLYGON_MARKER, this.canPicked && this[_0x4e57("0x5a")].mapPicker[_0x4e57("0x442")](this[_0x4e57("0x3d9")]), this[_0x4e57("0x65")](this, !0)
    };
    a[_0x4e57("0xd")] = (0, t.default)(esmap.ESElement[_0x4e57("0xd")], {
        height: {
            get: function () {
                return this[_0x4e57("0x804")]
            }, set: function (x) {
                this._height = x, this[_0x4e57("0x3d9")] && (this[_0x4e57("0x3d9")].position.y = x)
            }
        }
    }), (0, g[_0x4e57("0xa")])(a.prototype, {
        _init_: function () {
            this[_0x4e57("0x3d9")].position.y = this[_0x4e57("0x804")]
        }, _dispose_: function () {
            this.canPicked && this.map[_0x4e57("0x61")][_0x4e57("0x805")](this[_0x4e57("0x3d9")])
        }, alwaysShow: function (x, e) {
            esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6ee")][_0x4e57("0x2")](this[_0x4e57("0x3d9")], x, e), esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6ee")][_0x4e57("0x2")](this[_0x4e57("0x806")], x, e)
        }, setColor: function (x) {
            this[_0x4e57("0x65")]({color: x})
        }, setLineWidth: function (x) {
            this[_0x4e57("0x65")]({lineWidth: x})
        }, setAlpha: function (x) {
            this[_0x4e57("0x65")]({alpha: x})
        }, _normalizePoints: function (x) {
            var e = this;
            return x[_0x4e57("0x5a")](function (x) {
                return new (THREE[_0x4e57("0x199")])(e[_0x4e57("0x5a")][_0x4e57("0x6b8")].x - x.x, e[_0x4e57("0x5a")].center.y - x.y)
            })
        }, _createLine: function (x) {
            var e = this;
            e[_0x4e57("0x806")] && (e[_0x4e57("0x806")][_0x4e57("0x1a8")](), e.line = null), (x = e[_0x4e57("0x3d9")][_0x4e57("0x3ea")][_0x4e57("0x749")][_0x4e57("0x5a")](function (x) {
                return x.clone()
            }))[_0x4e57("0xf")](x[0]), e[_0x4e57("0x806")] = new (esmap[_0x4e57("0x3e9")])(x, {
                color: e[_0x4e57("0x1df")],
                lineWidth: e[_0x4e57("0x484")],
                lineType: esmap.ESLineType[_0x4e57("0x7cd")]
            }, {
                up: new (THREE[_0x4e57("0x11b")])(0, 0, 1),
                notCenter: !0
            }), e[_0x4e57("0x3d9")].add(e[_0x4e57("0x806")]), e[_0x4e57("0x806")].position[_0x4e57("0x115")](0, 0, 0), e[_0x4e57("0x806")][_0x4e57("0x7c")][_0x4e57("0x3da")] = !0, e[_0x4e57("0x806")][_0x4e57("0x6f0")] = esmap[_0x4e57("0x6ef")][_0x4e57("0x8d")]
        }, _createPoints: function (x) {
            switch (x.type) {
                case _0x4e57("0x9d"):
                    if (x[_0x4e57("0x6b8")] && x.radius) {
                        for (var e = x[_0x4e57("0x6b8")], _ = x[_0x4e57("0x365")] || 30, t = x[_0x4e57("0x3e5")] || 40, i = [], a = 0; a < t; a++) i[_0x4e57("0xf")]({
                            x: e.x + _ * Math[_0x4e57("0x166")](2 * Math.PI / t * a),
                            y: e.y + _ * Math[_0x4e57("0x165")](2 * Math.PI / t * a)
                        });
                        return i
                    }
                    break;
                case"rectangle":
                    if (x[_0x4e57("0x112")] && x[_0x4e57("0x1c5")] && (x[_0x4e57("0x807")] || x[_0x4e57("0x6b8")])) {
                        e = x[_0x4e57("0x6b8")] || this.map[_0x4e57("0x6b8")];
                        if (!(n = x[_0x4e57("0x807")])) var n = {
                            x: e.x - x[_0x4e57("0x112")] / 2,
                            y: e.y - x.height / 2
                        };
                        return [{x: n.x, y: n.y}, {x: n.x + x[_0x4e57("0x112")], y: n.y}, {
                            x: n.x + x[_0x4e57("0x112")],
                            y: n.y + x[_0x4e57("0x1c5")]
                        }, {x: n.x, y: n.y + x[_0x4e57("0x1c5")]}]
                    }
            }
        }, update: function (x, e) {
            var _ = this;
            if (e || (0, g[_0x4e57("0xa")])(_, x), x.points) {
                var t = null;
                if (x[_0x4e57("0x38d")] instanceof Array) {
                    if ((t = x[_0x4e57("0x38d")]).length < 3) return
                } else if ("object" == (0, n.default)(x[_0x4e57("0x38d")]) && !(t = _[_0x4e57("0x808")](x.points))) return;
                _.o3d_.geometry[_0x4e57("0x1a8")]();
                var i = _._normalizePoints(t), a = new (THREE[_0x4e57("0x809")])(new (THREE[_0x4e57("0x80a")])(i));
                _[_0x4e57("0x3d9")][_0x4e57("0x3ea")] = a, x.lineWidth || _[_0x4e57("0x80b")](i), e && (_[_0x4e57("0x3d9")][_0x4e57("0x80c")](-Math.PI / 2), _[_0x4e57("0x3d9")][_0x4e57("0xe7")].y = _.height), _[_0x4e57("0x3d9")][_0x4e57("0x6f0")] = esmap[_0x4e57("0x6ef")][_0x4e57("0x8d")]
            }
            x[_0x4e57("0x484")] && _[_0x4e57("0x80b")](i), x[_0x4e57("0x1df")] && (_[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x1df")][_0x4e57("0x115")](_[_0x4e57("0x1df")]), _[_0x4e57("0x806")][_0x4e57("0x1df")] = _[_0x4e57("0x1df")]), null != x[_0x4e57("0x485")] && _[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x2f1")] && (_.o3d_[_0x4e57("0x7c")][_0x4e57("0x2f1")] = _[_0x4e57("0x485")])
        }, contain: function (x) {
            var e = (0, g[_0x4e57("0xa")])(x);
            e = this[_0x4e57("0x80d")]([e])[0];
            var _ = new (THREE[_0x4e57("0x11b")])(e.x, this[_0x4e57("0x3d9")][_0x4e57("0x696")]().y + 30, -e.y),
                t = new THREE.Vector3(0, -1, 0);
            return 0 < new THREE.Raycaster(_, t).intersectObject(this[_0x4e57("0x3d9")])[_0x4e57("0x0")]
        }
    }), e.default = a
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var a = i(_(3)), n = i(_(0)), t = i(_(1)), g = i(_(4)), r = i(_(5));

    function i(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var A = function (x) {
        function i(x) {
            var e;
            (0, n.default)(this, i), (e = (0, g[_0x4e57("0xa")])(this, (i[_0x4e57("0x751")] || (0, a.default)(i)).call(this, x)))._type_ = esmap[_0x4e57("0x80e")].MODEL_IMAGE;
            var _ = new (THREE[_0x4e57("0x75b")])(1, 1, 1, 1),
                t = new (THREE[_0x4e57("0x2ec")])({transparent: !0, side: THREE[_0x4e57("0x10c")], depthWrite: !1});
            return t[_0x4e57("0x3da")] = !1, e[_0x4e57("0x3d9")] = new (THREE[_0x4e57("0x10d")])(_, t), e[_0x4e57("0x3d9")][_0x4e57("0x382")] = e, 1 == x.style[_0x4e57("0x19c")] ? e[_0x4e57("0x3d9")][_0x4e57("0x340")][_0x4e57("0x115")](-Math.PI / 2, 0, Math.PI - x[_0x4e57("0x6c")][_0x4e57("0x55d")] * THREE[_0x4e57("0x141")][_0x4e57("0x463")], _0x4e57("0x80f")) : e[_0x4e57("0x3d9")][_0x4e57("0x340")][_0x4e57("0x115")](Math.PI, -x.style.rotate * THREE[_0x4e57("0x141")][_0x4e57("0x463")], Math.PI, "XZY"), e.o3d_[_0x4e57("0x6f0")] = esmap[_0x4e57("0x6ef")][_0x4e57("0x810")], e[_0x4e57("0x4a7")](e[_0x4e57("0x2b9")][_0x4e57("0x6c")]), e
        }

        return (0, r.default)(i, x), (0, t[_0x4e57("0xa")])(i, [{
            key: _0x4e57("0x4a7"), value: function (x) {
                var e = this;
                e[_0x4e57("0x537")] = setInterval(function () {
                    e.o3d_ && (x[_0x4e57("0x431")], x[_0x4e57("0x431")][_0x4e57("0x431")] && (clearInterval(e[_0x4e57("0x537")]), e[_0x4e57("0x3d9")].material[_0x4e57("0x3da")] = !0, e[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x5a")] = x[_0x4e57("0x431")], e[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x5a")].minFilter = THREE[_0x4e57("0x281")], e[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x5a")][_0x4e57("0x71c")] = 16))
                }, 0), this[_0x4e57("0x3d9")].scale.set(x[_0x4e57("0x486")][_0x4e57("0x112")], x.size[_0x4e57("0x1c5")], 1), this[_0x4e57("0x3d9")][_0x4e57("0xe7")][_0x4e57("0x115")](-(x.coord.x + this[_0x4e57("0x2b9")].sx) + x[_0x4e57("0x3f7")].x, x[_0x4e57("0x1c5")] + x.offset.z, x[_0x4e57("0x79b")].y - this[_0x4e57("0x2b9")].sz + x.offset.y)
            }
        }]), i
    }(esmap[_0x4e57("0x7f0")]);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = r(_(3)), i = r(_(0)), a = r(_(1)), n = r(_(4)), g = r(_(5));

    function r(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function _(x) {
            var e;
            return (0, i[_0x4e57("0xa")])(this, _), (e = (0, n.default)(this, (_[_0x4e57("0x751")] || (0, t[_0x4e57("0xa")])(_))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x811")], {}, new (THREE[_0x4e57("0x22b")]))))[_0x4e57("0x507")] = _0x4e57("0x812"), e[_0x4e57("0x7ed")] = x || {}, e[_0x4e57("0x39f")](), e
        }

        return (0, g[_0x4e57("0xa")])(_, x), (0, a[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x39f"), value: function () {
                var x = esmap[_0x4e57("0x101")][_0x4e57("0x107")], e = x[_0x4e57("0xe4")],
                    _ = esmap[_0x4e57("0xcd")][_0x4e57("0x18")], t = x[_0x4e57("0xe5")];
                this.x_ = _.getValue(this.opts_, "x", x[_0x4e57("0x6b8")].x), this.y_ = _.getValue(this[_0x4e57("0x7ed")], "y", x[_0x4e57("0x6b8")].y), this.opts_[_0x4e57("0x36")] = _.getValue(this[_0x4e57("0x7ed")], _0x4e57("0x36"), null), this[_0x4e57("0x7ed")][_0x4e57("0x19c")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x19c"), null), this.name_ = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x269"), null), this[_0x4e57("0x7fa")] = _.getValue(this[_0x4e57("0x7ed")], "id", esmap[_0x4e57("0xcd")].id++), this[_0x4e57("0x75a")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "size", 32), this[_0x4e57("0x813")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "up", !0), this[_0x4e57("0x6fe")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "spritify", !0), this[_0x4e57("0x6fc")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x814"), 18), this[_0x4e57("0x815")] = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], _0x4e57("0x816"), 768), this.customHtmlId_ = _[_0x4e57("0x7f7")](this[_0x4e57("0x7ed")], "customHtmlId", null);
                var i, a = t[_0x4e57("0xfe")];
                if (!t[_0x4e57("0x116")]) {
                    t.initCssScene();
                    var n = t[_0x4e57("0x6d7")];
                    n.setSize(t.w_, t.h_);
                    var g = t[_0x4e57("0x1c2")], r = n[_0x4e57("0x106")];
                    r[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), r[_0x4e57("0x6c")][_0x4e57("0xa9")] = "0px", r[_0x4e57("0x6c")][_0x4e57("0x112")] = _0x4e57("0x817"), r[_0x4e57("0x6c")].height = _0x4e57("0x817"), a[_0x4e57("0x235")](r);
                    var A = g[_0x4e57("0x106")];
                    A[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), A[_0x4e57("0x6c")][_0x4e57("0xa9")] = _0x4e57("0x818"), A[_0x4e57("0x6c")].width = _0x4e57("0x817"), A[_0x4e57("0x6c")].height = _0x4e57("0x817"), A.style[_0x4e57("0x819")] = "none", r[_0x4e57("0x235")](A), r[_0x4e57("0x235")](x[_0x4e57("0x147")].barBoxer)
                }
                if (this[_0x4e57("0x7ed")][_0x4e57("0x36")]) (i = document[_0x4e57("0x6a")](_0x4e57("0x81a")))[_0x4e57("0x468")] = this.opts_[_0x4e57("0x36")], i[_0x4e57("0x6c")][_0x4e57("0x81b")] = _0x4e57("0x83"); else {
                    i = document.createElement(_0x4e57("0x232"));
                    var s = document[_0x4e57("0x81c")](this[_0x4e57("0x81d")]);
                    s && i.appendChild(s), this.customHtml = s
                }
                var C, I = new esmap.ESWebViewPlane(t, i, {
                    elementW: this[_0x4e57("0x815")],
                    planeW: this[_0x4e57("0x75a")].w,
                    planeH: this[_0x4e57("0x75a")].h
                });
                C = null != this.opts_.height ? this[_0x4e57("0x7ed")][_0x4e57("0x1c5")] : null != this[_0x4e57("0x7ed")].z ? this[_0x4e57("0x7ed")].z : 3, I[_0x4e57("0x105")] && (I[_0x4e57("0x105")][_0x4e57("0xe7")][_0x4e57("0x115")](-e[_0x4e57("0xea")] - this.x_, C, this.y_ - e[_0x4e57("0xeb")]), I.object3d[_0x4e57("0x81e")](Math.PI), I[_0x4e57("0x105")][_0x4e57("0x81e")](THREE.Math[_0x4e57("0x463")] * this[_0x4e57("0x7ed")][_0x4e57("0x19c")]), this[_0x4e57("0x3d9")] = I[_0x4e57("0x105")], this[_0x4e57("0x81f")] = I, this[_0x4e57("0x3d9")][_0x4e57("0x382")] = this, x[_0x4e57("0x61")][_0x4e57("0x3dd")][_0x4e57("0xf")](this[_0x4e57("0x3d9")]), x.on(_0x4e57("0x65"), function () {
                    t.updateCssScene()
                }), this[_0x4e57("0x7ed")].created && this[_0x4e57("0x7ed")][_0x4e57("0x820")](this))
            }
        }, {
            key: _0x4e57("0x6f5"), value: function (x, e) {
                var _ = x, t = e, i = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0xe4")];
                x instanceof Object && (_ = x.x, t = x.y), this.o3d_.position.x = -_ - i[_0x4e57("0xea")], this[_0x4e57("0x3d9")][_0x4e57("0xe7")].z = t - i[_0x4e57("0xeb")]
            }
        }, {
            key: "setSrc", value: function (x) {
                this.viewPlane[_0x4e57("0x106")][_0x4e57("0x67")] == _0x4e57("0x821") && (this[_0x4e57("0x81f")][_0x4e57("0x106")][_0x4e57("0x468")] = x)
            }
        }, {
            key: _0x4e57("0x1a8"), value: function () {
                var x = this.viewPlane[_0x4e57("0x106")];
                x[_0x4e57("0x110")][_0x4e57("0x111")](x), this[_0x4e57("0x3d9")].geometry[_0x4e57("0x1a8")](), this[_0x4e57("0x3d9")][_0x4e57("0x7c")][_0x4e57("0x1a8")](), this.o3d_[_0x4e57("0x66")][_0x4e57("0x13")](this[_0x4e57("0x3d9")]), this[_0x4e57("0x7ed")][_0x4e57("0x822")] && this[_0x4e57("0x7ed")][_0x4e57("0x822")]()
            }
        }, {
            key: _0x4e57("0xe1"), value: function (x) {
                esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0xe1")][_0x4e57("0x2")](this[_0x4e57("0x3d9")], x)
            }
        }, {
            key: "url", get: function () {
                return this[_0x4e57("0x7ed")][_0x4e57("0x36")]
            }
        }, {
            key: "ID", get: function () {
                return this[_0x4e57("0x7fa")]
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this.name_
            }, set: function (x) {
                this[_0x4e57("0x7f9")] = x
            }
        }, {
            key: "x", get: function () {
                return this.x_
            }, set: function (x) {
                this.x_ = x
            }
        }, {
            key: "y", get: function () {
                return this.y_
            }, set: function (x) {
                this.y_ = x
            }
        }]), _
    }(esmap[_0x4e57("0xc5")]);
    e.default = A
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(1)), g = t(_(4)), r = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function t(x) {
            var e;
            (0, a[_0x4e57("0xa")])(this, t), (e = (0, g.default)(this, (t.__proto__ || (0, i[_0x4e57("0xa")])(t))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x3c5")], {}, new THREE.Object3D)))[_0x4e57("0xe1")] = function (x) {
                this.o3d_.moveTo(x)
            }, e[_0x4e57("0x3d9")].forceVisible_ = e[_0x4e57("0x3d9")].visible, e[_0x4e57("0x7ed")] = x || {};
            var _ = {};
            return _[_0x4e57("0x705")] = x[_0x4e57("0x705")] || 12, _.fillcolor = x.fillcolor || _0x4e57("0x724"), _[_0x4e57("0x665")] = x[_0x4e57("0x665")] || _0x4e57("0x75e"), _[_0x4e57("0x485")] = x[_0x4e57("0x485")] || 1, _[_0x4e57("0x70f")] = x.imageAlign || _0x4e57("0x135"), _[_0x4e57("0x5d2")] = x[_0x4e57("0x823")] || 32, _[_0x4e57("0x710")] = x[_0x4e57("0x710")] || 0, _.strokewidth = x[_0x4e57("0x1")](_0x4e57("0x722")) ? x.strokewidth : 2, _[_0x4e57("0x70c")] = x[_0x4e57("0x70c")] || 4, e.style_ = _, e[_0x4e57("0x7f6")](), e
        }

        return (0, r[_0x4e57("0xa")])(t, x), (0, n.default)(t, [{
            key: "createMarker_", value: function () {
                var x = this;
                if (x[_0x4e57("0x3d9")] instanceof THREE[_0x4e57("0x22b")]) var e = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                var _ = e[_0x4e57("0xe4")], t = esmap[_0x4e57("0xcd")][_0x4e57("0x18")];
                x.x_ = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "x", e[_0x4e57("0x6b8")].x), x.y_ = t.getValue(x.opts_, "y", e[_0x4e57("0x6b8")].y), x.z_ = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "height", 6), x[_0x4e57("0x7f9")] = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x269"), _0x4e57("0x824")), x[_0x4e57("0x7fa")] = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "id", esmap.ESUtil.id++), x.img_ = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x431"), ""), x[_0x4e57("0x825")] = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x114"), 1), x[_0x4e57("0x6fe")] = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x73d"), !0), x[_0x4e57("0x826")] = t.getValue(x[_0x4e57("0x7ed")], _0x4e57("0x19c"), 90), x[_0x4e57("0x7fb")] = t.getValue(x[_0x4e57("0x7ed")], _0x4e57("0x7c7"), !1), x[_0x4e57("0x6fc")] = t[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "showLevel", 18);
                var i = x[_0x4e57("0x3d9")][_0x4e57("0x7f1")];
                x[_0x4e57("0x3d9")] = new (esmap[_0x4e57("0xb9")])(e[_0x4e57("0xe2")], {
                    oid: x.id_,
                    vertex: [x.x_, x.y_],
                    name: x[_0x4e57("0x7f9")],
                    spritify: x.spritify_,
                    image: x[_0x4e57("0x827")],
                    ShowLevel: x[_0x4e57("0x6fc")],
                    scale: x[_0x4e57("0x825")]
                }, x[_0x4e57("0x4a9")]), x.o3d_[_0x4e57("0x7f1")] = !1, x[_0x4e57("0x3d9")][_0x4e57("0x3da")] = !1, (x[_0x4e57("0x3d9")][_0x4e57("0x382")] = x).o3d_[_0x4e57("0xe7")][_0x4e57("0x115")](-(x.x_ + _.sceneX_), x.z_, x.y_ - _[_0x4e57("0xeb")]), x[_0x4e57("0x7fb")] && (x[_0x4e57("0x3d9")].material[_0x4e57("0x305")] = !1), setTimeout(function () {
                    x[_0x4e57("0x3d9")] && (x.o3d_[_0x4e57("0x7f1")] = i)
                }, 0)
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                if (this[_0x4e57("0x7ed")] && this[_0x4e57("0x7ed")].name) return this[_0x4e57("0x7ed")][_0x4e57("0x269")]
            }, set: function (x) {
                this[_0x4e57("0x3d9")].setname(x), this[_0x4e57("0x7ed")] = this.opts_ || {}, this[_0x4e57("0x7ed")][_0x4e57("0x269")] = x
            }
        }, {
            key: _0x4e57("0x705"), get: function () {
                if (this[_0x4e57("0x4a9")] && this[_0x4e57("0x4a9")][_0x4e57("0x705")]) return this[_0x4e57("0x4a9")][_0x4e57("0x705")]
            }, set: function (x) {
                this.o3d_[_0x4e57("0x727")](x), this[_0x4e57("0x4a9")] = this.style_ || {}, this[_0x4e57("0x4a9")][_0x4e57("0x705")] = x
            }
        }, {
            key: _0x4e57("0x723"), get: function () {
                if (this[_0x4e57("0x4a9")] && this[_0x4e57("0x4a9")].fillcolor) return this[_0x4e57("0x4a9")][_0x4e57("0x723")]
            }, set: function (x) {
                this.o3d_[_0x4e57("0x828")](x), this[_0x4e57("0x4a9")] = this[_0x4e57("0x4a9")] || {}, this[_0x4e57("0x4a9")][_0x4e57("0x723")] = x
            }
        }, {
            key: _0x4e57("0x665"), get: function () {
                if (this[_0x4e57("0x4a9")] && this[_0x4e57("0x4a9")][_0x4e57("0x665")]) return this[_0x4e57("0x4a9")].strokecolor
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x728")](x), this[_0x4e57("0x4a9")] = this[_0x4e57("0x4a9")] || {}, this[_0x4e57("0x4a9")].strokecolor = x
            }
        }, {
            key: _0x4e57("0x6c"), get: function () {
                return this[_0x4e57("0x4a9")]
            }
        }, {
            key: _0x4e57("0x3da"), get: function () {
                return this.forceVisible_
            }, set: function (x) {
                this.o3d_[_0x4e57("0x7f1")] = x, this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = x
            }
        }, {
            key: "ID", get: function () {
                return this[_0x4e57("0x7fa")]
            }
        }]), t
    }(esmap.ESNode);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(1)), g = t(_(4)), r = t(_(5));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var A = function (x) {
        function t(x, e) {
            (0, a[_0x4e57("0xa")])(this, t);
            var _ = (0, g.default)(this, (t[_0x4e57("0x751")] || (0, i[_0x4e57("0xa")])(t))[_0x4e57("0x2")](this, 0, e, new (THREE[_0x4e57("0x22b")]), x));
            return _[_0x4e57("0x829")] = !1, _
        }

        return (0, r.default)(t, x), (0, n[_0x4e57("0xa")])(t, [{
            key: _0x4e57("0x82a"), value: function (x) {
                !x instanceof esmap[_0x4e57("0x3c3")] ? console[_0x4e57("0x151")](_0x4e57("0x82b")) : this[_0x4e57("0x3d9")][_0x4e57("0x28")](x[_0x4e57("0x3d9")])
            }
        }, {
            key: "getOrCreateLayerByName", value: function (x, e) {
                var _ = this[_0x4e57("0x82c")](x);
                if (!_) {
                    switch (e) {
                        case _0x4e57("0x8e"):
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")].IMAGE_MARKER);
                            break;
                        case"textMarker":
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap.ESLayerType.TEXT_MARKER);
                            break;
                        case"polygonMarker":
                            _ = new esmap.ESLayer(esmap[_0x4e57("0x3c0")].POLYGON_MARKER);
                            break;
                        case _0x4e57("0x82d"):
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x82e")]);
                        case"es3dmarker":
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x3ed")]);
                            break;
                        case _0x4e57("0x89"):
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")].MODEL_IMAGE);
                            break;
                        case"modelLine":
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap[_0x4e57("0x3c0")][_0x4e57("0x82f")]);
                            break;
                        case"boardMarker":
                            _ = new (esmap[_0x4e57("0x3c3")])(esmap.ESLayerType.BOARD_MARKER)
                    }
                    _[_0x4e57("0x269")] = x, this[_0x4e57("0x82a")](_)
                }
                return _
            }
        }, {
            key: "getLayersByTypes", value: function (x, e) {
                x = [][_0x4e57("0x11")](x);
                for (var _ = !1, t = [], i = 0; i < this[_0x4e57("0x830")][_0x4e57("0x0")]; i++) {
                    var a = this[_0x4e57("0x830")][i];
                    if (a._type_ && -1 < x[_0x4e57("0x41")](a[_0x4e57("0x3ee")]) && (e && (_ = e(a, a._type_)), t[_0x4e57("0xf")](a)), _) return 0 == t.length ? null : 1 == t.length ? t[0] : t
                }
                return 0 == t.length ? null : 1 == t[_0x4e57("0x0")] ? t[0] : t
            }
        }, {
            key: _0x4e57("0x82c"), value: function (x, e) {
                x = [][_0x4e57("0x11")](x);
                for (var _ = [], t = 0; t < this[_0x4e57("0x830")][_0x4e57("0x0")]; t++) {
                    var i = this[_0x4e57("0x830")][t];
                    i[_0x4e57("0x269")] && -1 < x[_0x4e57("0x41")](i[_0x4e57("0x269")]) && (e && e(i, i[_0x4e57("0x269")]) && t--, _[_0x4e57("0xf")](i))
                }
                return 0 == _[_0x4e57("0x0")] ? null : 1 == _.length ? _[0] : _
            }
        }, {
            key: "getObjectsByAlias", value: function (x, t) {
                var i = [];
                return this[_0x4e57("0x698")](x, function (x) {
                    if (null != t) for (var e = x.o3d_.children, _ = 0; _ < e; _++) t(x.o3d_[_0x4e57("0x23e")][_]) && i[_0x4e57("0xf")](x[_0x4e57("0x3d9")].children[_]); else i[_0x4e57("0xf")].apply(i, x[_0x4e57("0x3d9")].children)
                }), i
            }
        }, {
            key: _0x4e57("0x831"), value: function (x) {
                var e = esmap[_0x4e57("0x7d")][_0x4e57("0x698")](x);
                return e ? e[_0x4e57("0x0")] ? e[0] : e : null
            }
        }, {
            key: "removeLayer", value: function (x) {
                x[_0x4e57("0x3d9")].visible = !1;
                for (var e = 0; x[_0x4e57("0x3d9")].children[_0x4e57("0x0")] > e;) {
                    var _ = x[_0x4e57("0x3d9")][_0x4e57("0x23e")][e];
                    _.em && _.em.dispose ? _.em[_0x4e57("0x1a8")]() : e++
                }
                this.o3d_[_0x4e57("0x13")](x[_0x4e57("0x3d9")])
            }
        }, {
            key: _0x4e57("0x832"), value: function (x) {
                for (var e = [].concat(x), _ = 0; _ < this.layers[_0x4e57("0x0")]; _++) {
                    var t = this[_0x4e57("0x830")][_];
                    if (t[_0x4e57("0x3ee")] && this[_0x4e57("0x833")](e, t[_0x4e57("0x3ee")])) {
                        t[_0x4e57("0x3d9")][_0x4e57("0x3da")] = !1;
                        for (var i = 0; t[_0x4e57("0x3d9")][_0x4e57("0x23e")][_0x4e57("0x0")] > i;) {
                            var a = t.o3d_.children[i];
                            a.em && a.em[_0x4e57("0x1a8")] ? a.em.dispose() : i++
                        }
                        this.o3d_[_0x4e57("0x13")](t[_0x4e57("0x3d9")]), _--
                    }
                }
            }
        }, {
            key: _0x4e57("0x834"), value: function (x) {
                for (var e = [][_0x4e57("0x11")](x), _ = 0; _ < this[_0x4e57("0x830")][_0x4e57("0x0")]; _++) {
                    var t = this[_0x4e57("0x830")][_];
                    if (t[_0x4e57("0x269")] && this.exitInArray(e, t.name)) {
                        t[_0x4e57("0x3d9")][_0x4e57("0x3da")] = !1;
                        for (var i = 0; t.o3d_[_0x4e57("0x23e")][_0x4e57("0x0")] > i;) {
                            var a = t.o3d_[_0x4e57("0x23e")][i];
                            a.em && a.em[_0x4e57("0x1a8")] ? a.em[_0x4e57("0x1a8")]() : i++
                        }
                        this[_0x4e57("0x3d9")].remove(t[_0x4e57("0x3d9")]), _--
                    }
                }
            }
        }, {
            key: _0x4e57("0x833"), value: function (x, e) {
                for (var _ = 0; _ < x[_0x4e57("0x0")]; _++) if (x[_] == e) return !0;
                return !1
            }
        }, {
            key: _0x4e57("0x835"), value: function (x) {
                x && this[_0x4e57("0x383")][_0x4e57("0x429")] && x.renderToMap(this[_0x4e57("0x383")][_0x4e57("0x429")])
            }
        }, {
            key: _0x4e57("0x836"), value: function (x) {
                x && this[_0x4e57("0x383")][_0x4e57("0x429")] && x.disposeHeatMap(this[_0x4e57("0x383")][_0x4e57("0x429")])
            }
        }, {
            key: "traverse", value: function (x) {
                return this[_0x4e57("0x837")](x, this.o3d_, !1)
            }
        }, {
            key: _0x4e57("0x837"), value: function (x, e, _) {
                if (e.datas_ && (_ = x(e[_0x4e57("0x382")])), _) return !0;
                for (var t = 0; t < e[_0x4e57("0x23e")][_0x4e57("0x0")]; t++) {
                    if (this.traverse_(x, e.children[t], _)) return !0
                }
            }
        }, {
            key: "FloorNum", get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x429")]
            }
        }, {
            key: _0x4e57("0x838"), get: function () {
                return this[_0x4e57("0x383")][_0x4e57("0x5d5")]
            }
        }, {
            key: _0x4e57("0x839"), get: function () {
                return this[_0x4e57("0x383")].name
            }
        }, {
            key: _0x4e57("0x793"), get: function () {
                return this[_0x4e57("0x383")].Elevation
            }
        }, {
            key: _0x4e57("0x83a"), get: function () {
                return this.data_[_0x4e57("0x83b")]
            }
        }, {
            key: _0x4e57("0x415"), get: function () {
                return new (esmap[_0x4e57("0xc3")])(-this[_0x4e57("0xe4")][_0x4e57("0xea")], this[_0x4e57("0xe4")].sceneZ_, this.o3d_[_0x4e57("0x440")].Elevation)
            }
        }, {
            key: _0x4e57("0x830"), get: function () {
                for (var x = [], e = 0; e < this[_0x4e57("0x3d9")][_0x4e57("0x23e")][_0x4e57("0x0")]; e++) {
                    var _ = this[_0x4e57("0x3d9")][_0x4e57("0x23e")][e][_0x4e57("0x382")];
                    _ && x.push(_)
                }
                return x
            }
        }]), t
    }(esmap[_0x4e57("0xc5")]);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(3)), a = t(_(0)), n = t(_(1)), g = t(_(4)), r = t(_(5));

    function t(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var A = function (x) {
        function t(x, e) {
            (0, a.default)(this, t);
            var _ = (0, g[_0x4e57("0xa")])(this, (t.__proto__ || (0, i[_0x4e57("0xa")])(t))[_0x4e57("0x2")](this, 0, e, new (THREE[_0x4e57("0x22b")])));
            switch (_[_0x4e57("0x3ee")] = x || esmap.ESLayerType.NONE, _.name = "", x) {
                case esmap[_0x4e57("0x3c0")].IMAGE_MARKER:
                case esmap.ESLayerType.TEXT_MARKER:
                    _[_0x4e57("0x3d9")][_0x4e57("0x77d")] = new (esmap[_0x4e57("0xb8")]), _[_0x4e57("0x785")] = !1;
                    break;
                case esmap.ESLayerType[_0x4e57("0x3c2")]:
                    break;
                case esmap.ESLayerType[_0x4e57("0x3c1")]:
                case esmap[_0x4e57("0x3c0")][_0x4e57("0x786")]:
                case esmap[_0x4e57("0x3c0")].MODEL_LABEL:
                    _[_0x4e57("0x785")] = !0
            }
            return _
        }

        return (0, r.default)(t, x), (0, n.default)(t, [{
            key: _0x4e57("0x83c"), value: function (x) {
                var e = esmap[_0x4e57("0x101")][_0x4e57("0x107")];
                if (this[_0x4e57("0x83d")](x.nodeType)) switch (x[_0x4e57("0x419")]) {
                    case esmap[_0x4e57("0x9a")][_0x4e57("0x3c6")]:
                        this[_0x4e57("0x3d9")][_0x4e57("0x28")](x.o3d_), e[_0x4e57("0x61")].addUserPOI(x[_0x4e57("0x3d9")]);
                        break;
                    case esmap.ESNodeType[_0x4e57("0x3c5")]:
                        this[_0x4e57("0x3d9")].add(x.o3d_), e[_0x4e57("0x61")][_0x4e57("0x4fa")](x.o3d_);
                        break;
                    case esmap[_0x4e57("0x9a")][_0x4e57("0x3ed")]:
                        this[_0x4e57("0x83e")](x, this);
                        break;
                    case esmap[_0x4e57("0x9a")][_0x4e57("0x811")]:
                        if ((e.mapService[_0x4e57("0x108")].o1 || 0) <= 1) return void console[_0x4e57("0xde")](esmap.ESInfo.AUTHO_REQUIRED);
                        this[_0x4e57("0x3d9")].add(x[_0x4e57("0x3d9")]), e[_0x4e57("0x61")][_0x4e57("0x470")](x[_0x4e57("0x3d9")]);
                        break;
                    case esmap[_0x4e57("0x9a")][_0x4e57("0x41c")]:
                        this[_0x4e57("0x3d9")][_0x4e57("0x28")](x.o3d_);
                        break;
                    case esmap[_0x4e57("0x9a")][_0x4e57("0x83f")]:
                        if ((e[_0x4e57("0x10e")].sourceData.o1 || 0) <= 1) return;
                        this[_0x4e57("0x3d9")][_0x4e57("0x28")](x), x[_0x4e57("0x382")] = {
                            name: _0x4e57("0x840"),
                            nodeType: esmap[_0x4e57("0x9a")].BOARD_MARKER
                        }, e.on(_0x4e57("0x65"), function () {
                            x[_0x4e57("0x6f9")]()
                        })
                } else console.info(_0x4e57("0x841"));
                x[_0x4e57("0x842")] && x[_0x4e57("0x842")]()
            }
        }, {
            key: _0x4e57("0x843"), value: function () {
                this.loadqueue.start()
            }
        }, {
            key: _0x4e57("0x83e"), value: function (x, e) {
                this[_0x4e57("0x474")].addModel({
                    name: x.name_,
                    scale: x[_0x4e57("0x825")],
                    rotate: x[_0x4e57("0x826")],
                    url: x.url_,
                    position: {x: x.x_, y: 6 + x.height_, z: x.y_},
                    parent: e.o3d_,
                    id: x.id_,
                    bclick: 1,
                    self: x,
                    spritify: x[_0x4e57("0x6fe")],
                    callback: x[_0x4e57("0x844")]
                }), e[_0x4e57("0x843")]()
            }
        }, {
            key: _0x4e57("0x83d"), value: function (x) {
                var e = this[_0x4e57("0x3ee")], _ = null;
                for (var t in esmap[_0x4e57("0x3c0")]) if (esmap[_0x4e57("0x3c0")][t] == e) {
                    _ = t;
                    break
                }
                return esmap[_0x4e57("0x9a")][_] == x || (console[_0x4e57("0xde")](_0x4e57("0x845")), !1)
            }
        }, {
            key: "add", value: function (x) {
                this[_0x4e57("0x3d9")] && this[_0x4e57("0x3d9")][_0x4e57("0x28")](x[_0x4e57("0x3d9")])
            }
        }, {
            key: _0x4e57("0x13"), value: function (x) {
                x[_0x4e57("0x1a8")]()
            }
        }, {
            key: "removeAll", value: function () {
                for (var x = 0; this[_0x4e57("0x3d9")][_0x4e57("0x23e")][_0x4e57("0x0")] > x;) {
                    var e = this[_0x4e57("0x3d9")][_0x4e57("0x23e")][x];
                    e[_0x4e57("0x382")] && e.datas_[_0x4e57("0x1a8")] ? e[_0x4e57("0x382")][_0x4e57("0x1a8")]() : x++
                }
            }
        }, {
            key: _0x4e57("0x49a"), value: function (x) {
                return this[_0x4e57("0x837")](x, this[_0x4e57("0x3d9")], !1)
            }
        }, {
            key: _0x4e57("0x837"), value: function (x, e, _) {
                if (e.datas_ && (_ = x(e[_0x4e57("0x382")])), _) return !0;
                for (var t = 0; t < e[_0x4e57("0x23e")][_0x4e57("0x0")]; t++) {
                    if (this[_0x4e57("0x837")](x, e.children[t], _)) return !0
                }
            }
        }, {
            key: _0x4e57("0x474"), get: function () {
                return esmap[_0x4e57("0x101")].instance[_0x4e57("0xe4")].loadqueue
            }
        }]), t
    }(esmap[_0x4e57("0xc5")]);
    e[_0x4e57("0xa")] = A
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var t = a(_(9)), i = a(_(0));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    e[_0x4e57("0xa")] = function x(e) {
        (0, i.default)(this, x);
        var _ = esmap[_0x4e57("0x7d")][_0x4e57("0x570")]().isPC;
        (0, t[_0x4e57("0xa")])(this, e), this.size = e && e.size ? e[_0x4e57("0x486")] : _ ? esmap.EScontrolSize.Map_CONTROL_NORMAL : esmap.EScontrolSize.Map_CONTROL_SMALL, this[_0x4e57("0xe7")] = e && e[_0x4e57("0xe7")] ? e.position : null, this.allLayer = e && e[_0x4e57("0x846")] ? e[_0x4e57("0x846")] : null, this[_0x4e57("0x3f7")] = e && e[_0x4e57("0x3f7")] ? e.offset : _ ? new (esmap[_0x4e57("0x847")])(0, 0) : new esmap.ESControlOffset(-6, -12), this.imgURL = e && e[_0x4e57("0x848")] ? e[_0x4e57("0x848")] : _0x4e57("0x849")
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t, i = _(0), a = (t = i) && t[_0x4e57("0x8")] ? t : {default: t};
    e[_0x4e57("0xa")] = function x(e, _) {
        (0, a[_0x4e57("0xa")])(this, x), this.x = e || 0, this.y = _ || 0
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x3d0")] = new (esmap[_0x4e57("0xce")])(e), "normal" == this[_0x4e57("0x3d0")][_0x4e57("0x486")] ? (this.w_ = 42, this.h_ = 42, this[_0x4e57("0x84a")] = 10) : (this.w_ = 32, this.h_ = 32, this.padding_ = 8), this.x_ = this[_0x4e57("0x3d0")].offset.x, this.y_ = this[_0x4e57("0x3d0")][_0x4e57("0x3f7")].y, this[_0x4e57("0x846")] = !!this[_0x4e57("0x3d0")][_0x4e57("0x846")] && this[_0x4e57("0x3d0")].allLayer, this[_0x4e57("0x84b")] = this[_0x4e57("0x3d0")][_0x4e57("0x84b")] ? this.options_[_0x4e57("0x84b")] : 5, this.expandLayers_ = !!this[_0x4e57("0x3d0")][_0x4e57("0x84c")] && this.options_.expand, this[_0x4e57("0x84d")] = this[_0x4e57("0x3d0")][_0x4e57("0xe7")] ? this.options_[_0x4e57("0xe7")] : 2, this[_0x4e57("0x84e")] = null, this.inited = !1, this[_0x4e57("0x7bc")] = _0x4e57("0x84f"), this[_0x4e57("0x850")] = _0x4e57("0x851"), this[_0x4e57("0x852")] = "2px 2px 3px rgba(0,0,0, 0.3)", this.defaultRadius_ = _0x4e57("0x853"), this.$ = function (x) {
                return document.querySelector(x)
            }, this[_0x4e57("0x854")], this[_0x4e57("0x855")], this[_0x4e57("0x856")], this.touchEndPointY, this.map = x, this[_0x4e57("0x857")] = 10, this[_0x4e57("0x858")] = 20, this[_0x4e57("0x859")] = 10, this.defaultPadding_ = 10, this[_0x4e57("0x85a")] = this.options_[_0x4e57("0x848")], x && this[_0x4e57("0x39f")](x)
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x39f"), value: function (_) {
                var x = this.$(_0x4e57("0x85b"));
                x && _[_0x4e57("0xe5")][_0x4e57("0xfe")].removeChild(x);
                var e = this.$(_0x4e57("0x85c"));
                e && _.mapView[_0x4e57("0xfe")].removeChild(e);
                var t = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                t[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x85d")), t.style[_0x4e57("0x112")] = this.w_ + "px", t[_0x4e57("0x6c")].height = this.h_ + "px", t[_0x4e57("0x6c")].position = "absolute", t[_0x4e57("0x6c")].backgroundColor = _0x4e57("0x85e"), t[_0x4e57("0x6c")][_0x4e57("0x85f")] = this.defaultShadow_, t[_0x4e57("0x6c")][_0x4e57("0x860")] = this[_0x4e57("0x861")], t[_0x4e57("0x6c")][_0x4e57("0x743")] = _0x4e57("0x6b8"), t[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x509"), t[_0x4e57("0x6c")][_0x4e57("0x862")] = _0x4e57("0x863"), t[_0x4e57("0x6c")][_0x4e57("0x864")] = "bold", t[_0x4e57("0x6c")][_0x4e57("0x865")] = "uppercase", t[_0x4e57("0x6c")][_0x4e57("0x866")] = this.h_ + "px", t[_0x4e57("0x6c")][_0x4e57("0x1df")] = this[_0x4e57("0x7bc")], t[_0x4e57("0x867")] = "F1";
                var i = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                i[_0x4e57("0x6f")](_0x4e57("0x4bd"), "arrow-btns-wrap"), i[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), i.style[_0x4e57("0x868")] = "white", i.style[_0x4e57("0x85f")] = this[_0x4e57("0x852")], i.style[_0x4e57("0x860")] = this[_0x4e57("0x861")], i.onmousewheel = this[_0x4e57("0x869")][_0x4e57("0xc")](this), i[_0x4e57("0x1af")](_0x4e57("0x1ab"), this[_0x4e57("0x869")][_0x4e57("0xc")](this), !1), i[_0x4e57("0x1af")]("touchstart", this.touchstart[_0x4e57("0xc")](this), !1), i[_0x4e57("0x1af")]("touchmove", this[_0x4e57("0x1b1")][_0x4e57("0xc")](this), !1), i[_0x4e57("0x1af")](_0x4e57("0x1ad"), this.touchend[_0x4e57("0xc")](this), !1);
                var a = _[_0x4e57("0xe5")][_0x4e57("0xfe")].getElementsByTagName(_0x4e57("0x36c"))[0];
                if (_.mapView[_0x4e57("0xfe")][_0x4e57("0x86a")](t, a), _.mapView[_0x4e57("0xfe")][_0x4e57("0x86a")](i, a), this[_0x4e57("0x86b")](_[_0x4e57("0x427")], _[_0x4e57("0x37c")]), i[_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x83"), this[_0x4e57("0x84b")] < _[_0x4e57("0x427")][_0x4e57("0x0")]) {
                    var n = document[_0x4e57("0x6a")]("div");
                    n[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x86c")), n[_0x4e57("0x6c")][_0x4e57("0x1c5")] = _0x4e57("0x86d"), n[_0x4e57("0x6c")][_0x4e57("0x448")] = "none", n[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x86f") + this[_0x4e57("0x85a")] + _0x4e57("0x870"), n[_0x4e57("0x6c")].cursor = "pointer", n[_0x4e57("0x871")] = this.up.bind(this);
                    var g = document[_0x4e57("0x6a")]("div");
                    g.setAttribute("class", _0x4e57("0x872")), g.style[_0x4e57("0x1c5")] = _0x4e57("0x86d"), g[_0x4e57("0x6c")].background = _0x4e57("0x86f") + this.imgURL_ + _0x4e57("0x870"), g[_0x4e57("0x6c")].cursor = "pointer", g[_0x4e57("0x6c")][_0x4e57("0x448")] = "none", g[_0x4e57("0x871")] = this.down[_0x4e57("0xc")](this), i[_0x4e57("0x235")](n, i), i[_0x4e57("0x235")](g), i[_0x4e57("0x6c")].overflow = "hidden", i[_0x4e57("0x6c")].height = this[_0x4e57("0x84b")] * (this.h_ + 1) + "px", this.changeScrollState(_[_0x4e57("0x427")][_0x4e57("0x0")] - _[_0x4e57("0x37c")])
                } else this[_0x4e57("0x84b")] = _[_0x4e57("0x427")][_0x4e57("0x0")], i[_0x4e57("0x6c")].height = this.showBtnCount * (this.h_ + 1) + "px";
                this[_0x4e57("0x873")](t), this[_0x4e57("0x873")](i, this.showBtnCount * (this.h_ + 2)), this[_0x4e57("0x874")]();
                var r = this;
                t[_0x4e57("0x1af")](_0x4e57("0x875"), function (x) {
                    var e = r.$(_0x4e57("0x85c"));
                    _0x4e57("0x83") == e[_0x4e57("0x6c")].display ? (e.style[_0x4e57("0x448")] = _0x4e57("0x876"), r[_0x4e57("0x877")](_.listFloors.length - _.focusFloorNum), r[_0x4e57("0x878")] = !0) : (e[_0x4e57("0x6c")].display = _0x4e57("0x83"), r[_0x4e57("0x878")] = !1)
                }, !1)
            }
        }, {
            key: _0x4e57("0x874"), value: function () {
                if (this.map) {
                    var _ = this;
                    this.map.on(_0x4e57("0x65"), function () {
                        var x = _.$(_0x4e57("0x85b")), e = _.$(_0x4e57("0x85c"));
                        _.setPosition_(x), _[_0x4e57("0x873")](e, _.showBtnCount * (_.h_ + 2))
                    })
                }
            }
        }, {
            key: _0x4e57("0x873"), value: function (x, e) {
                if (x) switch (this[_0x4e57("0x84d")]) {
                    case 1:
                        x[_0x4e57("0x6c")][_0x4e57("0xa9")] = e ? this[_0x4e57("0x858")] + this.h_ + this[_0x4e57("0x879")] + this.y_ + "px" : this[_0x4e57("0x858")] + this.y_ + "px", x[_0x4e57("0x6c")][_0x4e57("0x135")] = this.left_ + this.x_ + "px";
                        break;
                    case 2:
                        var _ = this[_0x4e57("0x5a")].mapView.container_[_0x4e57("0x3e0")] - this.h_ - 60;
                        e && (_ = _ - e - this[_0x4e57("0x879")]), x[_0x4e57("0x6c")].top = _ - this.y_ + "px", x.style[_0x4e57("0x135")] = this[_0x4e57("0x857")] + this.x_ + "px";
                        break;
                    case 3:
                        e ? x.style[_0x4e57("0xa9")] = this[_0x4e57("0x858")] + this.h_ + this[_0x4e57("0x879")] + this.y_ + "px" : x.style.top = this[_0x4e57("0x858")] + this.y_ + "px", x.style.right = this[_0x4e57("0x859")] + this.x_ + "px";
                        break;
                    case 4:
                        var t = this[_0x4e57("0x5a")].mapView.container_[_0x4e57("0x3e0")] - this.h_ - 60;
                        e && (t = t - e - this[_0x4e57("0x879")]), x[_0x4e57("0x6c")][_0x4e57("0xa9")] = t - this.y_ + "px", x[_0x4e57("0x6c")][_0x4e57("0x134")] = this[_0x4e57("0x859")] + this.x_ + "px"
                }
            }
        }, {
            key: _0x4e57("0x86b"), value: function (x, e) {
                this.$(_0x4e57("0x85c")).innerHTML = "";
                for (var _ = x[_0x4e57("0x0")] - 1; 0 <= _; _--) {
                    var t = x[_];
                    this.$(_0x4e57("0x85c"))[_0x4e57("0x235")](this[_0x4e57("0x87a")](t.floornum, t.NameEn[_0x4e57("0x2c2")](), e == t.floornum)), 0 < _ && this.$(".arrow-btns-wrap").appendChild(this.hrEl())
                }
                this[_0x4e57("0x87b")] = !0
            }
        }, {
            key: _0x4e57("0x87c"), value: function (x) {
                this[_0x4e57("0x84e")] = x
            }
        }, {
            key: "up", value: function () {
                var x = document[_0x4e57("0x87d")](".arrow-btns-wrap > label")[_0x4e57("0x0")] - parseInt(this.$(_0x4e57("0x87e"))[_0x4e57("0x87f")][_0x4e57("0x429")]);
                if (0 != x) {
                    var e = x - 1;
                    this[_0x4e57("0x880")](document[_0x4e57("0x87d")](".arrow-btns-wrap > label")[e]), this.changeScrollState(e)
                }
            }
        }, {
            key: "down", value: function () {
                var x = document[_0x4e57("0x87d")](_0x4e57("0x881"))[_0x4e57("0x0")],
                    e = x - parseInt(this.$(".arrow-btns-wrap>label[class*='active']")[_0x4e57("0x87f")][_0x4e57("0x429")]);
                if (e + 1 != x) {
                    var _ = e + 1;
                    this[_0x4e57("0x880")](document[_0x4e57("0x87d")](_0x4e57("0x881"))[_]), this[_0x4e57("0x877")](_)
                }
            }
        }, {
            key: _0x4e57("0x1ac"), value: function (x) {
                x[_0x4e57("0x170")](), this[_0x4e57("0x854")] = x[_0x4e57("0x193")][0][_0x4e57("0x195")], this[_0x4e57("0x855")] = x[_0x4e57("0x193")][0][_0x4e57("0x196")]
            }
        }, {
            key: _0x4e57("0x1b1"), value: function (x) {
                x[_0x4e57("0x170")](), this[_0x4e57("0x856")] = x[_0x4e57("0x193")][0].pageX, this[_0x4e57("0x882")] = x[_0x4e57("0x193")][0].pageY
            }
        }, {
            key: _0x4e57("0x1ad"), value: function (x) {
                x = x || window.event;
                var e, _ = this.$(_0x4e57("0x85c")).scrollTop;
                0 < x[_0x4e57("0x883")][_0x4e57("0x0")] && (this[_0x4e57("0x856")] = x[_0x4e57("0x883")][0][_0x4e57("0x195")], this[_0x4e57("0x882")] = x[_0x4e57("0x883")][0].pageY), e = x.target;
                var t = this.touchEndPointY - this[_0x4e57("0x855")];
                0 < t && t > this.h_ ? _ -= t : t < 0 && -t > this.h_ ? _ += -t : 0 == t && e && this[_0x4e57("0x880")](e), this.$(_0x4e57("0x85c"))[_0x4e57("0x884")] = _, this[_0x4e57("0x854")] = this[_0x4e57("0x856")], this[_0x4e57("0x855")] = this[_0x4e57("0x882")]
            }
        }, {
            key: _0x4e57("0x869"), value: function (x) {
                x = x || window[_0x4e57("0x885")];
                var e = this.$(_0x4e57("0x85c"))[_0x4e57("0x884")];
                x.wheelDelta ? (0 < x[_0x4e57("0x18b")] && (e -= x[_0x4e57("0x18b")]), x[_0x4e57("0x18b")] < 0 && (e += -x[_0x4e57("0x18b")])) : x.detail && (0 < x.detail && (e -= x[_0x4e57("0x18c")]), x[_0x4e57("0x18c")] < 0 && (e += -x[_0x4e57("0x18c")])), this.$(_0x4e57("0x85c"))[_0x4e57("0x884")] = e
            }
        }, {
            key: _0x4e57("0x87a"), value: function (x, e, _) {
                var t = this, i = document[_0x4e57("0x6a")](_0x4e57("0x87"));
                (i[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x886")), i[_0x4e57("0x6f")](_0x4e57("0x887"), x), i[_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x888"), i[_0x4e57("0x6c")][_0x4e57("0x743")] = "center", i[_0x4e57("0x6c")][_0x4e57("0x112")] = t.w_ + "px", i[_0x4e57("0x6c")][_0x4e57("0x1c5")] = t.h_ + "px", i[_0x4e57("0x6c")][_0x4e57("0x866")] = this.h_ + "px", i[_0x4e57("0x6c")].cursor = _0x4e57("0x509"), i[_0x4e57("0x6c")].fontSize = _0x4e57("0x863"), i[_0x4e57("0x6c")][_0x4e57("0x864")] = _0x4e57("0x889"), i[_0x4e57("0x6c")][_0x4e57("0x88a")] = 0, i[_0x4e57("0x6c")][_0x4e57("0x1df")] = t.defaultColor, _) && (this[_0x4e57("0x88b")](i, _0x4e57("0x88c")), t.$(_0x4e57("0x85b")).innerText = e);
                i[_0x4e57("0x871")] = function () {
                    var x = t.$(_0x4e57("0x87e"));
                    x[_0x4e57("0x867")] !== this[_0x4e57("0x867")] && (t[_0x4e57("0x88d")](x, _0x4e57("0x88c")), t[_0x4e57("0x88b")](this, "active"), t.$(_0x4e57("0x85b")).innerText = this.innerText, t.triggerChange_())
                };
                var a = document[_0x4e57("0x6a")](_0x4e57("0x88e"));
                return a[_0x4e57("0x867")] = e, i[_0x4e57("0x235")](a), i
            }
        }, {
            key: _0x4e57("0x88f"), value: function () {
                var x = document[_0x4e57("0x6a")]("hr");
                return x[_0x4e57("0x6c")].height = "1px", x[_0x4e57("0x6c")][_0x4e57("0x81b")] = _0x4e57("0x83"), x[_0x4e57("0x6c")].borderTop = _0x4e57("0x890"), x[_0x4e57("0x6c")].width = "60%", x.style[_0x4e57("0x88a")] = _0x4e57("0x891"), x[_0x4e57("0x6c")][_0x4e57("0x892")] = _0x4e57("0x893"), x
            }
        }, {
            key: _0x4e57("0x894"), value: function (x) {
                var e = [];
                (x = this.$(_0x4e57("0x87e"))) && e[_0x4e57("0xf")](parseInt(x.dataset[_0x4e57("0x429")])), this.changeMapVisibleFloors_(e), null !== this[_0x4e57("0x84e")] && this.change_(e, this.allLayer)
            }
        }, {
            key: _0x4e57("0x47b"), value: function (x, e) {
                e && (this[_0x4e57("0x846")] = e);
                var _ = this[_0x4e57("0x5a")][_0x4e57("0x3ec")][_0x4e57("0x0")] - x;
                this[_0x4e57("0x880")](document.querySelectorAll(".arrow-btns-wrap > label")[_]), this.changeScrollState(_)
            }
        }, {
            key: _0x4e57("0x895"), value: function (x) {
                this.map && (this[_0x4e57("0x846")] ? this[_0x4e57("0x5a")][_0x4e57("0x3e2")] = this.map[_0x4e57("0x3ec")] : this.map[_0x4e57("0x3e2")] = x, this[_0x4e57("0x5a")][_0x4e57("0x37c")] = x[0])
            }
        }, {
            key: _0x4e57("0x896"), value: function (x) {
                for (var e = this.$(_0x4e57("0x85b")), _ = document[_0x4e57("0x87d")](".arrow-btns-wrap > label"), t = 0, i = _[_0x4e57("0x0")]; t < i; t++) {
                    var a = _[t];
                    if (t == x) {
                        e[_0x4e57("0x6c")].color = this[_0x4e57("0x7bc")], e[_0x4e57("0x867")] = a[_0x4e57("0x867")];
                        break
                    }
                }
            }
        }, {
            key: _0x4e57("0x877"), value: function (x) {
                this[_0x4e57("0x896")](x);
                var e = this.$(_0x4e57("0x881"))[_0x4e57("0x184")];
                document[_0x4e57("0x87d")](_0x4e57("0x881")).length - this[_0x4e57("0x84b")] > x && ((_ = x * (e + 2)) < this.$(".arrow-btns-wrap")[_0x4e57("0x884")] && (this.$(_0x4e57("0x85c"))[_0x4e57("0x884")] = _));
                if (this[_0x4e57("0x84b")] <= x) {
                    var _ = (x - this.showBtnCount + 1) * (e + 2);
                    this.$(_0x4e57("0x85c"))[_0x4e57("0x884")] < _ && (this.$(".arrow-btns-wrap")[_0x4e57("0x884")] = _)
                }
            }
        }, {
            key: _0x4e57("0x897"), value: function () {
                var x = this.$(_0x4e57("0x87e"))[_0x4e57("0x87f")][_0x4e57("0x429")] - 1,
                    e = document[_0x4e57("0x87d")](_0x4e57("0x881"))[_0x4e57("0x0")], _ = this.$(_0x4e57("0x898")),
                    t = this.$(_0x4e57("0x899"));
                _ && (0 == x ? (this[_0x4e57("0x88b")](_, _0x4e57("0x89a")), _[_0x4e57("0x6c")].backgroundImage = _0x4e57("0x86f") + this[_0x4e57("0x85a")] + _0x4e57("0x89b") + _0x4e57("0x89c")) : (this[_0x4e57("0x88d")](_, _0x4e57("0x89a")), _[_0x4e57("0x6c")][_0x4e57("0x89d")] = "url(" + this[_0x4e57("0x85a")] + _0x4e57("0x89e") + _0x4e57("0x89c"))), t && (x == e - 1 ? (this[_0x4e57("0x88b")](t, _0x4e57("0x89a")), t.style.backgroundImage = "url(" + this[_0x4e57("0x85a")] + _0x4e57("0x89f") + ".png)") : (this.removeClass(t, _0x4e57("0x89a")), t[_0x4e57("0x6c")][_0x4e57("0x89d")] = _0x4e57("0x86f") + this[_0x4e57("0x85a")] + _0x4e57("0x8a0") + _0x4e57("0x89c")))
            }
        }, {
            key: "addClass", value: function (x, e) {
                var _ = x.className, t = _ + ("" != _ ? " " : "") + e;
                x[_0x4e57("0x8a1")] = t
            }
        }, {
            key: "removeClass", value: function (x, e) {
                var _ = " " + x[_0x4e57("0x8a1")] + " ",
                    t = (_ = _[_0x4e57("0x2ad")](/(\s+)/gi, " "))[_0x4e57("0x2ad")](" " + e + " ", " ");
                t = t.replace(/(^\s+)|(\s+$)/g, ""), x.className = t
            }
        }, {
            key: _0x4e57("0x8a2"), value: function (x, e) {
                var _ = x[_0x4e57("0x8a1")][_0x4e57("0x464")](/\s+/), t = 0;
                for (t in _) if (_[t] == e) return !0;
                return !1
            }
        }, {
            key: _0x4e57("0x880"), value: function (x) {
                if (x) if (document[_0x4e57("0x42a")]) x.click(); else {
                    var e = document[_0x4e57("0x8a3")](_0x4e57("0x8a4"));
                    e.initEvent(_0x4e57("0x875"), !0, !0), x[_0x4e57("0x17e")](e)
                }
            }
        }]), _
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x3d0")] = new (esmap[_0x4e57("0xce")])(e), _0x4e57("0xab") == this[_0x4e57("0x3d0")][_0x4e57("0x486")] ? (this.w_ = 42, this.h_ = 42, this.padding_ = 10) : (this.w_ = 32, this.h_ = 32, this[_0x4e57("0x84a")] = 8), this.x_ = this[_0x4e57("0x3d0")][_0x4e57("0x3f7")].x, this.y_ = this[_0x4e57("0x3d0")][_0x4e57("0x3f7")].y, this[_0x4e57("0x846")] = !!this[_0x4e57("0x3d0")][_0x4e57("0x846")] && this[_0x4e57("0x3d0")][_0x4e57("0x846")], this[_0x4e57("0x84b")] = this[_0x4e57("0x3d0")][_0x4e57("0x84b")] ? this[_0x4e57("0x3d0")].showBtnCount : 5, this[_0x4e57("0x84d")] = this[_0x4e57("0x3d0")].position ? this[_0x4e57("0x3d0")].position : 2, this[_0x4e57("0x858")] = 20, this.left_ = 10, this[_0x4e57("0x859")] = 10, this.change_ = null, this[_0x4e57("0x87b")] = !1, this[_0x4e57("0x7bc")] = _0x4e57("0x84f"), this[_0x4e57("0x850")] = _0x4e57("0x851"), this[_0x4e57("0x852")] = _0x4e57("0x8a5"), this[_0x4e57("0x861")] = "2px", this.$ = function (x) {
                return document.querySelector(x)
            }, this[_0x4e57("0x854")], this.touchPointY, this[_0x4e57("0x856")], this[_0x4e57("0x882")], this[_0x4e57("0x5a")] = x, this[_0x4e57("0x857")] = 10, this[_0x4e57("0x85a")] = this[_0x4e57("0x3d0")].imgURL, x && this[_0x4e57("0x39f")](x), this[_0x4e57("0x8a6")] = !0
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x39f"), value: function (x) {
                var e = this.$(_0x4e57("0x8a7"));
                e && x[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x111")](e);
                var _ = this.$(_0x4e57("0x8a8"));
                _ && x[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x111")](_);
                var t = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                t.setAttribute("class", _0x4e57("0x8a9")), t[_0x4e57("0x6c")][_0x4e57("0x112")] = this.w_ + "px", t[_0x4e57("0x6c")][_0x4e57("0xe7")] = "absolute", t.style.backgroundColor = _0x4e57("0x85e"), t.style[_0x4e57("0x85f")] = this.defaultShadow_, t.style[_0x4e57("0x860")] = this[_0x4e57("0x861")], t[_0x4e57("0x6c")][_0x4e57("0x8aa")] = 1;
                var i = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                i[_0x4e57("0x6f")](_0x4e57("0x4bd"), "layer-floors-wrap layer-btn"), i[_0x4e57("0x6c")][_0x4e57("0x8ab")] = this[_0x4e57("0x84a")] + "px", i.style[_0x4e57("0x508")] = _0x4e57("0x509");
                var a = document.createElement(_0x4e57("0x56f"));
                this[_0x4e57("0x846")] ? a[_0x4e57("0x6f")]("src", this[_0x4e57("0x85a")] + _0x4e57("0x8ac")) : a[_0x4e57("0x6f")](_0x4e57("0x468"), this.imgURL_ + _0x4e57("0x8ad")), a.style[_0x4e57("0x112")] = this.w_ - 2 * this[_0x4e57("0x84a")] + "px", a[_0x4e57("0x6c")][_0x4e57("0x1c5")] = this.h_ - 2 * this[_0x4e57("0x84a")] + "px";
                var n = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                n[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x8ae")), n.onmousewheel = this[_0x4e57("0x869")][_0x4e57("0xc")](this), n[_0x4e57("0x1af")](_0x4e57("0x1ab"), this[_0x4e57("0x869")][_0x4e57("0xc")](this), !1), n.addEventListener(_0x4e57("0x1ac"), this[_0x4e57("0x1ac")][_0x4e57("0xc")](this), !1), n[_0x4e57("0x1af")](_0x4e57("0x1b1"), this[_0x4e57("0x1b1")][_0x4e57("0xc")](this), !1), n.addEventListener(_0x4e57("0x1ad"), this.touchend.bind(this), !1), i[_0x4e57("0x235")](a), t.appendChild(i), t[_0x4e57("0x235")](n);
                var g = x.mapView[_0x4e57("0xfe")].getElementsByTagName(_0x4e57("0x36c"))[0];
                if (x[_0x4e57("0xe5")][_0x4e57("0xfe")].insertBefore(t, g), this[_0x4e57("0x86b")](x[_0x4e57("0x427")], x[_0x4e57("0x37c")]), this[_0x4e57("0x84b")] < x[_0x4e57("0x427")][_0x4e57("0x0")]) {
                    var r = document[_0x4e57("0x6a")](_0x4e57("0x232"));
                    r.setAttribute("class", _0x4e57("0x8af")), r.style[_0x4e57("0x1c5")] = _0x4e57("0x86d"), r[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x86f") + this.imgURL_ + _0x4e57("0x870"), r[_0x4e57("0x6c")].cursor = "pointer", r[_0x4e57("0x871")] = this.up.bind(this), r.onmousedown = function (x) {
                        x[_0x4e57("0x18a")](), x[_0x4e57("0x170")]()
                    }, r[_0x4e57("0x8b0")] = function (x) {
                        x[_0x4e57("0x18a")](), x[_0x4e57("0x170")]()
                    };
                    var A = document.createElement(_0x4e57("0x232"));
                    A[_0x4e57("0x6f")]("class", _0x4e57("0x8b1")), A[_0x4e57("0x6c")][_0x4e57("0x1c5")] = "18px", A[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x86f") + this[_0x4e57("0x85a")] + "arrow1.png) no-repeat 50% 50%", A.style[_0x4e57("0x508")] = "pointer", A[_0x4e57("0x871")] = this.down[_0x4e57("0xc")](this), t.insertBefore(r, n), t[_0x4e57("0x235")](A), n[_0x4e57("0x6c")][_0x4e57("0x230")] = _0x4e57("0x231"), n[_0x4e57("0x6c")][_0x4e57("0x1c5")] = this[_0x4e57("0x84b")] * this.h_ + "px", this.initScrollState(x[_0x4e57("0x427")][_0x4e57("0x0")] - x.focusFloorNum), this[_0x4e57("0x897")]()
                } else this[_0x4e57("0x84b")] = x[_0x4e57("0x427")][_0x4e57("0x0")];
                this[_0x4e57("0x873")](t), this.controlPositionListener();
                var s = this;

                function C(x) {
                    s[_0x4e57("0x47b")](x, !0)
                }

                function I(x, e) {
                    s[_0x4e57("0x8b4")](e, !0)
                }

                s.allLayer && s.triggerChange_(), i.onclick = function (x) {
                   x.stopPropagation(), "top" != s.map[_0x4e57("0x3ad")] && (s[_0x4e57("0x846")] ? (a[_0x4e57("0x6f")](_0x4e57("0x468"), s[_0x4e57("0x85a")] + "layer.png"), s.allLayer = !1) : (a.setAttribute("src", s[_0x4e57("0x85a")] + _0x4e57("0x8ac")), "3d" == s.map[_0x4e57("0x3ad")] && (s[_0x4e57("0x846")] = !0)), s[_0x4e57("0x894")]())
                }, i[_0x4e57("0x8b2")] = function (x) {
                    x[_0x4e57("0x18a")]()
                }, i[_0x4e57("0x8b0")] = function (x) {
                    x[_0x4e57("0x18a")]()
                }, i.ontouchstart = function (x) {
                    x.stopPropagation(), x.preventDefault(), s.allLayer ? (a[_0x4e57("0x6f")]("src", s[_0x4e57("0x85a")] + _0x4e57("0x8ad")), s.allLayer = !1) : (a[_0x4e57("0x6f")](_0x4e57("0x468"), s[_0x4e57("0x85a")] + _0x4e57("0x8ac")), "3d" == x.viewMode_ && (s[_0x4e57("0x846")] = !0)), s[_0x4e57("0x894")]()
                }, s[_0x4e57("0x5a")].on(_0x4e57("0x497"), function (x) {
                    x == _0x4e57("0xa9") && (s.allLayer = !1, s[_0x4e57("0x894")](), a[_0x4e57("0x6f")](_0x4e57("0x468"), s[_0x4e57("0x85a")] + _0x4e57("0x8ad")))
                }), s[_0x4e57("0x5a")].on(_0x4e57("0x451"), function () {
                    s[_0x4e57("0x5a")][_0x4e57("0xf4")] == esmap[_0x4e57("0xa8")][_0x4e57("0x8b3")] ? s[_0x4e57("0x5a")][_0x4e57("0x3e2")][_0x4e57("0x0")] == s.map.fNums[_0x4e57("0x0")] && (a.setAttribute(_0x4e57("0x468"), s[_0x4e57("0x85a")] + _0x4e57("0x8ac")), s.allLayer = !0) : (a[_0x4e57("0x6f")](_0x4e57("0x468"), s.imgURL_ + _0x4e57("0x8ad")), s[_0x4e57("0x846")] = !1)
                }), s[_0x4e57("0x5a")].on(_0x4e57("0x4ab"), C), s[_0x4e57("0x5a")].on(_0x4e57("0x4ac"), I), s[_0x4e57("0x5a")].on(_0x4e57("0x1a8"), function () {
                    s[_0x4e57("0x5a")][_0x4e57("0x437")]("focusFloorNumChanged", C), s.map[_0x4e57("0x437")](_0x4e57("0x4ac"), I)
                })
            }
        }, {
            key: "controlPositionListener", value: function () {
                if (this[_0x4e57("0x5a")]) {
                    var x = this;
                    this[_0x4e57("0x5a")].on("update", function () {
                        x[_0x4e57("0x873")](x.$(_0x4e57("0x8a7")))
                    })
                }
            }
        }, {
            key: _0x4e57("0x8b4"), value: function (x, e) {
                var _ = this.$(_0x4e57("0x8b5"));
                x ? (_[_0x4e57("0x6f")]("src", this.imgURL_ + _0x4e57("0x8ac")), this[_0x4e57("0x846")] = !0) : (_[_0x4e57("0x6f")]("src", this[_0x4e57("0x85a")] + "layer.png"), this[_0x4e57("0x846")] = !1), !e && this[_0x4e57("0x894")]()
            }
        }, {
            key: _0x4e57("0x873"), value: function (x, e) {
                if (x) switch (this[_0x4e57("0x84d")]) {
                    case 1:
                        x[_0x4e57("0x6c")][_0x4e57("0xa9")] = this[_0x4e57("0x858")] + this.y_ + "px", x.style.left = this.left_ + this.x_ + "px";
                        break;
                    case 2:
                        e = this[_0x4e57("0x5a")][_0x4e57("0xe5")].container_.offsetHeight - x.clientHeight - 60;
                        x[_0x4e57("0x6c")][_0x4e57("0xa9")] = e - this.y_ + "px", x.style[_0x4e57("0x135")] = this[_0x4e57("0x857")] + this.x_ + "px";
                        break;
                    case 3:
                        x[_0x4e57("0x6c")][_0x4e57("0xa9")] = this[_0x4e57("0x858")] + this.y_ + "px", x[_0x4e57("0x6c")][_0x4e57("0x134")] = this.right_ + this.x_ + "px";
                        break;
                    case 4:
                        e = this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x3e0")] - x[_0x4e57("0x184")] - 60;
                        x[_0x4e57("0x6c")][_0x4e57("0xa9")] = e - this.y_ + "px", x[_0x4e57("0x6c")].right = this[_0x4e57("0x859")] + this.x_ + "px"
                }
            }
        }, {
            key: _0x4e57("0x86b"), value: function (x, e) {
                var _;
                for (this.$(".layers-wrap")[_0x4e57("0x4bb")] = "", _ = x.length - 1; 0 <= _; _--) {
                    var t = x[_];
                    this.$(_0x4e57("0x8a8"))[_0x4e57("0x235")](this[_0x4e57("0x8b6")](t[_0x4e57("0x429")], t[_0x4e57("0x4b5")].toUpperCase(), e == t[_0x4e57("0x429")])), 0 < _ && this.$(_0x4e57("0x8a8"))[_0x4e57("0x235")](this[_0x4e57("0x88f")]())
                }
                this[_0x4e57("0x87b")] = !0
            }
        }, {
            key: _0x4e57("0x87c"), value: function (x) {
                this[_0x4e57("0x84e")] = x
            }
        }, {
            key: "up", value: function (x) {
                x.stopPropagation();
                var e = document[_0x4e57("0x87d")](_0x4e57("0x8b7")).length - parseInt(this.$(_0x4e57("0x8b8")).dataset.floornum);
                if (0 != e) {
                    var _ = e - 1;
                    this[_0x4e57("0x880")](document[_0x4e57("0x87d")](_0x4e57("0x8b7"))[_]), this[_0x4e57("0x877")](_)
                }
            }
        }, {
            key: _0x4e57("0x8b9"), value: function (x) {
                x[_0x4e57("0x18a")]();
                var e = document[_0x4e57("0x87d")](_0x4e57("0x8b7"))[_0x4e57("0x0")],
                    _ = e - parseInt(this.$(_0x4e57("0x8b8"))[_0x4e57("0x87f")].floornum);
                if (_ + 1 != e) {
                    var t = _ + 1;
                    this[_0x4e57("0x880")](document[_0x4e57("0x87d")](_0x4e57("0x8b7"))[t]), this[_0x4e57("0x877")](t)
                }
            }
        }, {
            key: _0x4e57("0x1ac"), value: function (x) {
                x[_0x4e57("0x18a")](), x.preventDefault(), this.touchPointX = x[_0x4e57("0x193")][0].pageX, this.touchPointY = x.touches[0][_0x4e57("0x196")]
            }
        }, {
            key: _0x4e57("0x1b1"), value: function (x) {
                x[_0x4e57("0x18a")](), x[_0x4e57("0x170")](), this.touchEndPointX = x[_0x4e57("0x193")][0][_0x4e57("0x195")], this[_0x4e57("0x882")] = x[_0x4e57("0x193")][0][_0x4e57("0x196")], this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] += this[_0x4e57("0x855")] - this[_0x4e57("0x882")]
            }
        }, {
            key: _0x4e57("0x1ad"), value: function (x) {
                x[_0x4e57("0x18a")](), x.preventDefault();
                var e;
                x = x || window[_0x4e57("0x885")], this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")];
                0 < x[_0x4e57("0x883")][_0x4e57("0x0")] && (this[_0x4e57("0x856")] = x.changedTouches[0].pageX, this[_0x4e57("0x882")] = x[_0x4e57("0x883")][0][_0x4e57("0x196")]), e = x[_0x4e57("0xe9")];
                var _ = this[_0x4e57("0x882")] - this[_0x4e57("0x855")];
                0 < _ && _ > this.h_ || (_ < 0 && -_ > this.h_ || 0 == _ && e && this[_0x4e57("0x880")](e)), this[_0x4e57("0x854")] = this[_0x4e57("0x856")], this.touchPointY = this.touchEndPointY
            }
        }, {
            key: _0x4e57("0x869"), value: function (x) {
                x = x || window[_0x4e57("0x885")];
                var e = this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")];
                x[_0x4e57("0x18b")] ? (0 < x[_0x4e57("0x18b")] && (e -= x[_0x4e57("0x18b")]), x[_0x4e57("0x18b")] < 0 && (e += -x.wheelDelta)) : x[_0x4e57("0x18c")] && (0 < x[_0x4e57("0x18c")] && (e -= x[_0x4e57("0x18c")]), x[_0x4e57("0x18c")] < 0 && (e += -x[_0x4e57("0x18c")])), this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] = e
            }
        }, {
            key: "createLayerlabel_", value: function (x, e, _) {
                var t = this, i = document.createElement(_0x4e57("0x87"));
                i[_0x4e57("0x6f")]("class", _0x4e57("0x8ba")), i[_0x4e57("0x6f")]("data-floornum", x), i[_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x888"), i[_0x4e57("0x6c")][_0x4e57("0x743")] = _0x4e57("0x6b8"), i[_0x4e57("0x6c")].width = t.w_ + "px", i.style[_0x4e57("0x1c5")] = t.h_ + "px", i[_0x4e57("0x6c")][_0x4e57("0x866")] = this.h_ + "px", i[_0x4e57("0x6c")].margin = 0, i[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x509"), i[_0x4e57("0x6c")].fontSize = "0.8em", i[_0x4e57("0x6c")].fontWeight = _0x4e57("0x889"), _ ? (this[_0x4e57("0x88b")](i, _0x4e57("0x88c")), i.style[_0x4e57("0x1df")] = t[_0x4e57("0x7bc")]) : i[_0x4e57("0x6c")].color = t[_0x4e57("0x850")], i[_0x4e57("0x871")] = function (x) {
                    x[_0x4e57("0x18a")]();
                    var e = t.$(_0x4e57("0x8b8"));
                    e[_0x4e57("0x867")] !== this[_0x4e57("0x867")] && (t[_0x4e57("0x88d")](e, "active"), e[_0x4e57("0x6c")].color = t[_0x4e57("0x850")], t[_0x4e57("0x88b")](this, _0x4e57("0x88c")), this[_0x4e57("0x6c")][_0x4e57("0x1df")] = t[_0x4e57("0x7bc")], t[_0x4e57("0x894")](), t[_0x4e57("0x84b")] < t.map[_0x4e57("0x3ec")][_0x4e57("0x0")] && t[_0x4e57("0x897")]())
                }, i[_0x4e57("0x8b2")] = function (x) {
                    x[_0x4e57("0x18a")]()
                }, i[_0x4e57("0x8b0")] = function (x) {
                    x[_0x4e57("0x18a")]()
                };
                var a = document[_0x4e57("0x6a")](_0x4e57("0x88e"));
                return a[_0x4e57("0x867")] = e, i[_0x4e57("0x235")](a), i
            }
        }, {
            key: _0x4e57("0x88f"), value: function () {
                var x = document[_0x4e57("0x6a")]("hr");
                return x[_0x4e57("0x6c")].height = _0x4e57("0x8bb"), x.style[_0x4e57("0x81b")] = "none", x[_0x4e57("0x6c")][_0x4e57("0x8bc")] = _0x4e57("0x890"), x[_0x4e57("0x6c")][_0x4e57("0x112")] = _0x4e57("0x8bd"), x[_0x4e57("0x6c")][_0x4e57("0x88a")] = _0x4e57("0x891"), x[_0x4e57("0x6c")].filter = _0x4e57("0x893"), x
            }
        }, {
            key: "changeFocusFloor", value: function (x) {
                var e = this[_0x4e57("0x5a")][_0x4e57("0x3ec")][_0x4e57("0x0")] - x;
                this[_0x4e57("0x880")](document.querySelectorAll(".layers-wrap > label")[e]), this[_0x4e57("0x877")](e)
            }
        }, {
            key: _0x4e57("0x894"), value: function (x) {
                var e = [];
                (x = this.$(".layers-wrap>label[class*='active']")) && e[_0x4e57("0xf")](parseInt(x[_0x4e57("0x87f")][_0x4e57("0x429")])), this[_0x4e57("0x8a6")] && this.changeMapVisibleFloors_(e), null !== this.change_ && this[_0x4e57("0x84e")](e, this[_0x4e57("0x846")]), this[_0x4e57("0x8a6")] = !0
            }
        }, {
            key: _0x4e57("0x895"), value: function (x) {
                this[_0x4e57("0x5a")] && (this.allLayer ? this[_0x4e57("0x5a")][_0x4e57("0x3e2")] = this[_0x4e57("0x5a")][_0x4e57("0x7b0")] : this[_0x4e57("0x5a")][_0x4e57("0x3e2")] = x, x[0] != this[_0x4e57("0x5a")].focusFnum_ && (this[_0x4e57("0x5a")].focusFloorNum = x[0]))
            }
        }, {
            key: _0x4e57("0x896"), value: function (x) {
                for (var e = document[_0x4e57("0x87d")](_0x4e57("0x8b7")), _ = 0, t = e[_0x4e57("0x0")]; _ < t; _++) {
                    var i = e[_];
                    i[_0x4e57("0x6c")][_0x4e57("0x1df")] = _ == x ? this[_0x4e57("0x7bc")] : this.defaultColor
                }
            }
        }, {
            key: "initScrollState", value: function (x) {
                this[_0x4e57("0x896")](x);
                var e = this.$(".layers-wrap > label")[_0x4e57("0x184")],
                    _ = (document.querySelectorAll(_0x4e57("0x8b7")).length, x * e);
                this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] = _
            }
        }, {
            key: _0x4e57("0x877"), value: function (x) {
                this[_0x4e57("0x896")](x);
                var e = this.$(_0x4e57("0x8b7"))[_0x4e57("0x184")];
                document.querySelectorAll(_0x4e57("0x8b7")).length - this.showBtnCount > x && ((_ = x * e) < this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] && (this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] = _));
                if (this[_0x4e57("0x84b")] <= x) {
                    var _ = (x - this[_0x4e57("0x84b")] + 1) * e;
                    this.$(_0x4e57("0x8a8"))[_0x4e57("0x884")] < _ && (this.$(".layers-wrap")[_0x4e57("0x884")] = _)
                }
            }
        }, {
            key: _0x4e57("0x897"), value: function () {
                var x = this.$(_0x4e57("0x8b8"));
                if (x) {
                    var e = x.dataset[_0x4e57("0x429")] - 1,
                        _ = document.querySelectorAll(".layers-wrap > label")[_0x4e57("0x0")],
                        t = this.$(_0x4e57("0x8be")), i = this.$(_0x4e57("0x8bf"));
                    t && (0 == e ? (this[_0x4e57("0x88b")](t, _0x4e57("0x89a")), t[_0x4e57("0x6c")].backgroundImage = _0x4e57("0x86f") + this[_0x4e57("0x85a")] + _0x4e57("0x89b") + ".png)") : (this.removeClass(t, _0x4e57("0x89a")), t.style.backgroundImage = "url(" + this[_0x4e57("0x85a")] + _0x4e57("0x89e") + _0x4e57("0x89c"))), i && (e == _ - 1 ? (this[_0x4e57("0x88b")](i, _0x4e57("0x89a")), i[_0x4e57("0x6c")].backgroundImage = _0x4e57("0x86f") + this.imgURL_ + _0x4e57("0x89f") + _0x4e57("0x89c")) : (this[_0x4e57("0x88d")](i, _0x4e57("0x89a")), i[_0x4e57("0x6c")].backgroundImage = _0x4e57("0x86f") + this.imgURL_ + "arrow1" + _0x4e57("0x89c")))
                }
            }
        }, {
            key: "addClass", value: function (x, e) {
                if (x && x[_0x4e57("0x8a1")]) {
                    var _ = x[_0x4e57("0x8a1")], t = _ + ("" != _ ? " " : "") + e;
                    x[_0x4e57("0x8a1")] = t
                }
            }
        }, {
            key: "removeClass", value: function (x, e) {
                if (x && x[_0x4e57("0x8a1")]) {
                    var _ = " " + x[_0x4e57("0x8a1")] + " ",
                        t = (_ = _[_0x4e57("0x2ad")](/(\s+)/gi, " "))[_0x4e57("0x2ad")](" " + e + " ", " ");
                    t = t[_0x4e57("0x2ad")](/(^\s+)|(\s+$)/g, ""), x[_0x4e57("0x8a1")] = t
                }
            }
        }, {
            key: _0x4e57("0x8a2"), value: function (x, e) {
                if (!x || !x[_0x4e57("0x8a1")]) return !1;
                var _ = x.className[_0x4e57("0x464")](/\s+/), t = 0;
                for (t in _) if (_[t] == e) return !0;
                return !1
            }
        }, {
            key: _0x4e57("0x880"), value: function (x) {
                if (x) if (document[_0x4e57("0x42a")]) x[_0x4e57("0x875")](); else {
                    var e = document.createEvent(_0x4e57("0x8a4"));
                    e[_0x4e57("0x8c0")](_0x4e57("0x875"), !0, !0), x[_0x4e57("0x17e")](e)
                }
            }
        }]), _
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object.defineProperty(e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x3d0")] = new (esmap[_0x4e57("0xce")])(e), _0x4e57("0xab") == this[_0x4e57("0x3d0")][_0x4e57("0x486")] ? (this.w_ = 42, this.h_ = 42, this.margin_ = 0) : (this.w_ = 42, this.h_ = 42, this[_0x4e57("0x8c1")] = 0), this.x_ = this.options_[_0x4e57("0x3f7")].x, this.y_ = this.options_[_0x4e57("0x3f7")].y, this[_0x4e57("0x8c2")] = this[_0x4e57("0x3d0")][_0x4e57("0x8c3")], this[_0x4e57("0x8c2")] ? this[_0x4e57("0x3ad")] = _0x4e57("0xa9") : this.viewMode_ = "3d", this.initFloors_ = !!this[_0x4e57("0x3d0")][_0x4e57("0x8c4")] && this[_0x4e57("0x3d0")][_0x4e57("0x8c4")], this[_0x4e57("0x439")] = this[_0x4e57("0x8c5")], this[_0x4e57("0x879")] = 10, this[_0x4e57("0x568")] = !0, this[_0x4e57("0x84d")] = this[_0x4e57("0x3d0")][_0x4e57("0xe7")] ? this[_0x4e57("0x3d0")][_0x4e57("0xe7")] : 3, this[_0x4e57("0x858")] = 20, this[_0x4e57("0x857")] = 10, this[_0x4e57("0x859")] = 10, this[_0x4e57("0x8c6")] = !!this.options_[_0x4e57("0x8c7")] && this.options_[_0x4e57("0x8c7")], this[_0x4e57("0x852")] = _0x4e57("0x8a5"), this[_0x4e57("0x861")] = _0x4e57("0x853"), this[_0x4e57("0x85a")] = this.options_[_0x4e57("0x848")], x && (this[_0x4e57("0x5a")] = x, this[_0x4e57("0x39f")](x))
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: "init", value: function (x) {
                var e = document.createElement(_0x4e57("0x232"));
                e[_0x4e57("0x6f")](_0x4e57("0x4bd"), "tool-wrap"), e[_0x4e57("0x6c")][_0x4e57("0x8aa")] = 10, e[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), e.style[_0x4e57("0x1c5")] = this.h_ + "px", e.style[_0x4e57("0x112")] = this.w_ + "px", e[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x509"), e[_0x4e57("0x6c")][_0x4e57("0x868")] = "white", e[_0x4e57("0x6c")].boxShadow = this.defaultShadow_, e[_0x4e57("0x6c")].borderRadius = this[_0x4e57("0x861")], this[_0x4e57("0x8c6")] ? e.style[_0x4e57("0x86e")] = "white url(" + this[_0x4e57("0x85a")] + _0x4e57("0x8c8") : e.style.background = "white url(" + this[_0x4e57("0x85a")] + _0x4e57("0x8c9"), e[_0x4e57("0x871")] = this[_0x4e57("0x8ca")][_0x4e57("0xc")](this);
                var _ = document.createElement("div");
                _[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x8cb")), _.style[_0x4e57("0xe7")] = "absolute", _[_0x4e57("0x6c")][_0x4e57("0x448")] = this[_0x4e57("0x8c6")] ? "block" : "none";
                var t = document.createElement(_0x4e57("0x232"));
                t[_0x4e57("0x6f")]("class", _0x4e57("0x8cc")), t.style[_0x4e57("0x1c5")] = this.h_ + "px", t[_0x4e57("0x6c")][_0x4e57("0x112")] = this.w_ + "px", t[_0x4e57("0x6c")].padding = this.margin_ + "px", t.style[_0x4e57("0x508")] = _0x4e57("0x509"), t[_0x4e57("0x6c")][_0x4e57("0x85f")] = this[_0x4e57("0x852")], t[_0x4e57("0x6c")][_0x4e57("0x860")] = this[_0x4e57("0x861")], this[_0x4e57("0x8c2")] ? t[_0x4e57("0x6c")].background = _0x4e57("0x8cd") + this.imgURL_ + _0x4e57("0x8ce") : t.style.background = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8cf"), t[_0x4e57("0x6c")][_0x4e57("0x868")] = _0x4e57("0x85e"), t[_0x4e57("0x871")] = this[_0x4e57("0x8d0")][_0x4e57("0xc")](this);
                var i = document[_0x4e57("0x6a")]("div");
                i[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0x8d1")), i[_0x4e57("0x6c")][_0x4e57("0x1c5")] = this.h_ + "px", i[_0x4e57("0x6c")][_0x4e57("0x112")] = this.w_ + "px", i[_0x4e57("0x6c")][_0x4e57("0x8ab")] = this[_0x4e57("0x8c1")] + "px", i[_0x4e57("0x6c")].marginTop = this[_0x4e57("0x879")] + "px", i[_0x4e57("0x6c")][_0x4e57("0x508")] = _0x4e57("0x509"), i[_0x4e57("0x6c")][_0x4e57("0x85f")] = this[_0x4e57("0x852")], i[_0x4e57("0x6c")][_0x4e57("0x860")] = this.defaultRadius_, this[_0x4e57("0x8c5")] ? i[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8d2") : i.style[_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8d3"), i[_0x4e57("0x871")] = this[_0x4e57("0x8d4")][_0x4e57("0xc")](this), _.appendChild(t), _[_0x4e57("0x235")](i);
                var a = x[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x8d5")](_0x4e57("0x36c"))[0];
                x[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x86a")](e, a), x[_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x86a")](_, a), this[_0x4e57("0x873")](e), this.setPosition_(_, this.h_), this[_0x4e57("0x874")]()
            }
        }, {
            key: _0x4e57("0x874"), value: function () {
                if (this.map) {
                    var _ = this;
                    this[_0x4e57("0x5a")].on("update", function () {
                        var x = document[_0x4e57("0x81c")](_0x4e57("0x8d6")),
                            e = document[_0x4e57("0x81c")](_0x4e57("0x8d7"));
                        _[_0x4e57("0x873")](x), _[_0x4e57("0x873")](e, _.h_)
                    })
                }
            }
        }, {
            key: _0x4e57("0x873"), value: function (x, e) {
                if (x) switch (this[_0x4e57("0x84d")]) {
                    case 1:
                        x.style[_0x4e57("0xa9")] = e ? this.top_ + e + this[_0x4e57("0x879")] + this.y_ + "px" : this[_0x4e57("0x858")] + this.y_ + "px", x[_0x4e57("0x6c")][_0x4e57("0x135")] = this[_0x4e57("0x857")] + this.x_ + "px";
                        break;
                    case 2:
                        var _ = this[_0x4e57("0x5a")].mapView.container_.offsetHeight - x[_0x4e57("0x184")] - 60;
                        e && (_ = _ - e - this[_0x4e57("0x879")]), x.style.top = _ - this.y_ + "px", x[_0x4e57("0x6c")].left = this[_0x4e57("0x857")] + this.x_ + "px";
                        break;
                    case 3:
                        e ? x[_0x4e57("0x6c")].top = this.top_ + e + this[_0x4e57("0x879")] + this.y_ + "px" : x[_0x4e57("0x6c")][_0x4e57("0xa9")] = this[_0x4e57("0x858")] + this.y_ + "px", x[_0x4e57("0x6c")][_0x4e57("0x134")] = this[_0x4e57("0x859")] + this.x_ + "px";
                        break;
                    case 4:
                        var t = this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x3e0")] - x[_0x4e57("0x184")] - 60;
                        e && (t = t - e - this[_0x4e57("0x879")]), x.style[_0x4e57("0xa9")] = t - this.y_ + "px", x.style[_0x4e57("0x134")] = this.right_ + this.x_ + "px"
                }
            }
        }, {
            key: _0x4e57("0x8ca"), value: function () {
                var x = document[_0x4e57("0x446")](_0x4e57("0x8d8"))[0],
                    e = document[_0x4e57("0x446")]("tools-wrap")[0];
                _0x4e57("0x83") == e.style[_0x4e57("0x448")] ? (x[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8c8"), e.style[_0x4e57("0x448")] = "block") : (x[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8c9"), e[_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x83"))
            }
        }, {
            key: "controlViewMode", value: function (x) {
                if (this[_0x4e57("0x5a")]) {
                    var e = document[_0x4e57("0x446")](_0x4e57("0x8cc"))[0];
                    if (this[_0x4e57("0x3ad")] && "3d" != this.viewMode_) e[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8d9"), this[_0x4e57("0x5a")][_0x4e57("0xf4")] = esmap.ESViewMode.MODE_3D, this.viewMode_ = "3d"; else {
                        if (this.floors_) {
                            var _ = document[_0x4e57("0x446")]("tool-floor-btn")[0];
                            if (document[_0x4e57("0x42a")]) _.click(); else {
                                var t = document[_0x4e57("0x8a3")]("MouseEvents");
                                t[_0x4e57("0x8c0")]("click", !0, !0), _.dispatchEvent(t)
                            }
                        }
                        e[_0x4e57("0x6c")][_0x4e57("0x86e")] = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8da"), this[_0x4e57("0x5a")][_0x4e57("0xf4")] = esmap[_0x4e57("0xa8")].MODE_2D, this.viewMode_ = _0x4e57("0xa9")
                    }
                }
            }
        }, {
            key: "controlFloor", value: function (x) {
                if (this[_0x4e57("0x5a")]) {
                    var e = document[_0x4e57("0x446")]("tool-floor-btn")[0];
                    if (this[_0x4e57("0x439")]) e[_0x4e57("0x6c")].background = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8db"), this[_0x4e57("0x5a")][_0x4e57("0x3e2")] = [map[_0x4e57("0x37c")]]; else {
                        if ("top" == this[_0x4e57("0x3ad")]) {
                            var _ = document[_0x4e57("0x446")](_0x4e57("0x8cc"))[0];
                            if (document.all) _[_0x4e57("0x875")](); else {
                                var t = document[_0x4e57("0x8a3")]("MouseEvents");
                                t[_0x4e57("0x8c0")](_0x4e57("0x875"), !0, !0), _[_0x4e57("0x17e")](t)
                            }
                        }
                        e.style.background = _0x4e57("0x8cd") + this[_0x4e57("0x85a")] + _0x4e57("0x8dc"), this[_0x4e57("0x5a")].visibleFloorNums = map[_0x4e57("0x3ec")]
                    }
                    this[_0x4e57("0x5a")][_0x4e57("0x37c")] = {
                        floornum: map.focusFloorNum,
                        time: 0
                    }, this[_0x4e57("0x439")] = !this.floors_
                }
            }
        }, {
            key: "IsAllFloors", value: function () {
                return this[_0x4e57("0x439")]
            }
        }]), _
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(0)), i = a(_(1)), g = a(_(96));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function _(x, e) {
            (0, t[_0x4e57("0xa")])(this, _), this[_0x4e57("0x3d0")] = new esmap.ESControlOptions(e), _0x4e57("0xab") == this[_0x4e57("0x3d0")][_0x4e57("0x486")] ? (this.w_ = 42, this.h_ = 42, this[_0x4e57("0x84a")] = 14) : (this.w_ = 28, this.h_ = 28, this[_0x4e57("0x84a")] = 8), this.x_ = this[_0x4e57("0x3d0")][_0x4e57("0x3f7")].x, this.y_ = this.options_[_0x4e57("0x3f7")].y, this.positon_ = this[_0x4e57("0x3d0")][_0x4e57("0xe7")] ? this[_0x4e57("0x3d0")].position : 4, this[_0x4e57("0x858")] = 20, this[_0x4e57("0x857")] = 10, this[_0x4e57("0x859")] = 10, this[_0x4e57("0x852")] = "2px 2px 3px rgba(0,0,0, 0.3)", this[_0x4e57("0x861")] = _0x4e57("0x853"), this[_0x4e57("0x85a")] = this[_0x4e57("0x3d0")][_0x4e57("0x848")], this[_0x4e57("0x568")] = !0, x && (this[_0x4e57("0x5a")] = x, this.init(x))
        }

        return (0, i[_0x4e57("0xa")])(_, [{
            key: _0x4e57("0x39f"), value: function (x) {
                var e = (0, g[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6b")](_0x4e57("0x4bd"), _0x4e57("0x8dd"))[_0x4e57("0x6c")]({
                        zIndex: 10,
                        position: _0x4e57("0x22c"),
                        backgroundColor: _0x4e57("0x85e"),
                        boxShadow: this[_0x4e57("0x852")],
                        borderRadius: this[_0x4e57("0x861")]
                    })[_0x4e57("0x69")],
                    _ = (0, g[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6b")](_0x4e57("0x4bd"), "zoom-in-btn")[_0x4e57("0x6c")]({
                        padding: this[_0x4e57("0x84a")] + "px",
                        cursor: "pointer",
                        height: this.h_
                    })[_0x4e57("0x6d")](_0x4e57("0x875"), this.scaleLevelIn[_0x4e57("0xc")](this))[_0x4e57("0x69")],
                    t = (0, g.default)(_0x4e57("0x56f"))[_0x4e57("0x6b")](_0x4e57("0x468"), this[_0x4e57("0x85a")] + "zoomin.png")[_0x4e57("0x6c")]({
                        width: this.w_ - 2 * this[_0x4e57("0x84a")] + "px",
                        height: this.h_ - 2 * this.padding_ + "px"
                    })[_0x4e57("0x69")];
                _[_0x4e57("0x235")](t);
                var i = (0, g.default)(_0x4e57("0x232"))[_0x4e57("0x6b")]("class", _0x4e57("0x8de"))[_0x4e57("0x6c")]({
                        padding: this[_0x4e57("0x84a")] + "px",
                        cursor: _0x4e57("0x509"),
                        height: this.h_
                    })[_0x4e57("0x6d")]("click", this[_0x4e57("0x3fb")][_0x4e57("0xc")](this))[_0x4e57("0x69")],
                    a = (0, g.default)(_0x4e57("0x56f"))[_0x4e57("0x6b")](_0x4e57("0x468"), this.imgURL_ + "zoomout.png")[_0x4e57("0x6c")]({
                        width: this.w_ - 2 * this[_0x4e57("0x84a")] + "px",
                        height: this.h_ - 2 * this[_0x4e57("0x84a")] + "px"
                    }).element;
                i.appendChild(a), e.appendChild(_), e[_0x4e57("0x235")](this.hrEl()), e[_0x4e57("0x235")](i);
                var n = x.mapView.container_[_0x4e57("0x8d5")](_0x4e57("0x36c"))[0];
                x.mapView[_0x4e57("0xfe")][_0x4e57("0x86a")](e, n), this[_0x4e57("0x873")](e), this[_0x4e57("0x874")]()
            }
        }, {
            key: "controlPositionListener", value: function () {
                if (this[_0x4e57("0x5a")]) {
                    var e = this;
                    this.map.on(_0x4e57("0x65"), function () {
                        var x = document[_0x4e57("0x81c")](_0x4e57("0x8df"));
                        e[_0x4e57("0x873")](x)
                    })
                }
            }
        }, {
            key: "setPosition_", value: function (x, e) {
                switch (this.positon_) {
                    case 1:
                        (0, g[_0x4e57("0xa")])(x)[_0x4e57("0x6c")]({
                            top: this[_0x4e57("0x858")] + this.y_ + "px",
                            left: this[_0x4e57("0x857")] + this.x_ + "px"
                        });
                        break;
                    case 2:
                        e = this[_0x4e57("0x5a")][_0x4e57("0xe5")][_0x4e57("0xfe")][_0x4e57("0x3e0")] - x[_0x4e57("0x184")] - 60;
                        (0, g[_0x4e57("0xa")])(x)[_0x4e57("0x6c")]({
                            top: e - this.y_ + "px",
                            left: this[_0x4e57("0x857")] + this.x_ + "px"
                        });
                        break;
                    case 3:
                        (0, g[_0x4e57("0xa")])(x)[_0x4e57("0x6c")]({
                            top: this[_0x4e57("0x858")] + this.y_ + "px",
                            right: this[_0x4e57("0x859")] + this.x_ + "px"
                        });
                        break;
                    case 4:
                        e = this[_0x4e57("0x5a")].mapView[_0x4e57("0xfe")][_0x4e57("0x3e0")] - x[_0x4e57("0x184")] - 60;
                        (0, g.default)(x)[_0x4e57("0x6c")]({
                            top: e - this.y_ + "px",
                            right: this[_0x4e57("0x859")] + this.x_ + "px"
                        })
                }
            }
        }, {
            key: "hrEl", value: function () {
                return (0, g[_0x4e57("0xa")])("hr").style({
                    height: _0x4e57("0x8bb"),
                    border: _0x4e57("0x83"),
                    borderTop: _0x4e57("0x890"),
                    width: "60%",
                    margin: _0x4e57("0x891"),
                    filter: "alpha(opacity=100, finishopacity=0, style=3)"
                })[_0x4e57("0x69")]
            }
        }, {
            key: _0x4e57("0x3fb"), value: function (x) {
                this.map && this[_0x4e57("0x5a")].scaleLevelOut(), _0x4e57("0x16") == typeof x && x(this[_0x4e57("0x8e0")])
            }
        }, {
            key: "scaleLevelIn", value: function (x) {
                this[_0x4e57("0x5a")] && this[_0x4e57("0x5a")][_0x4e57("0x8e1")](), _0x4e57("0x16") == typeof x && x(this.scalelevel)
            }
        }]), _
    }();
    e.default = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t, i = _(9), v = (t = i) && t[_0x4e57("0x8")] ? t : {default: t}, y = _(265);
    var a = function (x) {
        var e = this;
        em[_0x4e57("0xb1")].convert(this), (0, v.default)(e, x), y[_0x4e57("0x8e2")].call(e, {
            map: esmap[_0x4e57("0x101")].instance,
            changeTiltAngle: !0,
            speed: 4,
            followPosition: !0,
            followAngle: !1,
            followGap: 3,
            isMultiFloors: 0,
            inTime: 1.2,
            tiltAngle: 80,
            changeFloorTiltAngle: 30,
            minScale: .2,
            scaleLevel: 1,
            height: 0,
            reRouteDis: null,
            offsetHeight: 1,
            audioMode: _0x4e57("0x8e3"),
            directionAssert: 10,
            combineAsset: 5,
            autoClearNaviLine: !1,
            audioPlay: !1,
            crossFloorTime: 250,
            inverse: !1,
            noGoingBack: !1,
            mode_: 1,
            lineStyle: {lineType: esmap[_0x4e57("0x9e")].ESARROW, color: "#33cc61", lineWidth: 6, offsetHeight: 0},
            ladderType_: 1,
            maxEnd: 2,
            navidistance: 0,
            scaleAnimate: !0,
            isAnimate: 1
        }), e[_0x4e57("0x8e4")] = null, e[_0x4e57("0x8e5")] = null, e[_0x4e57("0x8e6")] = null, e[_0x4e57("0x8e7")] = null, e[_0x4e57("0x8e8")] = null, e[_0x4e57("0x8e9")] = new (esmap[_0x4e57("0x3c3")])(esmap.ESLayerType[_0x4e57("0x3c6")]), e[_0x4e57("0x8ea")] = new esmap.ESLayer(esmap[_0x4e57("0x3c0")][_0x4e57("0x3c6")]), e[_0x4e57("0x8eb")] = null, e.naviDescriptions = [], e.naviDescriptionsData = [], e.timerDelta = .03386500000124215, e[_0x4e57("0x3b4")] = new THREE.Clock, e[_0x4e57("0x8ec")] = {}, e[_0x4e57("0x8ed")] = null, e.audioCountDown = 20, e.curPathInfos = {
            index: 0,
            dis2next: 0
        }, e[_0x4e57("0x8ee")] = {}, e.blockList = [], e[_0x4e57("0x8ef")] = (new Date).getTime(), e[_0x4e57("0x8f0")] = !1, e[_0x4e57("0x8f1")] = !0, e[_0x4e57("0x8f2")] = !1, e[_0x4e57("0x8f3")] = null, e[_0x4e57("0x8f4")] = !1, e.crossedFnum = {}, e.toPassedFnum = {}, e[_0x4e57("0x8f5")] = {
            played: {
                nex: [],
                cur: {}
            }
        }, e[_0x4e57("0x2d6")] = {
            deviateCount: 0,
            arrivalCount: 0,
            backcount: 0,
            surDistance: 0
        }, e[_0x4e57("0x5a")].on(_0x4e57("0x8f6"), function (x) {
            e[_0x4e57("0x8f7")] && (x == _0x4e57("0x231") ? e.timerDelta = 1 : e[_0x4e57("0x8f8")] = .03386500000124215)
        }), e[_0x4e57("0x68b")] == _0x4e57("0x8f9") && esmap[_0x4e57("0x7d")][_0x4e57("0x8fa")]([_0x4e57("0x8fb"), "前方上行", _0x4e57("0x8fc"), _0x4e57("0x8fd"), _0x4e57("0x8fe"), _0x4e57("0x8fe"), "左转", "右转", "右后转", "左后转", _0x4e57("0x687"), _0x4e57("0x8ff"), _0x4e57("0x688"), _0x4e57("0x900"), "直行10米到达目的地", "直行20米", _0x4e57("0x901"), _0x4e57("0x902"), "左转后右转", "已重新规划路线", _0x4e57("0x903"), _0x4e57("0x904"), _0x4e57("0x905")])
    };
    a[_0x4e57("0xd")] = {
        constructor: a,
        get locationMarker() {
            return this._locMarker || (this[_0x4e57("0x8e8")] = new (esmap[_0x4e57("0xc8")])({
                id: _0x4e57("0x54"),
                url: this[_0x4e57("0x906")] || "image/pointer.png",
                size: this[_0x4e57("0x907")] || 150
            }), this[_0x4e57("0x5a")][_0x4e57("0x908")](this[_0x4e57("0x8e8")])), this[_0x4e57("0x8e8")]
        },
        set locationMarker(x) {
            x instanceof esmap[_0x4e57("0xc8")] && (this[_0x4e57("0x8e8")] = x, this.map[_0x4e57("0x908")](this._locMarker))
        },
        get navidata() {
            return this[_0x4e57("0x909")]
        },
        get mode() {
            return this.mode_
        },
        set mode(x) {
            this[_0x4e57("0x90a")] != x && this[_0x4e57("0x90b")] && this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")] && this[_0x4e57("0x90c")] && this.lineObj[_0x4e57("0x3d9")][_0x4e57("0x3da")] ? (this[_0x4e57("0x90a")] = x, this[_0x4e57("0x90d")](), this[_0x4e57("0x90e")](), this[_0x4e57("0x90f")] = !0, this[_0x4e57("0x910")]()) : this[_0x4e57("0x90a")] = x
        },
        get ladderType() {
            return this.ladderType_
        },
        set ladderType(x) {
            this[_0x4e57("0x911")] != x && this[_0x4e57("0x90b")] && this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")] && this[_0x4e57("0x90c")] && this[_0x4e57("0x90c")][_0x4e57("0x3d9")][_0x4e57("0x3da")] ? (this[_0x4e57("0x911")] = x, this[_0x4e57("0x90d")](), this[_0x4e57("0x90e")](), this._needDrawLines_ = !0, this[_0x4e57("0x910")]()) : this.ladderType_ = x
        },
        _createMarker: function (x, e) {
            var _ = null, t = null;
            if (x[_0x4e57("0x3e8")]) {
                _ = e ? (this[_0x4e57("0x8e6")] && this[_0x4e57("0x8e6")][_0x4e57("0x1a8")](), t = this[_0x4e57("0x8e9")], x.url || "image/start.png") : (this.endMarker && this[_0x4e57("0x8e7")][_0x4e57("0x1a8")](), t = this[_0x4e57("0x8ea")], x[_0x4e57("0x36")] || _0x4e57("0x912"));
                var i = null == x[_0x4e57("0x1c5")] ? 6 : x.height, a = new (esmap[_0x4e57("0xc6")])({
                    x: x.x,
                    y: x.y,
                    url: _,
                    height: i,
                    showLevel: x[_0x4e57("0x814")] || 18,
                    size: x[_0x4e57("0x486")] || 64,
                    callback: function () {
                        x[_0x4e57("0xf1")] && x[_0x4e57("0xf1")](a)
                    }
                });
                t[_0x4e57("0x83c")](a), e ? this.startMarker = a : this[_0x4e57("0x8e7")] = a, this[_0x4e57("0x5a")][_0x4e57("0xf8")](x[_0x4e57("0x3e8")])[_0x4e57("0x82a")](t)
            }
        },
        setStartPoint: function (x, e) {
            this[_0x4e57("0x90d")](), !this[_0x4e57("0x8f1")] && this[_0x4e57("0x68e")](), this[_0x4e57("0x8e4")] = (0, v[_0x4e57("0xa")])({}, this[_0x4e57("0x8e4")], x), !x[_0x4e57("0x36")] || x[_0x4e57("0x913")] || e || this[_0x4e57("0x914")](x, !0), this[_0x4e57("0x90e")](), this[_0x4e57("0x90f")] = !0
        },
        setEndPoint: function (x, e) {
            !this[_0x4e57("0x8f1")] && this[_0x4e57("0x68e")](), this[_0x4e57("0x8e5")] = (0, v[_0x4e57("0xa")])({}, this[_0x4e57("0x8e5")], x), !x[_0x4e57("0x36")] || x.noMarker || e || this[_0x4e57("0x914")](x, !1), this._getNaviResult(), this[_0x4e57("0x90f")] = !0
        },
        setNaviData: function (x) {
            if (this.clearAll(), this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")]) {
                this[_0x4e57("0x90b")] = {result: x}, this[_0x4e57("0x8eb")] = this[_0x4e57("0x90b")][_0x4e57("0x915")], this._getFloorsPoints();
                var e = this[_0x4e57("0x916")](this._naviResult);
                this.naviDescriptions = e[0], this[_0x4e57("0x917")] = e[1], this.navidistance = e[2], this[_0x4e57("0x918")] = this[_0x4e57("0x919")]();
                for (var _ = 0; _ < this[_0x4e57("0x918")].length; _++) this[_0x4e57("0x91a")][this[_0x4e57("0x918")][_][_0x4e57("0x3e8")]] || (this[_0x4e57("0x91a")][this[_0x4e57("0x918")][_][_0x4e57("0x3e8")]] = !1);
                this[_0x4e57("0x91a")][this[_0x4e57("0x8e4")].fnum] = !0
            }
        },
        _getFloorsPoints: function () {
            var x = this[_0x4e57("0x90b")][_0x4e57("0x915")];
            if (x) {
                for (var e = [], _ = null, t = null, i = 0; i < x[_0x4e57("0x0")]; i++) {
                    var a = x[i], n = _ == a[_0x4e57("0x3e8")];
                    0 == a[_0x4e57("0x0")] && 0 != i && i != x[_0x4e57("0x0")] - 1 || (n || (_ = a.fnum, t && e[_0x4e57("0xf")](t), t = {
                        fnum: a[_0x4e57("0x3e8")],
                        pointList: []
                    }), Array[_0x4e57("0xd")].push[_0x4e57("0x4")](t[_0x4e57("0x3f8")], a.pointList))
                }
                return t && e.push(t), this[_0x4e57("0x909")] = e
            }
        },
        _addZeroResult: function (x) {
            for (var e = 0; e < x[_0x4e57("0x0")] - 1; e++) {
                var _ = x[e];
                if (_.length) {
                    var t = _[_0x4e57("0x3f8")][_.pointList.length - 1], i = x[e + 1][_0x4e57("0x3f8")][0];
                    .2 < (0, y[_0x4e57("0x91b")])(t, i) && _[_0x4e57("0x3f8")][_0x4e57("0xf")](new esmap.ESMapCoord(i.x, i.y))
                }
            }
        },
        reset: function () {
            this[_0x4e57("0x90e")]()
        },
        getCrossPoints: function () {
            for (var x = [], e = this[_0x4e57("0x90b")][_0x4e57("0x915")], _ = 0; _ < e.length; _++) if (0 == e[_][_0x4e57("0x0")] && 1 == e[_][_0x4e57("0x3f8")].length) {
                var t = (0, v[_0x4e57("0xa")])({}, e[_].pointList[0]);
                e[_][_0x4e57("0x3f8")][0].id;
                t.id && (t[_0x4e57("0x622")] = this.navicore[_0x4e57("0x91c")][t.fnum][_0x4e57("0x618")][t.id].tid || 0, x[_0x4e57("0xf")](t))
            }
            return x
        },
        queryByPoints: function (x) {
            var e, t = [], _ = this[_0x4e57("0x320")], i = this.ladderType_;
            this.navicore || (this.navicore = new esmap.ESNaviCore);
            for (var a = 0; a < x[_0x4e57("0x0")] - 1; a++) {
                var n = x[a], g = x[a + 1];
                !e && (e = n[_0x4e57("0x3e8")]);
                var r = this[_0x4e57("0x91d")].getNaviResult2(n[_0x4e57("0x3e8")], g[_0x4e57("0x3e8")], n, g, _, i, !0);
                this[_0x4e57("0x91e")] || (this[_0x4e57("0x91d")].multiLinesUsed = []), a < x[_0x4e57("0x0")] - 2 && r[_0x4e57("0x915")][r[_0x4e57("0x915")].length - 1].pointList[_0x4e57("0x91f")](), r[_0x4e57("0x915")].forEach(function (x, e, _) {
                    t.push(x)
                })
            }
            for (var A = {}, s = 0; s < t[_0x4e57("0x0")]; s++) for (var C = 0; C < t[s].pointList[_0x4e57("0x0")]; C++) A[t[s][_0x4e57("0x3f8")][C].id] ? C != t[s][_0x4e57("0x3f8")][_0x4e57("0x0")] - 1 && (t[s][_0x4e57("0x3f8")][C].x += .8, t[s][_0x4e57("0x3f8")][C].y += .8) : A[t[s][_0x4e57("0x3f8")][C].id] = 1;
            for (var I = 0; I < t[_0x4e57("0x0")] - 1; I++) t[I][_0x4e57("0x3e8")] == t[I + 1][_0x4e57("0x3e8")] && 0 != t[I][_0x4e57("0x0")] && 0 != t[I + 1][_0x4e57("0x0")] && (t[I].length += t[I + 1][_0x4e57("0x0")], t[I][_0x4e57("0x3f8")] = t[I][_0x4e57("0x3f8")][_0x4e57("0x11")](t[I + 1][_0x4e57("0x3f8")]), t[_0x4e57("0x63")](I + 1, 1), I--);
            this[_0x4e57("0x8e4")] = {
                x: x[0].x,
                y: x[0].y,
                fnum: x[0].fnum
            }, this[_0x4e57("0x8e5")] = {
                x: x[x[_0x4e57("0x0")] - 1].x,
                y: x[x[_0x4e57("0x0")] - 1].y,
                fnum: x[x.length - 1][_0x4e57("0x3e8")]
            }, this[_0x4e57("0x90b")] = {result: t}, this[_0x4e57("0x8eb")] = t, this._getFloorsPoints();
            x = this[_0x4e57("0x916")](this[_0x4e57("0x8eb")]);
            this[_0x4e57("0x920")] = x[0], this[_0x4e57("0x917")] = x[1], this[_0x4e57("0x921")] = x[2], this[_0x4e57("0x918")] = this[_0x4e57("0x919")]();
            for (var o = 0; o < this[_0x4e57("0x918")].length; o++) this[_0x4e57("0x91a")][this.crossPoints[o][_0x4e57("0x3e8")]] || (this[_0x4e57("0x91a")][this[_0x4e57("0x918")][o].fnum] = !1);
            this[_0x4e57("0x91a")][e] = !0
        },
        _getNaviResult: function () {
            if (this[_0x4e57("0x8e4")] && this.endData) {
                var x = this.startData, e = this[_0x4e57("0x8e5")], _ = this[_0x4e57("0x320")];
                this[_0x4e57("0x91d")] || (this[_0x4e57("0x91d")] = new (esmap[_0x4e57("0xd5")])), this.outcome = this[_0x4e57("0x91d")][_0x4e57("0x922")](x[_0x4e57("0x3e8")], e[_0x4e57("0x3e8")], x, e, _, this[_0x4e57("0x911")]);
                var t = 1;
                if (!this.outcome) return console[_0x4e57("0xde")](_0x4e57("0x923")), t = 0, void this[_0x4e57("0x149")]("checkStatus", t);
                this[_0x4e57("0x149")](_0x4e57("0x924"), t), this[_0x4e57("0x8eb")] = this[_0x4e57("0x90b")][_0x4e57("0x915")], this[_0x4e57("0x925")]();
                var i = this[_0x4e57("0x916")](this[_0x4e57("0x8eb")]);
                this[_0x4e57("0x920")] = i[0], this.naviDescriptionsData = i[1], this.navidistance = i[2], this.crossPoints = this[_0x4e57("0x919")]();
                for (var a = 0; a < this[_0x4e57("0x918")][_0x4e57("0x0")]; a++) this.toPassedFnum[this[_0x4e57("0x918")][a][_0x4e57("0x3e8")]] || (this[_0x4e57("0x91a")][this.crossPoints[a].fnum] = !1);
                this[_0x4e57("0x91a")][this[_0x4e57("0x8e4")].fnum] = !0
            }
        },
        clearLocationMarker: function () {
            this[_0x4e57("0x8e8")] && (this.map.removeLocationMarker(this[_0x4e57("0x8e8")]), this[_0x4e57("0x8e8")] = null)
        },
        clearMarkers: function () {
            this[_0x4e57("0x8e6")] && (this[_0x4e57("0x8e6")][_0x4e57("0x1a8")](), this[_0x4e57("0x926")] = null, this[_0x4e57("0x8e4")] = null), this[_0x4e57("0x8e7")] && (this[_0x4e57("0x8e7")][_0x4e57("0x1a8")](), this.endMarker = null, this.endData = null), this[_0x4e57("0x8eb")] = null
        },
        clearNaviLines: function () {
            this[_0x4e57("0x5a")][_0x4e57("0x3d6")]("navLine")
        },
        clearAll: function () {
            this[_0x4e57("0x68e")](), this[_0x4e57("0x927")](), this[_0x4e57("0x90d")](), this[_0x4e57("0x928")]()
        },
        _drawLinesByFloor: function (e, _) {
            var t = this;
            t.lineStyle.up = new (THREE[_0x4e57("0x11b")])(0, 1, 0), t.lineStyle[_0x4e57("0x7da")] = !1, t[_0x4e57("0x909")][_0x4e57("0x60")](function (x) {
                if (x[_0x4e57("0x3e8")] == e) return t._drawlineByResults([x], _)
            })
        },
        _drawLines: function (x, e) {
            (e = null == e || e) && this.clearNaviLines();
            for (var _, t = [], i = 0; i < x[_0x4e57("0x0")]; i++) {
                var a = x[i].point, n = x[i][_0x4e57("0x3e8")];
                _ && _ == n ? t[t[_0x4e57("0x0")] - 1][_0x4e57("0x3f8")][_0x4e57("0xf")](a) : t[_0x4e57("0xf")]({
                    fnum: n,
                    pointList: [a]
                }), _ = n
            }
            this[_0x4e57("0x929")](t, e)
        },
        _drawlineByResults: function (x, e) {
            (e = null == e || e) && this[_0x4e57("0x90d")]();
            var _ = new (esmap[_0x4e57("0xd3")])(_0x4e57("0x92a"), x, this[_0x4e57("0x92b")]);
            this.lineObj = _, _0x4e57("0xa5") == this[_0x4e57("0x92b")][_0x4e57("0x38")] || _0x4e57("0xa6") == this.lineStyle[_0x4e57("0x38")] ? this[_0x4e57("0x92b")][_0x4e57("0x744")] = .3 : this[_0x4e57("0x92b")].yScale = 1, this[_0x4e57("0x5a")][_0x4e57("0x3d8")](_)
        },
        drawNaviLine: function (x, e) {
            if (this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")] && this[_0x4e57("0x90b")]) {
                this._needDrawLines_ = !1, this.lineStyle.up = new (THREE[_0x4e57("0x11b")])(0, 1, 0), this[_0x4e57("0x92b")][_0x4e57("0x7da")] = !1, !this[_0x4e57("0x92c")] && e && this[_0x4e57("0x90d")]();
                var _;
                return _ = null == x || "all" == x || 0 == x ? this._drawLines(this[_0x4e57("0x92d")], this.autoClearNaviLine) : this[_0x4e57("0x92e")](x, this[_0x4e57("0x92c")]), this[_0x4e57("0x92f")](), _
            }
        },
        _locMarkerToStartPoint: function (x) {
            if (this._naviResult) {
                var e = this._naviResult[0].pointList[0], _ = this[_0x4e57("0x8eb")][0][_0x4e57("0x3e8")];
                x = null == x ? 3 : x, this[_0x4e57("0x6b2")][_0x4e57("0x6f5")](e.x, e.y, _, x || 1.01 * this[_0x4e57("0x3e0")])
            }
        },
        _moveTo: function (x, e, _) {
            return null == e && (e = 0), this[_0x4e57("0x5a")][_0x4e57("0xe1")]({
                x: x.x,
                y: x.y,
                time: e,
                FloorNum: x[_0x4e57("0x3e8")],
                callback: _
            })
        },
        broadcast: function (x, e, _, t, i) {
            var a = this, n = esmap.ESMapUtil.playAudio;
            if (a[_0x4e57("0x917")][x] && a[_0x4e57("0x92d")] && !(-1 < a[_0x4e57("0x930")][_0x4e57("0x41")](x))) {
                var g = a[_0x4e57("0x917")][x][_0x4e57("0x155")], r = a[_0x4e57("0x8f5")];
                if (_ = _ || (1 == a[_0x4e57("0x320")] ? 3 : 7), r[_0x4e57("0x931")][_0x4e57("0x932")][x] || (r.played[_0x4e57("0x932")][x] = []), e <= _ && r[_0x4e57("0x931")][_0x4e57("0x933")].indexOf(x) < 0) {
                    var A = a[_0x4e57("0x92d")][x + 1].relDesc;
                    _ == 1 / 0 && 0 == e && (g <= 6 ? (A = a[_0x4e57("0x917")][x][_0x4e57("0x934")], r[_0x4e57("0x931")][_0x4e57("0x933")][_0x4e57("0xf")](x)) : A = "前");
                    var s = "";
                    switch (A) {
                        case"右后":
                        case"左后":
                            s = A + "转";
                            break;
                        case"左前":
                        case"右前":
                            s = A + _0x4e57("0x935");
                            break;
                        case"左":
                        case"右":
                            s = A + "转";
                            break;
                        case"前":
                            s = _0x4e57("0x688");
                            break;
                        case"左转后右转":
                            s = "左转后右转";
                            break;
                        case _0x4e57("0x903"):
                            s = _0x4e57("0x903");
                            break;
                        case"连续左转弯":
                            s = _0x4e57("0x904");
                            break;
                        case"连续右转弯":
                            s = _0x4e57("0x905")
                    }
                    40004 === a[_0x4e57("0x8e5")][_0x4e57("0x622")] && 2 == a[_0x4e57("0x320")] && x == navi[_0x4e57("0x920")].length - 2 && ("右" === A ? s = _0x4e57("0x8fe") : "左" === A && (s = _0x4e57("0x936")), r[_0x4e57("0x931")][_0x4e57("0x933")][_0x4e57("0xf")](x + 1)), a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20), _ == 1 / 0 ? (a[_0x4e57("0x8f2")] && t && 8 <= e && (s = _0x4e57("0x688")), a.audioMode == _0x4e57("0x8e3") ? "终" == A ? s = "直行" + parseInt(e) + _0x4e57("0x938") : "上" == A ? s = "直行" + parseInt(e) + "上行" : "下" == A && (s = "直行" + parseInt(e) + "下行") : "终" == A ? s = _0x4e57("0x8fb") : "上" == A ? s = _0x4e57("0x939") : "下" == A && (s = "前方下行"), r.played.cur[x].push(x)) : r.played[_0x4e57("0x933")][_0x4e57("0xf")](x), n(s), -1 < s[_0x4e57("0x41")](_0x4e57("0x93a")) && setTimeout(function () {
                        a[_0x4e57("0x68e")](), a.emit(_0x4e57("0x26"))
                    }, 3e3)
                } else if (8 <= g) {
                    if (a[_0x4e57("0x8ec")][x] || (a[_0x4e57("0x8ec")][x] = {
                        10: !1,
                        20: !0,
                        50: !0,
                        100: !0
                    }, Math[_0x4e57("0x13f")](g - 10) <= 5 ? a[_0x4e57("0x8ec")][x][10] = !1 : Math[_0x4e57("0x13f")](g - 20) <= 5 ? a[_0x4e57("0x8ec")][x][20] = !1 : Math[_0x4e57("0x13f")](g - 50) <= 5 ? a[_0x4e57("0x8ec")][x][50] = !1 : Math[_0x4e57("0x13f")](g - 100) <= 5 && (a[_0x4e57("0x8ec")][x][100] = !1)), 3 <= g - e && r[_0x4e57("0x931")][_0x4e57("0x932")][x][_0x4e57("0x41")](x) < 0) {
                        var C = void 0;
                        if ("online" == a[_0x4e57("0x68b")]) {
                            var I = "终" == a.combinePoints[x + 1][_0x4e57("0x93b")] ? _0x4e57("0x93c") : "";
                            C = "直行" + parseInt(g - 2 * a.speed) + "米" + I, a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20)
                        } else C = _0x4e57("0x688");
                        i && i <= 20 && s == _0x4e57("0x688") || n(C), a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20), r[_0x4e57("0x931")].cur[x][_0x4e57("0xf")](x)
                    }
                    if (a[_0x4e57("0x8ec")][x][10] && Math[_0x4e57("0x13f")](e - 10) <= 1 && r[_0x4e57("0x931")][_0x4e57("0x932")][x][_0x4e57("0x41")](_0x4e57("0x93d")) < 0) {
                        var o = "终" == (A = a[_0x4e57("0x92d")][x + 1].relDesc) ? _0x4e57("0x93c") : "";
                        n(_0x4e57("0x900") + o), r[_0x4e57("0x931")].cur[x].push("10m"), a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20)
                    } else a[_0x4e57("0x8ec")][x][20] && Math[_0x4e57("0x13f")](e - 20) <= 1 && r.played[_0x4e57("0x932")][x].indexOf(_0x4e57("0x93e")) < 0 ? (n(_0x4e57("0x93f")), r[_0x4e57("0x931")][_0x4e57("0x932")][x].push(_0x4e57("0x93e")), a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20)) : a.allowPlayDis[x][50] && Math[_0x4e57("0x13f")](e - 50) <= 1 && r[_0x4e57("0x931")][_0x4e57("0x932")][x].indexOf("50m") < 0 ? (n(_0x4e57("0x901")), r.played[_0x4e57("0x932")][x].push(_0x4e57("0x940")), a.isNaving && (a[_0x4e57("0x937")] = 20)) : a[_0x4e57("0x8ec")][x][100] && Math[_0x4e57("0x13f")](e - 100) <= 1 && r[_0x4e57("0x931")].cur[x].indexOf(_0x4e57("0x941")) < 0 && (n(_0x4e57("0x902")), r[_0x4e57("0x931")].cur[x].push(_0x4e57("0x941")), a[_0x4e57("0x8f2")] && (a[_0x4e57("0x937")] = 20))
                }
            }
        },
        getDisToNextCross: function (x, e) {
            for (var _ = {dis: -1, point1: null, point2: null}, t = 0; t < this[_0x4e57("0x918")].length; t++) {
                var i = this[_0x4e57("0x918")][t];
                if (i.fnum != x || 30 != i[_0x4e57("0x622")] && 40 != i.tid) {
                    if (_[_0x4e57("0x942")] && (30 == i[_0x4e57("0x622")] || 40 == i[_0x4e57("0x622")]) && i[_0x4e57("0x3e8")] != _.point1.fnum) {
                        _.point2 = i, _[_0x4e57("0x943")] = (0, y.DistanceofTwoPts)(_[_0x4e57("0x942")], _.point2), _[_0x4e57("0x19c")] = this[_0x4e57("0x6a8")](_[_0x4e57("0x942")], _[_0x4e57("0x944")]);
                        break
                    }
                } else _.dis = (0, y[_0x4e57("0x91b")])(i, e), _[_0x4e57("0x942")] = i
            }
            return _
        },
        walkingfunction: function (x, e, _) {
            var t = this, i = t.count, a = x[_0x4e57("0x3e8")], n = x[_0x4e57("0x26d")],
                g = t[_0x4e57("0x945")](t[_0x4e57("0x946")], n), r = (g.dis, (new Date)[_0x4e57("0xdc")]());
            if (g[_0x4e57("0x942")] && !t[_0x4e57("0x8f4")] && t._preGid != a && !t[_0x4e57("0x947")][t[_0x4e57("0x946")]]) return t.isCrossingFuti = !0, t[_0x4e57("0x948")] = g[_0x4e57("0x943")] || 10, t[_0x4e57("0x947")][t[_0x4e57("0x946")]] = !0, t[_0x4e57("0x91a")][a] = !0, t.crossFutiTime || (t[_0x4e57("0x949")] = (new Date)[_0x4e57("0xdc")]()), (C = t.map.toSceneCoord(g[_0x4e57("0x942")]))[_0x4e57("0x3e8")] = g[_0x4e57("0x942")][_0x4e57("0x3e8")], x.point = g[_0x4e57("0x942")], x[_0x4e57("0x3e8")] = g[_0x4e57("0x942")][_0x4e57("0x3e8")], this[_0x4e57("0x149")]("walking", x), void this._gps(C, g[_0x4e57("0x19c")] || 0, g[_0x4e57("0x942")]);
            if (t[_0x4e57("0x8f4")] && r - t[_0x4e57("0x949")] > t[_0x4e57("0x948")] * t[_0x4e57("0x94a")] && (t[_0x4e57("0x8f4")] = !1, t[_0x4e57("0x949")] = (new Date)[_0x4e57("0xdc")]()), !t[_0x4e57("0x8f4")]) {
                var A = "3" == t[_0x4e57("0x91d")][_0x4e57("0x94b")] ? 3 : 1,
                    s = t[_0x4e57("0x94c")] ? t.reRouteDis : 8 * A;
                if (x.offset > s ? i[_0x4e57("0x94d")]++ : i.deviateCount = 0, 3 <= i.deviateCount) return t.stop(), t.audioPlay && esmap[_0x4e57("0x7d")].playAudio(_0x4e57("0x94e")), t[_0x4e57("0x149")](_0x4e57("0x94f")), t[_0x4e57("0x6b2")][_0x4e57("0xe1")]({
                    x: e.x,
                    y: e.y
                }), t.startData.x = e.x, t[_0x4e57("0x8e4")].y = e.y, t.startMarker[_0x4e57("0xe1")](e), t[_0x4e57("0x90d")](), t[_0x4e57("0x90e")](), t[_0x4e57("0x90f")] = !0, t[_0x4e57("0x910")](), i[_0x4e57("0x94d")] = 0, t[_0x4e57("0x950")] = !1, void t[_0x4e57("0x62")](!0);
                if (0 != i[_0x4e57("0x951")] && i[_0x4e57("0x951")] < x[_0x4e57("0x952")] ? i[_0x4e57("0x953")]++ : i[_0x4e57("0x953")] = 0, _ && (i[_0x4e57("0x953")] = 0), 0 == i[_0x4e57("0x953")] || i[_0x4e57("0x953")] > 10 * A) {
                    var C;
                    (C = t[_0x4e57("0x5a")][_0x4e57("0x3f9")](x[_0x4e57("0x26d")]))[_0x4e57("0x3e8")] = x.point.fnum;
                    var I = x[_0x4e57("0x954")];
                    if (!t[_0x4e57("0x8ee")][I] && t[_0x4e57("0x930")][_0x4e57("0x41")](I) < 0) {
                        t[_0x4e57("0x8ee")][I] = !0;
                        var o = t.combinePoints[I + 1][_0x4e57("0x955")], c = t.combinePoints[I + 1][_0x4e57("0x155")];
                        if ((1 == o || 7 == o) && c <= 8) {
                            for (var l = [], u = 0, h = [], f = I + 1; f < t[_0x4e57("0x92d")].length - 1 && (t[_0x4e57("0x92d")][f] && t[_0x4e57("0x92d")][f][_0x4e57("0x1")](_0x4e57("0x955")) && (1 == t[_0x4e57("0x92d")][f].relField || 7 == t[_0x4e57("0x92d")][f].relField) && l[_0x4e57("0x0")] <= 4 && u < 25); f++) {
                                var d = t[_0x4e57("0x92d")][f][_0x4e57("0x955")];
                                t[_0x4e57("0x920")][f - 1][2] && (t[_0x4e57("0x920")][f - 1][2] = 1 == d ? _0x4e57("0x956") : "米 左转", t[_0x4e57("0x917")][f - 1].endDirection = 1 == d ? "右" : "左", t[_0x4e57("0x92d")][f][_0x4e57("0x93b")] = 1 == d ? "右" : "左", u += t.combinePoints[f][_0x4e57("0x155")], h[_0x4e57("0xf")](d), l[_0x4e57("0xf")](f))
                            }
                            if (0 < l[_0x4e57("0x0")]) {
                                var p;
                                if ((u -= t[_0x4e57("0x92d")][l[l[_0x4e57("0x0")] - 1]][_0x4e57("0x155")]) <= 16) {
                                    var b = t[_0x4e57("0x920")][l[0] - 1];
                                    "1,1,7,7" === h[_0x4e57("0x2a9")]() ? b && b[2] && (t.naviDescriptions[l[0] - 1][2] = "米 右转后左转", t[_0x4e57("0x917")][l[0] - 1][_0x4e57("0x934")] = _0x4e57("0x903"), t.combinePoints[l[0] - 1].relDesc = "右转后左转") : h[_0x4e57("0x2a9")]() === _0x4e57("0x957") ? b && b[2] && (t[_0x4e57("0x920")][l[0] - 1][2] = _0x4e57("0x958"), t[_0x4e57("0x917")][l[0] - 1].endDirection = _0x4e57("0x959"), t[_0x4e57("0x92d")][l[0]][_0x4e57("0x93b")] = _0x4e57("0x959")) : h[_0x4e57("0x41")](1) < 0 ? h.toString() === _0x4e57("0x95a") ? b && b[2] && (t.naviDescriptions[l[0] - 1][2] = _0x4e57("0x95b"), t.naviDescriptionsData[l[0] - 1][_0x4e57("0x934")] = "左", t[_0x4e57("0x92d")][l[0]][_0x4e57("0x93b")] = "左") : b && b[2] && (t.naviDescriptions[l[0] - 1][2] = _0x4e57("0x95c"), t[_0x4e57("0x917")][l[0] - 1][_0x4e57("0x934")] = "连续左转弯", t[_0x4e57("0x92d")][l[0]].relDesc = _0x4e57("0x904")) : h[_0x4e57("0x41")](7) < 0 && (h[_0x4e57("0x2a9")]() === _0x4e57("0x95a") ? b && b[2] && (t[_0x4e57("0x920")][l[0] - 1][2] = _0x4e57("0x956"), t[_0x4e57("0x917")][l[0] - 1][_0x4e57("0x934")] = "右", t[_0x4e57("0x92d")][l[0]][_0x4e57("0x93b")] = "右") : b && b[2] && (t.naviDescriptions[l[0] - 1][2] = _0x4e57("0x95d"), t[_0x4e57("0x917")][l[0] - 1][_0x4e57("0x934")] = _0x4e57("0x905"), t[_0x4e57("0x92d")][l[0]][_0x4e57("0x93b")] = _0x4e57("0x905")))
                                }
                                l.pop(), (p = t[_0x4e57("0x930")])[_0x4e57("0xf")][_0x4e57("0x4")](p, l)
                            }
                        }
                    }
                    if (this[_0x4e57("0x149")](_0x4e57("0x95e"), x), this[_0x4e57("0x95f")](C, x[_0x4e57("0x19c")], x.point), i[_0x4e57("0x951")] = x.remain, x.remain < t.maxEnd ? i[_0x4e57("0x960")]++ : i[_0x4e57("0x960")] = 0, 3 < i[_0x4e57("0x960")] || x.remain <= 1) {
                        t[_0x4e57("0x68e")]();
                        var m = t[_0x4e57("0x5a")]._ac ? _0x4e57("0x961") + t[_0x4e57("0x5a")][_0x4e57("0x53a")] + "导航" : "";
                        m = _0x4e57("0x962") + m, t.audioPlay && esmap.ESMapUtil[_0x4e57("0x68f")](m), t[_0x4e57("0x149")](_0x4e57("0x26"))
                    } else t.audioPlay && t[_0x4e57("0x963")](x[_0x4e57("0x954")], x[_0x4e57("0x964")], 0, 0, x[_0x4e57("0x952")])
                }
            }
        },
        walkTo: function (_, t) {
            var i = this;
            _.x > i[_0x4e57("0x5a")][_0x4e57("0x35e")] - 100 && _.x < i[_0x4e57("0x5a")][_0x4e57("0x35d")] + 100 && _.y > i[_0x4e57("0x5a")][_0x4e57("0x364")] - 100 && _.y < i[_0x4e57("0x5a")][_0x4e57("0x35f")] + 100 && (i[_0x4e57("0x8f7")] && i[_0x4e57("0x68e")](), i[_0x4e57("0x8f2")] && function () {
                var x = i[_0x4e57("0x965")](_);
                if (x) {
                    var e = {
                        remain: x[_0x4e57("0x952")],
                        walk: i[_0x4e57("0x921")] - x[_0x4e57("0x952")],
                        distanceToNext: x[_0x4e57("0x964")],
                        angle: x[_0x4e57("0x19c")],
                        point: x.coord,
                        fnum: _[_0x4e57("0x3e8")],
                        index: x[_0x4e57("0x954")],
                        isReal: !0,
                        offset: x[_0x4e57("0x155")]
                    };
                    e[_0x4e57("0x966")] && (i._preGid || (i[_0x4e57("0x946")] = e[_0x4e57("0x3e8")]), t = t || !1, i[_0x4e57("0x967")] = {
                        index: e[_0x4e57("0x954")],
                        dis2next: e[_0x4e57("0x964")]
                    }, i[_0x4e57("0x968")](e, _, t))
                }
            }())
        },
        naviConstraint: function (x) {
            if (this.startData && this[_0x4e57("0x8e5")]) {
                for (var e = {
                    coord: {fnum: x[_0x4e57("0x3e8")]},
                    distance: null,
                    angle: 0,
                    balanceValue: null
                }, a = this[_0x4e57("0x969")]()[_0x4e57("0x5a")](function (x) {
                    return {x: x.x, y: x.z, z: 0, fnum: x[_0x4e57("0x3e8")], index: x[_0x4e57("0x96a")]}
                }), _ = {}, t = function (x) {
                    for (var e = 0, _ = a[_0x4e57("0x0")] - 1; _ > x[_0x4e57("0x954")]; _--) if (_ - 1 > x[_0x4e57("0x954")]) {
                        var t = a[_], i = a[_ - 1];
                        e += (0, y[_0x4e57("0x91b")])(t, i)
                    }
                    return e += (0, y.DistanceofTwoPts)(a[x.index + 1], x[_0x4e57("0x79b")])
                }, i = t({
                    coord: this[_0x4e57("0x5a")][_0x4e57("0x3fa")](this[_0x4e57("0x6b2")][_0x4e57("0xe7")]),
                    index: this[_0x4e57("0x967")][_0x4e57("0x954")]
                }), n = 1; n < a[_0x4e57("0x0")]; n++) {
                    var g = a[n - 1], r = a[n];
                    if (g[_0x4e57("0x3e8")] === x[_0x4e57("0x3e8")] && r.fnum === x[_0x4e57("0x3e8")]) {
                        var A = (0, y.calcProjPoint)(x, g, r, _), s = i - t({index: g.index, coord: _});
                        g[_0x4e57("0x954")], this[_0x4e57("0x967")][_0x4e57("0x954")];
                        Math[_0x4e57("0x13f")](s) < .5 && 0 == (s *= 10) && (s = 10);
                        var C = .6 * A + Math[_0x4e57("0x13f")](.4 * s);
                        (null == e[_0x4e57("0x96b")] || C < e.balanceValue) && (e.distance = A, e[_0x4e57("0x96b")] = C, (0, v[_0x4e57("0xa")])(e.coord, _), e.angle = this[_0x4e57("0x6a8")](g, r), e[_0x4e57("0x954")] = g[_0x4e57("0x954")], e[_0x4e57("0x3e8")] = g[_0x4e57("0x3e8")], e[_0x4e57("0x964")] = (0, y.DistanceofTwoPts)(_, r))
                    }
                }
                if (null != e.distance) {
                    var I = t(e);
                    e.remain = I
                }
                return e
            }
        },
        getRouteAngle: function (x, e) {
            var _ = new (THREE[_0x4e57("0x11b")])(0, 0, 1), t = new (THREE[_0x4e57("0x11b")])(x.x, 0, x.y),
                i = new (THREE[_0x4e57("0x11b")])(e.x, 0, e.y)[_0x4e57("0xe8")]()[_0x4e57("0xec")](t)[_0x4e57("0x12f")](),
                a = i[_0x4e57("0x6a9")](_) * THREE[_0x4e57("0x141")][_0x4e57("0x492")];
            return 0 < i[_0x4e57("0xe8")]()[_0x4e57("0x6aa")](_).y ? 360 - a : a
        },
        _getTransformByLength: function (x, e, _) {
            if (_ <= e) return x[x.length - 1];
            if (x) {
                if (0 == e) return x[0];
                for (var t, i, a = 0, n = 0, g = x[0], r = 1; r < x.length; r++) if ((t = x[r])[_0x4e57("0x3e8")] == g[_0x4e57("0x3e8")]) {
                    if (e <= (a += (i = t[_0x4e57("0xe8")]().sub(g)).length())) {
                        i[_0x4e57("0x12f")]();
                        var A = g.clone()[_0x4e57("0x28")](i.clone()[_0x4e57("0xf3")](e - n));
                        return A[_0x4e57("0x3e8")] = t[_0x4e57("0x3e8")], A.index = t._index, A
                    }
                    (g = t[_0x4e57("0xe8")]())[_0x4e57("0x3e8")] = t.fnum, g.index = t[_0x4e57("0x96a")], n = a
                } else (g = t.clone())[_0x4e57("0x3e8")] = t[_0x4e57("0x3e8")], g[_0x4e57("0x954")] = t[_0x4e57("0x96a")];
                var s = (0, v[_0x4e57("0xa")])(new (THREE[_0x4e57("0x11b")]), x[x[_0x4e57("0x0")] - 1]);
                return s[_0x4e57("0x954")] = s[_0x4e57("0x96a")], s
            }
        },
        getLadderType: function (x, e) {
            if (x.id) switch (this.navicore[_0x4e57("0x91c")][x.fnum][_0x4e57("0x618")][x.id][_0x4e57("0x622")] || 0) {
                case 21:
                    return this[_0x4e57("0x8f3")] = "电梯";
                case 40:
                    return this[_0x4e57("0x8f3")] = "楼梯";
                case 30:
                    return this[_0x4e57("0x8f3")] = "扶梯"
            }
            return "梯"
        },
        _naviDescriptions: function (x) {
            function s(x, e) {
                var _ = Math.PI / 4, t = x / _, i = parseInt(t), a = t % 1 * _;
                return i % 2 == 0 ? e < a && (i += 1) : _ - e <= a && (i += 1), i
            }

            function C(x, e) {
                var _ = e[_0x4e57("0x6a9")](x);
                return e[_0x4e57("0xe8")]()[_0x4e57("0x6aa")](x).y < 0 && (_ = 2 * Math.PI - _), _
            }

            function g(x, e) {
                if (e == x[_0x4e57("0x0")] - 1) return {index: x[x[_0x4e57("0x0")] - 1][_0x4e57("0x954")]};
                var _ = new (THREE[_0x4e57("0x11b")])(0, 0, 1), t = 0 == e ? _ : x[e].clone().sub(x[e - 1]).normalize(),
                    i = x[e + 1][_0x4e57("0xe8")]()[_0x4e57("0xec")](x[e]), a = i[_0x4e57("0x0")](),
                    n = i[_0x4e57("0x12f")](),
                    g = (I[_0x4e57("0x96c")], THREE[_0x4e57("0x141")].DEG2RAD, s(C(_, n), 22.5 * THREE[_0x4e57("0x141")].DEG2RAD)),
                    r = C(t, n), A = s(r, I[_0x4e57("0x96c")] * THREE[_0x4e57("0x141")][_0x4e57("0x463")]);
                return {
                    relField: A,
                    relDesc: f[A],
                    relAngle: r * THREE.Math.RAD2DEG,
                    absField: g,
                    absDesc: h[g],
                    distance: a,
                    index: x[e][_0x4e57("0x954")]
                }
            }

            function e(x, e) {
                for (var _ = x[_0x4e57("0x5a")](function (x, e) {
                    var _ = I[_0x4e57("0x5a")].toSceneCoord(x);
                    return _.index = e, _
                }), t = [], i = 0; i < _[_0x4e57("0x0")]; i++) {
                    var a = g(_, i);
                    a.point = x[i], a[_0x4e57("0x3e8")] = e, t.push(a)
                }
                var n = [t[0]];
                for (i = 1; i < t.length; i++) t[i].relAngle <= I[_0x4e57("0x96d")] || 360 - t[i][_0x4e57("0x96e")] <= I.combineAsset ? n[n[_0x4e57("0x0")] - 1].distance += t[i][_0x4e57("0x155")] : n[_0x4e57("0xf")](t[i]);
                return n
            }

            function _(x, e, _, t) {
                var i = x[e], a = x[e + 1], n = d[a[_0x4e57("0x955")]];
                if (I[_0x4e57("0x96f")] = 0, !n || I[_0x4e57("0x96f")]) if (t) {
                    if (I[_0x4e57("0x96f")] = !1, !n) n = "乘" + I.getLadderType(x[e + 1][_0x4e57("0x26d")], _) + " " + _0x4e57(_ < t ? "0x970" : "0x971") + " " + I[_0x4e57("0x5a")][_0x4e57("0xf8")](t).floorDesc
                } else I[_0x4e57("0x96f")] && (I[_0x4e57("0x972")] = a[_0x4e57("0x155")]), n = _0x4e57("0x93c");
                var g = [];
                return 0 == e ? g[_0x4e57("0xf")]("向 前" + _0x4e57("0x973"), Math[_0x4e57("0x48e")](i[_0x4e57("0x155")]), _0x4e57("0x974") + n) : g.push(_0x4e57("0x975"), Math[_0x4e57("0x48e")](i[_0x4e57("0x155")] + (I._boo && !t ? a[_0x4e57("0x155")] : 0)), _0x4e57("0x974") + n), g
            }

            function t(x, e, _, t) {
                var i = x[e], a = x[e + 1];
                if (!d[x[e + 1][_0x4e57("0x955")]] || I._boo) if (t) {
                    var n = _ < t ? "上" : "下";
                    I[_0x4e57("0x5a")].getFloor(t)[_0x4e57("0x839")], a[_0x4e57("0x93b")] = n
                } else a[_0x4e57("0x93b")] = "终";
                return {
                    startPoint: i.point,
                    startFloor: i[_0x4e57("0x3e8")],
                    startIndex: i[_0x4e57("0x954")],
                    endPoint: a[_0x4e57("0x26d")],
                    endFloor: a[_0x4e57("0x3e8")],
                    endIndex: a[_0x4e57("0x954")],
                    startDirection: i[_0x4e57("0x976")],
                    endDirection: a.relDesc,
                    distance: i.distance + (I[_0x4e57("0x96f")] && !t ? a[_0x4e57("0x155")] : 0)
                }
            }

            var I = this;
            I.combinePoints = [], I[_0x4e57("0x96f")] = !1;
            for (var i, a, n, r, A = [], o = [], c = null, l = I[_0x4e57("0x972")] = 0, u = [], h = ["北", "东北", "东", "东南", "南", "西南", "西", "西北", "北"], f = ["前", "右前", "右", "右后", "后", "左后", "左", "左前", "前"], d = ["继续直行", _0x4e57("0x8ff"), "右转", _0x4e57("0x977"), "后退", _0x4e57("0x978"), "左转", _0x4e57("0x687"), "继续直行"], p = null, b = 0; b < x.length; b++) {
                if (c = (i = x[b])[_0x4e57("0x3e8")], n = null, b < x[_0x4e57("0x0")] - 1) for (r = b; r < x[_0x4e57("0x0")]; r++) if (x[r][_0x4e57("0x3e8")] != c) {
                    n = x[r][_0x4e57("0x3e8")];
                    break
                }
                var m = e(a = i[_0x4e57("0x3f8")], c);
                1 < m.length && Array.prototype[_0x4e57("0xf")][_0x4e57("0x4")](I[_0x4e57("0x92d")], m);
                I[_0x4e57("0x92d")][_0x4e57("0x0")];
                if (1 == m.length && 0 != i[_0x4e57("0x0")] && Array[_0x4e57("0xd")].push[_0x4e57("0x4")](I[_0x4e57("0x92d")], m), 1 == m[_0x4e57("0x0")]) {
                    if (n && 0 == i[_0x4e57("0x0")] && (p == c || null == p)) {
                        var v = c < n ? "上行到达" : "下行到达", y = I[_0x4e57("0x5a")][_0x4e57("0xf8")](n)[_0x4e57("0x839")],
                            E = [_0x4e57("0x979") + v + " " + y];
                        A[_0x4e57("0xf")](E), o[_0x4e57("0xf")]({
                            startPoint: a[0],
                            startDirection: c < n ? "上" : "下",
                            startFloor: c,
                            endFloor: n,
                            endPoint: x[r].pointList[0]
                        })
                    }
                } else for (var w = 0; w < m[_0x4e57("0x0")] - 1 && !I._boo; w++) A.push(_(m, w, c, n)), o[_0x4e57("0xf")](t(m, w, c, n));
                if (p = c, 1 < m.length) {
                    var T = m[_0x4e57("0x69a")](function (x, e) {
                        return x + (e[_0x4e57("0x155")] || 0)
                    }, 0);
                    u[_0x4e57("0xf")]({fnum: c, distance: T}), l += T
                }
            }
            return [A, o, l, u]
        },
        _analyse: function () {
            if (this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")]) {
                var t = -1, x = this[_0x4e57("0x917")][_0x4e57("0x5a")](function (x, e) {
                        var _ = new THREE.Vector3(x[_0x4e57("0x807")].x, 0, x[_0x4e57("0x807")].y);
                        return _.fnum = x.startFloor, _[_0x4e57("0x96a")] = e, t = e, _
                    }), e = this.naviDescriptionsData[this.naviDescriptionsData[_0x4e57("0x0")] - 1],
                    _ = new (THREE[_0x4e57("0x11b")])(e.endPoint.x, 0, e[_0x4e57("0x97a")].y);
                return _[_0x4e57("0x3e8")] = e.endFloor, _[_0x4e57("0x96a")] = t + 1, x[_0x4e57("0xf")](_), x
            }
        },
        _toPos: null,
        _toRot: null,
        _allLen: 0,
        _preGid: 0,
        _changeFnumIng: !1,
        _animID: null,
        _gps: function (t, x, e) {
            var i = this;

            function a() {
                i[_0x4e57("0x6b2")][_0x4e57("0x3e8")] = t[_0x4e57("0x3e8")], i[_0x4e57("0x6b2")][_0x4e57("0x3da")] = !0
            }

            if (i[_0x4e57("0x946")] != t[_0x4e57("0x3e8")]) {
                i._preGid = t[_0x4e57("0x3e8")], i._groupPointsIndex++, i[_0x4e57("0x6b2")][_0x4e57("0x3da")] = !1;
                var n = {
                    x: -t.x - i[_0x4e57("0x5a")][_0x4e57("0xe4")].sceneX_,
                    y: t.z + i[_0x4e57("0x5a")][_0x4e57("0xe4")][_0x4e57("0xeb")]
                };
                n.fnum = t[_0x4e57("0x3e8")], function (x) {
                    if (!i[_0x4e57("0x97b")]) {
                        i[_0x4e57("0x5a")].visibleFloorNums = [t.fnum], i[_0x4e57("0x5a")][_0x4e57("0x37c")] = t.fnum;
                        var e = i.locationMarker[_0x4e57("0x97c")](), _ = i._groupsPoints[i._groupPointsIndex];
                        _ && _[_0x4e57("0x3f8")] && 0 < _.pointList[_0x4e57("0x0")] && (e = i._groupsPoints[i[_0x4e57("0x97d")]][_0x4e57("0x3f8")][0]), e[_0x4e57("0x3e8")] = t.fnum, i[_0x4e57("0x6b2")][_0x4e57("0x6f5")]({
                            x: e.x,
                            y: e.y,
                            fnum: e[_0x4e57("0x3e8")]
                        })
                    }
                    x ? (i[_0x4e57("0x5a")].isNaviAnimating = !0, i[_0x4e57("0x72e")] = i[_0x4e57("0x97e")](n, i[_0x4e57("0x97f")], function () {
                        var x = i[_0x4e57("0x5a")][_0x4e57("0x143")][i.scaleLevel] < .2 ? i.minScale : i[_0x4e57("0x5a")][_0x4e57("0x143")][i.scaleLevel];
                        i[_0x4e57("0x5a")].scaleLevelTo(x, {
                            time: i[_0x4e57("0x97f")],
                            rawLevel: !0,
                            callback: function () {
                                i._changeFnumIng = !1, i[_0x4e57("0x5a")][_0x4e57("0x980")] = !1
                            }
                        }), a(), i[_0x4e57("0x981")] && (i[_0x4e57("0x982")] = THREE[_0x4e57("0xee")][_0x4e57("0x205")](i[_0x4e57("0x5a")], i[_0x4e57("0x97f")], {tiltAngle: i[_0x4e57("0x467")]}))
                    })) : (a(), i[_0x4e57("0x983")] = !1, i[_0x4e57("0x5a")].isNaviAnimating = !1)
                }(!1), i[_0x4e57("0x149")](_0x4e57("0x985"), t[_0x4e57("0x3e8")]), i[_0x4e57("0x986")] && i[_0x4e57("0x8f2")] && i[_0x4e57("0x963")](i.curPathInfos[_0x4e57("0x954")], i.curPathInfos[_0x4e57("0x987")], 1 / 0)
            }
            if (null != x) {
                i[_0x4e57("0x6f4")] && i[_0x4e57("0x5a")][_0x4e57("0x39a")]({
                    to: i[_0x4e57("0x15d")] ? x - 180 : x,
                    time: 1
                });
                var _ = {
                    x: e ? e.x : -(t.x + i[_0x4e57("0x5a")].mapScene[_0x4e57("0xea")]),
                    y: e ? e.y : i[_0x4e57("0x5a")][_0x4e57("0xe4")][_0x4e57("0xeb")] + t.z,
                    time: .2
                };
                i[_0x4e57("0x8e8")].visible || (i[_0x4e57("0x8e8")][_0x4e57("0x3da")] = !0), i[_0x4e57("0x8e8")][_0x4e57("0xe1")](_);
                var g = i[_0x4e57("0x988")], r = (new Date).getTime();
                r - i[_0x4e57("0x8ef")] > 1e3 * g && (i[_0x4e57("0x989")] && i[_0x4e57("0x5a")][_0x4e57("0xe1")]({
                    x: _.x,
                    y: _.y,
                    FloorNum: t[_0x4e57("0x3e8")],
                    time: 1
                }, i.followGap ? 1 : 0), i.moveTimer = r)
            } else {
                var A = i[_0x4e57("0x6b2")][_0x4e57("0x3d9")][_0x4e57("0x12e")][_0x4e57("0xe8")]();
                A[_0x4e57("0x167")](i[_0x4e57("0x6b2")][_0x4e57("0x3d9")][_0x4e57("0xe7")], i._toPos, i.locationMarker[_0x4e57("0x3d9")].up), A[_0x4e57("0x261")]((new (THREE[_0x4e57("0x256")]))[_0x4e57("0x73a")](new (THREE[_0x4e57("0x6d3")])(Math.PI / 2, 0, Math.PI))), i[_0x4e57("0x98a")] = (new (THREE[_0x4e57("0x15e")]))[_0x4e57("0x98b")](A)
            }
        },
        _anim: function () {
            var n = this;
            n[_0x4e57("0x98c")] && clearInterval(n[_0x4e57("0x98c")]);
            var g = n[_0x4e57("0x969")]();
            n[_0x4e57("0x3b4")][_0x4e57("0x62")](), n[_0x4e57("0x8f7")] = !0, n._groupPointsIndex = 0, n._tailLen = 0, n._animID = setInterval(function () {
                if (!n._isEnd_) {
                    var x = n[_0x4e57("0x8f8")];
                    if (n[_0x4e57("0x98d")] = n[_0x4e57("0x7d7")] * x, !n[_0x4e57("0x983")] && !n[_0x4e57("0x8f0")] && (n[_0x4e57("0x98e")] += n.vvs, 0 != n._allLen)) {
                        var e = n[_0x4e57("0x98f")](g, n[_0x4e57("0x98e")]),
                            _ = n[_0x4e57("0x921")] - n[_0x4e57("0x98e")], t = (0, v[_0x4e57("0xa")])({}, e),
                            i = (0, v[_0x4e57("0xa")])(new (THREE[_0x4e57("0x11b")]), e), a = t.y;
                        if (!e) return void (n[_0x4e57("0x8f1")] = !0);
                        _ <= 0 && (n[_0x4e57("0x8f1")] = !0, n[_0x4e57("0x6b2")][_0x4e57("0x6f5")](i.x, i.z, i[_0x4e57("0x3e8")], 1.01 * n[_0x4e57("0x3e0")])), t.y = t.z, t.z = a, n[_0x4e57("0x990")] = {
                            remain: _,
                            walk: n[_0x4e57("0x98e")],
                            point: t,
                            fnum: i[_0x4e57("0x3e8")],
                            index: i.index - 1
                        }, i.x = -i.x - n[_0x4e57("0x5a")][_0x4e57("0xe4")].sceneX_, i.y = n[_0x4e57("0x6b2")].o3d_[_0x4e57("0xe7")].y, i.z -= n[_0x4e57("0x5a")][_0x4e57("0xe4")][_0x4e57("0xeb")], n[_0x4e57("0x991")] = i[_0x4e57("0xe8")](), n[_0x4e57("0x946")] || (n[_0x4e57("0x946")] = g[0][_0x4e57("0x3e8")]), n.isSimulating && n[_0x4e57("0x95f")](i)
                    }
                }
            }, 1e3 / 30)
        },
        _animateFun: null,
        stop: function () {
            this[_0x4e57("0x8f7")] ? (clearInterval(this._animID), clearInterval(this[_0x4e57("0x982")]), this[_0x4e57("0x992")] && clearInterval(this[_0x4e57("0x992")]), clearInterval(this[_0x4e57("0x72e")]), this[_0x4e57("0x993")] && this[_0x4e57("0x5a")][_0x4e57("0x437")](_0x4e57("0x65"), this[_0x4e57("0x993")]), this[_0x4e57("0x98e")] = 0, this[_0x4e57("0x946")] = 0, this[_0x4e57("0x97d")] = 0, this[_0x4e57("0x991")] = this._toRot = null, this[_0x4e57("0x3b4")].stop(), this[_0x4e57("0x8f7")] = !1, this[_0x4e57("0x990")] = null, this.map[_0x4e57("0x3a2")] = esmap[_0x4e57("0x3a3")][_0x4e57("0x3a4")], this._isEnd_ = !0) : this[_0x4e57("0x8f2")] && (this[_0x4e57("0x8f2")] = !1, this[_0x4e57("0x2d6")].deviateCount = 0, this[_0x4e57("0x2d6")][_0x4e57("0x960")] = 0, this[_0x4e57("0x2d6")][_0x4e57("0x953")] = 0, this[_0x4e57("0x2d6")][_0x4e57("0x951")] = 0, window[_0x4e57("0x994")](this.realNaviClock), this[_0x4e57("0x8ed")] = 0, this[_0x4e57("0x967")][_0x4e57("0x954")] = 0, this.curPathInfos.dis2next = 0, this[_0x4e57("0x937")] = 20, this[_0x4e57("0x8ec")] = {}, this.blockList = [], this[_0x4e57("0x8ee")] = {}), this.curPathInfos = {
                index: 0,
                dis2next: 0
            }, this[_0x4e57("0x8f5")] = {
                played: {
                    nex: [],
                    cur: {}
                }
            }, this[_0x4e57("0x947")] = {}, this[_0x4e57("0x946")] = null, this[_0x4e57("0x8ef")] = null, this[_0x4e57("0x92d")] = null
        },
        _animate: function () {
            var x = this;
            if (!x[_0x4e57("0x983")] && !x[_0x4e57("0x8f0")]) {
                if (x[_0x4e57("0x991")]) {
                    var e = x.locationMarker.o3d_[_0x4e57("0xe7")].clone()[_0x4e57("0x209")](x[_0x4e57("0x991")], .2);
                    (0, y[_0x4e57("0x91b")])(e, x[_0x4e57("0x991")]);
                    e.x = -e.x - x.map.mapScene.sceneX_, e.y = e.z + x.map[_0x4e57("0xe4")][_0x4e57("0xeb")], e[_0x4e57("0x3e8")] = x[_0x4e57("0x6b2")][_0x4e57("0x3e8")], x[_0x4e57("0x6b2")][_0x4e57("0x6f5")](e.x, e.y, x[_0x4e57("0x946")], 1.01 * x[_0x4e57("0x3e0")]);
                    var _ = x[_0x4e57("0x917")][x[_0x4e57("0x990")].index];
                    if (!_) return;
                    var t = (0, y[_0x4e57("0x91b")])(x[_0x4e57("0x990")][_0x4e57("0x26d")], _[_0x4e57("0x97a")]),
                        i = x[_0x4e57("0x990")][_0x4e57("0x954")];
                    if (!x[_0x4e57("0x8ee")][i] && x[_0x4e57("0x930")].indexOf(i) < 0) {
                        x[_0x4e57("0x8ee")][i] = !0;
                        var a = x.combinePoints[i + 1][_0x4e57("0x955")],
                            n = x[_0x4e57("0x92d")][i + 1][_0x4e57("0x155")];
                        if ((1 == a || 7 == a) && n <= 8) {
                            for (var g = [], r = 0, A = [], s = i + 1; s < x[_0x4e57("0x92d")][_0x4e57("0x0")] - 1 && (x[_0x4e57("0x92d")][s] && x[_0x4e57("0x92d")][s].hasOwnProperty("relField") && (1 == x[_0x4e57("0x92d")][s].relField || 7 == x[_0x4e57("0x92d")][s][_0x4e57("0x955")]) && g[_0x4e57("0x0")] <= 4 && r < 25); s++) {
                                var C = x.combinePoints[s].relField;
                                x[_0x4e57("0x920")][s - 1][2] && (x[_0x4e57("0x920")][s - 1][2] = 1 == C ? "米 右转" : _0x4e57("0x95b"), x[_0x4e57("0x917")][s - 1][_0x4e57("0x934")] = 1 == C ? "右" : "左", x[_0x4e57("0x92d")][s][_0x4e57("0x93b")] = 1 == C ? "右" : "左", r += x[_0x4e57("0x92d")][s][_0x4e57("0x155")], A[_0x4e57("0xf")](C), g.push(s))
                            }
                            if (0 < g[_0x4e57("0x0")]) {
                                var I;
                                if ((r -= x[_0x4e57("0x92d")][g[g[_0x4e57("0x0")] - 1]][_0x4e57("0x155")]) <= 16) {
                                    var o = x[_0x4e57("0x920")][g[0] - 1];
                                    A[_0x4e57("0x2a9")]() === _0x4e57("0x995") ? o && o[2] && (x.naviDescriptions[g[0] - 1][2] = _0x4e57("0x996"), x[_0x4e57("0x917")][g[0] - 1].endDirection = _0x4e57("0x903"), x[_0x4e57("0x92d")][g[0] - 1].relDesc = _0x4e57("0x903")) : A.toString() === _0x4e57("0x957") ? o && o[2] && (x[_0x4e57("0x920")][g[0] - 1][2] = _0x4e57("0x958"), x[_0x4e57("0x917")][g[0] - 1][_0x4e57("0x934")] = "左转后右转", x.combinePoints[g[0]][_0x4e57("0x93b")] = _0x4e57("0x959")) : A[_0x4e57("0x41")](1) < 0 ? "7,7" === A[_0x4e57("0x2a9")]() ? o && o[2] && (x[_0x4e57("0x920")][g[0] - 1][2] = _0x4e57("0x95b"), x[_0x4e57("0x917")][g[0] - 1].endDirection = "左", x.combinePoints[g[0]].relDesc = "左") : o && o[2] && (x[_0x4e57("0x920")][g[0] - 1][2] = _0x4e57("0x95c"), x[_0x4e57("0x917")][g[0] - 1][_0x4e57("0x934")] = _0x4e57("0x904"), x[_0x4e57("0x92d")][g[0]][_0x4e57("0x93b")] = _0x4e57("0x904")) : A[_0x4e57("0x41")](7) < 0 && (A[_0x4e57("0x2a9")]() === _0x4e57("0x997") ? o && o[2] && (x.naviDescriptions[g[0] - 1][2] = "米 右转", x[_0x4e57("0x917")][g[0] - 1][_0x4e57("0x934")] = "右", x.combinePoints[g[0]][_0x4e57("0x93b")] = "右") : o && o[2] && (x[_0x4e57("0x920")][g[0] - 1][2] = "米 连续右转弯", x.naviDescriptionsData[g[0] - 1][_0x4e57("0x934")] = _0x4e57("0x905"), x[_0x4e57("0x92d")][g[0]].relDesc = _0x4e57("0x905")))
                                }
                                g[_0x4e57("0x91f")](), (I = x[_0x4e57("0x930")])[_0x4e57("0xf")].apply(I, g)
                            }
                        }
                    }
                    x[_0x4e57("0x990")] && x[_0x4e57("0x149")](_0x4e57("0x95e"), (0, v.default)({}, x[_0x4e57("0x990")], {
                        remain: x[_0x4e57("0x990")].remain,
                        distanceToNext: t
                    })) && (x[_0x4e57("0x967")] = {index: x[_0x4e57("0x990")][_0x4e57("0x954")], dis2next: t});
                    var c = x[_0x4e57("0x988")], l = (new Date).getTime();
                    l - x[_0x4e57("0x8ef")] > 1e3 * c && (x.followPosition && (x[_0x4e57("0x72e")] = x[_0x4e57("0x97e")](e, x[_0x4e57("0x988")] ? 1.2 : 0)), x[_0x4e57("0x8ef")] = l);
                    x[_0x4e57("0x8f5")];
                    x.audioPlay && x[_0x4e57("0x963")](i, t)
                }
                if (x[_0x4e57("0x98a")] && (x[_0x4e57("0x6b2")][_0x4e57("0x3d9")][_0x4e57("0x11d")][_0x4e57("0x20a")](x[_0x4e57("0x98a")], .2), x[_0x4e57("0x6f4")])) {
                    var u = new THREE.Vector3(1, 0, 0), h = u.clone(),
                        f = x[_0x4e57("0x6b2")].o3d_.matrix[_0x4e57("0xe8")]();
                    f[_0x4e57("0x6f5")](new (THREE[_0x4e57("0x11b")])), h[_0x4e57("0x6f6")](f);
                    var d = (d = h[_0x4e57("0xe8")]()[_0x4e57("0x6aa")](u)).y < 0 ? -1 : 1, p = u[_0x4e57("0x6a9")](h),
                        b = Math.PI - p * d;
                    x[_0x4e57("0x5a")].controls.object instanceof THREE[_0x4e57("0x130")] && (b += Math.PI), x[_0x4e57("0x5a")][_0x4e57("0xd9")][_0x4e57("0x65")]({forceTheta: b})
                }
                if (x._isEnd_) {
                    x[_0x4e57("0x68e")]();
                    var m = x[_0x4e57("0x5a")][_0x4e57("0x53a")] ? _0x4e57("0x961") + x[_0x4e57("0x5a")][_0x4e57("0x53a")] + "导航" : "";
                    return m = _0x4e57("0x962") + m, x.audioPlay && esmap[_0x4e57("0x7d")][_0x4e57("0x68f")](m), void x[_0x4e57("0x149")](_0x4e57("0x26"))
                }
            }
        },
        linesVisible: function (x) {
            this[_0x4e57("0x5a")][_0x4e57("0x3e2")] = x || this.map.visibleFloorNums
        },
        onstartNavi: function (e, _) {
            function x() {
                t[_0x4e57("0x5a")].focusFloorNum = {
                    floornum: t[_0x4e57("0x8e4")][_0x4e57("0x3e8")],
                    time: 0
                }, t[_0x4e57("0x950")] && t[_0x4e57("0x981")] && (t[_0x4e57("0x982")] = THREE.Tween[_0x4e57("0x205")](t[_0x4e57("0x5a")], i, {tiltAngle: t[_0x4e57("0x467")]}));
                var x = _[_0x4e57("0x425")] || t.scaleLevel || 0;
                t[_0x4e57("0x950")] ? t[_0x4e57("0x992")] = t[_0x4e57("0x5a")][_0x4e57("0x140")](x, {
                    callback: e,
                    rawLevel: !1,
                    time: i
                }) : e()
            }

            if (this[_0x4e57("0x8e4")] && this[_0x4e57("0x8e5")]) {
                var t = this, i = (_ = _ || {})[_0x4e57("0x97f")] || t[_0x4e57("0x97f")] || .7;
                t.map[_0x4e57("0x3a2")] = esmap.ESFrameLimit.NAVI, _[_0x4e57("0x425")] = _.scaleLevel || t[_0x4e57("0x425")] || 0, t[_0x4e57("0x998")](esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](_, _0x4e57("0x1c5"), _0x4e57("0x731"), _0x4e57("0x3f7"), 1.01 * t[_0x4e57("0x3e0")])), (t[_0x4e57("0x90f")] || esmap.ESUtil[_0x4e57("0x18")][_0x4e57("0x3e1")](_, _0x4e57("0x1ec"), !1)) && t[_0x4e57("0x910")](null, !0), t[_0x4e57("0x97b")] || this[_0x4e57("0x92f")]([t[_0x4e57("0x8e4")].fnum]), t.followPosition && t.scaleAnimate ? t[_0x4e57("0x72e")] = t[_0x4e57("0x97e")](t[_0x4e57("0x8e4")], i, function () {
                    t[_0x4e57("0x8e4")] && x()
                }) : x()
            }
        },
        start: function (x) {
            var e = this;
            x = x || !1, esmap[_0x4e57("0x7d")].getAudioToken(), e[_0x4e57("0x999")](function () {
                e[_0x4e57("0x8f2")] = !0, e[_0x4e57("0x99a")](x)
            })
        },
        watchAudioPlay: function (x) {
            var e = this;
            e[_0x4e57("0x8ed")] || (!x && e[_0x4e57("0x986")] && e.broadcast(e.curPathInfos.index, e[_0x4e57("0x967")][_0x4e57("0x987")], 1 / 0), e.realNaviClock = setInterval(function () {
                if (e[_0x4e57("0x937")]--, e[_0x4e57("0x937")] <= 0) {
                    var x = e[_0x4e57("0x8f5")][_0x4e57("0x931")][_0x4e57("0x933")][_0x4e57("0x41")](e.curPathInfos[_0x4e57("0x954")]);
                    -1 < x && e.naviInfos[_0x4e57("0x931")][_0x4e57("0x933")][_0x4e57("0x63")](x, 1), e[_0x4e57("0x986")] && e[_0x4e57("0x963")](e[_0x4e57("0x967")].index, e.curPathInfos.dis2next, 1 / 0, !0), e[_0x4e57("0x937")] = 20
                }
            }, 1e3))
        },
        simulate: function (x) {
            var e = this;
            esmap[_0x4e57("0x7d")][_0x4e57("0x67d")](), e[_0x4e57("0x92d")] || e[_0x4e57("0x1a6")](), e[_0x4e57("0x999")](function () {
                e._isEnd_ = !1, e[_0x4e57("0x99b")](), e[_0x4e57("0x993")] = e[_0x4e57("0x99c")][_0x4e57("0xc")](e), e.map.on("update", e[_0x4e57("0x993")]), e[_0x4e57("0x986")] && e[_0x4e57("0x963")](e[_0x4e57("0x967")].index, e[_0x4e57("0x967")][_0x4e57("0x987")], 1 / 0)
            }, x)
        }
    }, e.default = a
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t, i = _(44), a = (t = i) && t.__esModule ? t : {default: t};

    function k(x) {
        return x < S && -S < x
    }

    e.DistanceofTwoPts = function (x, e) {
        return Math.sqrt((x.x - e.x) * (x.x - e.x) + (x.y - e.y) * (x.y - e.y))
    }, e.calcProjPoint = function (x, e, _, t) {
        var i = e.x, a = e.y, n = _.x, g = _.y, r = x.x, A = x.y, s = n - i, C = g - a,
            I = Math[_0x4e57("0x161")](s * s + C * C), o = r - i, c = A - a, l = Math[_0x4e57("0x161")](o * o + c * c);
        if (k(I)) return k(l) ? (t.x = e.x, t.y = e.y, 0) : (t.x = e.x, t.y = e.y, l);
        var u = s / I, h = C / I, f = u * o + h * c;
        if (d = f, !(S < d)) return t.x = e.x, t.y = e.y, l;
        var d;
        if (v = f - I, !(v < -S)) {
            var p = r - n, b = A - g, m = Math[_0x4e57("0x161")](p * p + b * b);
            return t.x = _.x, t.y = _.y, m
        }
        var v;
        var y = i + f * u, E = a + f * h, w = r - y, T = A - E, R = Math[_0x4e57("0x161")](w * w + T * T);
        return t.x = y, t.y = E, R
    }, e[_0x4e57("0x8e2")] = function (e) {
        var _ = this;
        (0, a[_0x4e57("0xa")])(e)[_0x4e57("0x60")](function (x) {
            null == _[x] && (_[x] = e[x])
        })
    };
    var S = 1e-5
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t, i = _(9), a = (t = i) && t.__esModule ? t : {default: t};
    var n = function (x) {
        (0, a[_0x4e57("0xa")])(this, {
            type: _0x4e57("0xab"),
            width: 128,
            height: 128,
            color: "#ff0000",
            arrowHeightPercent: .4,
            arrowWidthPercent: .7,
            arrowPercent: .1,
            lineType: null,
            dashArray: [2, 1],
            godHeightPercent: .5,
            godEdgePercent: .2,
            godArrowPercent: .3,
            godColor: _0x4e57("0x99d"),
            godEdgeColor: _0x4e57("0x99e"),
            godArrowColor: "#F4FEFB",
            godArrowXScale: .6,
            godArrowWidthPercent: .07
        }, x), this[_0x4e57("0x99f")] = {offset: 0}, this.ctx = document[_0x4e57("0x6a")]("canvas")[_0x4e57("0x36d")]("2d"), this[_0x4e57("0x65")]()
    };
    n[_0x4e57("0xd")] = {
        constructor: n, get canvas() {
            return this[_0x4e57("0x36e")][_0x4e57("0x36c")]
        }, update: function (x) {
            var e = this;
            switch ((0, a[_0x4e57("0xa")])(e, x), e[_0x4e57("0x9a0")](), e[_0x4e57("0x36e")][_0x4e57("0x36c")][_0x4e57("0x112")] = e.width, e.ctx[_0x4e57("0x36c")][_0x4e57("0x1c5")] = e[_0x4e57("0x1c5")], e[_0x4e57("0x38")]) {
                case _0x4e57("0xab"):
                    e[_0x4e57("0x9a1")]();
                    break;
                case _0x4e57("0xa5"):
                    e[_0x4e57("0x9a2")]();
                    break;
                case _0x4e57("0xa6"):
                    e[_0x4e57("0x9a3")]()
            }
        }, _doColor: function () {
            var e = this;
            [_0x4e57("0x1df"), _0x4e57("0x9a4"), _0x4e57("0x9a5"), _0x4e57("0x9a6")][_0x4e57("0x60")](function (x) {
                "number" == typeof e[x] && (e[x] = esmap[_0x4e57("0x3e9")][_0x4e57("0xd")]._colorToStr(e[x]))
            })
        }, _setMaterialInfo: function () {
            this[_0x4e57("0x99f")][_0x4e57("0x3f7")] = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](arguments, 0, 0), this[_0x4e57("0x99f")].side = esmap[_0x4e57("0xcd")][_0x4e57("0x18")][_0x4e57("0x3e1")](arguments, 1, 0)
        }, _drawNormal: function () {
            var _ = this, t = _[_0x4e57("0x7c3")][_0x4e57("0x69a")](function (x, e) {
                return x + e
            }), i = 0;
            _[_0x4e57("0x7c3")][_0x4e57("0x60")](function (x, e) {
                e % 2 == 0 && (_[_0x4e57("0x36e")].fillStyle = _[_0x4e57("0x1df")], _[_0x4e57("0x36e")][_0x4e57("0x9a7")](i / t * _.width, 0, x / t * _[_0x4e57("0x112")], _[_0x4e57("0x1c5")])), i += x
            }), _[_0x4e57("0x9a8")](0)
        }, _drawArrow: function () {
            var x = this, e = (1 - x[_0x4e57("0x9a9")]) * x.height / 2, _ = x.height * x.arrowHeightPercent;
            x[_0x4e57("0x36e")][_0x4e57("0x9aa")](), x.ctx[_0x4e57("0xe1")](0, e);
            var t = x[_0x4e57("0x112")] * (x[_0x4e57("0x9ab")] - x[_0x4e57("0x9ac")]);
            x[_0x4e57("0x36e")][_0x4e57("0x79f")](t, e), x[_0x4e57("0x36e")][_0x4e57("0x79f")](x[_0x4e57("0x112")] * x[_0x4e57("0x9ab")], e + _ / 2), x[_0x4e57("0x36e")][_0x4e57("0x79f")](t, e + _), x[_0x4e57("0x36e")].lineTo(0, e + _), x.ctx[_0x4e57("0x79f")](x[_0x4e57("0x112")] * x.arrowPercent, e + _ / 2), x[_0x4e57("0x36e")][_0x4e57("0x375")](), x[_0x4e57("0x36e")][_0x4e57("0x38b")] = x[_0x4e57("0x1df")], x[_0x4e57("0x36e")][_0x4e57("0x376")](), x._setMaterialInfo(-.25, 2)
        }, _drawGodArrow: function () {
            var x = this;
            x.ctx[_0x4e57("0x38b")] = x[_0x4e57("0x9a5")], x[_0x4e57("0x36e")][_0x4e57("0x9a7")](0, (1 - x[_0x4e57("0x9ad")]) * x.height / 2, x[_0x4e57("0x112")], x.godHeightPercent * x[_0x4e57("0x1c5")]), x[_0x4e57("0x36e")][_0x4e57("0x38b")] = x[_0x4e57("0x1df")];
            var e = (1 - x[_0x4e57("0x9ad")] + x.godEdgePercent) * x.height / 2,
                _ = (x[_0x4e57("0x9ad")] - x.godEdgePercent) * x.height;
            x.ctx[_0x4e57("0x9a7")](0, e, x.width, _), x[_0x4e57("0x36e")].fillStyle = _0x4e57("0x9ae"), x[_0x4e57("0x36e")].shadowOffsetX = -2, x.ctx[_0x4e57("0x372")] = 2, x[_0x4e57("0x36e")][_0x4e57("0x373")] = 4, x[_0x4e57("0x36e")][_0x4e57("0x9af")] = _0x4e57("0x9b0");
            var t = x[_0x4e57("0x112")] / 2, i = x.height / 2, a = x[_0x4e57("0x112")] * x[_0x4e57("0x9b1")],
                n = x[_0x4e57("0x112")] * x[_0x4e57("0x9b2")],
                g = x.width * (x[_0x4e57("0x9b1")] - x[_0x4e57("0x9b2")]) * x[_0x4e57("0x9b3")],
                r = t - a / 2 * x[_0x4e57("0x9b3")], A = i - a / 2;
            x[_0x4e57("0x36e")].beginPath(), x[_0x4e57("0x36e")][_0x4e57("0xe1")](r, A), x[_0x4e57("0x36e")][_0x4e57("0x79f")](r + n, A), x[_0x4e57("0x36e")][_0x4e57("0x79f")](r + n + g, A + a / 2), x[_0x4e57("0x36e")][_0x4e57("0x79f")](r + n, A + a), x[_0x4e57("0x36e")][_0x4e57("0x79f")](r, A + a), x[_0x4e57("0x36e")][_0x4e57("0x79f")](r + g, A + a / 2), x[_0x4e57("0x36e")][_0x4e57("0x375")](), x.ctx[_0x4e57("0x38b")] = x[_0x4e57("0x9a6")], x[_0x4e57("0x36e")][_0x4e57("0x376")](), x._setMaterialInfo(-.25, 2)
        }
    }, e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var i = t(_(0)), a = t(_(1));

    function t(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function () {
        function t(x, e, _) {
            (0, i.default)(this, t), this.fnum = x, this[_0x4e57("0x0")] = e, this[_0x4e57("0x3f8")] = _
        }

        return (0, a[_0x4e57("0xa")])(t, [{
            key: _0x4e57("0x9b4"), value: function () {
                return this[_0x4e57("0x3e8")]
            }
        }, {
            key: _0x4e57("0x9b5"), value: function () {
                return this[_0x4e57("0x0")]
            }
        }, {
            key: _0x4e57("0x9b6"), value: function () {
                for (var x = [], e = 0, _ = this[_0x4e57("0x3f8")][_0x4e57("0x0")]; e < _; e++) x[_0x4e57("0xf")]({
                    x: this[_0x4e57("0x3f8")][e].x,
                    y: this.pointList[e].y,
                    fnum: this[_0x4e57("0x3e8")]
                });
                return x
            }
        }]), t
    }();
    e[_0x4e57("0xa")] = n
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t, i = _(0), a = (t = i) && t[_0x4e57("0x8")] ? t : {default: t};
    e.default = function x(e, _, t) {
        (0, a.default)(this, x), this[_0x4e57("0x35a")] = esmap[_0x4e57("0x101")][_0x4e57("0x107")], this.id = e || 0, this[_0x4e57("0x38d")] = _ || [], this.style = t || this.map_[_0x4e57("0x3a6")][_0x4e57("0x3e3")], this[_0x4e57("0x3d9")] = new (THREE[_0x4e57("0x22b")]), this[_0x4e57("0x3d9")].datas_ = this
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, "__esModule", {value: !0});
    var t = A(_(20)), i = A(_(3)), a = A(_(0)), n = A(_(1)), g = A(_(4)), r = A(_(5));

    function A(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var s = function (x) {
        function _(x) {
            var e;
            return (0, a[_0x4e57("0xa")])(this, _), (e = (0, g.default)(this, (_.__proto__ || (0, i[_0x4e57("0xa")])(_))[_0x4e57("0x2")](this, esmap[_0x4e57("0x9a")][_0x4e57("0x3ed")], {}, new (THREE[_0x4e57("0x22b")])))).alias = _0x4e57("0x9b7"), e[_0x4e57("0x7ed")] = x || {}, e[_0x4e57("0x35a")] = esmap[_0x4e57("0x101")][_0x4e57("0x107")], e[_0x4e57("0x7f6")](), e
        }

        return (0, r[_0x4e57("0xa")])(_, x), (0, n.default)(_, [{
            key: "createMarker_", value: function () {
                var x = this, e = esmap[_0x4e57("0x101")][_0x4e57("0x107")],
                    _ = (e[_0x4e57("0xe4")], esmap[_0x4e57("0xcd")].Option);
                em[_0x4e57("0xb1")][_0x4e57("0x39e")](x), x.x_ = -e[_0x4e57("0xe4")].sceneX_ - _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "x", e.center.x), x.y_ = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "y", e[_0x4e57("0x6b8")].y) - e.mapScene[_0x4e57("0xeb")], x[_0x4e57("0x826")] = {
                    x: 0,
                    y: THREE[_0x4e57("0x141")][_0x4e57("0x761")](_.getValue(x.opts_, "angle", 0)),
                    z: 0
                }, x[_0x4e57("0x7f9")] = _.getValue(x[_0x4e57("0x7ed")], _0x4e57("0x269"), null), x[_0x4e57("0x7fa")] = _.getValue(x[_0x4e57("0x7ed")], "id", esmap[_0x4e57("0xcd")].id++), x[_0x4e57("0x6e7")] = _[_0x4e57("0x7f7")](x.opts_, _0x4e57("0x1c5"), 0), x[_0x4e57("0x6fe")] = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x73d"), !0), x[_0x4e57("0x844")] = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], "callback", null);
                var t = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x486"), 1);
                x[_0x4e57("0x7fe")] = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x36"), _0x4e57("0x85"));
                var i = t instanceof Object ? {x: t.x || 1, y: t.y || 1, z: t.z || 1} : {x: t, y: t, z: t};
                x.scale_ = i, x[_0x4e57("0x6fc")] = _[_0x4e57("0x7f7")](x[_0x4e57("0x7ed")], _0x4e57("0x814"), 20), this[_0x4e57("0x800")] = this[_0x4e57("0x7c9")][_0x4e57("0xc")](this), e.on(_0x4e57("0x65"), this._update_)
            }
        }, {
            key: _0x4e57("0x6f1"), value: function (x) {
                esmap.ESMapLabel[_0x4e57("0xd")].animate.call(this, x)
            }
        }, {
            key: _0x4e57("0x28"), value: function (x) {
                this.o3d_[_0x4e57("0x28")](x)
            }
        }, {
            key: _0x4e57("0x68e"), value: function () {
                this[_0x4e57("0x3d9")][_0x4e57("0x68e")]()
            }
        }, {
            key: _0x4e57("0x6e5"), value: function (x) {
                this.o3d_[_0x4e57("0x6e5")](x)
            }
        }, {
            key: _0x4e57("0x729"), value: function () {
                this.o3d_[_0x4e57("0x729")]()
            }
        }, {
            key: _0x4e57("0x9b8"), value: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x9b8")](x)
            }
        }, {
            key: "fadeIn", value: function (x) {
                this[_0x4e57("0x3d9")].fadeIn(x)
            }
        }, {
            key: _0x4e57("0xe1"), value: function (x) {
                this[_0x4e57("0x3d9")].moveTo(x)
            }
        }, {
            key: "rotate", value: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x55d")](x)
            }
        }, {
            key: _0x4e57("0x730"), value: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x730")](x)
            }
        }, {
            key: _0x4e57("0x9b9"), value: function () {
                this[_0x4e57("0x66")] && this[_0x4e57("0x66")][_0x4e57("0x13")](this), this[_0x4e57("0x1a8")] && this[_0x4e57("0x1a8")]()
            }
        }, {
            key: "angle", get: function () {
                return THREE.Math[_0x4e57("0x32f")](this[_0x4e57("0x3d9")].rotation.y)
            }, set: function (x) {
                var e = {x: 0, y: THREE[_0x4e57("0x141")].degToRad(x), z: 0};
                this.o3d_.rotation.set(e.x, e.y, e.z)
            }
        }, {
            key: _0x4e57("0x36"), get: function () {
                return this[_0x4e57("0x7ed")][_0x4e57("0x7fe")]
            }, set: function (x) {
                this.opts_.url_ = x
            }
        }, {
            key: _0x4e57("0x3da"), get: function () {
                return this[_0x4e57("0x3d9")][_0x4e57("0x3da")]
            }, set: function (x) {
                this[_0x4e57("0x3d9")][_0x4e57("0x3da")] = x
            }
        }, {
            key: "ID", get: function () {
                return this.id_
            }
        }, {
            key: _0x4e57("0x269"), get: function () {
                return this[_0x4e57("0x7f9")]
            }, set: function (x) {
                this[_0x4e57("0x7f9")] = x
            }
        }, {
            key: "x", get: function () {
                return this[_0x4e57("0x7ed")].x
            }, set: function (x) {
                this.x_ = x
            }
        }, {
            key: "y", get: function () {
                return this.opts_.y
            }, set: function (x) {
                this.y_ = x
            }
        }]), _
    }(esmap.ESNode);
    e[_0x4e57("0xa")] = s, (0, t.default)(s[_0x4e57("0xd")], {
        _update: {
            value: function (x) {
                this.o3d_ && this.o3d_[_0x4e57("0x6f9")] && this[_0x4e57("0x3d9")][_0x4e57("0x6f9")]()
            }
        }
    })
}, function (x, e, _) {
    "use strict";
    CanvasRenderingContext2D.prototype[_0x4e57("0x719")] = function (x, e, _, t, i) {
        return this[_0x4e57("0x9aa")](), this.moveTo(x + i, e), this[_0x4e57("0x9ba")](x + _, e, x + _, e + t, i), this.arcTo(x + _, e + t, x, e + t, i), this[_0x4e57("0x9ba")](x, e + t, x, e, i), this[_0x4e57("0x9ba")](x, e, x + _, e, i), this[_0x4e57("0x375")](), this
    }
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var a = t(_(14)), i = t(_(0)), n = t(_(1));

    function t(x) {
        return x && x.__esModule ? x : {default: x}
    }

    var g = function () {
        function t() {
            (0, i[_0x4e57("0xa")])(this, t), this[_0x4e57("0x9bb")] = {}, this[_0x4e57("0x9bc")] = {}, this.areaPoints = {}, this[_0x4e57("0x9bd")] = {}, this.layerPToP = {}, this[_0x4e57("0x9be")] = {}, this[_0x4e57("0x87b")] = !1, this[_0x4e57("0x91c")] = [], this[_0x4e57("0x9bf")] = [];
            for (var x = esmap[_0x4e57("0x101")][_0x4e57("0x107")][_0x4e57("0x10e")][_0x4e57("0x108")][_0x4e57("0x4b8")], e = 0; e < x[_0x4e57("0x0")]; e++) {
                var _ = x[e][_0x4e57("0x429")];
                this[_0x4e57("0x91c")][_] = x[e], this.fnums[_] = _
            }
            this[_0x4e57("0x94b")] = null, this.multiLinesUsed = []
        }

        return (0, n[_0x4e57("0xa")])(t, [{
            key: "preprocess", value: function () {
                this[_0x4e57("0x87b")] = !0;
                for (var x = [], e = [], _ = 1; _ < this[_0x4e57("0x9bf")][_0x4e57("0x0")]; _++) {
                    var t = this[_0x4e57("0x9bf")][_];
                    if (t) {
                        var i = [], a = [], n = [], g = this[_0x4e57("0x91c")][t], r = g[_0x4e57("0x618")];
                        for (var A in r) {
                            var s = r[A], C = s.sid || 0;
                            if (this[_0x4e57("0x833")](i, C) || i[_0x4e57("0xf")](C), 0 != (s.tid || 0)) {
                                var I = C + 1e4 * t;
                                if (this[_0x4e57("0x9bd")][I]) this.layerPoints[I][_0x4e57("0xf")](s[_0x4e57("0x537")]); else {
                                    var o = [s[_0x4e57("0x537")]];
                                    this[_0x4e57("0x9bd")][I] = o
                                }
                            }
                            this.nearbyLine[s._id] = []
                        }
                        var c = g.Lines;
                        for (var A in c) {
                            var l = c[A], u = (l[_0x4e57("0x62b")], l[_0x4e57("0x62a")] || 0), h = l[_0x4e57("0x624")],
                                f = l[_0x4e57("0x628")];
                            if (r[h] && r[f]) this[_0x4e57("0x9bb")][h][_0x4e57("0xf")](l[_0x4e57("0x537")]), this.nearbyLine[f].push(l._id), 1 == (l[_0x4e57("0x629")] || 1e3) && (0 == u ? n.push(l) : a[_0x4e57("0xf")](l)); else 0 == u ? e.push(l) : x[_0x4e57("0xf")](l)
                        }
                        this[_0x4e57("0x9c0")](r, n, a, i, t);
                        var d = this.calculateAreaRelation(r, n, a, i);
                        for (var p in d) {
                            var b = Number(p) + 1e4 * t, m = d[p];
                            for (A = 0; A < m[_0x4e57("0x0")]; A++) {
                                var v = m[A] + 1e4 * t;
                                m[A] = v
                            }
                            this[_0x4e57("0x9bc")][b] = m
                        }
                    }
                }
                var y = this[_0x4e57("0x9c1")](e);
                for (var C in this[_0x4e57("0x9c2")] = this[_0x4e57("0x9c3")](y, x), this[_0x4e57("0x9bc")]) {
                    var E = [];
                    if (this[_0x4e57("0x9bd")][C]) {
                        var w = this[_0x4e57("0x9bd")][C];
                        for (p = 0; p < w[_0x4e57("0x0")]; p++) {
                            var T = w[p], R = this[_0x4e57("0x9c2")][T];
                            for (_ = 0; _ < R[_0x4e57("0x0")]; _++) {
                                var k = R[_];
                                v = this[_0x4e57("0x9c4")](k);
                                E[_0x4e57("0xf")](v)
                            }
                        }
                    }
                    for (_ = 0; _ < E[_0x4e57("0x0")]; _++) this.areaToAreas[C][_0x4e57("0xf")](E[_])
                }
                this.initCrossScheme()
            }
        }, {
            key: "getAreaFormId", value: function (x) {
                for (var e = this.fnums, _ = this[_0x4e57("0x91c")], t = 1; t < e.length; t++) {
                    var i = e[t], a = _[i].Nodes;
                    if (a[x]) {
                        var n = a[x].sid;
                        return n += 1e4 * i
                    }
                }
                return -1
            }
        }, {
            key: _0x4e57("0x9c0"), value: function (x, e, _, t, i) {
                for (var a = 0; a < t[_0x4e57("0x0")]; a++) {
                    var n = t[a] + 1e4 * i;
                    this[_0x4e57("0x9c5")][n] = []
                }
                for (a = 0; a < e.length; a++) {
                    var g = (C = e[a])[_0x4e57("0x624")], r = C[_0x4e57("0x628")], A = x[g][_0x4e57("0x624")] || 0;
                    A += 1e4 * i;
                    var s = x[r][_0x4e57("0x624")] || 0;
                    s += 1e4 * i, this[_0x4e57("0x9c5")][A].push(g), this[_0x4e57("0x9c5")][s][_0x4e57("0xf")](r)
                }
                for (a = 0; a < _.length; a++) {
                    var C;
                    A = x[g = (C = _[a])[_0x4e57("0x624")]][_0x4e57("0x624")] || 0;
                    A += 1e4 * i, this[_0x4e57("0x9c5")][A].push(g)
                }
                for (var a in this[_0x4e57("0x9c5")]) {
                    0 == this.areaPoints[a][_0x4e57("0x0")] && delete this.areaPoints.i
                }
            }
        }, {
            key: _0x4e57("0x9c6"), value: function (x, e, _, t) {
                for (var i = {}, a = 0; a < t[_0x4e57("0x0")]; a++) {
                    var n = t[a], g = this[_0x4e57("0x9c7")](x, n, e, _);
                    i[n] = g
                }
                return i
            }
        }, {
            key: _0x4e57("0x9c7"), value: function (x, e, _, t) {
                for (var i = [], a = 0; a < _[_0x4e57("0x0")]; a++) {
                    (g = x[(n = _[a]).sid][_0x4e57("0x624")]) != (r = x[n[_0x4e57("0x628")]][_0x4e57("0x624")]) && (g != e || this.exitInArray(i, r) || i[_0x4e57("0xf")](r), r != e || this[_0x4e57("0x833")](i, g) || i.push(g))
                }
                for (a = 0; a < t[_0x4e57("0x0")]; a++) {
                    var n, g, r;
                    (g = x[(n = t[a]).sid][_0x4e57("0x624")]) != (r = x[n.eid][_0x4e57("0x624")]) && (g != e || this[_0x4e57("0x833")](i, r) || i[_0x4e57("0xf")](r))
                }
                return i
            }
        }, {
            key: _0x4e57("0x9c3"), value: function (x, e) {
                var _ = {};
                if (0 == e[_0x4e57("0x0")]) for (var t in this.layerPoints) for (var i = this[_0x4e57("0x9bd")][t], a = 0; a < i.length; a++) {
                    var n = i[a], g = this[_0x4e57("0x9c8")](n, x);
                    _[n] = g
                } else {
                    var r = {};
                    for (a = 0; a < e[_0x4e57("0x0")]; a++) {
                        var A = e[a], s = A[_0x4e57("0x624")], C = A[_0x4e57("0x628")], I = [];
                        for (var o in x) {
                            var c = x[o], l = [];
                            if (r[o] && (l = r[o]), (this[_0x4e57("0x833")](c, s) || this[_0x4e57("0x833")](l, s)) && I[_0x4e57("0xf")](o), this[_0x4e57("0x833")](c, C) && o, 0 != I.length) {
                                l = [];
                                x[C] ? l = x[C] : l[_0x4e57("0xf")](C);
                                for (var u = 0; u < I[_0x4e57("0x0")]; u++) {
                                    var h = I[u];
                                    if (r[h]) for (var f = 0; f < l[_0x4e57("0x0")]; f++) r[h].push(l[f]); else r[h] = l
                                }
                            }
                        }
                    }
                    for (var t in this.layerPoints) for (i = this[_0x4e57("0x9bd")][t], a = 0; a < i.length; a++) {
                        n = i[a], g = this[_0x4e57("0x9c9")](n, x, r);
                        _[n] = g
                    }
                }
                return _
            }
        }, {
            key: _0x4e57("0x9c9"), value: function (x, e, _) {
                var t = [];
                for (var i in e) {
                    var a = e[i];
                    if (this[_0x4e57("0x833")](a, x)) {
                        for (var n = 0; n < a[_0x4e57("0x0")]; n++) a[n] != x && t.push(a[n]);
                        if (_[i]) {
                            var g = _[i];
                            for (n = 0; n < g[_0x4e57("0x0")]; n++) t.push(g[n])
                        }
                    }
                }
                return t
            }
        }, {
            key: _0x4e57("0x9c8"), value: function (x, e) {
                var _ = [];
                for (var t in e) {
                    var i = e[t];
                    if (this.exitInArray(i, x)) for (var a = 0; a < i.length; a++) i[a] != x && _[_0x4e57("0xf")](i[a])
                }
                return _
            }
        }, {
            key: _0x4e57("0x9c1"), value: function (x) {
                for (var e = {}, _ = 1, t = 0; t < x.length; t++) {
                    var i = x[t];
                    if (0 == t) {
                        (a = [])[_0x4e57("0xf")](i[_0x4e57("0x624")]), a.push(i.eid), e[_] = a
                    } else {
                        var a, n = !1;
                        for (var g in e) {
                            var r = this.exitInArray(e[g], i[_0x4e57("0x624")]),
                                A = this[_0x4e57("0x833")](e[g], i.eid);
                            if (r && !A) {
                                e[g][_0x4e57("0xf")](i[_0x4e57("0x628")]), n = !0;
                                break
                            }
                            if (!r && A) {
                                e[g][_0x4e57("0xf")](i.sid), n = !0;
                                break
                            }
                        }
                        if (!n) _++, (a = [])[_0x4e57("0xf")](i[_0x4e57("0x624")]), a[_0x4e57("0xf")](i[_0x4e57("0x628")]), e[_] = a
                    }
                }
                var s = [];
                for (var t in e) {
                    var C = e[t];
                    this[_0x4e57("0x9ca")](C, s)
                }
                e = [];
                for (t = 0; t < s.length; t++) e[t] = s[t];
                return e
            }
        }, {
            key: _0x4e57("0x9ca"), value: function (x, e) {
                for (var _ = e[_0x4e57("0x0")], t = -1, i = 0; i < e.length; i++) if (0 < (t = this.getSameId(x, e[i]))) {
                    _ = i;
                    break
                }
                if (_ == e.length) e[_0x4e57("0xf")](x); else {
                    var a = e[_];
                    for (i = 0; i < x.length; i++) {
                        var n = x[i];
                        n != t && a[_0x4e57("0xf")](n)
                    }
                }
            }
        }, {
            key: "getSameId", value: function (x, e) {
                for (var _ = -1, t = 0; t < x.length; t++) {
                    for (var i = x[t], a = 0; a < e[_0x4e57("0x0")]; a++) {
                        if (i == e[a]) {
                            _ = i;
                            break
                        }
                    }
                    if (0 < _) break
                }
                return _
            }
        }, {
            key: _0x4e57("0x9cb"), value: function () {
                var x = [];
                for (var e in this[_0x4e57("0x9bc")]) x.push(e);
                for (e = 0; e < x.length; e++) for (var _ = x[e], t = 0; t < x[_0x4e57("0x0")]; t++) {
                    var i = x[t];
                    if (_ != i) {
                        var a = 1e5 * _ + 1 * i;
                        if (!this[_0x4e57("0x9be")][a]) {
                            var n = this[_0x4e57("0x9cc")](_, i);
                            if (0 != n[_0x4e57("0x0")]) {
                                this[_0x4e57("0x9be")][a] = n;
                                var g = this[_0x4e57("0x9cd")](n), r = 1e5 * i + 1 * _;
                                this.crossScheme[r] = g;
                                for (var A = [n], s = 0; s < 1e4 && 0 != (A = this[_0x4e57("0x9ce")](A))[_0x4e57("0x0")] && 1 != A[0][_0x4e57("0x0")]; s++) for (var C = 0; C < A[_0x4e57("0x0")]; C++) {
                                    var I = A[C], o = I[0], c = I[I[_0x4e57("0x0")] - 1], l = 1e5 * o + 1 * c;
                                    if (this[_0x4e57("0x9be")][l]) A[_0x4e57("0x63")](C, 1), C--; else {
                                        this.crossScheme[l] = I;
                                        var u = this.opposite(I), h = 1e5 * c + 1 * o;
                                        this[_0x4e57("0x9be")][h] = u
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }, {
            key: "opposite", value: function (x) {
                for (var e = [], _ = x[_0x4e57("0x0")] - 1; 0 <= _; _--) e[_0x4e57("0xf")](x[_]);
                return e
            }
        }, {
            key: _0x4e57("0x9ce"), value: function (x) {
                for (var e = [], _ = 0; _ < x[_0x4e57("0x0")]; _++) {
                    for (var t = x[_], i = [], a = 1; a < t.length; a++) i[_0x4e57("0xf")](t[a]);
                    var n = [];
                    for (a = 0; a < t.length - 1; a++) n[_0x4e57("0xf")](t[a]);
                    e[_0x4e57("0xf")](i), e[_0x4e57("0xf")](n)
                }
                return e
            }
        }, {
            key: _0x4e57("0x9cc"), value: function (x, e) {
                var _ = [x];
                if (x != e) {
                    var t = [], i = [x], a = [], n = this[_0x4e57("0x9bc")][x];
                    if (n[e]) _.push(e); else {
                        for (var g = 0; g < n.length; g++) {
                            var r = n[g], A = [x, r];
                            a[_0x4e57("0xf")](A), i[_0x4e57("0xf")](r)
                        }
                        for (g = 0; g < 100; g++) {
                            if (0 == (a = this[_0x4e57("0x9cf")](a, i)).length) return [];
                            for (var s = 0; s < a.length; s++) {
                                var C = a[s];
                                C[C[_0x4e57("0x0")] - 1] == e && t[_0x4e57("0xf")](C)
                            }
                            if (0 != t[_0x4e57("0x0")]) {
                                _ = this[_0x4e57("0x9d0")](t);
                                break
                            }
                        }
                    }
                }
                for (g = 0; g < _.length; g++) _[g] *= 1;
                return _
            }
        }, {
            key: _0x4e57("0x9cf"), value: function (x, e) {
                for (var _ = [], t = 0; t < x[_0x4e57("0x0")]; t++) for (var i = x[t], a = i[i.length - 1], n = this.areaToAreas[a], g = 0; g < n[_0x4e57("0x0")]; g++) {
                    var r = n[g];
                    if (!this[_0x4e57("0x833")](e, r)) {
                        for (var A = [], s = 0; s < i[_0x4e57("0x0")]; s++) A[_0x4e57("0xf")](i[s]);
                        A[_0x4e57("0xf")](r), _.push(A), e[_0x4e57("0xf")](r)
                    }
                }
                return _
            }
        }, {
            key: "getOptimutic", value: function (x) {
                for (var e = x[0], _ = this[_0x4e57("0x9d1")](e), t = 1; t < x.length; t++) {
                    var i = x[t], a = this.getNumber(i);
                    a < _ && (_ = a, e = i)
                }
                return e
            }
        }, {
            key: "getNumber", value: function (x) {
                for (var e = 0, _ = 0; _ < x[_0x4e57("0x0")] - 1; _++) {
                    var t = x[_], i = x[_ + 1];
                    Math[_0x4e57("0x391")](t / 1e4) == Math[_0x4e57("0x391")](i / 1e4) && e++
                }
                return e
            }
        }, {
            key: _0x4e57("0x922"), value: function (x, e, _, t, i, a) {
                var n = {};
                if (!this[_0x4e57("0x91c")][x] || !this[_0x4e57("0x91c")][e]) return n.result = [new (esmap[_0x4e57("0xd2")])(x, 0, [])], n;
                this[_0x4e57("0x87b")] || this[_0x4e57("0x9d2")]();
                var g = this[_0x4e57("0x9d3")](x, _, i), r = this[_0x4e57("0x9d3")](e, t, i),
                    A = this.navdata[x][_0x4e57("0x618")][g], s = this[_0x4e57("0x91c")][e].Nodes[r];
                if (A && s) {
                    var C = [], I = A.sid + 1e4 * x, o = s[_0x4e57("0x624")] + 1e4 * e, c = [];
                    if (I == o) c[_0x4e57("0xf")](I); else {
                        var l = 1e5 * I + o;
                        c = this[_0x4e57("0x9be")][l] ? this[_0x4e57("0x9be")][l] : []
                    }
                    if (0 != c[_0x4e57("0x0")]) {
                        var u = this[_0x4e57("0x9d5")](g, r, x, e, c);
                        if (u && 0 != u[_0x4e57("0x0")]) if (2 * c.length == u[_0x4e57("0x0")]) for (var h = 0; h < c[_0x4e57("0x0")]; h++) {
                            var f = c[h], d = Math.floor(f / 1e4), p = f % 1e4, b = 1 * u[2 * h], m = 1 * u[2 * h + 1],
                                v = this[_0x4e57("0x91c")][d][_0x4e57("0x618")],
                                y = this[_0x4e57("0x91c")][d][_0x4e57("0x619")],
                                E = this[_0x4e57("0x9d6")](v, y, b, m, p, d, i);
                            if (!E || !E.walkPath || 0 == E[_0x4e57("0x9d7")][_0x4e57("0x0")]) {
                                C = [];
                                break
                            }
                            this[_0x4e57("0x9d8")](d, E[_0x4e57("0x9d7")]), C.push(E)
                        } else C = []
                    }
                    if (0 == C.length) n = this[_0x4e57("0x9d9")](x, e, _, t, i, a); else {
                        for (var w = [], T = 0; T < C[_0x4e57("0x0")]; T++) {
                            var R = C[T][_0x4e57("0x3e8")];
                            if (C[T + 1]) C[T + 1].fnum != R || 0 != C[T][_0x4e57("0x9da")] && 0 != C[T + 1][_0x4e57("0x9da")] && (C[T].costDistance += C[T + 1][_0x4e57("0x9da")], C[T][_0x4e57("0x97a")] += C[T + 1][_0x4e57("0x97a")], C[T][_0x4e57("0x9d7")] = C[T][_0x4e57("0x9d7")][_0x4e57("0x11")](C[T + 1][_0x4e57("0x9d7")]), C.splice(T + 1, 1), T--)
                        }
                        for (var k = 0; k < C[_0x4e57("0x0")]; k++) {
                            var S = C[k];
                            w[_0x4e57("0xf")](new (esmap[_0x4e57("0xd2")])(S[_0x4e57("0x3e8")], S[_0x4e57("0x9da")], S[_0x4e57("0x9d7")]));
                            var M = C[k + 1];
                            M && S[_0x4e57("0x3e8")] != M.fnum && w[_0x4e57("0xf")](new esmap.ESNaviResult(S[_0x4e57("0x3e8")], 0, [S[_0x4e57("0x9d7")][S[_0x4e57("0x9d7")][_0x4e57("0x0")] - 1]]), new (esmap[_0x4e57("0xd2")])(M[_0x4e57("0x3e8")], 0, [M[_0x4e57("0x9d7")][0]]))
                        }
                        n[_0x4e57("0x915")] = w
                    }
                    return n
                }
                console.info(_0x4e57("0x9d4"))
            }
        }, {
            key: _0x4e57("0x9d8"), value: function (x, e) {
                for (var _ = this[_0x4e57("0x91c")][x][_0x4e57("0x618")], t = 0; t < e.length; t++) {
                    var i = _[e[t]], a = {fnum: x, x: i.X, id: i[_0x4e57("0x537")], y: i.Y};
                    e[t] = a
                }
            }
        }, {
            key: _0x4e57("0x9d5"), value: function (x, e, _, t, i) {
                var a = [];
                if (1 == i[_0x4e57("0x0")]) a[_0x4e57("0xf")](x), a[_0x4e57("0xf")](e); else {
                    for (var n = [], g = 0; g < i.length - 1; g++) {
                        var r = i[g], A = Math.floor(r / 1e4), s = i[g + 1], C = Math.floor(s / 1e4);
                        if (A == C) {
                            var I = [];
                            (d = [])[_0x4e57("0xf")](A), I.push(A);
                            for (var o = this[_0x4e57("0x9c5")][r], c = this[_0x4e57("0x91c")][A][_0x4e57("0x618")], l = this[_0x4e57("0x91c")][A][_0x4e57("0x619")], u = 0; u < o[_0x4e57("0x0")]; u++) {
                                var h = o[u], f = this[_0x4e57("0x9db")](h, s % 1e4, l, c);
                                0 != f[_0x4e57("0x0")] && (d.push(h), I[_0x4e57("0xf")](f[_0x4e57("0x628")]))
                            }
                            if (0 == d[_0x4e57("0x0")]) return [];
                            n[_0x4e57("0xf")](d), n.push(I)
                        } else {
                            var d;
                            I = [];
                            (d = [])[_0x4e57("0xf")](A), I[_0x4e57("0xf")](C);
                            o = this.layerPoints[r];
                            var p = this.layerPoints[s];
                            if (!o || !p) return null;
                            for (var b = 0; b < o[_0x4e57("0x0")]; b++) {
                                h = o[b];
                                var m = this[_0x4e57("0x9c2")][h];
                                for (u = 0; u < m[_0x4e57("0x0")]; u++) {
                                    var v = m[u];
                                    if (this.exitInArray(p, v)) {
                                        d[_0x4e57("0xf")](h), I[_0x4e57("0xf")](v);
                                        break
                                    }
                                }
                            }
                            if (0 == d[_0x4e57("0x0")]) return [];
                            n[_0x4e57("0xf")](d), n[_0x4e57("0xf")](I)
                        }
                    }
                    var y = {}, E = [];
                    E.push(x), this[_0x4e57("0x9dc")](n, 0, 0, E, y);
                    var w = {};
                    for (var T in y) {
                        var R = y[T], k = (c = this[_0x4e57("0x91c")][t].Nodes)[R[R.length - 1]], S = c[e],
                            M = this[_0x4e57("0x13b")](k, S);
                        R.push(e), w[M + 1 * T] = R
                    }
                    var L = 1e6;
                    for (var O in w) parseInt(O) < parseInt(L) && (a = w[L = O])
                }
                return a
            }
        }, {
            key: "findLine", value: function (x, e, _, t) {
                for (var i = this[_0x4e57("0x9bb")][x], a = 0; a < i.length; a++) {
                    var n = _[i[a]];
                    if (1 == n.rank) if (n[_0x4e57("0x624")] == x) {
                        if (t[n[_0x4e57("0x628")]][_0x4e57("0x624")] == e) return n
                    } else if (t[n[_0x4e57("0x624")]].sid == e) {
                        var g = this[_0x4e57("0xe8")](n);
                        return g[_0x4e57("0x624")] = n[_0x4e57("0x628")], g.eid = n[_0x4e57("0x624")], g
                    }
                }
                return []
            }
        }, {
            key: "getDistance", value: function (x, e) {
                return (x.X - e.X) * (x.X - e.X) + (x.Y - e.Y) * (x.Y - e.Y)
            }
        }, {
            key: _0x4e57("0x9dc"), value: function (x, e, _, t, i) {
                if (x[_0x4e57("0x0")] > e) for (var a = x[e], n = x[e + 1], g = a[0], r = this[_0x4e57("0x91c")][g][_0x4e57("0x618")], A = 1; A < a[_0x4e57("0x0")]; A++) {
                    var s = a[A], C = n[A], I = r[t[t[_0x4e57("0x0")] - 1]], o = r[s], c = this.getDistance(I, o);
                    if (_ += c, t[_0x4e57("0xf")](s), t[_0x4e57("0xf")](C), this[_0x4e57("0x9dc")](x, e + 2, _, t, i), t[_0x4e57("0x0")] == x[_0x4e57("0x0")] + 1) {
                        for (var l = [], u = 0; u < t.length; u++) l[_0x4e57("0xf")](t[u]);
                        i[_] = l
                    }
                    t.splice(t[_0x4e57("0x0")] - 1, 1), t[_0x4e57("0x63")](t[_0x4e57("0x0")] - 1, 1), _ -= c
                }
            }
        }, {
            key: _0x4e57("0x9d6"), value: function (x, e, _, t, i, a, n) {
                if (_ != t) {
                    var g = {};
                    g[_0x4e57("0x97a")] = _, g[_0x4e57("0x9da")] = 0, g[_0x4e57("0x9d7")] = [1 * _];
                    for (var r = [_], A = [], s = 1; s < 1e5; s++) {
                        for (var C = this[_0x4e57("0x9de")](g, x, e, r, i, n), I = 0; I < C.length; I++) A[_0x4e57("0xf")](C[I]);
                        if (A.sort(this[_0x4e57("0x9df")](_0x4e57("0x9da"))), 0 == A[_0x4e57("0x0")]) return [];
                        for (g = A[0]; this.exitInArray(r, g[_0x4e57("0x97a")]);) A.shift(), g = A[0];
                        if (r[_0x4e57("0xf")](g[_0x4e57("0x97a")]), A.shift(), g[_0x4e57("0x97a")] == t) return g[_0x4e57("0x3e8")] = a, g
                    }
                    return []
                }
                console[_0x4e57("0xde")](_0x4e57("0x9dd"))
            }
        }, {
            key: _0x4e57("0x9de"), value: function (x, e, _, t, i, a) {
                var n = [], g = x[_0x4e57("0x97a")];
                if (this.nearbyLine[g]) for (var r = this[_0x4e57("0x9bb")][g], A = 0; A < r.length; A++) {
                    var s = _[r[A]], C = s[_0x4e57("0x62b")];
                    if (1 == a) {
                        if (5 == C) continue
                    } else if (1 == C || 2 == C || 3 == C || 6 == C) continue;
                    var I = s[_0x4e57("0x628")];
                    if (g == s[_0x4e57("0x628")]) {
                        if (2 == a && "1" == s[_0x4e57("0x62a")]) continue;
                        I = s[_0x4e57("0x624")]
                    }
                    if (!this.exitInArray(t, I)) {
                        if (e[I][_0x4e57("0x624")] != i) continue;
                        var o = this[_0x4e57("0xe8")](x);
                        o[_0x4e57("0x97a")] = I, o[_0x4e57("0x9d7")][_0x4e57("0xf")](I), o.costDistance += s[_0x4e57("0x0")], n[_0x4e57("0xf")](o)
                    }
                }
                return n
            }
        }, {
            key: "getNaviResult2", value: function (x, e, _, t, i, a, n) {
                for (var g = null, r = {}, A = {}, s = {}, C = {}, I = 1; I < this[_0x4e57("0x9bf")].length; I++) {
                    var o = this.fnums[I], c = this[_0x4e57("0x91c")][o], l = c.Nodes;
                    for (var u in l) {
                        var h = l[u];
                        h.fnum = o, s[u] = h
                    }
                    var f = c[_0x4e57("0x619")];
                    for (var u in f) C[u] = f[u];
                    for (var d in f) {
                        var p = f[d], b = p[_0x4e57("0x624")], m = p[_0x4e57("0x628")], v = d, y = p.bstair;
                        if (1 == i) {
                            if (5 == y) continue
                        } else if (1 == y || 2 == y || 3 == y || 6 == y) continue;
                        if (l[b] && l[m]) {
                            if (r[b]) r[b].push(v); else {
                                var E = [v];
                                r[b] = E
                            }
                            if (r[m]) r[m][_0x4e57("0xf")](v); else {
                                E = [v];
                                r[m] = E
                            }
                        } else {
                            var w;
                            switch (a) {
                                case 1:
                                    w = 0;
                                    break;
                                case 2:
                                    w = 2;
                                    break;
                                case 3:
                                    w = 1;
                                    break;
                                case 4:
                                    w = 3
                            }
                            if (w && p[_0x4e57("0x62b")] != w) continue;
                            if (A[b]) A[b][_0x4e57("0xf")](v); else {
                                E = [v];
                                A[b] = E
                            }
                            if (A[m]) A[m].push(v); else {
                                E = [v];
                                A[m] = E
                            }
                        }
                    }
                }
                var T = this[_0x4e57("0x9d3")](x, _, i), R = this[_0x4e57("0x9d3")](e, t, i),
                    k = this[_0x4e57("0x9e0")](s, C, r, A, T, R, i);
                if (k && k.walkPath && 0 != k[_0x4e57("0x9d7")][_0x4e57("0x0")]) {
                    n && (this[_0x4e57("0x9e1")] = this[_0x4e57("0x9e1")][_0x4e57("0x11")](k[_0x4e57("0x9e2")]));
                    var S = k.walkPath, M = k[_0x4e57("0x9da")], L = {
                        x: s[S[0]].X,
                        y: s[S[0]].Y,
                        fnum: s[S[0]][_0x4e57("0x3e8")],
                        id: s[S[0]][_0x4e57("0x537")]
                    }, O = [new (esmap[_0x4e57("0xd2")])(x, M, [L])];
                    for (I = 0; I < S.length - 1; I++) {
                        var P = s[S[I]], H = P[_0x4e57("0x3e8")], D = s[S[I + 1]], N = D.fnum,
                            F = O[O[_0x4e57("0x0")] - 1];
                        if (H == N) F.pointList[_0x4e57("0xf")]({
                            x: D.X,
                            y: D.Y,
                            fnum: D[_0x4e57("0x3e8")],
                            id: D._id
                        }); else {
                            var z = {x: P.X, y: P.Y, fnum: P[_0x4e57("0x3e8")], id: P[_0x4e57("0x537")]},
                                j = {x: D.X, y: D.Y, fnum: D.fnum, id: D[_0x4e57("0x537")]};
                            O[_0x4e57("0xf")](new (esmap[_0x4e57("0xd2")])(H, 0, [z]), new (esmap[_0x4e57("0xd2")])(N, 0, [j]), new (esmap[_0x4e57("0xd2")])(N, M, [j]))
                        }
                    }
                    if ("2" == this[_0x4e57("0x94b")]) for (var Y = 1; Y < O.length - 1; Y++) {
                        var X = O[Y];
                        0 != X[_0x4e57("0x0")] && 1 == X.pointList[_0x4e57("0x0")] && O[Y - 1][_0x4e57("0x3e8")] == X[_0x4e57("0x3e8")] && O[Y + 1].fnum == X[_0x4e57("0x3e8")] && (O[_0x4e57("0x63")](Y - 1, 3), Y -= 3)
                    }
                    g = {result: O}
                }
                return g
            }
        }, {
            key: _0x4e57("0x9e0"), value: function (x, e, _, t, i, a, n) {
                if (i != a) {
                    var g = {};
                    g[_0x4e57("0x97a")] = i, g.costDistance = 0, g[_0x4e57("0x9d7")] = [i], g[_0x4e57("0x9e2")] = [];
                    for (var r = [i], A = [], s = 1; s < 1e5; s++) {
                        for (var C = this[_0x4e57("0x9e3")](g, x, e, _, t, r, n), I = 0; I < C.length; I++) A[_0x4e57("0xf")](C[I]);
                        if (0 == A[_0x4e57("0x0")]) return [];
                        for (A[_0x4e57("0x428")](this[_0x4e57("0x9df")]("costDistance")), g = A[0]; this[_0x4e57("0x833")](r, g[_0x4e57("0x97a")]);) A[_0x4e57("0x3")](), g = A[0];
                        if (r[_0x4e57("0xf")](g[_0x4e57("0x97a")]), A[_0x4e57("0x3")](), g[_0x4e57("0x97a")] == a) return g
                    }
                    return []
                }
                console[_0x4e57("0xde")](_0x4e57("0x9dd"))
            }
        }, {
            key: _0x4e57("0x9e3"), value: function (x, e, _, t, i, a, n) {
                var g = [], r = x.endPoint;
                if (t[r]) for (var A = t[r], s = 0; s < A[_0x4e57("0x0")]; s++) {
                    var C = (o = _[I = A[s]])[_0x4e57("0x628")];
                    if (!this[_0x4e57("0x833")](this[_0x4e57("0x9e1")], I)) {
                        if (r == o.eid) {
                            if ("1" == o[_0x4e57("0x62a")]) continue;
                            C = o[_0x4e57("0x624")]
                        }
                        if (!this[_0x4e57("0x833")](a, C)) (c = this[_0x4e57("0xe8")](x)).endPoint = C, c[_0x4e57("0x9d7")][_0x4e57("0xf")](C), c[_0x4e57("0x9e2")][_0x4e57("0xf")](I), c[_0x4e57("0x9da")] += o[_0x4e57("0x0")], 1 == o[_0x4e57("0x629")] && (c.costDistance += 1e3), g.push(c)
                    }
                }
                if (i[r]) for (A = i[r], s = 0; s < A[_0x4e57("0x0")]; s++) {
                    var I, o;
                    C = (o = _[I = A[s]]).eid;
                    if (r == o[_0x4e57("0x628")]) {
                        if ("1" == o[_0x4e57("0x62a")]) continue;
                        C = o[_0x4e57("0x624")]
                    }
                    if (!this[_0x4e57("0x833")](a, C)) {
                        var c;
                        (c = this[_0x4e57("0xe8")](x))[_0x4e57("0x97a")] = C, c[_0x4e57("0x9d7")][_0x4e57("0xf")](C), c[_0x4e57("0x9e2")][_0x4e57("0xf")](I);
                        for (var l, u = 10 * (o.rank || 1e3), h = 1; h < this[_0x4e57("0x91c")].length; h++) if (this[_0x4e57("0x91c")][h][_0x4e57("0x618")][o.sid]) {
                            l = h;
                            break
                        }
                        l && o.efnum && 1 < Math.abs(l - o.efnum) && (c[_0x4e57("0x9da")] += 1e4), c[_0x4e57("0x9da")] += 1e5 + u, g[_0x4e57("0xf")](c), this[_0x4e57("0x94b")] = this[_0x4e57("0x94b")] || o.bstair
                    }
                }
                return g
            }
        }, {
            key: _0x4e57("0x9d3"), value: function (x, e, _) {
                var t = this[_0x4e57("0x91c")][x][_0x4e57("0x618")], i = [1 / 0, 0];
                if (2 == _) for (var a in t) {
                    if (4 == (g = t[a])[_0x4e57("0x622")] || 5 == g[_0x4e57("0x622")]) (n = Math.abs(Math.sqrt(Math[_0x4e57("0x16e")](g.X - e.x, 2) + Math[_0x4e57("0x16e")](g.Y - e.y, 2)))) < i[0] && (i[0] = n, i[1] = a)
                } else for (var a in t) {
                    var n, g = t[a];
                    (n = Math[_0x4e57("0x13f")](Math[_0x4e57("0x161")](Math[_0x4e57("0x16e")](g.X - e.x, 2) + Math.pow(g.Y - e.y, 2)))) < i[0] && (i[0] = n, i[1] = a)
                }
                return i[1]
            }
        }, {
            key: _0x4e57("0x9df"), value: function (_) {
                return function (x, e) {
                    return x[_] - e[_]
                }
            }
        }, {
            key: _0x4e57("0x833"), value: function (x, e) {
                for (var _ = 0; _ < x[_0x4e57("0x0")]; _++) if (x[_] == e) return !0;
                return !1
            }
        }, {
            key: _0x4e57("0xe8"), value: function (x) {
                var e;
                if ((void 0 === x ? "undefined" : (0, a.default)(x)) == _0x4e57("0x9")) if (null === x) e = null; else if (x instanceof Array) {
                    e = [];
                    for (var _ = 0, t = x[_0x4e57("0x0")]; _ < t; _++) e[_0x4e57("0xf")](this[_0x4e57("0xe8")](x[_]))
                } else for (var i in e = {}, x) e[i] = this[_0x4e57("0xe8")](x[i]); else e = x;
                return e
            }
        }]), t
    }();
    e.default = g
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = g(_(44)), i = g(_(273)), a = g(_(0)), n = g(_(1));

    function g(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var r = function () {
        function e(x) {
            (0, a[_0x4e57("0xa")])(this, e), this[_0x4e57("0x9e4")] = {}, this[_0x4e57("0x35a")] = x, this[_0x4e57("0x475")] = {}, this[_0x4e57("0x9e5")] = {}, this[_0x4e57("0x75")] = {}
        }

        return (0, n[_0x4e57("0xa")])(e, [{
            key: "addMarker", value: function (x, e) {
                if (e in this[_0x4e57("0x9e5")]) x[_0x4e57("0x19c")] in this[_0x4e57("0x9e5")][e] ? this.markerQueue[e][x.angle][_0x4e57("0xf")](x) : this.markerQueue[e][x[_0x4e57("0x19c")]] = [x]; else {
                    var _ = (0, i[_0x4e57("0xa")])({}, x[_0x4e57("0x19c")], [x]);
                    this.markerQueue[e] = _
                }
            }
        }, {
            key: _0x4e57("0x442"), value: function (x) {
                var e = x.url;
                !this.checkO1() || this[_0x4e57("0x35a")][_0x4e57("0x534")] ? e in this[_0x4e57("0x9e4")] ? this.queue[e].push(x) : (this.queue[e] = [], this[_0x4e57("0x9e4")][e].push(x)) : console[_0x4e57("0xde")](esmap[_0x4e57("0xdf")][_0x4e57("0x9e6")])
            }
        }, {
            key: _0x4e57("0x9e7"), value: function (x) {
                var e = 0;
                for (var _ in x) x[_0x4e57("0x1")](_) && e++;
                return e + 1
            }
        }, {
            key: _0x4e57("0x9e8"), value: function () {
                var x = this[_0x4e57("0x35a")][_0x4e57("0x10e")][_0x4e57("0x108")].o1 || 0;
                return this[_0x4e57("0x9e7")](this.meshStore) > x
            }
        }, {
            key: _0x4e57("0x62"), value: function () {
                if (!this.checkO1() || this.map_[_0x4e57("0x534")]) for (var x in this[_0x4e57("0x9e4")]) {
                    var e = this[_0x4e57("0x9e4")][x];
                    if (0 != e[_0x4e57("0x0")]) {
                        var _ = x[_0x4e57("0x9e9")]("/");
                        x.substring(_) in this[_0x4e57("0x475")] ? this.loadExist(x, e) : this[_0x4e57("0x4e0")](x, e)
                    }
                }
            }
        }, {
            key: _0x4e57("0x9ea"), value: function (x, e) {
                for (var _ = x[_0x4e57("0x9e9")]("/"), t = x[_0x4e57("0x531")](_), i = this[_0x4e57("0x475")][t], a = 0; a < e[_0x4e57("0x0")]; a++) {
                    var n = e[a], g = i[_0x4e57("0xe8")]();
                    this[_0x4e57("0x4")](g, n)
                }
                this[_0x4e57("0x9e4")][x] = [], this.examinEnd()
            }
        }, {
            key: _0x4e57("0x4"), value: function (x, e) {
                var _ = this[_0x4e57("0x35a")][_0x4e57("0x61")], t = x.clone(), i = !1;
                t[_0x4e57("0x7c")] = x[_0x4e57("0x7c")][_0x4e57("0xe8")](), t[_0x4e57("0x6f0")] = esmap[_0x4e57("0x6ef")][_0x4e57("0x810")], t[_0x4e57("0x3ea")][_0x4e57("0x6b8")](), t[_0x4e57("0x9b8")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x9eb")], t[_0x4e57("0x9ec")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0x9ed")], t[_0x4e57("0xe1")] = esmap.ESMapLabel[_0x4e57("0xd")][_0x4e57("0xe1")], t[_0x4e57("0x55d")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x55d")], t[_0x4e57("0x730")] = esmap[_0x4e57("0xb9")].prototype.jump, t[_0x4e57("0x6e5")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")].flash3d, t[_0x4e57("0x729")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x729")], t[_0x4e57("0x382")] = e[_0x4e57("0x9ee")] ? ((e[_0x4e57("0x9ee")].o3d_ = t)[_0x4e57("0x6f9")] = esmap[_0x4e57("0xb9")][_0x4e57("0xd")][_0x4e57("0x6f9")], t[_0x4e57("0x6e6")] = e[_0x4e57("0x114")].x, t[_0x4e57("0x6e7")] = e[_0x4e57("0x114")].x, e[_0x4e57("0x9ee")]) : {
                    url: e[_0x4e57("0x36")],
                    name: e.name,
                    data_: e.data_,
                    ID: e.id || 0,
                    fnum: e[_0x4e57("0x3e8")] || 1,
                    nodeType: esmap[_0x4e57("0x9a")][_0x4e57("0x3ed")],
                    o3d_: t,
                    fadeOut: function (x) {
                        this[_0x4e57("0x3d9")][_0x4e57("0x9b8")](x)
                    },
                    fadeIn: function (x) {
                        this[_0x4e57("0x3d9")][_0x4e57("0x9ec")](x)
                    }
                };
                var a = e[_0x4e57("0x114")];
                -1 != e[_0x4e57("0x36")][_0x4e57("0x41")](_0x4e57("0x1dd")) && (i = !0, t.renderOrder++), t[_0x4e57("0x114")][_0x4e57("0x115")](a.x, a.y, a.z);
                var n = e.rotate;
                t[_0x4e57("0x340")][_0x4e57("0x115")](n.x, n.y, n.z);
                var g = e[_0x4e57("0xe7")];
                t[_0x4e57("0xe7")].set(g.x, g.y, g.z), this[_0x4e57("0x9ef")](t, i), e[_0x4e57("0x66")].add(t), e.bclick && _[_0x4e57("0x9f0")](t);
                var r = t.datas_ ? t.datas_ : t;
                this[_0x4e57("0x35a")][_0x4e57("0x149")](_0x4e57("0x9f1"), r), e[_0x4e57("0xf1")] && e[_0x4e57("0xf1")](r)
            }
        }, {
            key: "loadModel3D", value: function (n, g) {
                var r = this, x = new em.JSONModelLoader;
                r[_0x4e57("0x9e4")][n] = [], x[_0x4e57("0x24b")](n, function (x) {
                    for (var e = 0; e < g[_0x4e57("0x0")]; e++) {
                        var _ = g[e], t = x.clone();
                        r[_0x4e57("0x4")](t, _)
                    }
                    var i = n.lastIndexOf("/"), a = n[_0x4e57("0x531")](i);
                    r[_0x4e57("0x475")][a] = x, r[_0x4e57("0x9f2")]()
                })
            }
        }, {
            key: "examinEnd", value: function () {
                var x = this[_0x4e57("0x9e4")];
                if (0 != (0, t[_0x4e57("0xa")])(x)[_0x4e57("0x0")]) for (var e in x) 0 != x[e][_0x4e57("0x0")] && !1
            }
        }, {
            key: "setAlpha", value: function (x, e) {
                var _ = x[_0x4e57("0x382")][_0x4e57("0x3e8")], t = this[_0x4e57("0x35a")].mapScene[_0x4e57("0xf9")][_];
                if (e) for (var i = x.material.materials ? x[_0x4e57("0x7c")][_0x4e57("0x2e9")] : [x.material], a = 0; a < i.length; a++) {
                    (A = i[a])[_0x4e57("0x2f0")] = !0, A[_0x4e57("0x75d")] = THREE[_0x4e57("0x10c")], A[_0x4e57("0x9f3")] && (A[_0x4e57("0x307")] = !1)
                }
                if (t && t.visible && this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x37d")] && _ != this.map_[_0x4e57("0xe3")]) {
                    var n, g = this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x445")];
                    n = x[_0x4e57("0x7c")].materials ? x[_0x4e57("0x7c")][_0x4e57("0x2e9")] : [x[_0x4e57("0x7c")]];
                    for (var r = 0; r < n.length; r++) {
                        var A = n[r];
                        t[_0x4e57("0x69b")] || (t[_0x4e57("0x69b")] = {}), t[_0x4e57("0x69b")][A[_0x4e57("0x342")]] || (t.lastAlpha[A[_0x4e57("0x342")]] = A.opacity), A.transparent = !0, A[_0x4e57("0x2f1")] = g, A.side = THREE.DoubleSide
                    }
                }
            }
        }]), e
    }();
    e[_0x4e57("0xa")] = r
}, , function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var o = i(_(0)), t = i(_(1)), c = i(_(96));

    function i(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var a = function () {
        function I(x) {
            (0, o.default)(this, I);
            var e = (this[_0x4e57("0x35a")] = x)[_0x4e57("0xf0")],
                _ = document[_0x4e57("0x9f4")](_0x4e57("0x9f5")) || x.options[_0x4e57("0xad")];
            this[_0x4e57("0x9f6")] = _.getBoundingClientRect();
            this[_0x4e57("0x9f6")];
            var t = e.scalerWidth, i = (0, c[_0x4e57("0xa")])("div").style({
                position: _0x4e57("0x9f7"),
                bottom: e[_0x4e57("0x9f8")][1] + "px",
                left: e[_0x4e57("0x9f8")][0] + "px",
                width: t + "px",
                height: _0x4e57("0x9f9"),
                webkitTextSizeAdjust: _0x4e57("0x83"),
                msTextSizeAdjust: _0x4e57("0x83"),
                zIndex: 1
            })[_0x4e57("0x69")];
            _[_0x4e57("0x235")](i);
            var a = (0, c[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: _0x4e57("0x22c"),
                overflow: _0x4e57("0x231"),
                fontSize: _0x4e57("0x9fa"),
                fontFamily: "Arial,sans-serif",
                textAlign: _0x4e57("0x6b8"),
                color: _0x4e57("0x4d4"),
                width: "100%",
                cursor: "default",
                lineHeight: _0x4e57("0x86d"),
                textShadow: _0x4e57("0x9fb")
            })[_0x4e57("0x69")];
            i[_0x4e57("0x235")](a), this.textBox = a;
            var n = (0, c[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: _0x4e57("0x22c"),
                overflow: _0x4e57("0x231"),
                background: _0x4e57("0x4d4"),
                width: _0x4e57("0x817"),
                height: "5px",
                fontSize: "0",
                bottom: _0x4e57("0x9fc")
            })[_0x4e57("0x69")];
            i[_0x4e57("0x235")](n);
            var g = (0, c[_0x4e57("0xa")])(_0x4e57("0x232")).style({
                position: _0x4e57("0x22c"),
                overflow: _0x4e57("0x231"),
                background: _0x4e57("0x4d4"),
                width: _0x4e57("0x9fd"),
                height: _0x4e57("0x9fe"),
                fontSize: "0",
                bottom: "0",
                right: _0x4e57("0x9fc")
            })[_0x4e57("0x69")];
            i.appendChild(g);
            var r = (0, c[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: _0x4e57("0x22c"),
                overflow: _0x4e57("0x231"),
                background: _0x4e57("0x4d4"),
                width: "3px",
                height: "7px",
                fontSize: "0",
                bottom: "0",
                left: _0x4e57("0x9fc")
            })[_0x4e57("0x69")];
            i.appendChild(r);
            var A = (0, c[_0x4e57("0xa")])(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: _0x4e57("0x22c"),
                overflow: _0x4e57("0x231"),
                background: _0x4e57("0x9ff"),
                width: _0x4e57("0x817"),
                height: _0x4e57("0x9fd"),
                fontSize: "0",
                bottom: "0"
            }).element;
            i[_0x4e57("0x235")](A);
            var s = (0, c.default)(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: "absolute",
                overflow: _0x4e57("0x231"),
                background: _0x4e57("0x9ff"),
                width: _0x4e57("0x8bb"),
                height: _0x4e57("0xa00"),
                fontSize: "0",
                bottom: "0",
                left: "0"
            })[_0x4e57("0x69")];
            i[_0x4e57("0x235")](s);
            var C = (0, c.default)(_0x4e57("0x232"))[_0x4e57("0x6c")]({
                position: "absolute",
                overflow: "hidden",
                background: "#000",
                width: _0x4e57("0x8bb"),
                height: _0x4e57("0xa00"),
                fontSize: "0",
                bottom: "0",
                right: "0"
            })[_0x4e57("0x69")];
            i.appendChild(C), this[_0x4e57("0xa01")] = i.getBoundingClientRect(), this[_0x4e57("0xa02")] = i
        }

        return (0, t[_0x4e57("0xa")])(I, [{
            key: _0x4e57("0x91b"), value: function (x, e) {
                return Math[_0x4e57("0x161")]((x.x - e.x) * (x.x - e.x) + (x.y - e.y) * (x.y - e.y))
            }
        }, {
            key: _0x4e57("0x148"), value: function () {
                var x = this.box.height - this[_0x4e57("0x35a")][_0x4e57("0xf0")][_0x4e57("0x9f8")][1],
                    e = this[_0x4e57("0x35a")][_0x4e57("0x477")](this[_0x4e57("0xa01")].left - this[_0x4e57("0x9f6")].left, x, 0),
                    _ = this[_0x4e57("0x35a")][_0x4e57("0x477")](this[_0x4e57("0xa01")][_0x4e57("0x134")] - this[_0x4e57("0x9f6")][_0x4e57("0x135")], x, 0);
                if (e && _) {
                    var t = this.DistanceofTwoPts(e, _);
                    this[_0x4e57("0xa03")][_0x4e57("0x4bb")] = (50 < t ? t.toFixed(0) : t.toFixed(1)) + "&nbsp;米"
                }
            }
        }, {
            key: _0x4e57("0x3da"), set: function (x) {
                this[_0x4e57("0xa02")].style.display = _0x4e57(x ? "0x876" : "0x83")
            }, get: function () {
                return this[_0x4e57("0xa02")][_0x4e57("0x6c")].display != _0x4e57("0x83")
            }
        }]), I
    }();
    e.default = a
}, function (x, e, _) {
    "use strict";
    Object[_0x4e57("0x6")](e, _0x4e57("0x8"), {value: !0});
    var t = a(_(14)), i = a(_(0));

    function a(x) {
        return x && x[_0x4e57("0x8")] ? x : {default: x}
    }

    var n = function x(e) {
        (0, i[_0x4e57("0xa")])(this, x);
        var _ = esmap.ESMap[_0x4e57("0x107")];
        this[_0x4e57("0x3d0")] = e, this[_0x4e57("0x3d0")][_0x4e57("0x486")] = _0x4e57("0xab"), _0x4e57("0xab") == this[_0x4e57("0x3d0")][_0x4e57("0x486")] ? (this.w_ = this.options_[_0x4e57("0x112")] ? this[_0x4e57("0x3d0")][_0x4e57("0x112")] : 300, this.h_ = this[_0x4e57("0x3d0")][_0x4e57("0x1c5")] ? this[_0x4e57("0x3d0")][_0x4e57("0x1c5")] : 150, this[_0x4e57("0x84a")] = 10) : (this.w_ = 32, this.h_ = 32, this[_0x4e57("0x84a")] = 8), this[_0x4e57("0xa04")] = this.options_[_0x4e57("0xa05")] ? this[_0x4e57("0x3d0")][_0x4e57("0xa05")] : 0, this[_0x4e57("0x852")] = _0x4e57("0x8a5"), this[_0x4e57("0x861")] = this[_0x4e57("0x3d0")][_0x4e57("0x860")] ? this[_0x4e57("0x3d0")][_0x4e57("0x860")] : _0x4e57("0xa00"), this[_0x4e57("0xa06")] = this[_0x4e57("0x3d0")][_0x4e57("0xa07")] ? this[_0x4e57("0x3d0")].screenCoord : null, this[_0x4e57("0x8a1")] = this[_0x4e57("0x3d0")][_0x4e57("0x8a1")] ? this[_0x4e57("0x3d0")].className : null, this[_0x4e57("0xa08")] = this[_0x4e57("0x3d0")][_0x4e57("0x415")] ? this[_0x4e57("0x3d0")][_0x4e57("0x415")] : null, this[_0x4e57("0xa08")] && this[_0x4e57("0xa08")][_0x4e57("0x1c5")] && (this.mapCoord_.z = this[_0x4e57("0xa08")][_0x4e57("0x1c5")]), this[_0x4e57("0xa06")] && this.screenCoord_[_0x4e57("0x1c5")] && (this[_0x4e57("0xa06")].z = this[_0x4e57("0xa06")][_0x4e57("0x1c5")]), (this[_0x4e57("0xa06")] || this.mapCoord_) && (this[_0x4e57("0xa09")] = !!this[_0x4e57("0xa06")], this.$ = function (x) {
            return document.querySelector(x)
        }, this[_0x4e57("0x879")] = this[_0x4e57("0x3d0")][_0x4e57("0x8ab")] ? this[_0x4e57("0x3d0")][_0x4e57("0x8ab")] : 20, this[_0x4e57("0xa0a")] = this.h_ - 2 * this.defaultPadding_, this[_0x4e57("0xa0b")] = this[_0x4e57("0x3d0")][_0x4e57("0xa0c")] ? this[_0x4e57("0x3d0")][_0x4e57("0xa0c")] : _0x4e57("0xa0d"), this[_0x4e57("0xa0b")] = _0x4e57("0xa0e") + this[_0x4e57("0xa0a")] + _0x4e57("0xa0f") + this[_0x4e57("0xa0b")] + "</div>", this.borderStyle_ = this[_0x4e57("0x3d0")][_0x4e57("0xa10")] ? this[_0x4e57("0x3d0")].borderStyle : _0x4e57("0xa11"), this[_0x4e57("0x709")] = this[_0x4e57("0x3d0")][_0x4e57("0x709")] ? this.options_[_0x4e57("0x709")] : _0x4e57("0xa12"), this[_0x4e57("0x868")] = this[_0x4e57("0x3d0")][_0x4e57("0x868")] ? this.options_[_0x4e57("0x868")] : _0x4e57("0x75e"), this[_0x4e57("0x2f1")] = 1, this[_0x4e57("0x35a")] = _, this[_0x4e57("0xa13")] = null, _ && this._tryInit(_))
    };
    (e[_0x4e57("0xa")] = n)[_0x4e57("0xd")] = {
        _tryInit: function (x) {
            var e = document[_0x4e57("0x6a")](_0x4e57("0x232"));
            if (e.style[_0x4e57("0x112")] = this.w_ + "px", e.style[_0x4e57("0x1c5")] = this.h_ + "px", e[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), e.onclick = function (x) {
                x[_0x4e57("0x170")](), x[_0x4e57("0x18a")]()
            }, this.className) e[_0x4e57("0x6f")](_0x4e57("0x4bd"), this[_0x4e57("0x8a1")]); else {
                e.setAttribute(_0x4e57("0x4bd"), _0x4e57("0xa14")), e[_0x4e57("0x6c")].padding = this.defaultPadding_ + "px", e[_0x4e57("0x6c")][_0x4e57("0x868")] = _0x4e57("0x670") + this[_0x4e57("0x868")] + "," + this[_0x4e57("0x2f1")] + ")", e[_0x4e57("0x6c")].border = this[_0x4e57("0xa15")], e[_0x4e57("0x6c")].borderRadius = this[_0x4e57("0x861")];
                var _ = document[_0x4e57("0x6a")](_0x4e57("0x88e"));
                _[_0x4e57("0x6f")]("class", _0x4e57("0xa16")), _.style[_0x4e57("0x112")] = 0, _[_0x4e57("0x6c")][_0x4e57("0x1c5")] = 0, _.style[_0x4e57("0x862")] = 0, _[_0x4e57("0x6c")][_0x4e57("0x230")] = _0x4e57("0x231"), _[_0x4e57("0x6c")][_0x4e57("0xe7")] = "absolute", _[_0x4e57("0x6c")][_0x4e57("0xa17")] = _0x4e57("0x9f9"), _[_0x4e57("0x6c")][_0x4e57("0xa10")] = _0x4e57("0xa18"), _.style.borderColor = this[_0x4e57("0x709")] + _0x4e57("0xa19"), _[_0x4e57("0x6c")][_0x4e57("0x135")] = this.w_ / 2 - 25 + "px", _[_0x4e57("0x6c")][_0x4e57("0x137")] = "-40px";
                var t = document[_0x4e57("0x6a")](_0x4e57("0x88e"));
                t[_0x4e57("0x6f")](_0x4e57("0x4bd"), _0x4e57("0xa1a")), t.style[_0x4e57("0x112")] = 0, t[_0x4e57("0x6c")][_0x4e57("0x1c5")] = 0, t.style[_0x4e57("0x862")] = 0, t[_0x4e57("0x6c")].overflow = _0x4e57("0x50c"), t[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), t[_0x4e57("0x6c")].borderStyle = _0x4e57("0xa18"), t[_0x4e57("0x6c")][_0x4e57("0xa17")] = _0x4e57("0x9f9"), t[_0x4e57("0x6c")][_0x4e57("0x709")] = "rgba(" + this[_0x4e57("0x868")] + "," + this[_0x4e57("0x2f1")] + _0x4e57("0xa1b"), t[_0x4e57("0x6c")][_0x4e57("0x135")] = this.w_ / 2 - 25 + "px", t[_0x4e57("0x6c")].bottom = _0x4e57("0xa1c");
                var i = document[_0x4e57("0x6a")](_0x4e57("0x33c"));
                i[_0x4e57("0x38")] = _0x4e57("0x171"), i[_0x4e57("0x259")] = "✖", i[_0x4e57("0x6c")][_0x4e57("0xe7")] = _0x4e57("0x22c"), i[_0x4e57("0x6c")][_0x4e57("0x134")] = _0x4e57("0xa1d"), i[_0x4e57("0x6c")][_0x4e57("0xa9")] = _0x4e57("0xa1e"), i.style[_0x4e57("0x86e")] = _0x4e57("0xa1f"), i[_0x4e57("0x6c")][_0x4e57("0x112")] = _0x4e57("0xa20"), i[_0x4e57("0x6c")][_0x4e57("0x1c5")] = _0x4e57("0xa20"), i[_0x4e57("0x6c")][_0x4e57("0x81b")] = 0, i.style[_0x4e57("0xa21")] = _0x4e57("0x83"), i.style[_0x4e57("0x8ab")] = "0", i[_0x4e57("0x871")] = this[_0x4e57("0xa22")][_0x4e57("0xc")](this), e[_0x4e57("0x235")](i), e[_0x4e57("0x235")](_), e.appendChild(t)
            }
            var a = x[_0x4e57("0xe5")].container_[_0x4e57("0x8d5")](_0x4e57("0x36c"))[0];
            if (x.mapView[_0x4e57("0xfe")].insertBefore(e, a), e[_0x4e57("0xa23")](_0x4e57("0xa24"), this[_0x4e57("0xa0b")]), this.IsScreenCoord) {
                var n = this[_0x4e57("0x35a")][_0x4e57("0xe5")].container_[_0x4e57("0x51a")]();
                this[_0x4e57("0xa06")].x -= n[_0x4e57("0x135")], this.screenCoord_.y -= n[_0x4e57("0xa9")], this[_0x4e57("0xa08")] = this[_0x4e57("0xa25")](this[_0x4e57("0xa06")]), this[_0x4e57("0x873")](e, this[_0x4e57("0xa06")])
            } else this[_0x4e57("0xa08")].z = this.getMapCoord_Z(this[_0x4e57("0xa08")][_0x4e57("0x3e8")], this[_0x4e57("0xa08")].z), this.setPosition_(e, this[_0x4e57("0xa26")](this[_0x4e57("0xa08")]));
            this[_0x4e57("0xa13")] = e, this[_0x4e57("0x874")]();
            this.options_[_0x4e57("0x820")] && this[_0x4e57("0x3d0")][_0x4e57("0x820")](this[_0x4e57("0x3d0")][_0x4e57("0xa0c")])
        }, getMapCoord_Z: function (x, e) {
            return e ? this[_0x4e57("0x35a")][_0x4e57("0x3f6")](x) + e : this[_0x4e57("0x35a")].getFloorHeight(x) + this.map_[_0x4e57("0x100")]
        }, getMapCoord_: function (x) {
            if ("object" != (typeof x === _0x4e57("0x15") ? _0x4e57("0x15") : (0, t.default)(x)) || !x.x || !x.y || !x[_0x4e57("0x3e8")]) return null;
            var e = {x: x.x, y: x.y, z: this[_0x4e57("0xa27")](x[_0x4e57("0x3e8")], x.z)};
            return map.coordScreenToMap(e.x, e.y, e.z)
        }, getScreenCoord_: function (x) {
            return _0x4e57("0x9") == (void 0 === x ? _0x4e57("0x15") : (0, t.default)(x)) && x.x && x.y && x.z ? this[_0x4e57("0x35a")][_0x4e57("0xa28")](x.x, x.y, x.z) : null
        }, bindCloseClick_: function () {
            this.hide()
        }, close: function () {
            this.popDiv_ && (this[_0x4e57("0x35a")][_0x4e57("0xe5")].container_.removeChild(this[_0x4e57("0xa13")]), this[_0x4e57("0xa13")] = null, this.options_[_0x4e57("0x822")] && _0x4e57("0x16") == typeof this[_0x4e57("0x3d0")][_0x4e57("0x822")] && this[_0x4e57("0x3d0")].closeCallBack(!0))
        }, hide: function () {
            this.popDiv_ && (this[_0x4e57("0xa13")][_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x83"))
        }, show: function () {
            this[_0x4e57("0xa13")] && (this.popDiv_[_0x4e57("0x6c")].display = _0x4e57("0x876"))
        }, toggle: function () {
            this.popDiv_ && (this[_0x4e57("0xa13")][_0x4e57("0x6c")][_0x4e57("0x448")] == _0x4e57("0x83") ? this[_0x4e57("0xa13")][_0x4e57("0x6c")][_0x4e57("0x448")] = _0x4e57("0x876") : this.popDiv_.style[_0x4e57("0x448")] = "none")
        }, setPosition_: function (x, e) {
            x && e && _0x4e57("0x9") == (typeof e === _0x4e57("0x15") ? "undefined" : (0, t[_0x4e57("0xa")])(e)) && e.x && e.y && (x[_0x4e57("0x6c")][_0x4e57("0xa9")] = e.y - this.h_ - 35 - this[_0x4e57("0xa04")] + "px", x[_0x4e57("0x6c")][_0x4e57("0x135")] = e.x - this.w_ / 2 + 2 + "px")
        }, controlPositionListener: function () {
            if (this.map_) {
                var x = this;
                x.setPosition_(x.popDiv_, x[_0x4e57("0xa26")](x[_0x4e57("0xa08")])), this.map_.on(_0x4e57("0x65"), function () {
                    x.popDiv_ && x.setPosition_(x[_0x4e57("0xa13")], x[_0x4e57("0xa26")](x[_0x4e57("0xa08")]))
                })
            }
        }
    }
}]));
!function (f) {
    function e(e) {
        for (var r, t, n = e[0], o = e[1], u = e[2], l = 0, i = []; l < n.length; l++) t = n[l], p[t] && i.push(p[t][0]), p[t] = 0;
        for (r in o) Object.prototype.hasOwnProperty.call(o, r) && (f[r] = o[r]);
        for (s && s(e); i.length;) i.shift()();
        return c.push.apply(c, u || []), a()
    }

    function a() {
        for (var e, r = 0; r < c.length; r++) {
            for (var t = c[r], n = !0, o = 1; o < t.length; o++) {
                var u = t[o];
                0 !== p[u] && (n = !1)
            }
            n && (c.splice(r--, 1), e = l(l.s = t[0]))
        }
        return e
    }

    var t = {}, p = {2: 0}, c = [];

    function l(e) {
        if (t[e]) return t[e].exports;
        var r = t[e] = {i: e, l: !1, exports: {}};
        return f[e].call(r.exports, r, r.exports, l), r.l = !0, r.exports
    }

    l.m = f, l.c = t, l.d = function (e, r, t) {
        l.o(e, r) || Object.defineProperty(e, r, {enumerable: !0, get: t})
    }, l.r = function (e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(e, "__esModule", {value: !0})
    }, l.t = function (r, e) {
        if (1 & e && (r = l(r)), 8 & e) return r;
        if (4 & e && "object" == typeof r && r && r.__esModule) return r;
        var t = Object.create(null);
        if (l.r(t), Object.defineProperty(t, "default", {
            enumerable: !0,
            value: r
        }), 2 & e && "string" != typeof r) for (var n in r) l.d(t, n, function (e) {
            return r[e]
        }.bind(null, n));
        return t
    }, l.n = function (e) {
        var r = e && e.__esModule ? function () {
            return e.default
        } : function () {
            return e
        };
        return l.d(r, "a", r), r
    }, l.o = function (e, r) {
        return Object.prototype.hasOwnProperty.call(e, r)
    }, l.p = "/dist/";
    var r = window.ESJsonpModules = window.ESJsonpModules || [], n = r.push.bind(r);
    r.push = e, r = r.slice();
    for (var o = 0; o < r.length; o++) e(r[o]);
    var s = n;
    c.push([123, 1, 0]), a()
}([]);
(window.ESJsonpModules = window.ESJsonpModules || []).push([[0], {
    123: function (t, e, i) {
        "use strict";
        var n, r = i(124), a = (n = r) && n.__esModule ? n : {default: n};
        var o = i(77);
        t.exports = {THREE_: o, esWorker: a.default}
    }, 124: function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var n = o(i(0)), r = o(i(1)), a = o(i(125));

        function o(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var s = function () {
            function t() {
                (0, n.default)(this, t)
            }

            return (0, r.default)(t, null, [{
                key: "createWorker", value: function (t, e) {
                    e(new a.default(126))
                }
            }]), t
        }();
        e.default = s
    }, 126: function (t, e, i) {
        "use strict";
        var n, r = i(127), a = (n = r) && n.__esModule ? n : {default: n};
        t.exports = function (e) {
            e.addEventListener("message", function (t) {
                if (e.rh = new a.default(e), 2 == t.data.layerType) e.rh.createFloors(t.data); else e.rh.createRooms(t.data)
            }), e.addEventListener("error", function (t) {
                console.info("workerError")
            }, !1)
        }
    }, 127: function (t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {value: !0});
        var O = a(i(9)), n = a(i(0)), r = a(i(1)), G = i(77);

        function a(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = function () {
            function e(t) {
                (0, n.default)(this, e), this.worker = t, this.typedDatas = {}
            }

            return (0, r.default)(e, [{
                key: "createRooms", value: function (t) {
                    for (var e = {}, i = {}, n = 0, r = t.id, a = [], o = [], s = t.layers, h = t.layerType, l = 5, c = t.isMerge, u = t.showBase, p = {
                        sceneX: t.sceneX,
                        sceneZ: t.sceneZ,
                        minX: t.minX,
                        minY: t.minY,
                        maxX: t.maxX,
                        maxY: t.maxY
                    }, d = this, f = 0; f < s.length; f++) {
                        var m, g = s[f];
                        switch (h) {
                            case 0:
                                m = g.modelbases;
                                break;
                            case 1:
                                m = g.models
                        }
                        for (var v = m.length, y = 0, x = 0, _ = 0; _ < v; _++) {
                            var M = m[_];
                            if (M.hasOwnProperty("RoomHigh") && null != M.RoomHigh && 0 < M.RoomHigh && (l = M.RoomHigh), M.hasOwnProperty("RoomLogo") && null != M.RoomLogo && 1 < M.RoomLogo.length && 0 == M.FsId && "" != M.RoomLogoSize) {
                                var w = {}, b = M.RoomLogoSize.split(",");
                                if (w.coord = {
                                    x: M.CenX,
                                    y: M.CenY
                                }, w.size = [parseFloat(b[0]), parseFloat(b[1])], w.RoomLogo = M.RoomLogo, w.id = M.oid, w.height = M.RoomHigh + .05, w.rotate = 2 < b.length ? parseFloat(b[2]) : 0, w.angle = 3 < b.length ? parseFloat(b[3]) : 0, w.offset = 5 < b.length ? {
                                    x: parseFloat(b[4]),
                                    y: parseFloat(b[5]),
                                    z: parseFloat(b[6]) || 0
                                } : {x: 0, y: 0, z: 0}, M.hasOwnProperty("offset") && 0 < M.offset.length) {
                                    var S = M.offset.split(",");
                                    w.offset.x += parseFloat(S[0]), w.offset.z += parseFloat(S[1]), w.offset.y += parseFloat(S[2])
                                }
                                a.push(w)
                            }
                            if (M.RModel && 2 < M.RModel.length && "undefined" != M.RModel && o.push({
                                model: M.RModel,
                                scale: M.scale,
                                rotate: M.rotate,
                                name: M.name,
                                x: M.CenX,
                                y: M.CenY,
                                offset: M.offset,
                                id: M.oid,
                                bclick: M.bclick
                            }), 999 != M.RoomStyle || 0 != u) {
                                var T = d.createGeometry_(M, p, l, 1);
                                if (T) {
                                    var A = c ? M.RoomStyle : M.oid || 0, E = T.geometry;
                                    e[A] || (e[A] = {}, i[A] = new G.Geometry, e[A].pointsGeometry = T.pointsGeometry, e[A].brothers = [], e[A].faceIndex = 0, n++);
                                    var L = e[A].faceIndex;
                                    e[A].faceIndex += E.faces.length, y += 9 * E.faces.length;
                                    var P = {}, C = (0, O.default)({}, M);
                                    P.data_ = C, P.FloorNum = C.floornum, P.ID = C.oid, P.name = C.name, P.typeID = C.Typeid, P.nodeType = 5, P.mapCoord = {
                                        x: C.CenX,
                                        y: C.CenY
                                    }, P.faceRange = [L, e[A].faceIndex], e[A].brothers.push(P), i[A].merge(T.geometry), e[A].pointsGeometry.merge(T.pointsGeometry), i[A].computeBoundingSphere(), x += 3 * E.vertices.length, _ == v - 1 && (d.typedDatas.faces = new Float32Array(y), d.typedDatas.vertices = new Float32Array(x), d.typedDatas.uvs = [], d.typedDatas.normals = [], d.typedDatas.facesIndex = 0, d.typedDatas.verticesIndex = 0, d.typedDatas.indexs = new Float32Array(4 * n))
                                }
                            } else _ == v - 1 && (d.typedDatas.faces = new Float32Array(y), d.typedDatas.vertices = new Float32Array(x), d.typedDatas.uvs = [], d.typedDatas.normals = [], d.typedDatas.facesIndex = 0, d.typedDatas.verticesIndex = 0, d.typedDatas.indexs = new Float32Array(4 * n))
                        }
                    }
                    if (0 != n) {
                        var R = 0;
                        for (var I in i) {
                            var D = i[I];
                            d.toJSON(D, R), R += 4
                        }
                        var N = new Float32Array(d.typedDatas.uvs), U = new Float32Array(d.typedDatas.normals),
                            z = d.typedDatas.faces, F = d.typedDatas.vertices, B = d.typedDatas.indexs;
                        d.worker.postMessage({
                            id: r,
                            types: e,
                            fnum: t.fnum,
                            layerType: t.layerType,
                            faces: z,
                            vertices: F,
                            uvs: N,
                            normals: U,
                            modelImagesData: a,
                            model3DData: o,
                            indexs: B
                        }, [z.buffer], [F.buffer], [U.buffer], [N.buffer], [B.buffer]), d.typedDatas.faces = null, d.typedDatas.facesIndex = 0, d.typedDatas.vertices = null, d.typedDatas.verticesIndex = 0, d.typedDatas.uvs = void 0, d.typedDatas.normals = void 0, d.typedDatas.indexs = void 0
                    } else d.worker.postMessage({id: r, types: 0})
                }
            }, {
                key: "toJSON", value: function (t, e) {
                    for (var i = this.typedDatas.indexs, n = this.typedDatas.vertices, r = this.typedDatas.verticesIndex, a = 0; a < t.vertices.length; a++) {
                        var o = t.vertices[a];
                        n[r] = o.x, n[r + 1] = o.y, n[r + 2] = o.z, r += 3
                    }
                    i[e + 2] = r - 1;
                    for (var s = this.typedDatas.faces, h = this.typedDatas.facesIndex, l = [], c = [], u = {}, p = {}, d = 0; d < t.faces.length; d++) {
                        var f = t.faces[d], m = void 0 !== t.faceVertexUvs[0][d], g = 0 < f.normal.length(),
                            v = 0 < f.vertexNormals.length, y = 1 !== f.color.r || 1 !== f.color.g || 1 !== f.color.b,
                            x = 0 < f.vertexColors.length, _ = 0;
                        if (_ = w(_ = w(_ = w(_ = w(_ = w(_ = w(_ = w(_ = w(_, 0, 0), 1, !0), 2, !1), 3, m), 4, g), 5, v), 6, y), 7, x), s[h] = _, s[h + 1] = f.a, s[h + 2] = f.b, s[h + 3] = f.c, s[h + 4] = f.materialIndex, m) {
                            var M = t.faceVertexUvs[0][d];
                            s[h + 5] = S(M[0]), s[h + 6] = S(M[1]), s[h + 7] = S(M[2])
                        }
                        g && (s[h + 8] = b(f.normal)), h += 9
                    }

                    function w(t, e, i) {
                        return i ? t | 1 << e : t & ~(1 << e)
                    }

                    function b(t) {
                        var e = t.x.toString() + t.y.toString() + t.z.toString();
                        return void 0 !== u[e] || (u[e] = l.length / 3, l.push(t.x, t.y, t.z)), u[e]
                    }

                    function S(t) {
                        var e = t.x.toString() + t.y.toString();
                        return void 0 !== p[e] || (p[e] = c.length / 2, c.push(t.x, t.y)), p[e]
                    }

                    i[e] = h - 1, this.typedDatas.facesIndex = h, this.typedDatas.verticesIndex = r, this.typedDatas.normals = this.typedDatas.normals.concat(l), this.typedDatas.uvs = this.typedDatas.uvs.concat(c);
                    var T = this.typedDatas.normals.length, A = this.typedDatas.uvs.length;
                    i[e + 1] = T, i[e + 3] = A
                }
            }, {
                key: "createFloors", value: function (t) {
                    for (var e = {}, i = {}, n = 0, r = t.layers, a = t.id, o = (t.layerType, t.floorHeight), s = {
                        sceneX: t.sceneX,
                        sceneZ: t.sceneZ,
                        minX: t.minX,
                        minY: t.minY,
                        maxX: t.maxX,
                        maxY: t.maxY
                    }, h = this, l = 0; l < r.length; l++) for (var c = r[l].floorBases, u = c.length, p = 0, d = 0, f = 0; f < u; f++) {
                        var m = c[f], g = h.createGeometry_(m, s, o, 0), v = g.geometry;
                        e[0] || (e[0] = {}, i[0] = new G.Geometry, e[0].brothers = [], e[0].faceIndex = 0, n++), i[0].merge(g.geometry), i[0].computeBoundingSphere(), p += 9 * v.faces.length, d += 3 * v.vertices.length, f == u - 1 && (h.typedDatas.faces = new Float32Array(p), h.typedDatas.vertices = new Float32Array(d), h.typedDatas.uvs = [], h.typedDatas.normals = [], h.typedDatas.facesIndex = 0, h.typedDatas.verticesIndex = 0, h.typedDatas.indexs = new Float32Array(4 * n))
                    }
                    var y = 0;
                    for (var x in i) {
                        var _ = i[x];
                        h.toJSON(_, y), y += 4
                    }
                    var M = new Float32Array(h.typedDatas.uvs), w = new Float32Array(h.typedDatas.normals),
                        b = h.typedDatas.faces, S = h.typedDatas.vertices, T = h.typedDatas.indexs;
                    h.worker.postMessage({
                        id: a,
                        types: e,
                        fnum: t.fnum,
                        layerType: 2,
                        faces: b,
                        vertices: S,
                        uvs: M,
                        normals: w,
                        indexs: T
                    }, [b.buffer], [S.buffer], [M.buffer], [w.buffer], [T.buffer]), h.typedDatas.faces = null, h.typedDatas.facesIndex = 0, h.typedDatas.vertices = null, h.typedDatas.verticesIndex = 0, h.typedDatas.uvs = void 0, h.typedDatas.normals = void 0, h.typedDatas.indexs = void 0
                }
            }, {
                key: "createGeometry_", value: function (t, e, i, n) {
                    var r = t.points, a = e.sceneX, o = e.sceneZ;
                    if (4 <= r.length) {
                        for (var s, h = new G.Shape, l = 0; l < r.length; l++) {
                            var c = r[l];
                            if (isNaN(c.x) || isNaN(c.y)) return t.oid, null;
                            0 == l ? h.moveTo(c.x - a, c.y - o) : h.lineTo(c.x - a, c.y - o)
                        }
                        if (t.holes && 0 < t.holes.length) for (var u in t.holes) {
                            var p = t.holes[u], d = new G.Path;
                            for (var l in p) {
                                c = p[l];
                                0 == l ? d.moveTo(c.x - a, c.y - o) : d.lineTo(c.x - a, c.y - o)
                            }
                            h.holes.push(d)
                        }
                        s = 0 == i ? new G.ShapeGeometry(h) : new G.ExtrudeGeometry(h, {
                            needtop: t.top,
                            amount: i,
                            bevelEnabled: !1,
                            material: 0,
                            extrudeMaterial: 1
                        });
                        var f = e.minX, m = e.minY, g = e.maxX - f, v = e.maxY - m, y = s.faces, x = y.length;
                        for (u = 0; u < x; u++) {
                            var _ = s.vertices[y[u].a], M = s.vertices[y[u].b], w = s.vertices[y[u].c];
                            s.faceVertexUvs[0][u][0].x = (_.x - f - a) / g, s.faceVertexUvs[0][u][0].y = (_.y - m + o) / v, s.faceVertexUvs[0][u][1].x = (M.x - f - a) / g, s.faceVertexUvs[0][u][1].y = (M.y - m + o) / v, s.faceVertexUvs[0][u][2].x = (w.x - f - a) / g, s.faceVertexUvs[0][u][2].y = (w.y - m + o) / v
                        }
                        p = 0;
                        var b = s.vertices.length, S = h.createPointsGeometry();
                        if (n) {
                            var T = {x: 0, y: 0, z: 0};
                            if (t.offset && !t.RModel) {
                                var A = t.offset.split(",");
                                2 <= A.length && (T.x += parseFloat(A[0]), T.y += parseFloat(A[2]), T.z += parseFloat(A[1]))
                            }
                            for (T.z += i; p < b; p++) s.vertices[p].z -= T.z;
                            T.z -= .002;
                            for (var E = [], L = S.vertices.length, P = 0; P < L; P++) {
                                (C = S.vertices[P]).x += parseFloat(T.x), C.y += parseFloat(T.y), C.z -= parseFloat(T.z), 0 == P || P == L - 1 ? E.push(C) : E.push(C, C)
                            }
                        } else for (E = [], L = S.vertices.length, P = 0; P < L; P++) {
                            var C = S.vertices[P];
                            0 == P || P == L - 1 ? E.push(C) : E.push(C, C)
                        }
                        return S.vertices = E, {geometry: s, pointsGeometry: S, model: t}
                    }
                    return null
                }
            }]), e
        }();
        e.default = o
    }, 130: function (t, e, i) {
        "use strict";
        var n, r, a, o, Ls = s(i(131)), Ps = s(i(135)), Cs = s(i(78)), Rs = s(i(16)), Is = s(i(9)), Ds = s(i(35)),
            Ns = s(i(142)), Us = s(i(20)), zs = s(i(14));

        function s(t) {
            return t && t.__esModule ? t : {default: t}
        }

        o = function (t) {
            function e() {
            }

            function V(t, e) {
                this.x = t || 0, this.y = e || 0
            }

            function B(t, e, i, n, r, a, o, s, h, l) {
                Object.defineProperty(this, "id", {value: Lr++}), this.uuid = hr.generateUUID(), this.name = "", this.image = void 0 !== t ? t : B.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : B.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : 1001, this.wrapT = void 0 !== n ? n : 1001, this.magFilter = void 0 !== r ? r : 1006, this.minFilter = void 0 !== a ? a : 1008, this.anisotropy = void 0 !== h ? h : 1, this.format = void 0 !== o ? o : 1023, this.type = void 0 !== s ? s : 1009, this.offset = new V(0, 0), this.repeat = new V(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== l ? l : 3e3, this.version = 0, this.onUpdate = null
            }

            function Ct(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1
            }

            function O(t, e, i) {
                this.uuid = hr.generateUUID(), this.width = t, this.height = e, this.scissor = new Ct(0, 0, t, e), this.scissorTest = !1, this.viewport = new Ct(0, 0, t, e), void 0 === (i = i || {}).minFilter && (i.minFilter = 1006), this.texture = new B(void 0, void 0, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = void 0 !== i.depthTexture ? i.depthTexture : null
            }

            function n(t, e, i) {
                O.call(this, t, e, i), this.activeMipMapLevel = this.activeCubeFace = 0
            }

            function s(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1
            }

            function Rt(t, e, i) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0
            }

            function It() {
                this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), arguments.length
            }

            function h(t, e, i, n, r, a, o, s, h, l) {
                B.call(this, t = void 0 !== t ? t : [], void 0 !== e ? e : 301, i, n, r, a, o, s, h, l), this.flipY = !1
            }

            function i(t, e, i) {
                var n = t[0];
                if (n <= 0 || 0 < n) return t;
                var r = e * i, a = Rr[r];
                if (void 0 === a && (a = new Float32Array(r), Rr[r] = a), 0 !== e) for (n.toArray(a, 0), n = 1, r = 0; n !== e; ++n) r += i, t[n].toArray(a, r);
                return a
            }

            function a(t, e) {
                var i = Ir[e];
                void 0 === i && (i = new Int32Array(e), Ir[e] = i);
                for (var n = 0; n !== e; ++n) i[n] = t.allocTextureUnit();
                return i
            }

            function r(t, e) {
                t.uniform1f(this.addr, e)
            }

            function o(t, e) {
                t.uniform1i(this.addr, e)
            }

            function l(t, e) {
                void 0 === e.x ? t.uniform2fv(this.addr, e) : t.uniform2f(this.addr, e.x, e.y)
            }

            function c(t, e) {
                void 0 !== e.x ? t.uniform3f(this.addr, e.x, e.y, e.z) : void 0 !== e.r ? t.uniform3f(this.addr, e.r, e.g, e.b) : t.uniform3fv(this.addr, e)
            }

            function u(t, e) {
                void 0 === e.x ? t.uniform4fv(this.addr, e) : t.uniform4f(this.addr, e.x, e.y, e.z, e.w)
            }

            function p(t, e) {
                t.uniformMatrix2fv(this.addr, !1, e.elements || e)
            }

            function d(t, e) {
                t.uniformMatrix3fv(this.addr, !1, e.elements || e)
            }

            function f(t, e) {
                t.uniformMatrix4fv(this.addr, !1, e.elements || e)
            }

            function m(t, e, i) {
                var n = i.allocTextureUnit();
                t.uniform1i(this.addr, n), i.setTexture2D(e || Pr, n)
            }

            function g(t, e, i) {
                var n = i.allocTextureUnit();
                t.uniform1i(this.addr, n), i.setTextureCube(e || Cr, n)
            }

            function v(t, e) {
                t.uniform2iv(this.addr, e)
            }

            function y(t, e) {
                t.uniform3iv(this.addr, e)
            }

            function x(t, e) {
                t.uniform4iv(this.addr, e)
            }

            function _(t, e) {
                t.uniform1fv(this.addr, e)
            }

            function M(t, e) {
                t.uniform1iv(this.addr, e)
            }

            function w(t, e) {
                t.uniform2fv(this.addr, i(e, this.size, 2))
            }

            function b(t, e) {
                t.uniform3fv(this.addr, i(e, this.size, 3))
            }

            function S(t, e) {
                t.uniform4fv(this.addr, i(e, this.size, 4))
            }

            function T(t, e) {
                t.uniformMatrix2fv(this.addr, !1, i(e, this.size, 4))
            }

            function A(t, e) {
                t.uniformMatrix3fv(this.addr, !1, i(e, this.size, 9))
            }

            function E(t, e) {
                t.uniformMatrix4fv(this.addr, !1, i(e, this.size, 16))
            }

            function L(t, e, i) {
                var n = e.length, r = a(i, n);
                for (t.uniform1iv(this.addr, r), t = 0; t !== n; ++t) i.setTexture2D(e[t] || Pr, r[t])
            }

            function P(t, e, i) {
                var n = e.length, r = a(i, n);
                for (t.uniform1iv(this.addr, r), t = 0; t !== n; ++t) i.setTextureCube(e[t] || Cr, r[t])
            }

            function C(t, e, i) {
                this.id = t, this.addr = i, this.setValue = function (t) {
                    switch (t) {
                        case 5126:
                            return r;
                        case 35664:
                            return l;
                        case 35665:
                            return c;
                        case 35666:
                            return u;
                        case 35674:
                            return p;
                        case 35675:
                            return d;
                        case 35676:
                            return f;
                        case 35678:
                            return m;
                        case 35680:
                            return g;
                        case 5124:
                        case 35670:
                            return o;
                        case 35667:
                        case 35671:
                            return v;
                        case 35668:
                        case 35672:
                            return y;
                        case 35669:
                        case 35673:
                            return x
                    }
                }(e.type)
            }

            function R(t, e, i) {
                this.id = t, this.addr = i, this.size = e.size, this.setValue = function (t) {
                    switch (t) {
                        case 5126:
                            return _;
                        case 35664:
                            return w;
                        case 35665:
                            return b;
                        case 35666:
                            return S;
                        case 35674:
                            return T;
                        case 35675:
                            return A;
                        case 35676:
                            return E;
                        case 35678:
                            return L;
                        case 35680:
                            return P;
                        case 5124:
                        case 35670:
                            return M;
                        case 35667:
                        case 35671:
                            return v;
                        case 35668:
                        case 35672:
                            return y;
                        case 35669:
                        case 35673:
                            return x
                    }
                }(e.type)
            }

            function I(t) {
                this.id = t, this.seq = [], this.map = {}
            }

            function Dt(t, e, i) {
                this.seq = [], this.map = {}, this.renderer = i, i = t.getProgramParameter(e, t.ACTIVE_UNIFORMS);
                for (var n = 0; n < i; ++n) {
                    var r = t.getActiveUniform(e, n), a = t.getUniformLocation(e, r.name), o = this, s = r.name,
                        h = s.length;
                    for (Dr.lastIndex = 0; ;) {
                        var l = Dr.exec(s), c = Dr.lastIndex, u = l[1], p = l[3];
                        if ("]" === l[2] && (u |= 0), void 0 === p || "[" === p && c + 2 === h) {
                            s = o, r = void 0 === p ? new C(u, r, a) : new R(u, r, a), s.seq.push(r), s.map[r.id] = r;
                            break
                        }
                        void 0 === (p = o.map[u]) && (p = new I(u), u = o, o = p, u.seq.push(o), u.map[o.id] = o), o = p
                    }
                }
            }

            function Nt(t, e, i) {
                return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i)
            }

            function D(t, e, i, n, r, a, o, s, h, l, c, u) {
                B.call(this, null, a, o, s, h, l, n, r, c, u), this.image = {
                    data: t,
                    width: e,
                    height: i
                }, this.magFilter = void 0 !== h ? h : 1003, this.minFilter = void 0 !== l ? l : 1003, this.flipY = this.generateMipmaps = !1, this.unpackAlignment = 1
            }

            function z(t, e) {
                this.min = void 0 !== t ? t : new V(1 / 0, 1 / 0), this.max = void 0 !== e ? e : new V(-1 / 0, -1 / 0)
            }

            function Ut(v, y) {
                var x, _, M, w, b, S, T, A, E, L, P, C, R, I, D, N = v.context, U = v.state;
                this.render = function (t, e, i) {
                    if (0 !== y.length) {
                        t = new Rt;
                        var n = i.w / i.z, r = .5 * i.z, a = .5 * i.w, o = new V((c = 16 / i.w) * n, c),
                            s = new Rt(1, 1, 0), h = new V(1, 1), l = new z;
                        if (l.min.set(i.x, i.y), l.max.set(i.x + (i.z - 16), i.y + (i.w - 16)), void 0 === R) {
                            var c = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]),
                                u = new Uint16Array([0, 1, 2, 0, 2, 3]);
                            P = N.createBuffer(), C = N.createBuffer(), N.bindBuffer(N.ARRAY_BUFFER, P), N.bufferData(N.ARRAY_BUFFER, c, N.STATIC_DRAW), N.bindBuffer(N.ELEMENT_ARRAY_BUFFER, C), N.bufferData(N.ELEMENT_ARRAY_BUFFER, u, N.STATIC_DRAW), I = N.createTexture(), D = N.createTexture(), U.bindTexture(N.TEXTURE_2D, I), N.texImage2D(N.TEXTURE_2D, 0, N.RGB, 16, 16, 0, N.RGB, N.UNSIGNED_BYTE, null), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_WRAP_S, N.CLAMP_TO_EDGE), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_WRAP_T, N.CLAMP_TO_EDGE), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_MAG_FILTER, N.NEAREST), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_MIN_FILTER, N.NEAREST), U.bindTexture(N.TEXTURE_2D, D), N.texImage2D(N.TEXTURE_2D, 0, N.RGBA, 16, 16, 0, N.RGBA, N.UNSIGNED_BYTE, null), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_WRAP_S, N.CLAMP_TO_EDGE), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_WRAP_T, N.CLAMP_TO_EDGE), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_MAG_FILTER, N.NEAREST), N.texParameteri(N.TEXTURE_2D, N.TEXTURE_MIN_FILTER, N.NEAREST);
                            c = {
                                vertexShader: "uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
                                fragmentShader: "uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"
                            }, u = N.createProgram();
                            var p = N.createShader(N.FRAGMENT_SHADER), d = N.createShader(N.VERTEX_SHADER),
                                f = "precision " + v.getPrecision() + " float;\n";
                            N.shaderSource(p, f + c.fragmentShader), N.shaderSource(d, f + c.vertexShader), N.compileShader(p), N.compileShader(d), N.attachShader(u, p), N.attachShader(u, d), N.linkProgram(u), R = u, E = N.getAttribLocation(R, "position"), L = N.getAttribLocation(R, "uv"), x = N.getUniformLocation(R, "renderType"), _ = N.getUniformLocation(R, "map"), M = N.getUniformLocation(R, "occlusionMap"), w = N.getUniformLocation(R, "opacity"), b = N.getUniformLocation(R, "color"), S = N.getUniformLocation(R, "scale"), T = N.getUniformLocation(R, "rotation"), A = N.getUniformLocation(R, "screenPosition")
                        }
                        for (N.useProgram(R), U.initAttributes(), U.enableAttribute(E), U.enableAttribute(L), U.disableUnusedAttributes(), N.uniform1i(M, 0), N.uniform1i(_, 1), N.bindBuffer(N.ARRAY_BUFFER, P), N.vertexAttribPointer(E, 2, N.FLOAT, !1, 16, 0), N.vertexAttribPointer(L, 2, N.FLOAT, !1, 16, 8), N.bindBuffer(N.ELEMENT_ARRAY_BUFFER, C), U.disable(N.CULL_FACE), U.setDepthWrite(!1), u = 0, p = y.length; u < p; u++) if (c = 16 / i.w, o.set(c * n, c), d = y[u], t.set(d.matrixWorld.elements[12], d.matrixWorld.elements[13], d.matrixWorld.elements[14]), t.applyMatrix4(e.matrixWorldInverse), t.applyMatrix4(e.projectionMatrix), s.copy(t), h.x = i.x + s.x * r + r - 8, h.y = i.y + s.y * a + a - 8, !0 === l.containsPoint(h)) {
                            U.activeTexture(N.TEXTURE0), U.bindTexture(N.TEXTURE_2D, null), U.activeTexture(N.TEXTURE1), U.bindTexture(N.TEXTURE_2D, I), N.copyTexImage2D(N.TEXTURE_2D, 0, N.RGB, h.x, h.y, 16, 16, 0), N.uniform1i(x, 0), N.uniform2f(S, o.x, o.y), N.uniform3f(A, s.x, s.y, s.z), U.disable(N.BLEND), U.enable(N.DEPTH_TEST), N.drawElements(N.TRIANGLES, 6, N.UNSIGNED_SHORT, 0), U.activeTexture(N.TEXTURE0), U.bindTexture(N.TEXTURE_2D, D), N.copyTexImage2D(N.TEXTURE_2D, 0, N.RGBA, h.x, h.y, 16, 16, 0), N.uniform1i(x, 1), U.disable(N.DEPTH_TEST), U.activeTexture(N.TEXTURE1), U.bindTexture(N.TEXTURE_2D, I), N.drawElements(N.TRIANGLES, 6, N.UNSIGNED_SHORT, 0), d.positionScreen.copy(s), d.customUpdateCallback ? d.customUpdateCallback(d) : d.updateLensFlares(), N.uniform1i(x, 2), U.enable(N.BLEND);
                            f = 0;
                            for (var m = d.lensFlares.length; f < m; f++) {
                                var g = d.lensFlares[f];
                                .001 < g.opacity && .001 < g.scale && (s.x = g.x, s.y = g.y, s.z = g.z, c = g.size * g.scale / i.w, o.x = c * n, o.y = c, N.uniform3f(A, s.x, s.y, s.z), N.uniform2f(S, o.x, o.y), N.uniform1f(T, g.rotation), N.uniform1f(w, g.opacity), N.uniform3f(b, g.color.r, g.color.g, g.color.b), U.setBlending(g.blending, g.blendEquation, g.blendSrc, g.blendDst), v.setTexture2D(g.texture, 1), N.drawElements(N.TRIANGLES, 6, N.UNSIGNED_SHORT, 0))
                            }
                        }
                        U.enable(N.CULL_FACE), U.enable(N.DEPTH_TEST), U.setDepthWrite(!0), v.resetGLState()
                    }
                }
            }

            function zt(l, c) {
                var u, p, d, f, m, g, v, y, x, _, M, w, b, S, T, A, E;

                function L(t, e) {
                    return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : e.id - t.id
                }

                var P, C, R, I, D = l.context, N = l.state, U = new Rt, z = new s, F = new Rt;
                this.render = function (t, e) {
                    if (0 !== c.length) {
                        if (void 0 === R) {
                            var i = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]),
                                n = new Uint16Array([0, 1, 2, 0, 2, 3]);
                            P = D.createBuffer(), C = D.createBuffer(), D.bindBuffer(D.ARRAY_BUFFER, P), D.bufferData(D.ARRAY_BUFFER, i, D.STATIC_DRAW), D.bindBuffer(D.ELEMENT_ARRAY_BUFFER, C), D.bufferData(D.ELEMENT_ARRAY_BUFFER, n, D.STATIC_DRAW);
                            i = D.createProgram(), n = D.createShader(D.VERTEX_SHADER);
                            var r = D.createShader(D.FRAGMENT_SHADER);
                            D.shaderSource(n, ["precision " + l.getPrecision() + " float;", "uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")), D.shaderSource(r, ["precision " + l.getPrecision() + " float;", "uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")), D.compileShader(n), D.compileShader(r), D.attachShader(i, n), D.attachShader(i, r), D.linkProgram(i), R = i, A = D.getAttribLocation(R, "position"), E = D.getAttribLocation(R, "uv"), u = D.getUniformLocation(R, "uvOffset"), p = D.getUniformLocation(R, "uvScale"), d = D.getUniformLocation(R, "rotation"), f = D.getUniformLocation(R, "scale"), m = D.getUniformLocation(R, "color"), g = D.getUniformLocation(R, "map"), v = D.getUniformLocation(R, "opacity"), y = D.getUniformLocation(R, "modelViewMatrix"), x = D.getUniformLocation(R, "projectionMatrix"), _ = D.getUniformLocation(R, "fogType"), M = D.getUniformLocation(R, "fogDensity"), w = D.getUniformLocation(R, "fogNear"), b = D.getUniformLocation(R, "fogFar"), S = D.getUniformLocation(R, "fogColor"), T = D.getUniformLocation(R, "alphaTest"), (i = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = 8, i.height = 8, (n = i.getContext("2d")).fillStyle = "white", n.fillRect(0, 0, 8, 8), (I = new B(i)).needsUpdate = !0
                        }
                        D.useProgram(R), N.initAttributes(), N.enableAttribute(A), N.enableAttribute(E), N.disableUnusedAttributes(), N.disable(D.CULL_FACE), N.enable(D.BLEND), D.bindBuffer(D.ARRAY_BUFFER, P), D.vertexAttribPointer(A, 2, D.FLOAT, !1, 16, 0), D.vertexAttribPointer(E, 2, D.FLOAT, !1, 16, 8), D.bindBuffer(D.ELEMENT_ARRAY_BUFFER, C), D.uniformMatrix4fv(x, !1, e.projectionMatrix.elements), N.activeTexture(D.TEXTURE0), D.uniform1i(g, 0), n = i = 0, (r = t.fog) ? (D.uniform3f(S, r.color.r, r.color.g, r.color.b), r.isFog ? (D.uniform1f(w, r.near), D.uniform1f(b, r.far), D.uniform1i(_, 1), n = i = 1) : r.isFogExp2 && (D.uniform1f(M, r.density), D.uniform1i(_, 2), n = i = 2)) : (D.uniform1i(_, 0), n = i = 0);
                        r = 0;
                        for (var a = c.length; r < a; r++) {
                            (s = c[r]).modelViewMatrix.multiplyMatrices(e.matrixWorldInverse, s.matrixWorld), s.z = -s.modelViewMatrix.elements[14]
                        }
                        c.sort(L);
                        var o = [];
                        for (r = 0, a = c.length; r < a; r++) {
                            var s, h = (s = c[r]).material;
                            !1 !== h.visible && (D.uniform1f(T, h.alphaTest), D.uniformMatrix4fv(y, !1, s.modelViewMatrix.elements), s.matrixWorld.decompose(U, z, F), o[0] = F.x, o[1] = F.y, s = 0, t.fog && h.fog && (s = n), i !== s && (D.uniform1i(_, s), i = s), null !== h.map ? (D.uniform2f(u, h.map.offset.x, h.map.offset.y), D.uniform2f(p, h.map.repeat.x, h.map.repeat.y)) : (D.uniform2f(u, 0, 0), D.uniform2f(p, 1, 1)), D.uniform1f(v, h.opacity), D.uniform3f(m, h.color.r, h.color.g, h.color.b), D.uniform1f(d, h.rotation), D.uniform2fv(f, o), N.setBlending(h.blending, h.blendEquation, h.blendSrc, h.blendDst), N.setDepthTest(h.depthTest), N.setDepthWrite(h.depthWrite), h.map ? l.setTexture2D(h.map, 0) : l.setTexture2D(I, 0), D.drawElements(D.TRIANGLES, 6, D.UNSIGNED_SHORT, 0))
                        }
                        N.enable(D.CULL_FACE), l.resetGLState()
                    }
                }
            }

            function N() {
                Object.defineProperty(this, "id", {value: va++}), this.uuid = hr.generateUUID(), this.name = "", this.type = "Material", this.lights = this.fog = !0, this.blending = 1, this.side = 0, this.shading = 2, this.vertexColors = 0, this.opacity = 1, this.transparent = !1, this.blendSrc = 204, this.blendDst = 205, this.blendEquation = 100, this.blendEquationAlpha = this.blendDstAlpha = this.blendSrcAlpha = null, this.depthFunc = 3, this.depthWrite = this.depthTest = !0, this.clippingPlanes = null, this.clipShadows = this.clipIntersection = !1, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.alphaTest = this.polygonOffsetUnits = this.polygonOffsetFactor = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this._needsUpdate = this.visible = !0
            }

            function Ft(t) {
                N.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.morphNormals = this.morphTargets = this.skinning = this.clipping = this.lights = this.fog = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, (this.index0AttributeName = void 0) !== t && (t.attributes, this.setValues(t))
            }

            function G(t) {
                N.call(this), this.type = "MeshDepthMaterial", this.depthPacking = 3200, this.morphTargets = this.skinning = !1, this.displacementMap = this.alphaMap = this.map = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.lights = this.fog = !1, this.setValues(t)
            }

            function U(t, e) {
                this.min = void 0 !== t ? t : new Rt(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== e ? e : new Rt(-1 / 0, -1 / 0, -1 / 0)
            }

            function Bt(t, e) {
                this.center = void 0 !== t ? t : new Rt, this.radius = void 0 !== e ? e : 0
            }

            function F() {
                this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]), arguments.length
            }

            function k(t, e) {
                this.normal = void 0 !== t ? t : new Rt(1, 0, 0), this.constant = void 0 !== e ? e : 0
            }

            function Ot(t, e, i, n, r, a) {
                this.planes = [void 0 !== t ? t : new k, void 0 !== e ? e : new k, void 0 !== i ? i : new k, void 0 !== n ? n : new k, void 0 !== r ? r : new k, void 0 !== a ? a : new k]
            }

            function Gt(_, t, M, e) {
                function w(t, e, i, n) {
                    var r, a = t.geometry;
                    r = s;
                    var o = t.customDepthMaterial;
                    return i && (r = h, o = t.customDistanceMaterial), r = o || (o = !1, e.morphTargets && (a && a.isBufferGeometry ? o = a.morphAttributes && a.morphAttributes.position && 0 < a.morphAttributes.position.length : a && a.isGeometry && (o = a.morphTargets && 0 < a.morphTargets.length)), a = 0, o && (a |= 1), (t = t.isSkinnedMesh && e.skinning) && (a |= 2), r[a]), _.localClippingEnabled && !0 === e.clipShadows && 0 !== e.clippingPlanes.length && (a = r.uuid, o = e.uuid, void 0 === (t = l[a]) && (t = {}, l[a] = t), void 0 === (a = t[o]) && (a = r.clone(), t[o] = a), r = a), r.visible = e.visible, r.wireframe = e.wireframe, o = e.side, F.renderSingleSided && 2 == o && (o = 0), F.renderReverseSided && (0 === o ? o = 1 : 1 === o && (o = 0)), r.side = o, r.clipShadows = e.clipShadows, r.clippingPlanes = e.clippingPlanes, r.wireframeLinewidth = e.wireframeLinewidth, r.linewidth = e.linewidth, i && void 0 !== r.uniforms.lightPos && r.uniforms.lightPos.value.copy(n), r
                }

                function b(t, e, i) {
                    if (!1 !== t.visible) {
                        0 != (t.layers.mask & e.layers.mask) && (t.isMesh || t.isLine || t.isPoints) && t.castShadow && (!1 === t.frustumCulled || !0 === A.intersectsObject(t)) && !0 === t.material.visible && (t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), D.push(t));
                        for (var n = 0, r = (t = t.children).length; n < r; n++) b(t[n], e, i)
                    }
                }

                var S = _.context, T = _.state, A = new Ot, E = new It, L = t.shadows, P = new V,
                    C = new V(e.maxTextureSize, e.maxTextureSize), R = new Rt, I = new Rt, D = [], s = Array(4),
                    h = Array(4), l = {},
                    N = [new Rt(1, 0, 0), new Rt(-1, 0, 0), new Rt(0, 0, 1), new Rt(0, 0, -1), new Rt(0, 1, 0), new Rt(0, -1, 0)],
                    U = [new Rt(0, 1, 0), new Rt(0, 1, 0), new Rt(0, 1, 0), new Rt(0, 1, 0), new Rt(0, 0, 1), new Rt(0, 0, -1)],
                    z = [new Ct, new Ct, new Ct, new Ct, new Ct, new Ct];
                (t = new G).depthPacking = 3201, t.clipping = !0, e = Gr.distanceRGBA;
                for (var i = Nr.clone(e.uniforms), n = 0; 4 !== n; ++n) {
                    var r = 0 != (1 & n), a = 0 != (2 & n), o = t.clone();
                    o.morphTargets = r, o.skinning = a, s[n] = o, r = new Ft({
                        defines: {USE_SHADOWMAP: ""},
                        uniforms: i,
                        vertexShader: e.vertexShader,
                        fragmentShader: e.fragmentShader,
                        morphTargets: r,
                        skinning: a,
                        clipping: !0
                    }), h[n] = r
                }
                var F = this;
                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = 1, this.renderSingleSided = this.renderReverseSided = !0, this.render = function (t, e) {
                    if (!1 !== F.enabled && (!1 !== F.autoUpdate || !1 !== F.needsUpdate) && 0 !== L.length) {
                        T.buffers.color.setClear(1, 1, 1, 1), T.disable(S.BLEND), T.setDepthTest(!0), T.setScissorTest(!1);
                        for (var i, n, r = 0, a = L.length; r < a; r++) {
                            var o = L[r], s = o.shadow;
                            if (void 0 === s) ; else {
                                var h = s.camera;
                                if (P.copy(s.mapSize), P.min(C), o && o.isPointLight) {
                                    i = 6, n = !0;
                                    var l = P.x, c = P.y;
                                    z[0].set(2 * l, c, l, c), z[1].set(0, c, l, c), z[2].set(3 * l, c, l, c), z[3].set(l, c, l, c), z[4].set(3 * l, 0, l, c), z[5].set(l, 0, l, c), P.x *= 4, P.y *= 2
                                } else n = !(i = 1);
                                for (null === s.map && (s.map = new O(P.x, P.y, {
                                    minFilter: 1003,
                                    magFilter: 1003,
                                    format: 1023
                                }), h.updateProjectionMatrix()), s.isSpotLightShadow && s.update(o), s && s.isRectAreaLightShadow && s.update(o), l = s.map, s = s.matrix, I.setFromMatrixPosition(o.matrixWorld), h.position.copy(I), _.setRenderTarget(l), _.clear(), l = 0; l < i; l++) {
                                    n ? (R.copy(h.position), R.add(N[l]), h.up.copy(U[l]), h.lookAt(R), T.viewport(z[l])) : (R.setFromMatrixPosition(o.target.matrixWorld), h.lookAt(R)), h.updateMatrixWorld(), h.matrixWorldInverse.getInverse(h.matrixWorld), s.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), s.multiply(h.projectionMatrix), s.multiply(h.matrixWorldInverse), E.multiplyMatrices(h.projectionMatrix, h.matrixWorldInverse), A.setFromMatrix(E), D.length = 0, b(t, e, h);
                                    c = 0;
                                    for (var u = D.length; c < u; c++) {
                                        var p = D[c], d = M.update(p);
                                        if ((m = p.material) && m.isMultiMaterial) for (var f = d.groups, m = m.materials, g = 0, v = f.length; g < v; g++) {
                                            var y = f[g], x = m[y.materialIndex];
                                            !0 === x.visible && (x = w(p, x, n, I), _.renderBufferDirect(h, null, d, x, p, y))
                                        } else x = w(p, m, n, I), _.renderBufferDirect(h, null, d, x, p, null)
                                    }
                                }
                            }
                        }
                        i = _.getClearColor(), n = _.getClearAlpha(), _.setClearColor(i, n), F.needsUpdate = !1
                    }
                }
            }

            function W(t, e) {
                this.origin = void 0 !== t ? t : new Rt, this.direction = void 0 !== e ? e : new Rt
            }

            function H(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = n || H.DefaultOrder
            }

            function X() {
                this.mask = 1
            }

            function j() {
                Object.defineProperty(this, "id", {value: Ya++}), this.uuid = hr.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = j.DefaultUp.clone();
                var t = new Rt, e = new H, i = new s, n = new Rt(1, 1, 1);
                e.onChange(function () {
                    i.setFromEuler(e, !1)
                }), i.onChange(function () {
                    e.setFromQuaternion(i, void 0, !1)
                }), (0, Us.default)(this, {
                    position: {enumerable: !0, value: t},
                    rotation: {enumerable: !0, value: e},
                    quaternion: {enumerable: !0, value: i},
                    scale: {enumerable: !0, value: n},
                    modelViewMatrix: {value: new It},
                    normalMatrix: {value: new F}
                }), this.matrix = new It, this.matrixWorld = new It, this.matrixAutoUpdate = j.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new X, this.visible = !0, this.receiveShadow = this.castShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}, this.onBeforeRender = function () {
                }, this.onAfterRender = function () {
                }
            }

            function Y(t, e) {
                this.start = void 0 !== t ? t : new Rt, this.end = void 0 !== e ? e : new Rt
            }

            function q(t, e, i) {
                this.a = void 0 !== t ? t : new Rt, this.b = void 0 !== e ? e : new Rt, this.c = void 0 !== i ? i : new Rt
            }

            function Z(t, e, i, n, r, a) {
                this.a = t, this.b = e, this.c = i, this.normal = n && n.isVector3 ? n : new Rt, this.vertexNormals = Array.isArray(n) ? n : [], this.color = r && r.isColor ? r : new Nt, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== a ? a : 0
            }

            function kt(t) {
                N.call(this), this.type = "MeshBasicMaterial", this.color = new Nt(16777215), this.lightMap = this.map = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.envMap = this.alphaMap = this.specularMap = null, this.combine = 0, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinejoin = this.wireframeLinecap = "round", this.lights = this.morphTargets = this.skinning = !1, this.setValues(t)
            }

            function J(t, e, i) {
                if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.uuid = hr.generateUUID(), this.array = t, this.itemSize = e, this.count = void 0 !== t ? t.length / e : 0, this.normalized = !0 === i, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.onUploadCallback = function () {
                }, this.version = 0
            }

            function Q(t, e) {
                J.call(this, new Int8Array(t), e)
            }

            function K(t, e) {
                J.call(this, new Uint8Array(t), e)
            }

            function $(t, e) {
                J.call(this, new Uint8ClampedArray(t), e)
            }

            function tt(t, e) {
                J.call(this, new Int16Array(t), e)
            }

            function et(t, e) {
                J.call(this, new Uint16Array(t), e)
            }

            function it(t, e) {
                J.call(this, new Int32Array(t), e)
            }

            function nt(t, e) {
                J.call(this, new Uint32Array(t), e)
            }

            function rt(t, e) {
                J.call(this, new Float32Array(t), e)
            }

            function at(t, e) {
                J.call(this, new Float64Array(t), e)
            }

            function ot() {
                this.indices = [], this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingSphere = this.boundingBox = null, this.groupsNeedUpdate = this.uvsNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.verticesNeedUpdate = !1
            }

            function st(t) {
                for (var e = t.length, i = -1 / 0; e--;) t[e] > i && (i = t[e]);
                return i
            }

            function ht() {
                Object.defineProperty(this, "id", {value: co++}), this.uuid = hr.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingSphere = this.boundingBox = null, this.groupsNeedUpdate = this.lineDistancesNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.uvsNeedUpdate = this.verticesNeedUpdate = this.elementsNeedUpdate = !1
            }

            function Vt() {
                Object.defineProperty(this, "id", {value: co++}), this.uuid = hr.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingSphere = this.boundingBox = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }
            }

            function Wt(t, e) {
                j.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new Vt, this.material = void 0 !== e ? e : new kt({color: 16777215 * Math.random()}), this.drawMode = 0, this.updateMorphTargets()
            }

            function lt(t, e, i, n, r, a) {
                ht.call(this), this.type = "BoxGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: n,
                    heightSegments: r,
                    depthSegments: a
                }, this.fromBufferGeometry(new Ht(t, e, i, n, r, a)), this.mergeVertices()
            }

            function Ht(t, e, i, n, r, a) {
                function o(t, e, i, n, r, a, o, s, h, l, c) {
                    var u = a / h, p = o / l, d = a / 2, f = o / 2, m = s / 2;
                    o = h + 1;
                    var g, v, y = l + 1, x = a = 0, _ = new Rt;
                    for (v = 0; v < y; v++) {
                        var M = v * p - f;
                        for (g = 0; g < o; g++) _[t] = (g * u - d) * n, _[e] = M * r, _[i] = m, S.push(_.x, _.y, _.z), _[t] = 0, _[e] = 0, _[i] = 0 < s ? 1 : -1, T.push(_.x, _.y, _.z), A.push(g / h), A.push(1 - v / l), a += 1
                    }
                    for (v = 0; v < l; v++) for (g = 0; g < h; g++) t = E + g + o * (v + 1), e = E + (g + 1) + o * (v + 1), i = E + (g + 1) + o * v, b.push(E + g + o * v, t, i), b.push(t, e, i), x += 6;
                    w.addGroup(L, x, c), L += x, E += a
                }

                Vt.call(this), this.type = "BoxBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: n,
                    heightSegments: r,
                    depthSegments: a
                };
                var w = this;
                n = Math.floor(n) || 1, r = Math.floor(r) || 1, a = Math.floor(a) || 1;
                var b = [], S = [], T = [], A = [], E = 0, L = 0;
                o("z", "y", "x", -1, -1, i, e, t, a, r, 0), o("z", "y", "x", 1, -1, i, e, -t, a, r, 1), o("x", "z", "y", 1, 1, t, i, e, n, a, 2), o("x", "z", "y", 1, -1, t, i, -e, n, a, 3), o("x", "y", "z", 1, -1, t, e, i, n, r, 4), o("x", "y", "z", -1, -1, t, e, -i, n, r, 5), this.setIndex(b), this.addAttribute("position", new rt(S, 3)), this.addAttribute("normal", new rt(T, 3)), this.addAttribute("uv", new rt(A, 2))
            }

            function ct(t, e, i, n) {
                ht.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                }, this.fromBufferGeometry(new Xt(t, e, i, n))
            }

            function Xt(t, e, i, n) {
                Vt.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                };
                var r = t / 2, a = e / 2, o = (i = Math.floor(i) || 1) + 1, s = (n = Math.floor(n) || 1) + 1, h = t / i,
                    l = e / n, c = [], u = [], p = [], d = [];
                for (t = 0; t < s; t++) {
                    var f = t * l - a;
                    for (e = 0; e < o; e++) u.push(e * h - r, -f, 0), p.push(0, 0, 1), d.push(e / i), d.push(1 - t / n)
                }
                for (t = 0; t < n; t++) for (e = 0; e < i; e++) r = e + o * (t + 1), a = e + 1 + o * (t + 1), s = e + 1 + o * t, c.push(e + o * t, r, s), c.push(r, a, s);
                this.setIndex(c), this.addAttribute("position", new rt(u, 3)), this.addAttribute("normal", new rt(p, 3)), this.addAttribute("uv", new rt(d, 2))
            }

            function ut() {
                j.call(this), this.type = "Camera", this.matrixWorldInverse = new It, this.projectionMatrix = new It
            }

            function jt(t, e, i, n) {
                ut.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== n ? n : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }

            function Yt(t, e, i, n, r, a) {
                ut.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t, this.right = e, this.top = i, this.bottom = n, this.near = void 0 !== r ? r : .1, this.far = void 0 !== a ? a : 2e3, this.updateProjectionMatrix()
            }

            function qt(r, a, o) {
                var s, h, l;
                return {
                    setMode: function (t) {
                        s = t
                    }, setIndex: function (t) {
                        l = t.array instanceof Uint32Array && a.get("OES_element_index_uint") ? (h = r.UNSIGNED_INT, 4) : t.array instanceof Uint16Array ? (h = r.UNSIGNED_SHORT, 2) : (h = r.UNSIGNED_BYTE, 1)
                    }, render: function (t, e) {
                        r.drawElements(s, e, h, t * l), o.calls++, o.vertices += e, s === r.TRIANGLES && (o.faces += e / 3)
                    }, renderInstances: function (t, e, i) {
                        var n = a.get("ANGLE_instanced_arrays");
                        null === n || (n.drawElementsInstancedANGLE(s, i, h, e * l, t.maxInstancedCount), o.calls++, o.vertices += i * t.maxInstancedCount, s === r.TRIANGLES && (o.faces += t.maxInstancedCount * i / 3))
                    }
                }
            }

            function Zt(n, r, a) {
                var o;
                return {
                    setMode: function (t) {
                        o = t
                    }, render: function (t, e) {
                        n.drawArrays(o, t, e), a.calls++, a.vertices += e, o === n.TRIANGLES && (a.faces += e / 3)
                    }, renderInstances: function (t) {
                        var e = r.get("ANGLE_instanced_arrays");
                        if (null === e) ; else {
                            var i = (i = t.attributes.position).isInterleavedBufferAttribute ? i.data.count : i.count;
                            e.drawArraysInstancedANGLE(o, 0, i, t.maxInstancedCount), a.calls++, a.vertices += i * t.maxInstancedCount, o === n.TRIANGLES && (a.faces += t.maxInstancedCount * i / 3)
                        }
                    }
                }
            }

            function Jt() {
                var i = {};
                return {
                    get: function (t) {
                        if (void 0 !== i[t.id]) return i[t.id];
                        var e;
                        switch (t.type) {
                            case"DirectionalLight":
                                e = {
                                    direction: new Rt,
                                    color: new Nt,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new V
                                };
                                break;
                            case"SpotLight":
                                e = {
                                    position: new Rt,
                                    direction: new Rt,
                                    color: new Nt,
                                    distance: 0,
                                    coneCos: 0,
                                    penumbraCos: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new V
                                };
                                break;
                            case"PointLight":
                                e = {
                                    position: new Rt,
                                    color: new Nt,
                                    distance: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new V
                                };
                                break;
                            case"HemisphereLight":
                                e = {direction: new Rt, skyColor: new Nt, groundColor: new Nt};
                                break;
                            case"RectAreaLight":
                                e = {color: new Nt, position: new Rt, halfWidth: new Rt, halfHeight: new Rt}
                        }
                        return i[t.id] = e
                    }
                }
            }

            function pt(t, e, i) {
                var n = t.createShader(e);
                return t.shaderSource(n, i), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS), "" !== t.getShaderInfoLog(n) && (t.VERTEX_SHADER, t.getShaderInfoLog(n), function (t) {
                    t = t.split("\n");
                    for (var e = 0; e < t.length; e++) t[e] = e + 1 + ": " + t[e];
                    t.join("\n")
                }(i)), n
            }

            function dt(t) {
                switch (t) {
                    case 3e3:
                        return ["Linear", "( value )"];
                    case 3001:
                        return ["sRGB", "( value )"];
                    case 3002:
                        return ["RGBE", "( value )"];
                    case 3004:
                        return ["RGBM", "( value, 7.0 )"];
                    case 3005:
                        return ["RGBM", "( value, 16.0 )"];
                    case 3006:
                        return ["RGBD", "( value, 256.0 )"];
                    case 3007:
                        return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                    default:
                        throw Error("unsupported encoding: " + t)
                }
            }

            function ft(t, e) {
                var i = dt(e);
                return "vec4 " + t + "( vec4 value ) { return " + i[0] + "ToLinear" + i[1] + "; }"
            }

            function mt(t) {
                return "" !== t
            }

            function gt(t, e) {
                return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
            }

            function vt(t) {
                return t.replace(/#include +<([\w\d.]+)>/g, function (t, e) {
                    var i = Ur[e];
                    if (void 0 === i) throw Error("Can not resolve #include <" + e + ">");
                    return vt(i)
                })
            }

            function yt(t) {
                return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function (t, e, i, n) {
                    for (t = "", e = parseInt(e); e < parseInt(i); e++) t += n.replace(/\[ i \]/g, "[ " + e + " ]");
                    return t
                })
            }

            function xt(t, e, i, n) {
                var r = t.context, a = i.extensions, o = i.defines, s = i.__webglShader.vertexShader,
                    h = i.__webglShader.fragmentShader, l = "SHADOWMAP_TYPE_BASIC";
                1 === n.shadowMapType ? l = "SHADOWMAP_TYPE_PCF" : 2 === n.shadowMapType && (l = "SHADOWMAP_TYPE_PCF_SOFT");
                var c = "ENVMAP_TYPE_CUBE", u = "ENVMAP_MODE_REFLECTION", p = "ENVMAP_BLENDING_MULTIPLY";
                if (n.envMap) {
                    switch (i.envMap.mapping) {
                        case 301:
                        case 302:
                            c = "ENVMAP_TYPE_CUBE";
                            break;
                        case 306:
                        case 307:
                            c = "ENVMAP_TYPE_CUBE_UV";
                            break;
                        case 303:
                        case 304:
                            c = "ENVMAP_TYPE_EQUIREC";
                            break;
                        case 305:
                            c = "ENVMAP_TYPE_SPHERE"
                    }
                    switch (i.envMap.mapping) {
                        case 302:
                        case 304:
                            u = "ENVMAP_MODE_REFRACTION"
                    }
                    switch (i.combine) {
                        case 0:
                            p = "ENVMAP_BLENDING_MULTIPLY";
                            break;
                        case 1:
                            p = "ENVMAP_BLENDING_MIX";
                            break;
                        case 2:
                            p = "ENVMAP_BLENDING_ADD"
                    }
                }
                var d, f, m, g, v, y, x, _, M = 0 < t.gammaFactor ? t.gammaFactor : 1,
                    w = (a = (d = a, f = n, m = t.extensions, [(d = d || {}).derivatives || f.envMapCubeUV || f.bumpMap || f.normalMap || f.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (d.fragDepth || f.logarithmicDepthBuffer) && m.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", d.drawBuffers && m.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (d.shaderTextureLOD || f.envMap) && m.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(mt).join("\n")), function (t) {
                        var e, i = [];
                        for (e in t) {
                            var n = t[e];
                            !1 !== n && i.push("#define " + e + " " + n)
                        }
                        return i.join("\n")
                    }(o)), b = r.createProgram();
                return l = i.isRawShaderMaterial ? (o = [w, "\n"].filter(mt).join("\n"), [a, w, "\n"].filter(mt).join("\n")) : (o = ["precision " + n.precision + " float;", "precision " + n.precision + " int;", "#define SHADER_NAME " + i.__webglShader.name, w, n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + M, "#define MAX_BONES " + n.maxBones, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + u : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.displacementMap && n.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexColors ? "#define USE_COLOR" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.skinning ? "#define USE_SKINNING" : "", n.useVertexTexture ? "#define BONE_TEXTURE" : "", n.morphTargets ? "#define USE_MORPHTARGETS" : "", n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + n.numClippingPlanes, n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + l : "", n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(mt).join("\n"), [a, "precision " + n.precision + " float;", "precision " + n.precision + " int;", "#define SHADER_NAME " + i.__webglShader.name, w, n.alphaTest ? "#define ALPHATEST " + n.alphaTest : "", "#define GAMMA_FACTOR " + M, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + c : "", n.envMap ? "#define " + u : "", n.envMap ? "#define " + p : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexColors ? "#define USE_COLOR" : "", n.gradientMap ? "#define USE_GRADIENTMAP" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + n.numClippingPlanes, "#define UNION_CLIPPING_PLANES " + (n.numClippingPlanes - n.numClipIntersection), n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + l : "", n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", n.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", n.envMap && t.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", 0 !== n.toneMapping ? "#define TONE_MAPPING" : "", 0 !== n.toneMapping ? Ur.tonemapping_pars_fragment : "", 0 !== n.toneMapping ? function (t, e) {
                    var i;
                    switch (e) {
                        case 1:
                            i = "Linear";
                            break;
                        case 2:
                            i = "Reinhard";
                            break;
                        case 3:
                            i = "Uncharted2";
                            break;
                        case 4:
                            i = "OptimizedCineon";
                            break;
                        default:
                            throw Error("unsupported toneMapping: " + e)
                    }
                    return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }"
                }("toneMapping", n.toneMapping) : "", n.outputEncoding || n.mapEncoding || n.envMapEncoding || n.emissiveMapEncoding ? Ur.encodings_pars_fragment : "", n.mapEncoding ? ft("mapTexelToLinear", n.mapEncoding) : "", n.envMapEncoding ? ft("envMapTexelToLinear", n.envMapEncoding) : "", n.emissiveMapEncoding ? ft("emissiveMapTexelToLinear", n.emissiveMapEncoding) : "", n.outputEncoding ? (g = "linearToOutputTexel", v = n.outputEncoding, y = dt(v), "vec4 " + g + "( vec4 value ) { return LinearTo" + y[0] + y[1] + "; }") : "", n.depthPacking ? "#define DEPTH_PACKING " + i.depthPacking : "", "\n"].filter(mt).join("\n")), s = gt(s = vt(s), n), h = gt(h = vt(h), n), i.isShaderMaterial || (s = yt(s), h = yt(h)), h = l + h, s = pt(r, r.VERTEX_SHADER, o + s), h = pt(r, r.FRAGMENT_SHADER, h), r.attachShader(b, s), r.attachShader(b, h), void 0 !== i.index0AttributeName ? r.bindAttribLocation(b, 0, i.index0AttributeName) : !0 === n.morphTargets && r.bindAttribLocation(b, 0, "position"), r.linkProgram(b), n = r.getProgramInfoLog(b), c = r.getShaderInfoLog(s), u = r.getShaderInfoLog(h), M = p = !0, !1 === r.getProgramParameter(b, r.LINK_STATUS) ? (p = !1, r.getError(), r.getProgramParameter(b, r.VALIDATE_STATUS)) : "" !== n || "" !== c && "" !== u || (M = !1), M && (this.diagnostics = {
                    runnable: p,
                    material: i,
                    programLog: n,
                    vertexShader: {log: c, prefix: o},
                    fragmentShader: {log: u, prefix: l}
                }), r.deleteShader(s), r.deleteShader(h), this.getUniforms = function () {
                    return void 0 === x && (x = new Dt(r, b, t)), x
                }, this.getAttributes = function () {
                    if (void 0 === _) {
                        for (var t = {}, e = r.getProgramParameter(b, r.ACTIVE_ATTRIBUTES), i = 0; i < e; i++) {
                            var n = r.getActiveAttrib(b, i).name;
                            t[n] = r.getAttribLocation(b, n)
                        }
                        _ = t
                    }
                    return _
                }, this.destroy = function () {
                    r.deleteProgram(b), this.program = void 0
                }, (0, Us.default)(this, {
                    uniforms: {
                        get: function () {
                            return this.getUniforms()
                        }
                    }, attributes: {
                        get: function () {
                            return this.getAttributes()
                        }
                    }
                }), this.id = bo++, this.code = e, this.usedTimes = 1, this.program = b, this.vertexShader = s, this.fragmentShader = h, this
            }

            function Qt(c, u) {
                function p(t, e) {
                    var i;
                    return t ? t.isTexture ? i = t.encoding : t.isWebGLRenderTarget && (i = t.texture.encoding) : i = 3e3, 3e3 === i && e && (i = 3007), i
                }

                var s = [], d = {
                        MeshDepthMaterial: "depth",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshToonMaterial: "phong",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points"
                    },
                    r = "precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking".split(" ");
                this.getParameters = function (t, e, i, n, r, a) {
                    var o, s = d[t.type];
                    u.floatVertexTextures && a && a.skeleton && a.skeleton.useVertexTexture ? o = 1024 : (o = Math.floor((u.maxVertexUniforms - 20) / 4), void 0 !== a && a && a.isSkinnedMesh && ((o = Math.min(a.skeleton.bones.length, o)) < a.skeleton.bones.length && a.skeleton.bones.length));
                    var h = c.getPrecision();
                    null !== t.precision && ((h = u.getMaxPrecision(t.precision)) !== t.precision && t.precision);
                    var l = c.getCurrentRenderTarget();
                    return {
                        shaderID: s,
                        precision: h,
                        supportsVertexTextures: u.vertexTextures,
                        outputEncoding: p(l ? l.texture : null, c.gammaOutput),
                        map: !!t.map,
                        mapEncoding: p(t.map, c.gammaInput),
                        envMap: !!t.envMap,
                        envMapMode: t.envMap && t.envMap.mapping,
                        envMapEncoding: p(t.envMap, c.gammaInput),
                        envMapCubeUV: !!t.envMap && (306 === t.envMap.mapping || 307 === t.envMap.mapping),
                        lightMap: !!t.lightMap,
                        aoMap: !!t.aoMap,
                        emissiveMap: !!t.emissiveMap,
                        emissiveMapEncoding: p(t.emissiveMap, c.gammaInput),
                        bumpMap: !!t.bumpMap,
                        normalMap: !!t.normalMap,
                        displacementMap: !!t.displacementMap,
                        roughnessMap: !!t.roughnessMap,
                        metalnessMap: !!t.metalnessMap,
                        specularMap: !!t.specularMap,
                        alphaMap: !!t.alphaMap,
                        gradientMap: !!t.gradientMap,
                        combine: t.combine,
                        vertexColors: t.vertexColors,
                        fog: !!i,
                        useFog: t.fog,
                        fogExp: i && i.isFogExp2,
                        flatShading: 1 === t.shading,
                        sizeAttenuation: t.sizeAttenuation,
                        logarithmicDepthBuffer: u.logarithmicDepthBuffer,
                        skinning: t.skinning,
                        maxBones: o,
                        useVertexTexture: u.floatVertexTextures && a && a.skeleton && a.skeleton.useVertexTexture,
                        morphTargets: t.morphTargets,
                        morphNormals: t.morphNormals,
                        maxMorphTargets: c.maxMorphTargets,
                        maxMorphNormals: c.maxMorphNormals,
                        numDirLights: e.directional.length,
                        numPointLights: e.point.length,
                        numSpotLights: e.spot.length,
                        numRectAreaLights: e.rectArea.length,
                        numHemiLights: e.hemi.length,
                        numClippingPlanes: n,
                        numClipIntersection: r,
                        shadowMapEnabled: c.shadowMap.enabled && a.receiveShadow && 0 < e.shadows.length,
                        shadowMapType: c.shadowMap.type,
                        toneMapping: c.toneMapping,
                        physicallyCorrectLights: c.physicallyCorrectLights,
                        premultipliedAlpha: t.premultipliedAlpha,
                        alphaTest: t.alphaTest,
                        doubleSided: 2 === t.side,
                        flipSided: 1 === t.side,
                        depthPacking: void 0 !== t.depthPacking && t.depthPacking
                    }
                }, this.getProgramCode = function (t, e) {
                    var i = [];
                    if (e.shaderID ? i.push(e.shaderID) : (i.push(t.fragmentShader), i.push(t.vertexShader)), void 0 !== t.defines) for (var n in t.defines) i.push(n), i.push(t.defines[n]);
                    for (n = 0; n < r.length; n++) i.push(e[r[n]]);
                    return i.join()
                }, this.acquireProgram = function (t, e, i) {
                    for (var n, r = 0, a = s.length; r < a; r++) {
                        var o = s[r];
                        if (o.code === i) {
                            ++(n = o).usedTimes;
                            break
                        }
                    }
                    return void 0 === n && (n = new xt(c, i, t, e), s.push(n)), n
                }, this.releaseProgram = function (t) {
                    if (0 == --t.usedTimes) {
                        var e = s.indexOf(t);
                        s[e] = s[s.length - 1], s.pop(), t.destroy()
                    }
                }, this.programs = s
            }

            function _t(i, r, a) {
                function o(t) {
                    var e = t.target;
                    null !== (t = h[e.id]).index && s(t.index);
                    var i, n = t.attributes;
                    for (i in n) s(n[i]);
                    e.removeEventListener("dispose", o), delete h[e.id], (i = r.get(e)).wireframe && s(i.wireframe), r.delete(e), (e = r.get(t)).wireframe && s(e.wireframe), r.delete(t), a.memory.geometries--
                }

                function s(t) {
                    var e;
                    void 0 !== (e = t.isInterleavedBufferAttribute ? r.get(t.data).__webglBuffer : r.get(t).__webglBuffer) && (i.deleteBuffer(e), t.isInterleavedBufferAttribute ? r.delete(t.data) : r.delete(t))
                }

                var h = {};
                return {
                    get: function (t) {
                        var e, i = t.geometry;
                        return void 0 !== h[i.id] ? h[i.id] : (i.addEventListener("dispose", o), i.isBufferGeometry ? e = i : i.isGeometry && (void 0 === i._bufferGeometry && (i._bufferGeometry = (new Vt).setFromObject(t)), e = i._bufferGeometry), h[i.id] = e, a.memory.geometries++, e)
                    }
                }
            }

            function Kt(h, l, t) {
                function c(t, e) {
                    var i = t.isInterleavedBufferAttribute ? t.data : t, n = l.get(i);
                    if (void 0 === n.__webglBuffer) {
                        n.__webglBuffer = h.createBuffer(), h.bindBuffer(e, n.__webglBuffer), h.bufferData(e, i.array, i.dynamic ? h.DYNAMIC_DRAW : h.STATIC_DRAW);
                        var r = h.FLOAT, a = i.array;
                        a instanceof Float32Array ? r = h.FLOAT : a instanceof Float64Array || (a instanceof Uint16Array ? r = h.UNSIGNED_SHORT : a instanceof Int16Array ? r = h.SHORT : a instanceof Uint32Array ? r = h.UNSIGNED_INT : a instanceof Int32Array ? r = h.INT : a instanceof Int8Array ? r = h.BYTE : a instanceof Uint8Array && (r = h.UNSIGNED_BYTE)), n.bytesPerElement = a.BYTES_PER_ELEMENT, n.type = r, n.version = i.version, i.onUploadCallback()
                    } else n.version !== i.version && (h.bindBuffer(e, n.__webglBuffer), !1 === i.dynamic ? h.bufferData(e, i.array, h.STATIC_DRAW) : -1 === i.updateRange.count ? h.bufferSubData(e, 0, i.array) : 0 === i.updateRange.count || (h.bufferSubData(e, i.updateRange.offset * i.array.BYTES_PER_ELEMENT, i.array.subarray(i.updateRange.offset, i.updateRange.offset + i.updateRange.count)), i.updateRange.count = 0), n.version = i.version)
                }

                var o = new _t(h, l, t);
                return {
                    getAttributeBuffer: function (t) {
                        return t.isInterleavedBufferAttribute ? l.get(t.data).__webglBuffer : l.get(t).__webglBuffer
                    }, getAttributeProperties: function (t) {
                        return t.isInterleavedBufferAttribute ? l.get(t.data) : l.get(t)
                    }, getWireframeAttribute: function (t) {
                        var e = l.get(t);
                        if (void 0 !== e.wireframe) return e.wireframe;
                        var i = [], n = t.index;
                        if (t = t.attributes, null !== n) {
                            t = 0;
                            for (var r = (n = n.array).length; t < r; t += 3) {
                                var a = n[t + 0], o = n[t + 1], s = n[t + 2];
                                i.push(a, o, o, s, s, a)
                            }
                        } else for (n = t.position.array, t = 0, r = n.length / 3 - 1; t < r; t += 3) a = t + 0, o = t + 1, s = t + 2, i.push(a, o, o, s, s, a);
                        return c(i = new (65535 < st(i) ? nt : et)(i, 1), h.ELEMENT_ARRAY_BUFFER), e.wireframe = i
                    }, update: function (t) {
                        var e = o.get(t);
                        t.geometry.isGeometry && e.updateFromObject(t), t = e.index;
                        var i = e.attributes;
                        for (var n in null !== t && c(t, h.ELEMENT_ARRAY_BUFFER), i) c(i[n], h.ARRAY_BUFFER);
                        for (n in t = e.morphAttributes) for (var r = 0, a = (i = t[n]).length; r < a; r++) c(i[r], h.ARRAY_BUFFER);
                        return e
                    }
                }
            }

            function $t(f, n, m, g, v, y, t) {
                function x(t, e) {
                    if (t.width > e || t.height > e) {
                        var i = e / Math.max(t.width, t.height),
                            n = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                        return n.width = Math.floor(t.width * i), n.height = Math.floor(t.height * i), n.getContext("2d").drawImage(t, 0, 0, t.width, t.height, 0, 0, n.width, n.height), t.width, t.height, n.width, n.height, n
                    }
                    return t
                }

                function _(t) {
                    return hr.isPowerOfTwo(t.width) && hr.isPowerOfTwo(t.height)
                }

                function r(t) {
                    return 1003 === t || 1004 === t || 1005 === t ? f.NEAREST : f.LINEAR
                }

                function M(t) {
                    (t = t.target).removeEventListener("dispose", M);
                    t:{
                        var e = g.get(t);
                        if (t.image && e.__image__webglTextureCube) f.deleteTexture(e.__image__webglTextureCube); else {
                            if (void 0 === e.__webglInit) break t;
                            f.deleteTexture(e.__webglTexture)
                        }
                        g.delete(t)
                    }
                    b.textures--
                }

                function o(t) {
                    (t = t.target).removeEventListener("dispose", o);
                    var e = g.get(t), i = g.get(t.texture);
                    if (t) {
                        if (void 0 !== i.__webglTexture && f.deleteTexture(i.__webglTexture), t.depthTexture && t.depthTexture.dispose(), t.isWebGLRenderTargetCube) for (i = 0; i < 6; i++) f.deleteFramebuffer(e.__webglFramebuffer[i]), e.__webglDepthbuffer && f.deleteRenderbuffer(e.__webglDepthbuffer[i]); else f.deleteFramebuffer(e.__webglFramebuffer), e.__webglDepthbuffer && f.deleteRenderbuffer(e.__webglDepthbuffer);
                        g.delete(t.texture), g.delete(t)
                    }
                    b.textures--
                }

                function s(t, e) {
                    var i = g.get(t);
                    if (0 < t.version && i.__version !== t.version) if (void 0 === (r = t.image)) ; else if (!1 !== r.complete) {
                        void 0 === i.__webglInit && (i.__webglInit = !0, t.addEventListener("dispose", M), i.__webglTexture = f.createTexture(), b.textures++), m.activeTexture(f.TEXTURE0 + e), m.bindTexture(f.TEXTURE_2D, i.__webglTexture), f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL, t.flipY), f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultiplyAlpha), f.pixelStorei(f.UNPACK_ALIGNMENT, t.unpackAlignment);
                        var n = x(t.image, v.maxTextureSize);
                        if ((1001 !== t.wrapS || 1001 !== t.wrapT || 1003 !== t.minFilter && 1006 !== t.minFilter) && !1 === _(n)) if ((r = n) instanceof HTMLImageElement || r instanceof HTMLCanvasElement) {
                            (a = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = hr.nearestPowerOfTwo(r.width), a.height = hr.nearestPowerOfTwo(r.height), a.getContext("2d").drawImage(r, 0, 0, a.width, a.height), r.width, r.height, a.width, a.height, n = a
                        } else n = r;
                        var r = _(n), a = y(t.format), o = y(t.type);
                        w(f.TEXTURE_2D, t, r);
                        var s = t.mipmaps;
                        if (t.isDepthTexture) {
                            if (s = f.DEPTH_COMPONENT, 1015 === t.type) {
                                if (!c) throw Error("Float Depth Texture only supported in WebGL2.0");
                                s = f.DEPTH_COMPONENT32F
                            } else c && (s = f.DEPTH_COMPONENT16);
                            1026 === t.format && s === f.DEPTH_COMPONENT && 1012 !== t.type && 1014 !== t.type && (t.type = 1012, o = y(t.type)), 1027 === t.format && (s = f.DEPTH_STENCIL, 1020 !== t.type && (t.type = 1020, o = y(t.type))), m.texImage2D(f.TEXTURE_2D, 0, s, n.width, n.height, 0, a, o, null)
                        } else if (t.isDataTexture) if (0 < s.length && r) {
                            for (var h = 0, l = s.length; h < l; h++) n = s[h], m.texImage2D(f.TEXTURE_2D, h, a, n.width, n.height, 0, a, o, n.data);
                            t.generateMipmaps = !1
                        } else m.texImage2D(f.TEXTURE_2D, 0, a, n.width, n.height, 0, a, o, n.data); else if (t.isCompressedTexture) for (h = 0, l = s.length; h < l; h++) n = s[h], 1023 !== t.format && 1022 !== t.format ? -1 < m.getCompressedTextureFormats().indexOf(a) && m.compressedTexImage2D(f.TEXTURE_2D, h, a, n.width, n.height, 0, n.data) : m.texImage2D(f.TEXTURE_2D, h, a, n.width, n.height, 0, a, o, n.data); else if (0 < s.length && r) {
                            for (h = 0, l = s.length; h < l; h++) n = s[h], m.texImage2D(f.TEXTURE_2D, h, a, a, o, n);
                            t.generateMipmaps = !1
                        } else m.texImage2D(f.TEXTURE_2D, 0, a, a, o, n);
                        return t.generateMipmaps && r && f.generateMipmap(f.TEXTURE_2D), i.__version = t.version, void (t.onUpdate && t.onUpdate(t))
                    }
                    m.activeTexture(f.TEXTURE0 + e), m.bindTexture(f.TEXTURE_2D, i.__webglTexture)
                }

                function w(t, e, i) {
                    i ? (f.texParameteri(t, f.TEXTURE_WRAP_S, y(e.wrapS)), f.texParameteri(t, f.TEXTURE_WRAP_T, y(e.wrapT)), f.texParameteri(t, f.TEXTURE_MAG_FILTER, y(e.magFilter)), f.texParameteri(t, f.TEXTURE_MIN_FILTER, y(e.minFilter))) : (f.texParameteri(t, f.TEXTURE_WRAP_S, f.CLAMP_TO_EDGE), f.texParameteri(t, f.TEXTURE_WRAP_T, f.CLAMP_TO_EDGE), 1001 === e.wrapS && e.wrapT, f.texParameteri(t, f.TEXTURE_MAG_FILTER, r(e.magFilter)), f.texParameteri(t, f.TEXTURE_MIN_FILTER, r(e.minFilter)), 1003 !== e.minFilter && e.minFilter), !(i = n.get("EXT_texture_filter_anisotropic")) || 1015 === e.type && null === n.get("OES_texture_float_linear") || 1016 === e.type && null === n.get("OES_texture_half_float_linear") || !(1 < e.anisotropy || g.get(e).__currentAnisotropy) || (f.texParameterf(t, i.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(e.anisotropy, v.getMaxAnisotropy())), g.get(e).__currentAnisotropy = e.anisotropy)
                }

                function h(t, e, i, n) {
                    var r = y(e.texture.format), a = y(e.texture.type);
                    m.texImage2D(n, 0, r, e.width, e.height, 0, r, a, null), f.bindFramebuffer(f.FRAMEBUFFER, t), f.framebufferTexture2D(f.FRAMEBUFFER, i, n, g.get(e.texture).__webglTexture, 0), f.bindFramebuffer(f.FRAMEBUFFER, null)
                }

                function l(t, e) {
                    f.bindRenderbuffer(f.RENDERBUFFER, t), e.depthBuffer && !e.stencilBuffer ? (f.renderbufferStorage(f.RENDERBUFFER, f.DEPTH_COMPONENT16, e.width, e.height), f.framebufferRenderbuffer(f.FRAMEBUFFER, f.DEPTH_ATTACHMENT, f.RENDERBUFFER, t)) : e.depthBuffer && e.stencilBuffer ? (f.renderbufferStorage(f.RENDERBUFFER, f.DEPTH_STENCIL, e.width, e.height), f.framebufferRenderbuffer(f.FRAMEBUFFER, f.DEPTH_STENCIL_ATTACHMENT, f.RENDERBUFFER, t)) : f.renderbufferStorage(f.RENDERBUFFER, f.RGBA4, e.width, e.height), f.bindRenderbuffer(f.RENDERBUFFER, null)
                }

                var b = t.memory,
                    c = "undefined" != typeof WebGL2RenderingContext && f instanceof WebGL2RenderingContext;
                this.setTexture2D = s, this.setTextureCube = function (t, e) {
                    var i = g.get(t);
                    if (6 === t.image.length) if (0 < t.version && i.__version !== t.version) {
                        i.__image__webglTextureCube || (t.addEventListener("dispose", M), i.__image__webglTextureCube = f.createTexture(), b.textures++), m.activeTexture(f.TEXTURE0 + e), m.bindTexture(f.TEXTURE_CUBE_MAP, i.__image__webglTextureCube), f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL, t.flipY);
                        for (var n = t && t.isCompressedTexture, r = t.image[0] && t.image[0].isDataTexture, a = [], o = 0; o < 6; o++) a[o] = n || r ? r ? t.image[o].image : t.image[o] : x(t.image[o], v.maxCubemapSize);
                        var s = _(a[0]), h = y(t.format), l = y(t.type);
                        for (w(f.TEXTURE_CUBE_MAP, t, s), o = 0; o < 6; o++) if (n) for (var c, u = a[o].mipmaps, p = 0, d = u.length; p < d; p++) c = u[p], 1023 !== t.format && 1022 !== t.format ? -1 < m.getCompressedTextureFormats().indexOf(h) && m.compressedTexImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, p, h, c.width, c.height, 0, c.data) : m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, p, h, c.width, c.height, 0, h, l, c.data); else r ? m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, h, a[o].width, a[o].height, 0, h, l, a[o].data) : m.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, h, h, l, a[o]);
                        t.generateMipmaps && s && f.generateMipmap(f.TEXTURE_CUBE_MAP), i.__version = t.version, t.onUpdate && t.onUpdate(t)
                    } else m.activeTexture(f.TEXTURE0 + e), m.bindTexture(f.TEXTURE_CUBE_MAP, i.__image__webglTextureCube)
                }, this.setTextureCubeDynamic = function (t, e) {
                    m.activeTexture(f.TEXTURE0 + e), m.bindTexture(f.TEXTURE_CUBE_MAP, g.get(t).__webglTexture)
                }, this.setupRenderTarget = function (t) {
                    var e = g.get(t), i = g.get(t.texture);
                    t.addEventListener("dispose", o), i.__webglTexture = f.createTexture(), b.textures++;
                    var n = !0 === t.isWebGLRenderTargetCube, r = _(t);
                    if (n) {
                        e.__webglFramebuffer = [];
                        for (var a = 0; a < 6; a++) e.__webglFramebuffer[a] = f.createFramebuffer()
                    } else e.__webglFramebuffer = f.createFramebuffer();
                    if (n) {
                        for (m.bindTexture(f.TEXTURE_CUBE_MAP, i.__webglTexture), w(f.TEXTURE_CUBE_MAP, t.texture, r), a = 0; a < 6; a++) h(e.__webglFramebuffer[a], t, f.COLOR_ATTACHMENT0, f.TEXTURE_CUBE_MAP_POSITIVE_X + a);
                        t.texture.generateMipmaps && r && f.generateMipmap(f.TEXTURE_CUBE_MAP), m.bindTexture(f.TEXTURE_CUBE_MAP, null)
                    } else m.bindTexture(f.TEXTURE_2D, i.__webglTexture), w(f.TEXTURE_2D, t.texture, r), h(e.__webglFramebuffer, t, f.COLOR_ATTACHMENT0, f.TEXTURE_2D), t.texture.generateMipmaps && r && f.generateMipmap(f.TEXTURE_2D), m.bindTexture(f.TEXTURE_2D, null);
                    if (t.depthBuffer) {
                        if (e = g.get(t), i = !0 === t.isWebGLRenderTargetCube, t.depthTexture) {
                            if (i) throw Error("target.depthTexture not supported in Cube render targets");
                            if (t && t.isWebGLRenderTargetCube) throw Error("Depth Texture with cube render targets is not supported!");
                            if (f.bindFramebuffer(f.FRAMEBUFFER, e.__webglFramebuffer), !t.depthTexture || !t.depthTexture.isDepthTexture) throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                            if (g.get(t.depthTexture).__webglTexture && t.depthTexture.image.width === t.width && t.depthTexture.image.height === t.height || (t.depthTexture.image.width = t.width, t.depthTexture.image.height = t.height, t.depthTexture.needsUpdate = !0), s(t.depthTexture, 0), e = g.get(t.depthTexture).__webglTexture, 1026 === t.depthTexture.format) f.framebufferTexture2D(f.FRAMEBUFFER, f.DEPTH_ATTACHMENT, f.TEXTURE_2D, e, 0); else {
                                if (1027 !== t.depthTexture.format) throw Error("Unknown depthTexture format");
                                f.framebufferTexture2D(f.FRAMEBUFFER, f.DEPTH_STENCIL_ATTACHMENT, f.TEXTURE_2D, e, 0)
                            }
                        } else if (i) for (e.__webglDepthbuffer = [], i = 0; i < 6; i++) f.bindFramebuffer(f.FRAMEBUFFER, e.__webglFramebuffer[i]), e.__webglDepthbuffer[i] = f.createRenderbuffer(), l(e.__webglDepthbuffer[i], t); else f.bindFramebuffer(f.FRAMEBUFFER, e.__webglFramebuffer), e.__webglDepthbuffer = f.createRenderbuffer(), l(e.__webglDepthbuffer, t);
                        f.bindFramebuffer(f.FRAMEBUFFER, null)
                    }
                }, this.updateRenderTargetMipmap = function (t) {
                    var e = t.texture;
                    e.generateMipmaps && _(t) && 1003 !== e.minFilter && 1006 !== e.minFilter && (t = t && t.isWebGLRenderTargetCube ? f.TEXTURE_CUBE_MAP : f.TEXTURE_2D, e = g.get(e).__webglTexture, m.bindTexture(t, e), f.generateMipmap(t), m.bindTexture(t, null))
                }
            }

            function te() {
                var i = {};
                return {
                    get: function (t) {
                        t = t.uuid;
                        var e = i[t];
                        return void 0 === e && (e = {}, i[t] = e), e
                    }, delete: function (t) {
                        delete i[t.uuid]
                    }, clear: function () {
                        i = {}
                    }
                }
            }

            function ee(c, i, h) {
                function t(t, e, i) {
                    var n = new Uint8Array(4), r = c.createTexture();
                    for (c.bindTexture(t, r), c.texParameteri(t, c.TEXTURE_MIN_FILTER, c.NEAREST), c.texParameteri(t, c.TEXTURE_MAG_FILTER, c.NEAREST), t = 0; t < i; t++) c.texImage2D(e + t, 0, c.RGBA, 1, 1, 0, c.RGBA, c.UNSIGNED_BYTE, n);
                    return r
                }

                function u(t) {
                    !0 !== y[t] && (c.enable(t), y[t] = !0)
                }

                function p(t) {
                    !1 !== y[t] && (c.disable(t), y[t] = !1)
                }

                function e(t, e, i, n, r, a, o, s) {
                    0 !== t ? u(c.BLEND) : p(c.BLEND), t === _ && s === E || (2 === t ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD), c.blendFuncSeparate(c.ONE, c.ONE, c.ONE, c.ONE)) : (c.blendEquation(c.FUNC_ADD), c.blendFunc(c.SRC_ALPHA, c.ONE)) : 3 === t ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD), c.blendFuncSeparate(c.ZERO, c.ZERO, c.ONE_MINUS_SRC_COLOR, c.ONE_MINUS_SRC_ALPHA)) : (c.blendEquation(c.FUNC_ADD), c.blendFunc(c.ZERO, c.ONE_MINUS_SRC_COLOR)) : 4 === t ? s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD), c.blendFuncSeparate(c.ZERO, c.SRC_COLOR, c.ZERO, c.SRC_ALPHA)) : (c.blendEquation(c.FUNC_ADD), c.blendFunc(c.ZERO, c.SRC_COLOR)) : s ? (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD), c.blendFuncSeparate(c.ONE, c.ONE_MINUS_SRC_ALPHA, c.ONE, c.ONE_MINUS_SRC_ALPHA)) : (c.blendEquationSeparate(c.FUNC_ADD, c.FUNC_ADD), c.blendFuncSeparate(c.SRC_ALPHA, c.ONE_MINUS_SRC_ALPHA, c.ONE, c.ONE_MINUS_SRC_ALPHA)), _ = t, E = s), 5 === t ? (r = r || e, a = a || i, o = o || n, e === M && r === S || (c.blendEquationSeparate(h(e), h(r)), M = e, S = r), i === w && n === b && a === T && o === A || (c.blendFuncSeparate(h(i), h(n), h(a), h(o)), w = i, b = n, T = a, A = o)) : A = T = S = b = w = M = null
                }

                function n(t) {
                    l.setFunc(t)
                }

                function r(t) {
                    L !== t && (t ? c.frontFace(c.CW) : c.frontFace(c.CCW), L = t)
                }

                function a(t) {
                    0 !== t ? (u(c.CULL_FACE), t !== P && (1 === t ? c.cullFace(c.BACK) : 2 === t ? c.cullFace(c.FRONT) : c.cullFace(c.FRONT_AND_BACK))) : p(c.CULL_FACE), P = t
                }

                function o(t) {
                    void 0 === t && (t = c.TEXTURE0 + N - 1), z !== t && (c.activeTexture(t), z = t)
                }

                var s = new function () {
                        var e = !1, a = new Ct, i = null, o = new Ct;
                        return {
                            setMask: function (t) {
                                i === t || e || (c.colorMask(t, t, t, t), i = t)
                            }, setLocked: function (t) {
                                e = t
                            }, setClear: function (t, e, i, n, r) {
                                !0 === r && (t *= n, e *= n, i *= n), a.set(t, e, i, n), !1 === o.equals(a) && (c.clearColor(t, e, i, n), o.copy(a))
                            }, reset: function () {
                                e = !1, i = null, o.set(0, 0, 0, 1)
                            }
                        }
                    }, l = new function () {
                        var e = !1, i = null, n = null, r = null;
                        return {
                            setTest: function (t) {
                                t ? u(c.DEPTH_TEST) : p(c.DEPTH_TEST)
                            }, setMask: function (t) {
                                i === t || e || (c.depthMask(t), i = t)
                            }, setFunc: function (t) {
                                if (n !== t) {
                                    if (t) switch (t) {
                                        case 0:
                                            c.depthFunc(c.NEVER);
                                            break;
                                        case 1:
                                            c.depthFunc(c.ALWAYS);
                                            break;
                                        case 2:
                                            c.depthFunc(c.LESS);
                                            break;
                                        case 3:
                                            c.depthFunc(c.LEQUAL);
                                            break;
                                        case 4:
                                            c.depthFunc(c.EQUAL);
                                            break;
                                        case 5:
                                            c.depthFunc(c.GEQUAL);
                                            break;
                                        case 6:
                                            c.depthFunc(c.GREATER);
                                            break;
                                        case 7:
                                            c.depthFunc(c.NOTEQUAL);
                                            break;
                                        default:
                                            c.depthFunc(c.LEQUAL)
                                    } else c.depthFunc(c.LEQUAL);
                                    n = t
                                }
                            }, setLocked: function (t) {
                                e = t
                            }, setClear: function (t) {
                                r !== t && (c.clearDepth(t), r = t)
                            }, reset: function () {
                                e = !1, r = n = i = null
                            }
                        }
                    }, d = new function () {
                        var e = !1, i = null, n = null, r = null, a = null, o = null, s = null, h = null, l = null;
                        return {
                            setTest: function (t) {
                                t ? u(c.STENCIL_TEST) : p(c.STENCIL_TEST)
                            }, setMask: function (t) {
                                i === t || e || (c.stencilMask(t), i = t)
                            }, setFunc: function (t, e, i) {
                                n === t && r === e && a === i || (c.stencilFunc(t, e, i), n = t, r = e, a = i)
                            }, setOp: function (t, e, i) {
                                o === t && s === e && h === i || (c.stencilOp(t, e, i), o = t, s = e, h = i)
                            }, setLocked: function (t) {
                                e = t
                            }, setClear: function (t) {
                                l !== t && (c.clearStencil(t), l = t)
                            }, reset: function () {
                                e = !1, l = h = s = o = a = r = n = i = null
                            }
                        }
                    }, f = c.getParameter(c.MAX_VERTEX_ATTRIBS), m = new Uint8Array(f), g = new Uint8Array(f),
                    v = new Uint8Array(f), y = {}, x = null, _ = null, M = null, w = null, b = null, S = null, T = null,
                    A = null, E = !1, L = null, P = null, C = null, R = null, I = null, D = null,
                    N = c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),
                    U = (f = parseFloat(/^WebGL\ ([0-9])/.exec(c.getParameter(c.VERSION))[1]), 1 <= parseFloat(f)),
                    z = null, F = {}, B = new Ct, O = new Ct, G = {};
                return G[c.TEXTURE_2D] = t(c.TEXTURE_2D, c.TEXTURE_2D, 1), G[c.TEXTURE_CUBE_MAP] = t(c.TEXTURE_CUBE_MAP, c.TEXTURE_CUBE_MAP_POSITIVE_X, 6), {
                    buffers: {color: s, depth: l, stencil: d}, init: function () {
                        s.setClear(0, 0, 0, 1), l.setClear(1), d.setClear(0), u(c.DEPTH_TEST), n(3), r(!1), a(1), u(c.CULL_FACE), u(c.BLEND), e(1)
                    }, initAttributes: function () {
                        for (var t = 0, e = m.length; t < e; t++) m[t] = 0
                    }, enableAttribute: function (t) {
                        m[t] = 1, 0 === g[t] && (c.enableVertexAttribArray(t), g[t] = 1), 0 !== v[t] && (i.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t, 0), v[t] = 0)
                    }, enableAttributeAndDivisor: function (t, e, i) {
                        m[t] = 1, 0 === g[t] && (c.enableVertexAttribArray(t), g[t] = 1), v[t] !== e && (i.vertexAttribDivisorANGLE(t, e), v[t] = e)
                    }, disableUnusedAttributes: function () {
                        for (var t = 0, e = g.length; t !== e; ++t) g[t] !== m[t] && (c.disableVertexAttribArray(t), g[t] = 0)
                    }, enable: u, disable: p, getCompressedTextureFormats: function () {
                        if (null === x && (x = [], i.get("WEBGL_compressed_texture_pvrtc") || i.get("WEBGL_compressed_texture_s3tc") || i.get("WEBGL_compressed_texture_etc1"))) for (var t = c.getParameter(c.COMPRESSED_TEXTURE_FORMATS), e = 0; e < t.length; e++) x.push(t[e]);
                        return x
                    }, setBlending: e, setColorWrite: function (t) {
                        s.setMask(t)
                    }, setDepthTest: function (t) {
                        l.setTest(t)
                    }, setDepthWrite: function (t) {
                        l.setMask(t)
                    }, setDepthFunc: n, setStencilTest: function (t) {
                        d.setTest(t)
                    }, setStencilWrite: function (t) {
                        d.setMask(t)
                    }, setStencilFunc: function (t, e, i) {
                        d.setFunc(t, e, i)
                    }, setStencilOp: function (t, e, i) {
                        d.setOp(t, e, i)
                    }, setFlipSided: r, setCullFace: a, setLineWidth: function (t) {
                        t !== C && (U && c.lineWidth(t), C = t)
                    }, setPolygonOffset: function (t, e, i) {
                        t ? (u(c.POLYGON_OFFSET_FILL), (R !== e || I !== i) && (c.polygonOffset(e, i), R = e, I = i)) : p(c.POLYGON_OFFSET_FILL)
                    }, getScissorTest: function () {
                        return D
                    }, setScissorTest: function (t) {
                        (D = t) ? u(c.SCISSOR_TEST) : p(c.SCISSOR_TEST)
                    }, activeTexture: o, bindTexture: function (t, e) {
                        null === z && o();
                        var i = F[z];
                        void 0 === i && (i = {
                            type: void 0,
                            texture: void 0
                        }, F[z] = i), i.type === t && i.texture === e || (c.bindTexture(t, e || G[t]), i.type = t, i.texture = e)
                    }, compressedTexImage2D: function () {
                        try {
                            c.compressedTexImage2D.apply(c, arguments)
                        } catch (t) {
                        }
                    }, texImage2D: function () {
                        try {
                            c.texImage2D.apply(c, arguments)
                        } catch (t) {
                        }
                    }, scissor: function (t) {
                        !1 === B.equals(t) && (c.scissor(t.x, t.y, t.z, t.w), B.copy(t))
                    }, viewport: function (t) {
                        !1 === O.equals(t) && (c.viewport(t.x, t.y, t.z, t.w), O.copy(t))
                    }, reset: function () {
                        for (var t = 0; t < g.length; t++) 1 === g[t] && (c.disableVertexAttribArray(t), g[t] = 0);
                        y = {}, z = x = null, F = {}, P = L = _ = null, s.reset(), l.reset(), d.reset()
                    }
                }
            }

            function ie(e, i, t) {
                function n(t) {
                    if ("highp" === t) {
                        if (0 < e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision && 0 < e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision) return "highp";
                        t = "mediump"
                    }
                    return "mediump" === t && 0 < e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision && 0 < e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision ? "mediump" : "lowp"
                }

                var r, a = void 0 !== t.precision ? t.precision : "highp";
                (o = n(a)) !== a && (a = o), t = !0 === t.logarithmicDepthBuffer && !!i.get("EXT_frag_depth");
                var o = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS), s = e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
                    h = e.getParameter(e.MAX_TEXTURE_SIZE), l = e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),
                    c = e.getParameter(e.MAX_VERTEX_ATTRIBS), u = e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),
                    p = e.getParameter(e.MAX_VARYING_VECTORS), d = e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),
                    f = 0 < s, m = !!i.get("OES_texture_float");
                return {
                    getMaxAnisotropy: function () {
                        if (void 0 !== r) return r;
                        var t = i.get("EXT_texture_filter_anisotropic");
                        return r = null !== t ? e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    },
                    getMaxPrecision: n,
                    precision: a,
                    logarithmicDepthBuffer: t,
                    maxTextures: o,
                    maxVertexTextures: s,
                    maxTextureSize: h,
                    maxCubemapSize: l,
                    maxAttributes: c,
                    maxVertexUniforms: u,
                    maxVaryings: p,
                    maxFragmentUniforms: d,
                    vertexTextures: f,
                    floatFragmentTextures: m,
                    floatVertexTextures: f && m
                }
            }

            function ne(i) {
                var n = {};
                return {
                    get: function (t) {
                        if (void 0 !== n[t]) return n[t];
                        var e;
                        switch (t) {
                            case"WEBGL_depth_texture":
                                e = i.getExtension("WEBGL_depth_texture") || i.getExtension("MOZ_WEBGL_depth_texture") || i.getExtension("WEBKIT_WEBGL_depth_texture");
                                break;
                            case"EXT_texture_filter_anisotropic":
                                e = i.getExtension("EXT_texture_filter_anisotropic") || i.getExtension("MOZ_EXT_texture_filter_anisotropic") || i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                                break;
                            case"WEBGL_compressed_texture_s3tc":
                                e = i.getExtension("WEBGL_compressed_texture_s3tc") || i.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                                break;
                            case"WEBGL_compressed_texture_pvrtc":
                                e = i.getExtension("WEBGL_compressed_texture_pvrtc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                                break;
                            case"WEBGL_compressed_texture_etc1":
                                e = i.getExtension("WEBGL_compressed_texture_etc1");
                                break;
                            default:
                                e = i.getExtension(t)
                        }
                        return n[t] = e
                    }
                }
            }

            function re() {
                function h() {
                    m.value !== c && (m.value = c, m.needsUpdate = 0 < u), o.numPlanes = u, o.numIntersection = 0
                }

                function l(t, e, i, n) {
                    var r = null !== t ? t.length : 0, a = null;
                    if (0 !== r) {
                        if (a = m.value, !0 !== n || null === a) for (n = i + 4 * r, e = e.matrixWorldInverse, f.getNormalMatrix(e), (null === a || a.length < n) && (a = new Float32Array(n)), n = 0; n !== r; ++n, i += 4) s.copy(t[n]).applyMatrix4(e, f), s.normal.toArray(a, i), a[i + 3] = s.constant;
                        m.value = a, m.needsUpdate = !0
                    }
                    return o.numPlanes = r, a
                }

                var o = this, c = null, u = 0, p = !1, d = !1, s = new k, f = new F, m = {value: null, needsUpdate: !1};
                this.uniform = m, this.numIntersection = this.numPlanes = 0, this.init = function (t, e, i) {
                    var n = 0 !== t.length || e || 0 !== u || p;
                    return p = e, c = l(t, i, 0), u = t.length, n
                }, this.beginShadows = function () {
                    d = !0, l(null)
                }, this.endShadows = function () {
                    d = !1, h()
                }, this.setState = function (t, e, i, n, r, a) {
                    if (!p || null === t || 0 === t.length || d && !i) d ? l(null) : h(); else {
                        var o = 4 * (i = d ? 0 : u), s = r.clippingState || null;
                        for (m.value = s, s = l(t, n, o, a), t = 0; t !== o; ++t) s[t] = c[t];
                        r.clippingState = s, this.numIntersection = e ? this.numPlanes : 0, this.numPlanes += i
                    }
                }
            }

            function Mt(t) {
                function e() {
                    pt.init(), pt.scissor(y.copy(J).multiplyScalar(Z)), pt.viewport(X.copy(K).multiplyScalar(Z)), pt.buffers.color.setClear(j.r, j.g, j.b, Y, C)
                }

                function i() {
                    H = g = null, W = "", V = -1, pt.reset()
                }

                function n(t) {
                    t.preventDefault(), i(), e(), dt.clear()
                }

                function p(t) {
                    (t = t.target).removeEventListener("dispose", p), d(t), dt.delete(t)
                }

                function d(t) {
                    var e = dt.get(t).program;
                    (t.program = void 0) !== e && gt.releaseProgram(e)
                }

                function b(t, e) {
                    return Math.abs(e[0]) - Math.abs(t[0])
                }

                function w(t, e) {
                    return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.material.program && e.material.program && t.material.program !== e.material.program ? t.material.program.id - e.material.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
                }

                function S(t, e) {
                    return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
                }

                function T(t, e, i, n, r) {
                    var a;
                    a = i.transparent ? (n = N, ++U) : (n = I, ++D), void 0 !== (a = n[a]) ? (a.id = t.id, a.object = t, a.geometry = e, a.material = i, a.z = at.z, a.group = r) : (a = {
                        id: t.id,
                        object: t,
                        geometry: e,
                        material: i,
                        z: at.z,
                        group: r
                    }, n.push(a))
                }

                function A(t) {
                    if (!$.intersectsSphere(t)) return !1;
                    var e = tt.numPlanes;
                    if (0 === e) return !0;
                    var i = G.clippingPlanes, n = t.center;
                    t = -t.radius;
                    var r = 0;
                    do {
                        if (i[r].distanceToPoint(n) < t) return !1
                    } while (++r !== e);
                    return !0
                }

                function E(t, e, i, n) {
                    for (var r = 0, a = t.length; r < a; r++) {
                        var o = (l = t[r]).object, s = l.geometry, h = void 0 === n ? l.material : n, l = l.group;
                        if (o.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, o.matrixWorld), o.normalMatrix.getNormalMatrix(o.modelViewMatrix), o.onBeforeRender(G, e, i, s, h, l), o.isImmediateRenderObject) {
                            L(h);
                            var c = P(i, e.fog, h, o);
                            W = "", o.render(function (t) {
                                G.renderBufferImmediate(t, c, h)
                            })
                        } else G.renderBufferDirect(i, e.fog, s, h, o, l);
                        o.onAfterRender(G, e, i, s, h, l)
                    }
                }

                function L(t) {
                    2 === t.side ? pt.disable(O.CULL_FACE) : pt.enable(O.CULL_FACE), pt.setFlipSided(1 === t.side), !0 === t.transparent ? pt.setBlending(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha) : pt.setBlending(0), pt.setDepthFunc(t.depthFunc), pt.setDepthTest(t.depthTest), pt.setDepthWrite(t.depthWrite), pt.setColorWrite(t.colorWrite), pt.setPolygonOffset(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits)
                }

                function P(t, e, i, n) {
                    _ = 0;
                    var r = dt.get(i);
                    if (et && (it || t !== H) && tt.setState(i.clippingPlanes, i.clipIntersection, i.clipShadows, t, r, t === H && i.id === V), !1 === i.needsUpdate && (void 0 === r.program ? i.needsUpdate = !0 : i.fog && r.fog !== e ? i.needsUpdate = !0 : i.lights && r.lightsHash !== ht.hash ? i.needsUpdate = !0 : void 0 === r.numClippingPlanes || r.numClippingPlanes === tt.numPlanes && r.numIntersection === tt.numIntersection || (i.needsUpdate = !0)), i.needsUpdate) {
                        t:{
                            var a = dt.get(i), o = gt.getParameters(i, ht, e, tt.numPlanes, tt.numIntersection, n),
                                s = gt.getProgramCode(i, o), h = a.program, l = !0;
                            if (void 0 === h) i.addEventListener("dispose", p); else if (h.code !== s) d(i); else {
                                if (void 0 !== o.shaderID) break t;
                                l = !1
                            }
                            if (l && (o.shaderID ? (h = Gr[o.shaderID], a.__webglShader = {
                                name: i.type,
                                uniforms: Nr.clone(h.uniforms),
                                vertexShader: h.vertexShader,
                                fragmentShader: h.fragmentShader
                            }) : a.__webglShader = {
                                name: i.type,
                                uniforms: i.uniforms,
                                vertexShader: i.vertexShader,
                                fragmentShader: i.fragmentShader
                            }, i.__webglShader = a.__webglShader, h = gt.acquireProgram(i, o, s), a.program = h, i.program = h), o = h.getAttributes(), i.morphTargets) for (s = i.numSupportedMorphTargets = 0; s < G.maxMorphTargets; s++) 0 <= o["morphTarget" + s] && i.numSupportedMorphTargets++;
                            if (i.morphNormals) for (s = i.numSupportedMorphNormals = 0; s < G.maxMorphNormals; s++) 0 <= o["morphNormal" + s] && i.numSupportedMorphNormals++;
                            o = a.__webglShader.uniforms, (i.isShaderMaterial || i.isRawShaderMaterial) && !0 !== i.clipping || (a.numClippingPlanes = tt.numPlanes, a.numIntersection = tt.numIntersection, o.clippingPlanes = tt.uniform), a.fog = e, a.lightsHash = ht.hash, i.lights && (o.ambientLightColor.value = ht.ambient, o.directionalLights.value = ht.directional, o.spotLights.value = ht.spot, o.rectAreaLights.value = ht.rectArea, o.pointLights.value = ht.point, o.hemisphereLights.value = ht.hemi, o.directionalShadowMap.value = ht.directionalShadowMap, o.directionalShadowMatrix.value = ht.directionalShadowMatrix, o.spotShadowMap.value = ht.spotShadowMap, o.spotShadowMatrix.value = ht.spotShadowMatrix, o.pointShadowMap.value = ht.pointShadowMap, o.pointShadowMatrix.value = ht.pointShadowMatrix), s = a.program.getUniforms(), o = Dt.seqWithValue(s.seq, o), a.uniformsList = o
                        }
                        i.needsUpdate = !1
                    }
                    var c = !1;
                    l = h = !1, o = (a = r.program).getUniforms(), s = r.__webglShader.uniforms;
                    if (a.id !== g && (O.useProgram(a.program), g = a.id, l = h = c = !0), i.id !== V && (V = i.id, h = !0), (c || t !== H) && (o.set(O, t, "projectionMatrix"), ut.logarithmicDepthBuffer && o.setValue(O, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), t !== H && (H = t, l = h = !0), (i.isShaderMaterial || i.isMeshPhongMaterial || i.isMeshStandardMaterial || i.envMap) && (void 0 !== (c = o.map.cameraPosition) && c.setValue(O, at.setFromMatrixPosition(t.matrixWorld))), (i.isMeshPhongMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial || i.skinning) && o.setValue(O, "viewMatrix", t.matrixWorldInverse), o.set(O, G, "toneMappingExposure"), o.set(O, G, "toneMappingWhitePoint")), i.skinning && (o.setOptional(O, n, "bindMatrix"), o.setOptional(O, n, "bindMatrixInverse"), t = n.skeleton) && (ut.floatVertexTextures && t.useVertexTexture ? (o.set(O, t, "boneTexture"), o.set(O, t, "boneTextureWidth"), o.set(O, t, "boneTextureHeight")) : o.setOptional(O, t, "boneMatrices")), h) {
                        var u;
                        if (i.lights && (t = l, s.ambientLightColor.needsUpdate = t, s.directionalLights.needsUpdate = t, s.pointLights.needsUpdate = t, s.spotLights.needsUpdate = t, s.rectAreaLights.needsUpdate = t, s.hemisphereLights.needsUpdate = t), e && i.fog && (s.fogColor.value = e.color, e.isFog ? (s.fogNear.value = e.near, s.fogFar.value = e.far) : e.isFogExp2 && (s.fogDensity.value = e.density)), i.isMeshBasicMaterial || i.isMeshLambertMaterial || i.isMeshPhongMaterial || i.isMeshStandardMaterial || i.isMeshNormalMaterial || i.isMeshDepthMaterial) s.opacity.value = i.opacity, s.diffuse.value = i.color, i.emissive && s.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity), s.map.value = i.map, s.specularMap.value = i.specularMap, s.alphaMap.value = i.alphaMap, i.lightMap && (s.lightMap.value = i.lightMap, s.lightMapIntensity.value = i.lightMapIntensity), i.aoMap && (s.aoMap.value = i.aoMap, s.aoMapIntensity.value = i.aoMapIntensity), i.map ? u = i.map : i.specularMap ? u = i.specularMap : i.displacementMap ? u = i.displacementMap : i.normalMap ? u = i.normalMap : i.bumpMap ? u = i.bumpMap : i.roughnessMap ? u = i.roughnessMap : i.metalnessMap ? u = i.metalnessMap : i.alphaMap ? u = i.alphaMap : i.emissiveMap && (u = i.emissiveMap), void 0 !== u && (u.isWebGLRenderTarget && (u = u.texture), e = u.offset, u = u.repeat, s.offsetRepeat.value.set(e.x, e.y, u.x, u.y)), s.envMap.value = i.envMap, s.flipEnvMap.value = i.envMap && i.envMap.isCubeTexture ? -1 : 1, s.reflectivity.value = i.reflectivity, s.refractionRatio.value = i.refractionRatio;
                        i.isLineBasicMaterial ? (s.diffuse.value = i.color, s.opacity.value = i.opacity) : i.isLineDashedMaterial ? (s.diffuse.value = i.color, s.opacity.value = i.opacity, s.dashSize.value = i.dashSize, s.totalSize.value = i.dashSize + i.gapSize, s.scale.value = i.scale) : i.isPointsMaterial ? (s.diffuse.value = i.color, s.opacity.value = i.opacity, s.size.value = i.size * Z, s.scale.value = .5 * q, s.map.value = i.map, null !== i.map && (u = i.map.offset, i = i.map.repeat, s.offsetRepeat.value.set(u.x, u.y, i.x, i.y))) : i.isMeshLambertMaterial ? i.emissiveMap && (s.emissiveMap.value = i.emissiveMap) : i.isMeshToonMaterial ? (f(s, i), i.gradientMap && (s.gradientMap.value = i.gradientMap)) : i.isMeshPhongMaterial ? f(s, i) : i.isMeshPhysicalMaterial ? (s.clearCoat.value = i.clearCoat, s.clearCoatRoughness.value = i.clearCoatRoughness, m(s, i)) : i.isMeshStandardMaterial ? m(s, i) : i.isMeshDepthMaterial ? i.displacementMap && (s.displacementMap.value = i.displacementMap, s.displacementScale.value = i.displacementScale, s.displacementBias.value = i.displacementBias) : i.isMeshNormalMaterial && (i.bumpMap && (s.bumpMap.value = i.bumpMap, s.bumpScale.value = i.bumpScale), i.normalMap && (s.normalMap.value = i.normalMap, s.normalScale.value.copy(i.normalScale)), i.displacementMap && (s.displacementMap.value = i.displacementMap, s.displacementScale.value = i.displacementScale, s.displacementBias.value = i.displacementBias)), void 0 !== s.ltcMat && (s.ltcMat.value = THREE.UniformsLib.LTC_MAT_TEXTURE), void 0 !== s.ltcMag && (s.ltcMag.value = THREE.UniformsLib.LTC_MAG_TEXTURE), Dt.upload(O, r.uniformsList, s, G)
                    }
                    return o.set(O, n, "modelViewMatrix"), o.set(O, n, "normalMatrix"), o.setValue(O, "modelMatrix", n.matrixWorld), a
                }

                function f(t, e) {
                    t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function m(t, e) {
                    t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
                }

                function u(t) {
                    var e;
                    if (1e3 === t) return O.REPEAT;
                    if (1001 === t) return O.CLAMP_TO_EDGE;
                    if (1002 === t) return O.MIRRORED_REPEAT;
                    if (1003 === t) return O.NEAREST;
                    if (1004 === t) return O.NEAREST_MIPMAP_NEAREST;
                    if (1005 === t) return O.NEAREST_MIPMAP_LINEAR;
                    if (1006 === t) return O.LINEAR;
                    if (1007 === t) return O.LINEAR_MIPMAP_NEAREST;
                    if (1008 === t) return O.LINEAR_MIPMAP_LINEAR;
                    if (1009 === t) return O.UNSIGNED_BYTE;
                    if (1017 === t) return O.UNSIGNED_SHORT_4_4_4_4;
                    if (1018 === t) return O.UNSIGNED_SHORT_5_5_5_1;
                    if (1019 === t) return O.UNSIGNED_SHORT_5_6_5;
                    if (1010 === t) return O.BYTE;
                    if (1011 === t) return O.SHORT;
                    if (1012 === t) return O.UNSIGNED_SHORT;
                    if (1013 === t) return O.INT;
                    if (1014 === t) return O.UNSIGNED_INT;
                    if (1015 === t) return O.FLOAT;
                    if (1016 === t && null !== (e = ct.get("OES_texture_half_float"))) return e.HALF_FLOAT_OES;
                    if (1021 === t) return O.ALPHA;
                    if (1022 === t) return O.RGB;
                    if (1023 === t) return O.RGBA;
                    if (1024 === t) return O.LUMINANCE;
                    if (1025 === t) return O.LUMINANCE_ALPHA;
                    if (1026 === t) return O.DEPTH_COMPONENT;
                    if (1027 === t) return O.DEPTH_STENCIL;
                    if (100 === t) return O.FUNC_ADD;
                    if (101 === t) return O.FUNC_SUBTRACT;
                    if (102 === t) return O.FUNC_REVERSE_SUBTRACT;
                    if (200 === t) return O.ZERO;
                    if (201 === t) return O.ONE;
                    if (202 === t) return O.SRC_COLOR;
                    if (203 === t) return O.ONE_MINUS_SRC_COLOR;
                    if (204 === t) return O.SRC_ALPHA;
                    if (205 === t) return O.ONE_MINUS_SRC_ALPHA;
                    if (206 === t) return O.DST_ALPHA;
                    if (207 === t) return O.ONE_MINUS_DST_ALPHA;
                    if (208 === t) return O.DST_COLOR;
                    if (209 === t) return O.ONE_MINUS_DST_COLOR;
                    if (210 === t) return O.SRC_ALPHA_SATURATE;
                    if ((2001 === t || 2002 === t || 2003 === t || 2004 === t) && null !== (e = ct.get("WEBGL_compressed_texture_s3tc"))) {
                        if (2001 === t) return e.COMPRESSED_RGB_S3TC_DXT1_EXT;
                        if (2002 === t) return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                        if (2003 === t) return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                        if (2004 === t) return e.COMPRESSED_RGBA_S3TC_DXT5_EXT
                    }
                    if ((2100 === t || 2101 === t || 2102 === t || 2103 === t) && null !== (e = ct.get("WEBGL_compressed_texture_pvrtc"))) {
                        if (2100 === t) return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                        if (2101 === t) return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                        if (2102 === t) return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                        if (2103 === t) return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                    }
                    if (2151 === t && null !== (e = ct.get("WEBGL_compressed_texture_etc1"))) return e.COMPRESSED_RGB_ETC1_WEBGL;
                    if ((103 === t || 104 === t) && null !== (e = ct.get("EXT_blend_minmax"))) {
                        if (103 === t) return e.MIN_EXT;
                        if (104 === t) return e.MAX_EXT
                    }
                    return 1020 === t && null !== (e = ct.get("WEBGL_depth_texture")) ? e.UNSIGNED_INT_24_8_WEBGL : 0
                }

                var r = void 0 !== (t = t || {}).canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                    a = void 0 !== t.context ? t.context : null, o = void 0 !== t.alpha && t.alpha,
                    s = void 0 === t.depth || t.depth, h = void 0 === t.stencil || t.stencil,
                    l = void 0 !== t.antialias && t.antialias,
                    C = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                    c = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer, R = [], I = [], D = -1, N = [],
                    U = -1, z = new Float32Array(8), F = [], B = [];
                this.domElement = r, this.context = null, this.sortObjects = this.autoClearStencil = this.autoClearDepth = this.autoClearColor = this.autoClear = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.physicallyCorrectLights = this.gammaOutput = this.gammaInput = !1, this.toneMappingWhitePoint = this.toneMappingExposure = this.toneMapping = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
                var O, G = this, g = null, k = null, v = null, V = -1, W = "", H = null, y = new Ct, x = null,
                    X = new Ct, _ = 0, j = new Nt(0), Y = 0, M = r.width, q = r.height, Z = 1, J = new Ct(0, 0, M, q),
                    Q = !1, K = new Ct(0, 0, M, q), $ = new Ot, tt = new re, et = !1, it = !1, nt = new Bt, rt = new It,
                    at = new Rt, ot = new It, st = new It, ht = {
                        hash: "",
                        ambient: [0, 0, 0],
                        directional: [],
                        directionalShadowMap: [],
                        directionalShadowMatrix: [],
                        spot: [],
                        spotShadowMap: [],
                        spotShadowMatrix: [],
                        rectArea: [],
                        point: [],
                        pointShadowMap: [],
                        pointShadowMatrix: [],
                        hemi: [],
                        shadows: []
                    }, lt = {calls: 0, vertices: 0, faces: 0, points: 0};
                this.info = {render: lt, memory: {geometries: 0, textures: 0}, programs: null};
                try {
                    if (o = {
                        alpha: o,
                        depth: s,
                        stencil: h,
                        antialias: l,
                        premultipliedAlpha: C,
                        preserveDrawingBuffer: c
                    }, null === (O = a || r.getContext("webgl", o) || r.getContext("experimental-webgl", o))) {
                        if (null !== r.getContext("webgl")) throw"Error creating WebGL context with your selected attributes.";
                        throw"Error creating WebGL context."
                    }
                    void 0 === O.getShaderPrecisionFormat && (O.getShaderPrecisionFormat = function () {
                        return {rangeMin: 1, rangeMax: 1, precision: 1}
                    }), r.addEventListener("webglcontextlost", n, !1)
                } catch (t) {
                }
                var ct = new ne(O);
                ct.get("WEBGL_depth_texture"), ct.get("OES_texture_float"), ct.get("OES_texture_float_linear"), ct.get("OES_texture_half_float"), ct.get("OES_texture_half_float_linear"), ct.get("OES_standard_derivatives"), ct.get("ANGLE_instanced_arrays"), ct.get("OES_element_index_uint") && (Vt.MaxIndex = 4294967296);
                var ut = new ie(O, ct, t), pt = new ee(O, ct, u), dt = new te,
                    ft = new $t(O, ct, pt, dt, ut, u, this.info), mt = new Kt(O, dt, this.info), gt = new Qt(this, ut),
                    vt = new Jt;
                this.info.programs = gt.programs;
                var yt, xt, _t, Mt, wt = new Zt(O, ct, lt), bt = new qt(O, ct, lt);
                e(), this.context = O, this.capabilities = ut, this.extensions = ct, this.properties = dt, this.state = pt;
                var St = new Gt(this, ht, mt, ut);
                this.shadowMap = St;
                var Tt, At, Et, Lt = new zt(this, F), Pt = new Ut(this, B);
                this.getContext = function () {
                    return O
                }, this.getContextAttributes = function () {
                    return O.getContextAttributes()
                }, this.forceContextLoss = function () {
                    ct.get("WEBGL_lose_context").loseContext()
                }, this.getMaxAnisotropy = function () {
                    return ut.getMaxAnisotropy()
                }, this.getPrecision = function () {
                    return ut.precision
                }, this.getPixelRatio = function () {
                    return Z
                }, this.setPixelRatio = function (t) {
                    void 0 !== t && (Z = t, this.setSize(K.z, K.w, !1))
                }, this.getSize = function () {
                    return {width: M, height: q}
                }, this.setSize = function (t, e, i) {
                    M = t, q = e, r.width = t * Z, r.height = e * Z, !1 !== i && (r.style.width = t + "px", r.style.height = e + "px"), this.setViewport(0, 0, t, e)
                }, this.setViewport = function (t, e, i, n) {
                    pt.viewport(K.set(t, e, i, n))
                }, this.setScissor = function (t, e, i, n) {
                    pt.scissor(J.set(t, e, i, n))
                }, this.setScissorTest = function (t) {
                    pt.setScissorTest(Q = t)
                }, this.getClearColor = function () {
                    return j
                }, this.setClearColor = function (t, e) {
                    j.set(t), Y = void 0 !== e ? e : 1, pt.buffers.color.setClear(j.r, j.g, j.b, Y, C)
                }, this.getClearAlpha = function () {
                    return Y
                }, this.setClearAlpha = function (t) {
                    Y = t, pt.buffers.color.setClear(j.r, j.g, j.b, Y, C)
                }, this.clear = function (t, e, i) {
                    var n = 0;
                    (void 0 === t || t) && (n |= O.COLOR_BUFFER_BIT), (void 0 === e || e) && (n |= O.DEPTH_BUFFER_BIT), (void 0 === i || i) && (n |= O.STENCIL_BUFFER_BIT), O.clear(n)
                }, this.clearColor = function () {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function () {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function () {
                    this.clear(!1, !1, !0)
                }, this.clearTarget = function (t, e, i, n) {
                    this.setRenderTarget(t), this.clear(e, i, n)
                }, this.resetGLState = i, this.dispose = function () {
                    N = [], I = [], D = U = -1, r.removeEventListener("webglcontextlost", n, !1)
                }, this.renderBufferImmediate = function (t, e, i) {
                    pt.initAttributes();
                    var n = dt.get(t);
                    if (t.hasPositions && !n.position && (n.position = O.createBuffer()), t.hasNormals && !n.normal && (n.normal = O.createBuffer()), t.hasUvs && !n.uv && (n.uv = O.createBuffer()), t.hasColors && !n.color && (n.color = O.createBuffer()), e = e.getAttributes(), t.hasPositions && (O.bindBuffer(O.ARRAY_BUFFER, n.position), O.bufferData(O.ARRAY_BUFFER, t.positionArray, O.DYNAMIC_DRAW), pt.enableAttribute(e.position), O.vertexAttribPointer(e.position, 3, O.FLOAT, !1, 0, 0)), t.hasNormals) {
                        if (O.bindBuffer(O.ARRAY_BUFFER, n.normal), !i.isMeshPhongMaterial && !i.isMeshStandardMaterial && !i.isMeshNormalMaterial && 1 === i.shading) for (var r = 0, a = 3 * t.count; r < a; r += 9) {
                            var o = t.normalArray, s = (o[r + 0] + o[r + 3] + o[r + 6]) / 3,
                                h = (o[r + 1] + o[r + 4] + o[r + 7]) / 3, l = (o[r + 2] + o[r + 5] + o[r + 8]) / 3;
                            o[r + 0] = s, o[r + 1] = h, o[r + 2] = l, o[r + 3] = s, o[r + 4] = h, o[r + 5] = l, o[r + 6] = s, o[r + 7] = h, o[r + 8] = l
                        }
                        O.bufferData(O.ARRAY_BUFFER, t.normalArray, O.DYNAMIC_DRAW), pt.enableAttribute(e.normal), O.vertexAttribPointer(e.normal, 3, O.FLOAT, !1, 0, 0)
                    }
                    t.hasUvs && i.map && (O.bindBuffer(O.ARRAY_BUFFER, n.uv), O.bufferData(O.ARRAY_BUFFER, t.uvArray, O.DYNAMIC_DRAW), pt.enableAttribute(e.uv), O.vertexAttribPointer(e.uv, 2, O.FLOAT, !1, 0, 0)), t.hasColors && 0 !== i.vertexColors && (O.bindBuffer(O.ARRAY_BUFFER, n.color), O.bufferData(O.ARRAY_BUFFER, t.colorArray, O.DYNAMIC_DRAW), pt.enableAttribute(e.color), O.vertexAttribPointer(e.color, 3, O.FLOAT, !1, 0, 0)), pt.disableUnusedAttributes(), O.drawArrays(O.TRIANGLES, 0, t.count), t.count = 0
                }, this.renderBufferDirect = function (t, e, i, n, r, a) {
                    L(n);
                    var o = P(t, e, n, r), s = !1;
                    if ((t = i.id + "_" + o.id + "_" + n.wireframe) !== W && (W = t, s = !0), void 0 !== (e = r.morphTargetInfluences)) {
                        var h = [];
                        t = 0;
                        for (var l = e.length; t < l; t++) s = e[t], h.push([s, t]);
                        h.sort(b), 8 < h.length && (h.length = 8);
                        var c = i.morphAttributes;
                        for (t = 0, l = h.length; t < l; t++) s = h[t], z[t] = s[0], 0 !== s[0] ? (e = s[1], !0 === n.morphTargets && c.position && i.addAttribute("morphTarget" + t, c.position[e]), !0 === n.morphNormals && c.normal && i.addAttribute("morphNormal" + t, c.normal[e])) : (!0 === n.morphTargets && i.removeAttribute("morphTarget" + t), !0 === n.morphNormals && i.removeAttribute("morphNormal" + t));
                        for (t = h.length, e = z.length; t < e; t++) z[t] = 0;
                        o.getUniforms().setValue(O, "morphTargetInfluences", z), s = !0
                    }
                    if (e = i.index, l = i.attributes.position, h = 1, !0 === n.wireframe && (e = mt.getWireframeAttribute(i), h = 2), null !== e ? (t = bt).setIndex(e) : t = wt, s) {
                        var u;
                        s = void 0;
                        if (!i || !i.isInstancedBufferGeometry || null !== (u = ct.get("ANGLE_instanced_arrays"))) {
                            void 0 === s && (s = 0), pt.initAttributes();
                            c = i.attributes, o = o.getAttributes();
                            var p, d = n.defaultAttributeValues;
                            for (p in o) {
                                var f = o[p];
                                if (0 <= f) if (void 0 !== (w = c[p])) {
                                    var m = w.normalized, g = w.itemSize,
                                        v = (x = mt.getAttributeProperties(w)).__webglBuffer, y = x.type,
                                        x = x.bytesPerElement;
                                    if (w.isInterleavedBufferAttribute) {
                                        var _ = w.data, M = _.stride, w = w.offset;
                                        _ && _.isInstancedInterleavedBuffer ? (pt.enableAttributeAndDivisor(f, _.meshPerAttribute, u), void 0 === i.maxInstancedCount && (i.maxInstancedCount = _.meshPerAttribute * _.count)) : pt.enableAttribute(f), O.bindBuffer(O.ARRAY_BUFFER, v), O.vertexAttribPointer(f, g, y, m, M * x, (s * M + w) * x)
                                    } else w.isInstancedBufferAttribute ? (pt.enableAttributeAndDivisor(f, w.meshPerAttribute, u), void 0 === i.maxInstancedCount && (i.maxInstancedCount = w.meshPerAttribute * w.count)) : pt.enableAttribute(f), O.bindBuffer(O.ARRAY_BUFFER, v), O.vertexAttribPointer(f, g, y, m, 0, s * g * x)
                                } else if (void 0 !== d && void 0 !== (m = d[p])) switch (m.length) {
                                    case 2:
                                        O.vertexAttrib2fv(f, m);
                                        break;
                                    case 3:
                                        O.vertexAttrib3fv(f, m);
                                        break;
                                    case 4:
                                        O.vertexAttrib4fv(f, m);
                                        break;
                                    default:
                                        O.vertexAttrib1fv(f, m)
                                }
                            }
                            pt.disableUnusedAttributes()
                        }
                        null !== e && O.bindBuffer(O.ELEMENT_ARRAY_BUFFER, mt.getAttributeBuffer(e))
                    }
                    if (u = 0, null !== e ? u = e.count : void 0 !== l && (u = l.count), e = i.drawRange.start * h, l = null !== a ? a.start * h : 0, p = Math.max(e, l), 0 !== (a = Math.max(0, Math.min(u, e + i.drawRange.count * h, l + (null !== a ? a.count * h : 1 / 0)) - 1 - p + 1))) {
                        if (r.isMesh) if (!0 === n.wireframe) pt.setLineWidth(n.wireframeLinewidth * (null === k ? Z : 1)), t.setMode(O.LINES); else switch (r.drawMode) {
                            case 0:
                                t.setMode(O.TRIANGLES);
                                break;
                            case 1:
                                t.setMode(O.TRIANGLE_STRIP);
                                break;
                            case 2:
                                t.setMode(O.TRIANGLE_FAN)
                        } else r.isLine ? (void 0 === (n = n.linewidth) && (n = 1), pt.setLineWidth(n * (null === k ? Z : 1)), r.isLineSegments ? t.setMode(O.LINES) : t.setMode(O.LINE_STRIP)) : r.isPoints && t.setMode(O.POINTS);
                        i && i.isInstancedBufferGeometry ? 0 < i.maxInstancedCount && t.renderInstances(i, p, a) : t.render(p, a)
                    }
                }, this.render = function (t, e, i, n) {
                    if (void 0 !== e && !0 !== e.isCamera) ; else {
                        W = "", V = -1, !(H = null) === t.autoUpdate && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), rt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), $.setFromMatrix(rt), R.length = 0, U = D = -1, F.length = 0, B.length = 0, it = this.localClippingEnabled, et = tt.init(this.clippingPlanes, it, e), function t(e, i) {
                            if (!1 !== e.visible) {
                                if (0 != (e.layers.mask & i.layers.mask)) if (e.isLight) R.push(e); else if (e.isSprite) {
                                    var n;
                                    (n = !1 === e.frustumCulled) || (nt.center.set(0, 0, 0), nt.radius = .7071067811865476, nt.applyMatrix4(e.matrixWorld), n = !0 === A(nt)), n && F.push(e)
                                } else if (e.isLensFlare) B.push(e); else if (e.isImmediateRenderObject) !0 === G.sortObjects && (at.setFromMatrixPosition(e.matrixWorld), at.applyMatrix4(rt)), T(e, null, e.material, at.z, null); else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.update(), (n = !1 === e.frustumCulled) || (null === (n = e.geometry).boundingSphere && n.computeBoundingSphere(), nt.copy(n.boundingSphere).applyMatrix4(e.matrixWorld), n = !0 === A(nt)), n) && !0 === (o = e.material).visible) if (!0 === G.sortObjects && (at.setFromMatrixPosition(e.matrixWorld), at.applyMatrix4(rt)), n = mt.update(e), o.isMultiMaterial) for (var r = n.groups, a = o.materials, o = 0, s = r.length; o < s; o++) {
                                    var h = r[o], l = a[h.materialIndex];
                                    !0 === l.visible && T(e, n, l, at.z, h)
                                } else T(e, n, o, at.z, null);
                                for (o = 0, s = (n = e.children).length; o < s; o++) t(n[o], i)
                            }
                        }(t, e), I.length = D + 1, N.length = U + 1, !0 === G.sortObjects && (I.sort(w), N.sort(S)), et && tt.beginShadows();
                        for (var r = 0, a = 0, o = (p = R).length; a < o; a++) {
                            var s = p[a];
                            s.castShadow && (ht.shadows[r++] = s)
                        }
                        ht.shadows.length = r, St.render(t, e);
                        var h, l, c, u, p = R, d = s = 0, f = 0, m = e.matrixWorldInverse, g = 0, v = 0, y = 0, x = 0,
                            _ = 0;
                        for (r = 0, a = p.length; r < a; r++) if (h = (o = p[r]).color, l = o.intensity, c = o.distance, u = o.shadow && o.shadow.map ? o.shadow.map.texture : null, o.isAmbientLight) s += h.r * l, d += h.g * l, f += h.b * l; else if (o.isDirectionalLight) {
                            var M = vt.get(o);
                            M.color.copy(o.color).multiplyScalar(o.intensity), M.direction.setFromMatrixPosition(o.matrixWorld), at.setFromMatrixPosition(o.target.matrixWorld), M.direction.sub(at), M.direction.transformDirection(m), (M.shadow = o.castShadow) && (M.shadowBias = o.shadow.bias, M.shadowRadius = o.shadow.radius, M.shadowMapSize = o.shadow.mapSize), ht.directionalShadowMap[g] = u, ht.directionalShadowMatrix[g] = o.shadow.matrix, ht.directional[g++] = M
                        } else o.isSpotLight ? ((M = vt.get(o)).position.setFromMatrixPosition(o.matrixWorld), M.position.applyMatrix4(m), M.color.copy(h).multiplyScalar(l), M.distance = c, M.direction.setFromMatrixPosition(o.matrixWorld), at.setFromMatrixPosition(o.target.matrixWorld), M.direction.sub(at), M.direction.transformDirection(m), M.coneCos = Math.cos(o.angle), M.penumbraCos = Math.cos(o.angle * (1 - o.penumbra)), M.decay = 0 === o.distance ? 0 : o.decay, (M.shadow = o.castShadow) && (M.shadowBias = o.shadow.bias, M.shadowRadius = o.shadow.radius, M.shadowMapSize = o.shadow.mapSize), ht.spotShadowMap[y] = u, ht.spotShadowMatrix[y] = o.shadow.matrix, ht.spot[y++] = M) : o.isRectAreaLight ? ((M = vt.get(o)).color.copy(h).multiplyScalar(l / (o.width * o.height)), M.position.setFromMatrixPosition(o.matrixWorld), M.position.applyMatrix4(m), st.identity(), ot.copy(o.matrixWorld), ot.premultiply(m), st.extractRotation(ot), M.halfWidth.set(.5 * o.width, 0, 0), M.halfHeight.set(0, .5 * o.height, 0), M.halfWidth.applyMatrix4(st), M.halfHeight.applyMatrix4(st), ht.rectArea[x++] = M) : o.isPointLight ? ((M = vt.get(o)).position.setFromMatrixPosition(o.matrixWorld), M.position.applyMatrix4(m), M.color.copy(o.color).multiplyScalar(o.intensity), M.distance = o.distance, M.decay = 0 === o.distance ? 0 : o.decay, (M.shadow = o.castShadow) && (M.shadowBias = o.shadow.bias, M.shadowRadius = o.shadow.radius, M.shadowMapSize = o.shadow.mapSize), ht.pointShadowMap[v] = u, void 0 === ht.pointShadowMatrix[v] && (ht.pointShadowMatrix[v] = new It), at.setFromMatrixPosition(o.matrixWorld).negate(), ht.pointShadowMatrix[v].identity().setPosition(at), ht.point[v++] = M) : o.isHemisphereLight && ((M = vt.get(o)).direction.setFromMatrixPosition(o.matrixWorld), M.direction.transformDirection(m), M.direction.normalize(), M.skyColor.copy(o.color).multiplyScalar(l), M.groundColor.copy(o.groundColor).multiplyScalar(l), ht.hemi[_++] = M);
                        ht.ambient[0] = s, ht.ambient[1] = d, ht.ambient[2] = f, ht.directional.length = g, ht.spot.length = y, ht.rectArea.length = x, ht.point.length = v, ht.hemi.length = _, ht.hash = g + "," + v + "," + y + "," + x + "," + _ + "," + ht.shadows.length, et && tt.endShadows(), lt.calls = 0, lt.vertices = 0, lt.faces = 0, void (lt.points = 0) === i && (i = null), this.setRenderTarget(i), null === (p = t.background) ? pt.buffers.color.setClear(j.r, j.g, j.b, Y, C) : p && p.isColor && (pt.buffers.color.setClear(p.r, p.g, p.b, 1, C), n = !0), (this.autoClear || n) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), p && p.isCubeTexture ? (void 0 === _t && (_t = new jt, Mt = new Wt(new Ht(5, 5, 5), new Ft({
                            uniforms: Gr.cube.uniforms,
                            vertexShader: Gr.cube.vertexShader,
                            fragmentShader: Gr.cube.fragmentShader,
                            side: 1,
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        }))), _t.projectionMatrix.copy(e.projectionMatrix), _t.matrixWorld.extractRotation(e.matrixWorld), _t.matrixWorldInverse.getInverse(_t.matrixWorld), Mt.material.uniforms.tCube.value = p, Mt.modelViewMatrix.multiplyMatrices(_t.matrixWorldInverse, Mt.matrixWorld), mt.update(Mt), G.renderBufferDirect(_t, null, Mt.geometry, Mt.material, Mt, null)) : p && p.isTexture && (void 0 === yt && (yt = new Yt(-1, 1, 1, -1, 0, 1), xt = new Wt(new Xt(2, 2), new kt({
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        }))), xt.material.map = p, mt.update(xt), G.renderBufferDirect(yt, null, xt.geometry, xt.material, xt, null)), t.overrideMaterial ? (n = t.overrideMaterial, E(I, t, e, n), E(N, t, e, n)) : (pt.setBlending(0), E(I, t, e), E(N, t, e)), Lt.render(t, e), Pt.render(t, e, X), i && ft.updateRenderTargetMipmap(i), pt.setDepthTest(!0), pt.setDepthWrite(!0), pt.setColorWrite(!0)
                    }
                }, this.setFaceCulling = function (t, e) {
                    pt.setCullFace(t), pt.setFlipSided(0 === e)
                }, this.allocTextureUnit = function () {
                    var t = _;
                    return t >= ut.maxTextures && ut.maxTextures, _ += 1, t
                }, this.setTexture2D = (Tt = !1, function (t, e) {
                    t && t.isWebGLRenderTarget && (Tt || (Tt = !0), t = t.texture), ft.setTexture2D(t, e)
                }), this.setTexture = (At = !1, function (t, e) {
                    At || (At = !0), ft.setTexture2D(t, e)
                }), this.setTextureCube = (Et = !1, function (t, e) {
                    t && t.isWebGLRenderTargetCube && (Et || (Et = !0), t = t.texture), t && t.isCubeTexture || Array.isArray(t.image) && 6 === t.image.length ? ft.setTextureCube(t, e) : ft.setTextureCubeDynamic(t, e)
                }), this.getCurrentRenderTarget = function () {
                    return k
                }, this.setRenderTarget = function (t) {
                    (k = t) && void 0 === dt.get(t).__webglFramebuffer && ft.setupRenderTarget(t);
                    var e, i = t && t.isWebGLRenderTargetCube;
                    t ? (e = dt.get(t), e = i ? e.__webglFramebuffer[t.activeCubeFace] : e.__webglFramebuffer, y.copy(t.scissor), x = t.scissorTest, X.copy(t.viewport)) : (e = null, y.copy(J).multiplyScalar(Z), x = Q, X.copy(K).multiplyScalar(Z)), v !== e && (O.bindFramebuffer(O.FRAMEBUFFER, e), v = e), pt.scissor(y), pt.setScissorTest(x), pt.viewport(X), i && (i = dt.get(t.texture), O.framebufferTexture2D(O.FRAMEBUFFER, O.COLOR_ATTACHMENT0, O.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, i.__webglTexture, t.activeMipMapLevel))
                }, this.readRenderTargetPixels = function (t, e, i, n, r, a) {
                    if (!1 === (t && t.isWebGLRenderTarget)) ; else {
                        var o = dt.get(t).__webglFramebuffer;
                        if (o) {
                            var s = !1;
                            o !== v && (O.bindFramebuffer(O.FRAMEBUFFER, o), s = !0);
                            try {
                                var h = t.texture, l = h.format, c = h.type;
                                1023 !== l && u(l) !== O.getParameter(O.IMPLEMENTATION_COLOR_READ_FORMAT) || (1009 === c || u(c) === O.getParameter(O.IMPLEMENTATION_COLOR_READ_TYPE) || 1015 === c && (ct.get("OES_texture_float") || ct.get("WEBGL_color_buffer_float")) || 1016 === c && ct.get("EXT_color_buffer_half_float")) && O.checkFramebufferStatus(O.FRAMEBUFFER) === O.FRAMEBUFFER_COMPLETE && 0 <= e && e <= t.width - n && 0 <= i && i <= t.height - r && O.readPixels(e, i, n, r, u(l), u(c), a)
                            } finally {
                                s && O.bindFramebuffer(O.FRAMEBUFFER, v)
                            }
                        }
                    }
                }
            }

            function wt(t, e) {
                this.name = "", this.color = new Nt(t), this.density = void 0 !== e ? e : 25e-5
            }

            function bt(t, e, i) {
                this.name = "", this.color = new Nt(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3
            }

            function St() {
                j.call(this), this.type = "Scene", this.overrideMaterial = this.fog = this.background = null, this.autoUpdate = !0
            }

            function Tt(t, e, i, n, r) {
                j.call(this), this.lensFlares = [], this.positionScreen = new Rt, (this.customUpdateCallback = void 0) !== t && this.add(t, e, i, n, r)
            }

            function At(t) {
                N.call(this), this.type = "SpriteMaterial", this.color = new Nt(16777215), this.map = null, this.rotation = 0, this.lights = this.fog = !1, this.setValues(t)
            }

            function Et(t) {
                j.call(this), this.type = "Sprite", this.material = void 0 !== t ? t : new At
            }

            function Lt() {
                j.call(this), this.type = "LOD", (0, Us.default)(this, {levels: {enumerable: !0, value: []}})
            }

            function Pt(t, e, i) {
                if (this.useVertexTexture = void 0 === i || i, this.identityMatrix = new It, t = t || [], this.bones = t.slice(0), this.useVertexTexture ? (t = Math.sqrt(4 * this.bones.length), t = hr.nextPowerOfTwo(Math.ceil(t)), this.boneTextureHeight = this.boneTextureWidth = t = Math.max(t, 4), this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new D(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, 1023, 1015)) : this.boneMatrices = new Float32Array(16 * this.bones.length), void 0 === e) this.calculateInverses(); else if (this.bones.length === e.length) this.boneInverses = e.slice(0); else for (this.boneInverses = [], e = 0, t = this.bones.length; e < t; e++) this.boneInverses.push(new It)
            }

            function ae() {
                j.call(this), this.type = "Bone"
            }

            function oe(t, e, i) {
                if (Wt.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new It, this.bindMatrixInverse = new It, t = [], this.geometry && void 0 !== this.geometry.bones) {
                    for (var n, r = 0, a = this.geometry.bones.length; r < a; ++r) n = this.geometry.bones[r], e = new ae, t.push(e), e.name = n.name, e.position.fromArray(n.pos), e.quaternion.fromArray(n.rotq), void 0 !== n.scl && e.scale.fromArray(n.scl);
                    for (r = 0, a = this.geometry.bones.length; r < a; ++r) -1 !== (n = this.geometry.bones[r]).parent && null !== n.parent && void 0 !== t[n.parent] ? t[n.parent].add(t[r]) : this.add(t[r])
                }
                this.normalizeSkinWeights(), this.updateMatrixWorld(!0), this.bind(new Pt(t, void 0, i), this.matrixWorld)
            }

            function se(t) {
                N.call(this), this.type = "LineBasicMaterial", this.color = new Nt(16777215), this.linewidth = 1, this.linejoin = this.linecap = "round", this.lights = !1, this.setValues(t)
            }

            function he(t, e, i) {
                if (1 === i) return new le(t, e);
                j.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new Vt, this.material = void 0 !== e ? e : new se({color: 16777215 * Math.random()})
            }

            function le(t, e) {
                he.call(this, t, e), this.type = "LineSegments"
            }

            function ce(t) {
                N.call(this), this.type = "PointsMaterial", this.color = new Nt(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.lights = !1, this.setValues(t)
            }

            function ue(t, e) {
                j.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new Vt, this.material = void 0 !== e ? e : new ce({color: 16777215 * Math.random()})
            }

            function pe() {
                j.call(this), this.type = "Group"
            }

            function de(e, t, i, n, r, a, o, s, h) {
                B.call(this, e, t, i, n, r, a, o, s, h), this.generateMipmaps = !1;
                var l = this;
                !function t() {
                    requestAnimationFrame(t), e.readyState >= e.HAVE_CURRENT_DATA && (l.needsUpdate = !0)
                }()
            }

            function fe(t, e, i, n, r, a, o, s, h, l, c, u) {
                B.call(this, null, a, o, s, h, l, n, r, c, u), this.image = {
                    width: e,
                    height: i
                }, this.mipmaps = t, this.generateMipmaps = this.flipY = !1
            }

            function me(t, e, i, n, r, a, o, s, h) {
                B.call(this, t, e, i, n, r, a, o, s, h), this.needsUpdate = !0
            }

            function ge(t, e, i, n, r, a, o, s, h, l) {
                if (1026 !== (l = void 0 !== l ? l : 1026) && 1027 !== l) throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
                void 0 === i && 1026 === l && (i = 1012), void 0 === i && 1027 === l && (i = 1020), B.call(this, null, n, r, a, o, s, l, i, h), this.image = {
                    width: t,
                    height: e
                }, this.magFilter = void 0 !== o ? o : 1003, this.minFilter = void 0 !== s ? s : 1003, this.generateMipmaps = this.flipY = !1
            }

            function ve(t) {
                function e(t, e) {
                    return t - e
                }

                Vt.call(this), this.type = "WireframeGeometry";
                var i, n, r, a, o, s = [], h = [0, 0], l = {}, c = ["a", "b", "c"];
                if (t && t.isGeometry) {
                    var u = t.faces;
                    for (i = 0, r = u.length; i < r; i++) {
                        var p = u[i];
                        for (n = 0; n < 3; n++) h[0] = p[c[n]], h[1] = p[c[(n + 1) % 3]], h.sort(e), void 0 === l[o = h.toString()] && (l[o] = {
                            index1: h[0],
                            index2: h[1]
                        })
                    }
                    for (o in l) i = l[o], c = t.vertices[i.index1], s.push(c.x, c.y, c.z), c = t.vertices[i.index2], s.push(c.x, c.y, c.z)
                } else if (t && t.isBufferGeometry) {
                    var d;
                    c = new Rt;
                    if (null !== t.index) {
                        for (u = t.attributes.position, p = t.index, 0 === (d = t.groups).length && t.addGroup(0, p.count), t = 0, a = d.length; t < a; ++t) for (n = (i = d[t]).start, r = i.count, r = (i = n) + r; i < r; i += 3) for (n = 0; n < 3; n++) h[0] = p.getX(i + n), h[1] = p.getX(i + (n + 1) % 3), h.sort(e), void 0 === l[o = h.toString()] && (l[o] = {
                            index1: h[0],
                            index2: h[1]
                        });
                        for (o in l) i = l[o], c.fromBufferAttribute(u, i.index1), s.push(c.x, c.y, c.z), c.fromBufferAttribute(u, i.index2), s.push(c.x, c.y, c.z)
                    } else for (i = 0, r = (u = t.attributes.position).count / 3; i < r; i++) for (n = 0; n < 3; n++) l = 3 * i + n, c.fromBufferAttribute(u, l), s.push(c.x, c.y, c.z), l = 3 * i + (n + 1) % 3, c.fromBufferAttribute(u, l), s.push(c.x, c.y, c.z)
                }
                this.addAttribute("position", new rt(s, 3))
            }

            function ye(t, e, i) {
                ht.call(this), this.type = "ParametricGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                }, this.fromBufferGeometry(new xe(t, e, i)), this.mergeVertices()
            }

            function xe(t, e, i) {
                Vt.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                };
                var n, r, a = [], o = [], s = [], h = e + 1;
                for (n = 0; n <= i; n++) {
                    var l = n / i;
                    for (r = 0; r <= e; r++) {
                        var c = r / e, u = t(c, l);
                        o.push(u.x, u.y, u.z), s.push(c, l)
                    }
                }
                for (n = 0; n < i; n++) for (r = 0; r < e; r++) t = n * h + r + 1, l = (n + 1) * h + r + 1, c = (n + 1) * h + r, a.push(n * h + r, t, c), a.push(t, l, c);
                this.setIndex(a), this.addAttribute("position", new rt(o, 3)), this.addAttribute("uv", new rt(s, 2)), this.computeVertexNormals()
            }

            function _e(t, e, i, n) {
                ht.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                    vertices: t,
                    indices: e,
                    radius: i,
                    detail: n
                }, this.fromBufferGeometry(new Me(t, e, i, n)), this.mergeVertices()
            }

            function Me(n, m, t, e) {
                function g(t) {
                    u.push(t.x, t.y, t.z)
                }

                function v(t, e) {
                    var i = 3 * t;
                    e.x = n[i + 0], e.y = n[i + 1], e.z = n[i + 2]
                }

                function c(t, e, i, n) {
                    n < 0 && 1 === t.x && (p[e] = t.x - 1), 0 === i.x && 0 === i.z && (p[e] = n / 2 / Math.PI + .5)
                }

                Vt.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
                    vertices: n,
                    indices: m,
                    radius: t,
                    detail: e
                }, t = t || 1;
                var u = [], p = [];
                !function (t) {
                    for (var e = new Rt, i = new Rt, n = new Rt, r = 0; r < m.length; r += 3) {
                        v(m[r + 0], e), v(m[r + 1], i), v(m[r + 2], n);
                        var a, o, s = e, h = i, l = n, c = Math.pow(2, t), u = [];
                        for (a = 0; a <= c; a++) {
                            u[a] = [];
                            var p = s.clone().lerp(l, a / c), d = h.clone().lerp(l, a / c), f = c - a;
                            for (o = 0; o <= f; o++) u[a][o] = 0 === o && a === c ? p : p.clone().lerp(d, o / f)
                        }
                        for (a = 0; a < c; a++) for (o = 0; o < 2 * (c - a) - 1; o++) s = Math.floor(o / 2), 0 == o % 2 ? (g(u[a][s + 1]), g(u[a + 1][s]), g(u[a][s])) : (g(u[a][s + 1]), g(u[a + 1][s + 1]), g(u[a + 1][s]))
                    }
                }(e || 0), function (t) {
                    for (var e = new Rt, i = 0; i < u.length; i += 3) e.x = u[i + 0], e.y = u[i + 1], e.z = u[i + 2], e.normalize().multiplyScalar(t), u[i + 0] = e.x, u[i + 1] = e.y, u[i + 2] = e.z
                }(t), function () {
                    for (var t = new Rt, e = 0; e < u.length; e += 3) t.x = u[e + 0], t.y = u[e + 1], t.z = u[e + 2], p.push(Math.atan2(t.z, -t.x) / 2 / Math.PI + .5, 1 - (Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z)) / Math.PI + .5));
                    t = new Rt, e = new Rt;
                    for (var i = new Rt, n = new Rt, r = new V, a = new V, o = new V, s = 0, h = 0; s < u.length; s += 9, h += 6) {
                        t.set(u[s + 0], u[s + 1], u[s + 2]), e.set(u[s + 3], u[s + 4], u[s + 5]), i.set(u[s + 6], u[s + 7], u[s + 8]), r.set(p[h + 0], p[h + 1]), a.set(p[h + 2], p[h + 3]), o.set(p[h + 4], p[h + 5]), n.copy(t).add(e).add(i).divideScalar(3);
                        var l = Math.atan2(n.z, -n.x);
                        c(r, h + 0, t, l), c(a, h + 2, e, l), c(o, h + 4, i, l)
                    }
                    for (t = 0; t < p.length; t += 6) e = p[t + 0], i = p[t + 2], n = p[t + 4], r = Math.min(e, i, n), .9 < Math.max(e, i, n) && r < .1 && (e < .2 && (p[t + 0] += 1), i < .2 && (p[t + 2] += 1), n < .2 && (p[t + 4] += 1))
                }(), this.addAttribute("position", new rt(u, 3)), this.addAttribute("normal", new rt(u.slice(), 3)), this.addAttribute("uv", new rt(p, 2)), this.normalizeNormals()
            }

            function we(t, e) {
                ht.call(this), this.type = "TetrahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new be(t, e)), this.mergeVertices()
            }

            function be(t, e) {
                Me.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], t, e), this.type = "TetrahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Se(t, e) {
                ht.call(this), this.type = "OctahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Te(t, e)), this.mergeVertices()
            }

            function Te(t, e) {
                Me.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], t, e), this.type = "OctahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Ae(t, e) {
                ht.call(this), this.type = "IcosahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Ee(t, e)), this.mergeVertices()
            }

            function Ee(t, e) {
                var i = (1 + Math.sqrt(5)) / 2;
                Me.call(this, [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1], [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], t, e), this.type = "IcosahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Le(t, e) {
                ht.call(this), this.type = "DodecahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Pe(t, e)), this.mergeVertices()
            }

            function Pe(t, e) {
                var i = (1 + Math.sqrt(5)) / 2, n = 1 / i;
                Me.call(this, [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, 0, -i, 0, -n, i, 0, -n, -i, 0, n, i, 0, n], [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], t, e), this.type = "DodecahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Ce(t, e, i, n, r, a) {
                ht.call(this), this.type = "TubeGeometry", this.parameters = {
                    path: t,
                    tubularSegments: e,
                    radius: i,
                    radialSegments: n,
                    closed: r
                }, t = new Re(t, e, i, n, r), this.tangents = t.tangents, this.normals = t.normals, this.binormals = t.binormals, this.fromBufferGeometry(t), this.mergeVertices()
            }

            function Re(a, o, s, h, t) {
                function e(t) {
                    var e = a.getPointAt(t / o), i = l.normals[t];
                    for (t = l.binormals[t], c = 0; c <= h; c++) {
                        var n = c / h * Math.PI * 2, r = Math.sin(n);
                        n = -Math.cos(n);
                        p.x = n * i.x + r * t.x, p.y = n * i.y + r * t.y, p.z = n * i.z + r * t.z, p.normalize(), f.push(p.x, p.y, p.z), u.x = e.x + s * p.x, u.y = e.y + s * p.y, u.z = e.z + s * p.z, d.push(u.x, u.y, u.z)
                    }
                }

                Vt.call(this), this.type = "TubeBufferGeometry", this.parameters = {
                    path: a,
                    tubularSegments: o,
                    radius: s,
                    radialSegments: h,
                    closed: t
                }, o = o || 64, s = s || 1, h = h || 8, t = t || !1;
                var l = a.computeFrenetFrames(o, t);
                this.tangents = l.tangents, this.normals = l.normals, this.binormals = l.binormals;
                var n, c, u = new Rt, p = new Rt, i = new V, d = [], f = [], r = [], m = [];
                for (n = 0; n < o; n++) e(n);
                for (e(!1 === t ? o : 0), n = 0; n <= o; n++) for (c = 0; c <= h; c++) i.x = n / o, i.y = c / h, r.push(i.x, i.y);
                !function () {
                    for (c = 1; c <= o; c++) for (n = 1; n <= h; n++) {
                        var t = (h + 1) * c + (n - 1), e = (h + 1) * c + n, i = (h + 1) * (c - 1) + n;
                        m.push((h + 1) * (c - 1) + (n - 1), t, i), m.push(t, e, i)
                    }
                }(), this.setIndex(m), this.addAttribute("position", new rt(d, 3)), this.addAttribute("normal", new rt(f, 3)), this.addAttribute("uv", new rt(r, 2))
            }

            function Ie(t, e, i, n, r, a, o) {
                ht.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: r,
                    q: a
                }, this.fromBufferGeometry(new De(t, e, i, n, r, a)), this.mergeVertices()
            }

            function De(t, e, i, n, r, a) {
                function o(t, e, i, n, r) {
                    var a = Math.sin(t);
                    e = i / e * t, i = Math.cos(e), r.x = n * (2 + i) * .5 * Math.cos(t), r.y = n * (2 + i) * a * .5, r.z = n * Math.sin(e) * .5
                }

                Vt.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: r,
                    q: a
                }, t = t || 100, e = e || 40, i = Math.floor(i) || 64, n = Math.floor(n) || 8, r = r || 2, a = a || 3;
                var s, h, l = [], c = [], u = [], p = [], d = new Rt, f = new Rt;
                new V;
                var m = new Rt, g = new Rt, v = new Rt, y = new Rt, x = new Rt;
                for (s = 0; s <= i; ++s) for (o(h = s / i * r * Math.PI * 2, r, a, t, m), o(h + .01, r, a, t, g), y.subVectors(g, m), x.addVectors(g, m), v.crossVectors(y, x), x.crossVectors(v, y), v.normalize(), x.normalize(), h = 0; h <= n; ++h) {
                    var _ = h / n * Math.PI * 2, M = -e * Math.cos(_);
                    _ = e * Math.sin(_);
                    d.x = m.x + (M * x.x + _ * v.x), d.y = m.y + (M * x.y + _ * v.y), d.z = m.z + (M * x.z + _ * v.z), c.push(d.x, d.y, d.z), f.subVectors(d, m).normalize(), u.push(f.x, f.y, f.z), p.push(s / i), p.push(h / n)
                }
                for (h = 1; h <= i; h++) for (s = 1; s <= n; s++) t = (n + 1) * h + (s - 1), e = (n + 1) * h + s, r = (n + 1) * (h - 1) + s, l.push((n + 1) * (h - 1) + (s - 1), t, r), l.push(t, e, r);
                this.setIndex(l), this.addAttribute("position", new rt(c, 3)), this.addAttribute("normal", new rt(u, 3)), this.addAttribute("uv", new rt(p, 2))
            }

            function Ne(t, e, i, n, r) {
                ht.call(this), this.type = "TorusGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: r
                }, this.fromBufferGeometry(new Ue(t, e, i, n, r))
            }

            function Ue(t, e, i, n, r) {
                Vt.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: r
                }, t = t || 100, e = e || 40, i = Math.floor(i) || 8, n = Math.floor(n) || 6, r = r || 2 * Math.PI;
                var a, o, s = [], h = [], l = [], c = [], u = new Rt, p = new Rt, d = new Rt;
                for (a = 0; a <= i; a++) for (o = 0; o <= n; o++) {
                    var f = o / n * r, m = a / i * Math.PI * 2;
                    p.x = (t + e * Math.cos(m)) * Math.cos(f), p.y = (t + e * Math.cos(m)) * Math.sin(f), p.z = e * Math.sin(m), h.push(p.x, p.y, p.z), u.x = t * Math.cos(f), u.y = t * Math.sin(f), d.subVectors(p, u).normalize(), l.push(d.x, d.y, d.z), c.push(o / n), c.push(a / i)
                }
                for (a = 1; a <= i; a++) for (o = 1; o <= n; o++) t = (n + 1) * (a - 1) + o - 1, e = (n + 1) * (a - 1) + o, r = (n + 1) * a + o, s.push((n + 1) * a + o - 1, t, r), s.push(t, e, r);
                this.setIndex(s), this.addAttribute("position", new rt(h, 3)), this.addAttribute("normal", new rt(l, 3)), this.addAttribute("uv", new rt(c, 2))
            }

            function ze(t, e) {
                void 0 !== t && (ht.call(this), this.type = "ExtrudeGeometry", t = Array.isArray(t) ? t : [t], this.addShapeList(t, e), this.computeFaceNormals())
            }

            function Fe(t, e) {
                var i = (e = e || {}).font;
                if (!1 === (i && i.isFont)) return new ht;
                i = i.generateShapes(t, e.size, e.curveSegments), e.amount = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), ze.call(this, i, e), this.type = "TextGeometry"
            }

            function Be(t, e, i, n, r, a, o) {
                ht.call(this), this.type = "SphereGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: r,
                    thetaStart: a,
                    thetaLength: o
                }, this.fromBufferGeometry(new Oe(t, e, i, n, r, a, o))
            }

            function Oe(t, e, i, n, r, a, o) {
                Vt.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: r,
                    thetaStart: a,
                    thetaLength: o
                }, t = t || 50, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 2 * Math.PI;
                var s, h, l = (a = void 0 !== a ? a : 0) + (o = void 0 !== o ? o : Math.PI), c = 0, u = [], p = new Rt,
                    d = new Rt, f = [], m = [], g = [], v = [];
                for (h = 0; h <= i; h++) {
                    var y = [], x = h / i;
                    for (s = 0; s <= e; s++) {
                        var _ = s / e;
                        p.x = -t * Math.cos(n + _ * r) * Math.sin(a + x * o), p.y = t * Math.cos(a + x * o), p.z = t * Math.sin(n + _ * r) * Math.sin(a + x * o), m.push(p.x, p.y, p.z), d.set(p.x, p.y, p.z).normalize(), g.push(d.x, d.y, d.z), v.push(_, 1 - x), y.push(c++)
                    }
                    u.push(y)
                }
                for (h = 0; h < i; h++) for (s = 0; s < e; s++) t = u[h][s + 1], n = u[h][s], r = u[h + 1][s], o = u[h + 1][s + 1], (0 !== h || 0 < a) && f.push(t, n, o), (h !== i - 1 || l < Math.PI) && f.push(n, r, o);
                this.setIndex(f), this.addAttribute("position", new rt(m, 3)), this.addAttribute("normal", new rt(g, 3)), this.addAttribute("uv", new rt(v, 2))
            }

            function Ge(t, e, i, n, r, a) {
                ht.call(this), this.type = "RingGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: i,
                    phiSegments: n,
                    thetaStart: r,
                    thetaLength: a
                }, this.fromBufferGeometry(new ke(t, e, i, n, r, a))
            }

            function ke(t, e, i, n, r, a) {
                Vt.call(this), this.type = "RingBufferGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: i,
                    phiSegments: n,
                    thetaStart: r,
                    thetaLength: a
                }, t = t || 20, e = e || 50, r = void 0 !== r ? r : 0, a = void 0 !== a ? a : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8;
                var o, s, h = [], l = [], c = [], u = [], p = t, d = (e - t) / (n = void 0 !== n ? Math.max(1, n) : 1),
                    f = new Rt, m = new V;
                for (o = 0; o <= n; o++) {
                    for (s = 0; s <= i; s++) t = r + s / i * a, f.x = p * Math.cos(t), f.y = p * Math.sin(t), l.push(f.x, f.y, f.z), c.push(0, 0, 1), m.x = (f.x / e + 1) / 2, m.y = (f.y / e + 1) / 2, u.push(m.x, m.y);
                    p += d
                }
                for (o = 0; o < n; o++) for (e = o * (i + 1), s = 0; s < i; s++) r = (t = s + e) + i + 1, a = t + i + 2, p = t + 1, h.push(t, r, p), h.push(r, a, p);
                this.setIndex(h), this.addAttribute("position", new rt(l, 3)), this.addAttribute("normal", new rt(c, 3)), this.addAttribute("uv", new rt(u, 2))
            }

            function Ve(t, e, i, n) {
                ht.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: n
                }, this.fromBufferGeometry(new We(t, e, i, n)), this.mergeVertices()
            }

            function We(t, e, i, n) {
                Vt.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: n
                }, e = Math.floor(e) || 12, i = i || 0, n = n || 2 * Math.PI, n = hr.clamp(n, 0, 2 * Math.PI);
                var r, a, o = [], s = [], h = [], l = 1 / e, c = new Rt, u = new V;
                for (r = 0; r <= e; r++) {
                    a = i + r * l * n;
                    var p = Math.sin(a), d = Math.cos(a);
                    for (a = 0; a <= t.length - 1; a++) c.x = t[a].x * p, c.y = t[a].y, c.z = t[a].x * d, s.push(c.x, c.y, c.z), u.x = r / e, u.y = a / (t.length - 1), h.push(u.x, u.y)
                }
                for (r = 0; r < e; r++) for (a = 0; a < t.length - 1; a++) l = (i = a + r * t.length) + t.length, c = i + t.length + 1, u = i + 1, o.push(i, l, u), o.push(l, c, u);
                if (this.setIndex(o), this.addAttribute("position", new rt(s, 3)), this.addAttribute("uv", new rt(h, 2)), this.computeVertexNormals(), n === 2 * Math.PI) for (n = this.attributes.normal.array, o = new Rt, s = new Rt, h = new Rt, i = e * t.length * 3, a = r = 0; r < t.length; r++, a += 3) o.x = n[a + 0], o.y = n[a + 1], o.z = n[a + 2], s.x = n[i + a + 0], s.y = n[i + a + 1], s.z = n[i + a + 2], h.addVectors(o, s).normalize(), n[a + 0] = n[i + a + 0] = h.x, n[a + 1] = n[i + a + 1] = h.y, n[a + 2] = n[i + a + 2] = h.z
            }

            function He(t, e) {
                ht.call(this), this.type = "ShapeGeometry", "object" === (void 0 === e ? "undefined" : (0, zs.default)(e)) && (e = e.curveSegments), this.parameters = {
                    shapes: t,
                    curveSegments: e
                }, this.fromBufferGeometry(new Xe(t, e)), this.mergeVertices()
            }

            function Xe(t, s) {
                function e(t) {
                    var e, i, n = l.length / 3, r = (t = t.extractPoints(s)).shape, a = t.holes;
                    if (!1 === So.isClockWise(r)) for (r = r.reverse(), t = 0, e = a.length; t < e; t++) i = a[t], !0 === So.isClockWise(i) && (a[t] = i.reverse());
                    var o = So.triangulateShape(r, a);
                    for (t = 0, e = a.length; t < e; t++) i = a[t], r = r.concat(i);
                    for (t = 0, e = r.length; t < e; t++) i = r[t], l.push(i.x, i.y, 0), c.push(0, 0, 1), u.push(i.x, i.y);
                    for (t = 0, e = o.length; t < e; t++) r = o[t], h.push(r[0] + n, r[1] + n, r[2] + n), p += 3
                }

                Vt.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
                    shapes: t,
                    curveSegments: s
                }, s = s || 12;
                var h = [], l = [], c = [], u = [], i = 0, p = 0;
                if (!1 === Array.isArray(t)) e(t); else for (var n = 0; n < t.length; n++) e(t[n]), this.addGroup(i, p, n), i += p, p = 0;
                this.setIndex(h), this.addAttribute("position", new rt(l, 3)), this.addAttribute("normal", new rt(c, 3)), this.addAttribute("uv", new rt(u, 2))
            }

            function je(t, e) {
                function i(t, e) {
                    return t - e
                }

                Vt.call(this), this.type = "EdgesGeometry", this.parameters = {thresholdAngle: e};
                var n, r, a = [], o = Math.cos(hr.DEG2RAD * (void 0 !== e ? e : 1)), s = [0, 0], h = {},
                    l = ["a", "b", "c"];
                t.isBufferGeometry ? (r = new ht).fromBufferGeometry(t) : r = t.clone(), r.mergeVertices(), r.computeFaceNormals();
                for (var c = r.vertices, u = 0, p = (r = r.faces).length; u < p; u++) for (var d = r[u], f = 0; f < 3; f++) s[0] = d[l[f]], s[1] = d[l[(f + 1) % 3]], s.sort(i), void 0 === h[n = s.toString()] ? h[n] = {
                    index1: s[0],
                    index2: s[1],
                    face1: u,
                    face2: void 0
                } : h[n].face2 = u;
                for (n in h) (void 0 === (s = h[n]).face2 || r[s.face1].normal.dot(r[s.face2].normal) <= o) && (l = c[s.index1], a.push(l.x, l.y, l.z), l = c[s.index2], a.push(l.x, l.y, l.z));
                this.addAttribute("position", new rt(a, 3))
            }

            function Ye(t, e, i, n, r, a, o, s) {
                ht.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: n,
                    heightSegments: r,
                    openEnded: a,
                    thetaStart: o,
                    thetaLength: s
                }, this.fromBufferGeometry(new qe(t, e, i, n, r, a, o, s)), this.mergeVertices()
            }

            function qe(p, d, f, m, g, t, v, y) {
                function e(t) {
                    var e, i, n, r = new V, a = new Rt, o = 0, s = !0 === t ? p : d, h = !0 === t ? 1 : -1;
                    for (i = S, e = 1; e <= m; e++) M.push(0, A * h, 0), w.push(0, h, 0), b.push(.5, .5), S++;
                    for (n = S, e = 0; e <= m; e++) {
                        var l = e / m * y + v, c = Math.cos(l);
                        l = Math.sin(l);
                        a.x = s * l, a.y = A * h, a.z = s * c, M.push(a.x, a.y, a.z), w.push(0, h, 0), r.x = .5 * c + .5, r.y = .5 * l * h + .5, b.push(r.x, r.y), S++
                    }
                    for (e = 0; e < m; e++) r = i + e, a = n + e, !0 === t ? _.push(a, a + 1, r) : _.push(a + 1, a, r), o += 3;
                    x.addGroup(E, o, !0 === t ? 1 : 2), E += o
                }

                Vt.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: p,
                    radiusBottom: d,
                    height: f,
                    radialSegments: m,
                    heightSegments: g,
                    openEnded: t,
                    thetaStart: v,
                    thetaLength: y
                };
                var x = this;
                p = void 0 !== p ? p : 20, d = void 0 !== d ? d : 20, f = void 0 !== f ? f : 100, m = Math.floor(m) || 8, g = Math.floor(g) || 1, t = void 0 !== t && t, v = void 0 !== v ? v : 0, y = void 0 !== y ? y : 2 * Math.PI;
                var _ = [], M = [], w = [], b = [], S = 0, T = [], A = f / 2, E = 0;
                !function () {
                    var t, e, i = new Rt, n = new Rt, r = 0, a = (d - p) / f;
                    for (e = 0; e <= g; e++) {
                        var o = [], s = e / g, h = s * (d - p) + p;
                        for (t = 0; t <= m; t++) {
                            var l = t / m, c = l * y + v, u = Math.sin(c);
                            c = Math.cos(c);
                            n.x = h * u, n.y = -s * f + A, n.z = h * c, M.push(n.x, n.y, n.z), i.set(u, a, c).normalize(), w.push(i.x, i.y, i.z), b.push(l, 1 - s), o.push(S++)
                        }
                        T.push(o)
                    }
                    for (t = 0; t < m; t++) for (e = 0; e < g; e++) i = T[e + 1][t], n = T[e + 1][t + 1], a = T[e][t + 1], _.push(T[e][t], i, a), _.push(i, n, a), r += 6;
                    x.addGroup(E, r, 0), E += r
                }(), !1 === t && (0 < p && e(!0), 0 < d && e(!1)), this.setIndex(_), this.addAttribute("position", new rt(M, 3)), this.addAttribute("normal", new rt(w, 3)), this.addAttribute("uv", new rt(b, 2))
            }

            function Ze(t, e, i, n, r, a, o) {
                Ye.call(this, 0, t, e, i, n, r, a, o), this.type = "ConeGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: a,
                    thetaLength: o
                }
            }

            function Je(t, e, i, n, r, a, o) {
                qe.call(this, 0, t, e, i, n, r, a, o), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: a,
                    thetaLength: o
                }
            }

            function Qe(t, e, i, n) {
                ht.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: n
                }, this.fromBufferGeometry(new Ke(t, e, i, n))
            }

            function Ke(t, e, i, n) {
                Vt.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: n
                }, t = t || 50, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, n = void 0 !== n ? n : 2 * Math.PI;
                var r, a, o = [], s = [], h = [], l = [], c = new Rt, u = new V;
                for (s.push(0, 0, 0), h.push(0, 0, 1), l.push(.5, .5), a = 0, r = 3; a <= e; a++, r += 3) {
                    var p = i + a / e * n;
                    c.x = t * Math.cos(p), c.y = t * Math.sin(p), s.push(c.x, c.y, c.z), h.push(0, 0, 1), u.x = (s[r] / t + 1) / 2, u.y = (s[r + 1] / t + 1) / 2, l.push(u.x, u.y)
                }
                for (r = 1; r <= e; r++) o.push(r, r + 1, 0);
                this.setIndex(o), this.addAttribute("position", new rt(s, 3)), this.addAttribute("normal", new rt(h, 3)), this.addAttribute("uv", new rt(l, 2))
            }

            function $e() {
                Ft.call(this, {
                    uniforms: Nr.merge([Or.lights, {opacity: {value: 1}}]),
                    vertexShader: Ur.shadow_vert,
                    fragmentShader: Ur.shadow_frag
                }), this.transparent = this.lights = !0, (0, Us.default)(this, {
                    opacity: {
                        enumerable: !0,
                        get: function () {
                            return this.uniforms.opacity.value
                        },
                        set: function (t) {
                            this.uniforms.opacity.value = t
                        }
                    }
                })
            }

            function ti(t) {
                Ft.call(this, t), this.type = "RawShaderMaterial"
            }

            function ei(t) {
                this.uuid = hr.generateUUID(), this.type = "MultiMaterial", this.materials = Array.isArray(t) ? t : [], this.visible = !0
            }

            function ii(t) {
                N.call(this), this.defines = {STANDARD: ""}, this.type = "MeshStandardMaterial", this.color = new Nt(16777215), this.metalness = this.roughness = .5, this.lightMap = this.map = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Nt(0), this.emissiveIntensity = 1, this.bumpMap = this.emissiveMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new V(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.envMap = this.alphaMap = this.metalnessMap = this.roughnessMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinejoin = this.wireframeLinecap = "round", this.morphNormals = this.morphTargets = this.skinning = !1, this.setValues(t)
            }

            function ni(t) {
                ii.call(this), this.defines = {PHYSICAL: ""}, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearCoatRoughness = this.clearCoat = 0, this.setValues(t)
            }

            function ri(t) {
                N.call(this), this.type = "MeshPhongMaterial", this.color = new Nt(16777215), this.specular = new Nt(1118481), this.shininess = 30, this.lightMap = this.map = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Nt(0), this.emissiveIntensity = 1, this.bumpMap = this.emissiveMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new V(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.envMap = this.alphaMap = this.specularMap = null, this.combine = 0, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinejoin = this.wireframeLinecap = "round", this.morphNormals = this.morphTargets = this.skinning = !1, this.setValues(t)
            }

            function ai(t) {
                ri.call(this), this.defines = {TOON: ""}, this.type = "MeshToonMaterial", this.gradientMap = null, this.setValues(t)
            }

            function oi(t) {
                N.call(this, t), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new V(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.morphNormals = this.morphTargets = this.skinning = this.lights = this.fog = !1, this.setValues(t)
            }

            function si(t) {
                N.call(this), this.type = "MeshLambertMaterial", this.color = new Nt(16777215), this.lightMap = this.map = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Nt(0), this.emissiveIntensity = 1, this.envMap = this.alphaMap = this.specularMap = this.emissiveMap = null, this.combine = 0, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinejoin = this.wireframeLinecap = "round", this.morphNormals = this.morphTargets = this.skinning = !1, this.setValues(t)
            }

            function hi(t) {
                N.call(this), this.type = "LineDashedMaterial", this.color = new Nt(16777215), this.scale = this.linewidth = 1, this.dashSize = 3, this.gapSize = 1, this.lights = !1, this.setValues(t)
            }

            function li(t, e, i) {
                var n = this, r = !1, a = 0, o = 0;
                this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function (t) {
                    o++, !1 === r && void 0 !== n.onStart && n.onStart(t, a, o), r = !0
                }, this.itemEnd = function (t) {
                    a++, void 0 !== n.onProgress && n.onProgress(t, a, o), a === o && (r = !1, void 0 !== n.onLoad) && n.onLoad()
                }, this.itemError = function (t) {
                    void 0 !== n.onError && n.onError(t)
                }
            }

            function ci(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function ui(t) {
                this.manager = void 0 !== t ? t : Lo, this._parser = null
            }

            function pi(t) {
                this.manager = void 0 !== t ? t : Lo, this._parser = null
            }

            function di(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function fi(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function mi(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function gi(t, e) {
                j.call(this), this.type = "Light", this.color = new Nt(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
            }

            function vi(t, e, i) {
                gi.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(j.DefaultUp), this.updateMatrix(), this.groundColor = new Nt(e)
            }

            function yi(t) {
                this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new V(512, 512), this.map = null, this.matrix = new It
            }

            function xi() {
                yi.call(this, new jt(50, 1, .5, 500))
            }

            function _i(t, e, i, n, r, a) {
                gi.call(this, t, e), this.type = "SpotLight", this.position.copy(j.DefaultUp), this.updateMatrix(), this.target = new j, Object.defineProperty(this, "power", {
                    get: function () {
                        return this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / Math.PI
                    }
                }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== n ? n : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== a ? a : 1, this.shadow = new xi
            }

            function Mi(t, e, i, n) {
                gi.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function () {
                        return 4 * this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== n ? n : 1, this.shadow = new yi(new jt(90, 1, .5, 500))
            }

            function wi() {
                yi.call(this, new Yt(-5, 5, 5, -5, .5, 500))
            }

            function bi(t, e) {
                gi.call(this, t, e), this.type = "DirectionalLight", this.position.copy(j.DefaultUp), this.updateMatrix(), this.target = new j, this.shadow = new wi
            }

            function Si(t, e) {
                gi.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
            }

            function Ti(t, e, i, n) {
                this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i
            }

            function Ai(t, e, i, n) {
                Ti.call(this, t, e, i, n), this._offsetNext = this._weightNext = this._offsetPrev = this._weightPrev = -0
            }

            function Ei(t, e, i, n) {
                Ti.call(this, t, e, i, n)
            }

            function Li(t, e, i, n) {
                Ti.call(this, t, e, i, n)
            }

            function Pi(t, e, i, n) {
                if (void 0 === t) throw Error("track name is undefined");
                if (void 0 === e || 0 === e.length) throw Error("no keyframes in track named " + t);
                this.name = t, this.times = Uo.convertArray(e, this.TimeBufferType), this.values = Uo.convertArray(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation), this.validate(), this.optimize()
            }

            function Ci(t, e, i, n) {
                Pi.call(this, t, e, i, n)
            }

            function Ri(t, e, i, n) {
                Ti.call(this, t, e, i, n)
            }

            function Ii(t, e, i, n) {
                Pi.call(this, t, e, i, n)
            }

            function Di(t, e, i, n) {
                Pi.call(this, t, e, i, n)
            }

            function Ni(t, e, i, n) {
                Pi.call(this, t, e, i, n)
            }

            function Ui(t, e, i) {
                Pi.call(this, t, e, i)
            }

            function zi(t, e, i, n) {
                Pi.call(this, t, e, i, n)
            }

            function Fi(t, e, i, n) {
                Pi.apply(this, arguments)
            }

            function Bi(t, e, i) {
                this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = hr.generateUUID(), this.duration < 0 && this.resetDuration(), this.optimize()
            }

            function Oi(t) {
                this.manager = void 0 !== t ? t : Lo, this.textures = {}
            }

            function Gi(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function ki() {
                this.onLoadStart = function () {
                }, this.onLoadProgress = function () {
                }, this.onLoadComplete = function () {
                }
            }

            function Vi(t) {
                "boolean" == typeof t && (t = void 0), this.manager = void 0 !== t ? t : Lo, this.withCredentials = !1
            }

            function Wi(t) {
                this.manager = void 0 !== t ? t : Lo, this.texturePath = ""
            }

            function Hi(t, e, i, n, r) {
                var a = t * t;
                return (2 * i - 2 * n + (e = .5 * (n - e)) + (r = .5 * (r - i))) * t * a + (-3 * i + 3 * n - 2 * e - r) * a + e * t + i
            }

            function Xi(t, e, i, n) {
                var r = 1 - t;
                return r * r * e + 2 * (1 - t) * t * i + t * t * n
            }

            function ji(t, e, i, n, r) {
                var a = 1 - t, o = 1 - t;
                return a * a * a * e + 3 * o * o * t * i + 3 * (1 - t) * t * t * n + t * t * t * r
            }

            function Yi() {
            }

            function qi(t, e) {
                this.v1 = t, this.v2 = e
            }

            function Zi() {
                this.curves = [], this.autoClose = !1
            }

            function Ji(t, e, i, n, r, a, o, s) {
                this.aX = t, this.aY = e, this.xRadius = i, this.yRadius = n, this.aStartAngle = r, this.aEndAngle = a, this.aClockwise = o, this.aRotation = s || 0
            }

            function Qi(t) {
                this.points = void 0 === t ? [] : t
            }

            function Ki(t, e, i, n) {
                this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n
            }

            function $i(t, e, i) {
                this.v0 = t, this.v1 = e, this.v2 = i
            }

            function tn(t) {
                Zi.call(this), this.currentPoint = new V, t && this.fromPoints(t)
            }

            function en() {
                tn.apply(this, arguments), this.holes = []
            }

            function nn() {
                this.subPaths = [], this.currentPath = null
            }

            function rn(t) {
                this.data = t
            }

            function an(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function on(t) {
                this.manager = void 0 !== t ? t : Lo
            }

            function sn(t, e, i, n) {
                gi.call(this, t, e), this.type = "RectAreaLight", this.position.set(0, 1, 0), this.updateMatrix(), this.width = void 0 !== i ? i : 10, this.height = void 0 !== n ? n : 10
            }

            function hn() {
                this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new jt, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new jt, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1
            }

            function ln(t, e, i) {
                j.call(this), this.type = "CubeCamera";
                var r = new jt(90, 1, t, e);
                r.up.set(0, -1, 0), r.lookAt(new Rt(1, 0, 0)), this.add(r);
                var a = new jt(90, 1, t, e);
                a.up.set(0, -1, 0), a.lookAt(new Rt(-1, 0, 0)), this.add(a);
                var o = new jt(90, 1, t, e);
                o.up.set(0, 0, 1), o.lookAt(new Rt(0, 1, 0)), this.add(o);
                var s = new jt(90, 1, t, e);
                s.up.set(0, 0, -1), s.lookAt(new Rt(0, -1, 0)), this.add(s);
                var h = new jt(90, 1, t, e);
                h.up.set(0, -1, 0), h.lookAt(new Rt(0, 0, 1)), this.add(h);
                var l = new jt(90, 1, t, e);
                l.up.set(0, -1, 0), l.lookAt(new Rt(0, 0, -1)), this.add(l), this.renderTarget = new n(i, i, {
                    format: 1022,
                    magFilter: 1006,
                    minFilter: 1006
                }), this.updateCubeMap = function (t, e) {
                    null === this.parent && this.updateMatrixWorld();
                    var i = this.renderTarget, n = i.texture.generateMipmaps;
                    i.texture.generateMipmaps = !1, i.activeCubeFace = 0, t.render(e, r, i), i.activeCubeFace = 1, t.render(e, a, i), i.activeCubeFace = 2, t.render(e, o, i), i.activeCubeFace = 3, t.render(e, s, i), i.activeCubeFace = 4, t.render(e, h, i), i.texture.generateMipmaps = n, i.activeCubeFace = 5, t.render(e, l, i), t.setRenderTarget(null)
                }
            }

            function cn() {
                j.call(this), this.type = "AudioListener", this.context = ws.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null
            }

            function un(t) {
                j.call(this), this.type = "Audio", this.context = t.context, this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.buffer = null, this.loop = !1, this.startTime = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filters = []
            }

            function pn(t) {
                un.call(this, t), this.panner = this.context.createPanner(), this.panner.connect(this.gain)
            }

            function dn(t, e) {
                this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser)
            }

            function fn(t, e, i) {
                switch (this.binding = t, this.valueSize = i, t = Float64Array, e) {
                    case"quaternion":
                        e = this._slerp;
                        break;
                    case"string":
                    case"bool":
                        t = Array, e = this._select;
                        break;
                    default:
                        e = this._lerp
                }
                this.buffer = new t(4 * i), this._mixBufferRegion = e, this.referenceCount = this.useCount = this.cumulativeWeight = 0
            }

            function mn(t, e, i) {
                this.path = e, this.parsedPath = i || mn.parseTrackName(e), this.node = mn.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t
            }

            function gn(t) {
                this.uuid = hr.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var e = {};
                this._indicesByUUID = e;
                for (var i = 0, n = arguments.length; i !== n; ++i) e[arguments[i].uuid] = i;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var r = this;
                this.stats = {
                    objects: {
                        get total() {
                            return r._objects.length
                        }, get inUse() {
                            return this.total - r.nCachedObjects_
                        }
                    }, get bindingsPerObject() {
                        return r._bindings.length
                    }
                }
            }

            function vn(t, e, i) {
                this._mixer = t, this._clip = e, this._localRoot = i || null, e = (t = e.tracks).length, i = Array(e);
                for (var n = {endingStart: 2400, endingEnd: 2400}, r = 0; r !== e; ++r) {
                    var a = t[r].createInterpolant(null);
                    (i[r] = a).settings = n
                }
                this._interpolantSettings = n, this._interpolants = i, this._propertyBindings = Array(e), this._weightInterpolant = this._timeScaleInterpolant = this._byClipCacheIndex = this._cacheIndex = null, this.loop = 2201, this._loopCount = -1, this._startTime = null, this.time = 0, this._effectiveWeight = this.weight = this._effectiveTimeScale = this.timeScale = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtEnd = this.zeroSlopeAtStart = !0
            }

            function yn(t) {
                this._root = t, this._initMemoryManager(), this.time = this._accuIndex = 0, this.timeScale = 1
            }

            function xn(t, e) {
                "string" == typeof t && (t = e), this.value = t
            }

            function _n() {
                Vt.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }

            function Mn(t, e, i, n) {
                this.uuid = hr.generateUUID(), this.data = t, this.itemSize = e, this.offset = i, this.normalized = !0 === n
            }

            function wn(t, e) {
                this.uuid = hr.generateUUID(), this.array = t, this.stride = e, this.count = void 0 !== t ? t.length / e : 0, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.onUploadCallback = function () {
                }, this.version = 0
            }

            function bn(t, e, i) {
                wn.call(this, t, e), this.meshPerAttribute = i || 1
            }

            function Sn(t, e, i) {
                J.call(this, t, e), this.meshPerAttribute = i || 1
            }

            function Tn(t, e, i, n) {
                this.ray = new W(t, e), this.near = i || 0, this.far = n || 1 / 0, this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {threshold: 1},
                    Sprite: {}
                }, (0, Us.default)(this.params, {
                    PointCloud: {
                        get: function () {
                            return this.Points
                        }
                    }
                })
            }

            function An(t, e) {
                return t.distance - e.distance
            }

            function En(t, e, i, n) {
                if (!1 !== t.visible && (t.raycast(e, i), !0 === n)) {
                    n = 0;
                    for (var r = (t = t.children).length; n < r; n++) En(t[n], e, i, !0)
                }
            }

            function Ln(t) {
                this.autoStart = void 0 === t || t, this.elapsedTime = this.oldTime = this.startTime = 0, this.running = !1
            }

            function Pn(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this
            }

            function Cn(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.theta = void 0 !== e ? e : 0, this.y = void 0 !== i ? i : 0, this
            }

            function Rn(t, e) {
                Wt.call(this, t, e), this.animationsMap = {}, this.animationsList = [];
                var i = this.geometry.morphTargets.length;
                this.createAnimation("__default", 0, i - 1, i / 1), this.setAnimationWeight("__default", 1)
            }

            function In(t) {
                j.call(this), this.material = t, this.render = function (t) {
                }
            }

            function Dn(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1, t = void 0 !== i ? i : 16711680, n = void 0 !== n ? n : 1, e = 0, (i = this.object.geometry) && i.isGeometry ? e = 3 * i.faces.length : i && i.isBufferGeometry && (e = i.attributes.normal.count), i = new Vt, e = new rt(6 * e, 3), i.addAttribute("position", e), le.call(this, i, new se({
                    color: t,
                    linewidth: n
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Nn(t) {
                j.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, t = new Vt;
                for (var e = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], i = 0, n = 1; i < 32; i++, n++) {
                    var r = i / 32 * Math.PI * 2, a = n / 32 * Math.PI * 2;
                    e.push(Math.cos(r), Math.sin(r), 1, Math.cos(a), Math.sin(a), 1)
                }
                t.addAttribute("position", new rt(e, 3)), e = new se({fog: !1}), this.cone = new le(t, e), this.add(this.cone), this.update()
            }

            function Un(t) {
                this.bones = this.getBoneList(t);
                for (var e = new Vt, i = [], n = [], r = new Nt(0, 0, 1), a = new Nt(0, 1, 0), o = 0; o < this.bones.length; o++) {
                    var s = this.bones[o];
                    s.parent && s.parent.isBone && (i.push(0, 0, 0), i.push(0, 0, 0), n.push(r.r, r.g, r.b), n.push(a.r, a.g, a.b))
                }
                e.addAttribute("position", new rt(i, 3)), e.addAttribute("color", new rt(n, 3)), i = new se({
                    vertexColors: 2,
                    depthTest: !1,
                    depthWrite: !1,
                    transparent: !0
                }), le.call(this, e, i), this.root = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.update()
            }

            function zn(t, e) {
                this.light = t, this.light.updateMatrixWorld();
                var i = new Oe(e, 4, 2), n = new kt({wireframe: !0, fog: !1});
                n.color.copy(this.light.color).multiplyScalar(this.light.intensity), Wt.call(this, i, n), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1
            }

            function Fn(t) {
                j.call(this), this.light = t, this.light.updateMatrixWorld();
                var e = new kt({color: t.color, fog: !1});
                t = new kt({color: t.color, fog: !1, wireframe: !0});
                var i = new Vt;
                i.addAttribute("position", new J(new Float32Array(18), 3)), this.add(new Wt(i, e)), this.add(new Wt(i, t)), this.update()
            }

            function Bn(t, e) {
                j.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1;
                var i = new Te(e);
                i.rotateY(.5 * Math.PI);
                var n = new kt({vertexColors: 2, wireframe: !0}), r = i.getAttribute("position");
                r = new Float32Array(3 * r.count);
                i.addAttribute("color", new J(r, 3)), this.add(new Wt(i, n)), this.update()
            }

            function On(t, e, i, n) {
                t = t || 10, e = e || 10, i = new Nt(void 0 !== i ? i : 4473924), n = new Nt(void 0 !== n ? n : 8947848);
                var r = e / 2, a = t / e, o = t / 2;
                t = [];
                for (var s = [], h = 0, l = 0, c = -o; h <= e; h++, c += a) {
                    t.push(-o, 0, c, o, 0, c), t.push(c, 0, -o, c, 0, o);
                    var u = h === r ? i : n;
                    u.toArray(s, l), l += 3, u.toArray(s, l), l += 3, u.toArray(s, l), l += 3, u.toArray(s, l), l += 3
                }
                (e = new Vt).addAttribute("position", new rt(t, 3)), e.addAttribute("color", new rt(s, 3)), i = new se({vertexColors: 2}), le.call(this, e, i)
            }

            function Gn(t, e, i, n, r, a) {
                t = t || 10, e = e || 16, i = i || 8, n = n || 64, r = new Nt(void 0 !== r ? r : 4473924), a = new Nt(void 0 !== a ? a : 8947848);
                var o, s, h, l, c, u = [], p = [];
                for (h = 0; h <= e; h++) s = h / e * 2 * Math.PI, o = Math.sin(s) * t, s = Math.cos(s) * t, u.push(0, 0, 0), u.push(o, 0, s), c = 1 & h ? r : a, p.push(c.r, c.g, c.b), p.push(c.r, c.g, c.b);
                for (h = 0; h <= i; h++) for (c = 1 & h ? r : a, l = t - t / i * h, e = 0; e < n; e++) s = e / n * 2 * Math.PI, o = Math.sin(s) * l, s = Math.cos(s) * l, u.push(o, 0, s), p.push(c.r, c.g, c.b), s = (e + 1) / n * 2 * Math.PI, o = Math.sin(s) * l, s = Math.cos(s) * l, u.push(o, 0, s), p.push(c.r, c.g, c.b);
                (t = new Vt).addAttribute("position", new rt(u, 3)), t.addAttribute("color", new rt(p, 3)), u = new se({vertexColors: 2}), le.call(this, t, u)
            }

            function kn(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1, t = void 0 !== i ? i : 16776960, n = void 0 !== n ? n : 1, e = 0, (i = this.object.geometry) && i.isGeometry && (e = i.faces.length), i = new Vt, e = new rt(6 * e, 3), i.addAttribute("position", e), le.call(this, i, new se({
                    color: t,
                    linewidth: n
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Vn(t, e) {
                j.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, void 0 === e && (e = 1);
                var i = new Vt;
                i.addAttribute("position", new rt([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3));
                var n = new se({fog: !1});
                this.add(new he(i, n)), (i = new Vt).addAttribute("position", new rt([0, 0, 0, 0, 0, 1], 3)), this.add(new he(i, n)), this.update()
            }

            function Wn(t) {
                function e(t, e, i) {
                    n(t, i), n(e, i)
                }

                function n(t, e) {
                    a.push(0, 0, 0), o.push(e.r, e.g, e.b), void 0 === s[t] && (s[t] = []), s[t].push(a.length / 3 - 1)
                }

                var i = new Vt, r = new se({color: 16777215, vertexColors: 1}), a = [], o = [], s = {},
                    h = new Nt(16755200), l = new Nt(16711680), c = new Nt(43775), u = new Nt(16777215),
                    p = new Nt(3355443);
                e("n1", "n2", h), e("n2", "n4", h), e("n4", "n3", h), e("n3", "n1", h), e("f1", "f2", h), e("f2", "f4", h), e("f4", "f3", h), e("f3", "f1", h), e("n1", "f1", h), e("n2", "f2", h), e("n3", "f3", h), e("n4", "f4", h), e("p", "n1", l), e("p", "n2", l), e("p", "n3", l), e("p", "n4", l), e("u1", "u2", c), e("u2", "u3", c), e("u3", "u1", c), e("c", "t", u), e("p", "c", p), e("cn1", "cn2", p), e("cn3", "cn4", p), e("cf1", "cf2", p), e("cf3", "cf4", p), i.addAttribute("position", new rt(a, 3)), i.addAttribute("color", new rt(o, 3)), le.call(this, i, r), this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = s, this.update()
            }

            function Hn(t, e) {
                void 0 === e && (e = 16776960);
                var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    n = new Float32Array(24), r = new Vt;
                r.setIndex(new J(i, 1)), r.addAttribute("position", new J(n, 3)), le.call(this, r, new se({color: e})), void 0 !== t && this.update(t)
            }

            function Xn(t, e, i, n, r, a) {
                j.call(this), void 0 === n && (n = 16776960), void 0 === i && (i = 1), void 0 === r && (r = .2 * i), void 0 === a && (a = .2 * r), void 0 === ys && ((ys = new Vt).addAttribute("position", new rt([0, 0, 0, 0, 1, 0], 3)), (xs = new qe(0, .5, 1, 5, 1)).translate(0, -.5, 0)), this.position.copy(e), this.line = new he(ys, new se({color: n})), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new Wt(xs, new kt({color: n})), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(t), this.setLength(i, r, a)
            }

            function jn(t) {
                var e = [0, 0, 0, t = t || 1, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t];
                (t = new Vt).addAttribute("position", new rt(e, 3)), t.addAttribute("color", new rt([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3)), e = new se({vertexColors: 2}), le.call(this, t, e)
            }

            function Yn() {
                var s = 0, h = 0, l = 0, c = 0;
                return {
                    initCatmullRom: function (t, e, i, n, r) {
                        l = -3 * (s = e) + 3 * i - 2 * (h = t = r * (i - t)) - (n = r * (n - e)), c = 2 * e - 2 * i + t + n
                    }, initNonuniformCatmullRom: function (t, e, i, n, r, a, o) {
                        l = -3 * (s = e) + 3 * i - 2 * (h = t = ((e - t) / r - (i - t) / (r + a) + (i - e) / a) * a) - (n = ((i - e) / a - (n - e) / (a + o) + (n - i) / o) * a), c = 2 * e - 2 * i + t + n
                    }, calc: function (t) {
                        var e = t * t;
                        return s + h * t + l * e + c * e * t
                    }
                }
            }

            function qn(t) {
                this.points = t || [], this.closed = !1
            }

            function Zn(t, e, i, n) {
                this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n
            }

            function Jn(t, e, i) {
                this.v0 = t, this.v1 = e, this.v2 = i
            }

            function Qn(t, e) {
                this.v1 = t, this.v2 = e
            }

            function Kn(t, e, i, n, r, a) {
                Ji.call(this, t, e, i, i, n, r, a)
            }

            function $n(t) {
                qn.call(this, t), this.type = "catmullrom", this.closed = !0
            }

            function tr(t) {
                qn.call(this, t), this.type = "catmullrom"
            }

            function er(t) {
                qn.call(this, t), this.type = "catmullrom"
            }

            void 0 === Ns.default && (Number.EPSILON = Math.pow(2, -52)), void 0 === Ds.default && (Math.sign = function (t) {
                return t < 0 ? -1 : 0 < t ? 1 : +t
            }), void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
                get: function () {
                    return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
                }
            }), void 0 === Is.default && (Object.assign = function (t) {
                if (null == t) throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var n = arguments[i];
                    if (null != n) for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            }), e.prototype = {
                addEventListener: function (t, e) {
                    void 0 === this._listeners && (this._listeners = {});
                    var i = this._listeners;
                    void 0 === i[t] && (i[t] = []), -1 === i[t].indexOf(e) && i[t].push(e)
                }, hasEventListener: function (t, e) {
                    if (void 0 === this._listeners) return !1;
                    var i = this._listeners;
                    return void 0 !== i[t] && -1 !== i[t].indexOf(e)
                }, removeEventListener: function (t, e) {
                    if (void 0 !== this._listeners) {
                        var i = this._listeners[t];
                        if (void 0 !== i) {
                            var n = i.indexOf(e);
                            -1 !== n && i.splice(n, 1)
                        }
                    }
                }, dispatchEvent: function (t) {
                    if (void 0 !== this._listeners) {
                        var e = this._listeners[t.type];
                        if (void 0 !== e) {
                            t.target = this;
                            var i, n = [], r = e.length;
                            for (i = 0; i < r; i++) n[i] = e[i];
                            for (i = 0; i < r; i++) n[i].call(this, t)
                        }
                    }
                }
            };
            var ir, nr, rr, ar, or, sr, hr = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: (nr = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), rr = Array(36), ar = 0, function () {
                    for (var t = 0; t < 36; t++) 8 === t || 13 === t || 18 === t || 23 === t ? rr[t] = "-" : 14 === t ? rr[t] = "4" : (ar <= 2 && (ar = 33554432 + 16777216 * Math.random() | 0), ir = 15 & ar, ar >>= 4, rr[t] = nr[19 === t ? 3 & ir | 8 : ir]);
                    return rr.join("")
                }),
                clamp: function (t, e, i) {
                    return Math.max(e, Math.min(i, t))
                },
                euclideanModulo: function (t, e) {
                    return (t % e + e) % e
                },
                mapLinear: function (t, e, i, n, r) {
                    return n + (t - e) * (r - n) / (i - e)
                },
                lerp: function (t, e, i) {
                    return (1 - i) * t + i * e
                },
                smoothstep: function (t, e, i) {
                    return t <= e ? 0 : i <= t ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t)
                },
                smootherstep: function (t, e, i) {
                    return t <= e ? 0 : i <= t ? 1 : (t = (t - e) / (i - e)) * t * t * (t * (6 * t - 15) + 10)
                },
                randInt: function (t, e) {
                    return t + Math.floor(Math.random() * (e - t + 1))
                },
                randFloat: function (t, e) {
                    return t + Math.random() * (e - t)
                },
                randFloatSpread: function (t) {
                    return t * (.5 - Math.random())
                },
                degToRad: function (t) {
                    return t * hr.DEG2RAD
                },
                radToDeg: function (t) {
                    return t * hr.RAD2DEG
                },
                isPowerOfTwo: function (t) {
                    return 0 == (t & t - 1) && 0 !== t
                },
                nearestPowerOfTwo: function (t) {
                    return Math.pow(2, Math.round(Math.log(t) / Math.LN2))
                },
                nextPowerOfTwo: function (t) {
                    return t--, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, ++t
                }
            };
            V.prototype = {
                constructor: V, isVector2: !0, get width() {
                    return this.x
                }, set width(t) {
                    this.x = t
                }, get height() {
                    return this.y
                }, set height(t) {
                    this.y = t
                }, set: function (t, e) {
                    return this.x = t, this.y = e, this
                }, setScalar: function (t) {
                    return this.y = this.x = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this
                }, multiply: function (t) {
                    return this.x *= t.x, this.y *= t.y, this
                }, multiplyScalar: function (t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t) : this.y = this.x = 0, this
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
                }, clampScalar: function (t, e) {
                    return void 0 === or && (or = new V, sr = new V), or.set(t, t), sr.set(e, e), this.clamp(or, sr)
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i)
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                }, lengthManhattan: function () {
                    return Math.abs(this.x) + Math.abs(this.y)
                }, normalize: function () {
                    return this.divideScalar(this.length())
                }, angle: function () {
                    var t = Math.atan2(this.y, this.x);
                    return t < 0 && (t += 2 * Math.PI), t
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x;
                    return e * e + (t = this.y - t.y) * t
                }, distanceToManhattan: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
                }, setLength: function (t) {
                    return this.multiplyScalar(t / this.length())
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this
                }, rotateAround: function (t, e) {
                    var i = Math.cos(e), n = Math.sin(e), r = this.x - t.x, a = this.y - t.y;
                    return this.x = r * i - a * n + t.x, this.y = r * n + a * i + t.y, this
                }
            };
            var lr, cr, ur, pr, dr, fr, mr, gr, vr, yr, xr, _r, Mr, wr, br, Sr, Tr, Ar, Er, Lr = 0;
            B.DEFAULT_IMAGE = void 0, B.DEFAULT_MAPPING = 300, B.prototype = {
                constructor: B, isTexture: !0, set needsUpdate(t) {
                    !0 === t && this.version++
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
                }, toJSON: function (t) {
                    if (void 0 !== t.textures[this.uuid]) return t.textures[this.uuid];
                    var e = {
                        metadata: {version: 4.4, type: "Texture", generator: "Texture.toJSON"},
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        wrap: [this.wrapS, this.wrapT],
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY
                    };
                    if (void 0 !== this.image) {
                        var i = this.image;
                        if (void 0 === i.uuid && (i.uuid = hr.generateUUID()), void 0 === t.images[i.uuid]) {
                            var n, r = t.images, a = i.uuid, o = i.uuid;
                            void 0 !== i.toDataURL ? n = i : ((n = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = i.width, n.height = i.height, n.getContext("2d").drawImage(i, 0, 0, i.width, i.height)), n = 2048 < n.width || 2048 < n.height ? n.toDataURL("image/jpeg", .6) : n.toDataURL("image/png"), r[a] = {
                                uuid: o,
                                url: n
                            }
                        }
                        e.image = i.uuid
                    }
                    return t.textures[this.uuid] = e
                }, dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }, transformUv: function (t) {
                    if (300 === this.mapping) {
                        if (t.multiply(this.repeat), t.add(this.offset), t.x < 0 || 1 < t.x) switch (this.wrapS) {
                            case 1e3:
                                t.x -= Math.floor(t.x);
                                break;
                            case 1001:
                                t.x = t.x < 0 ? 0 : 1;
                                break;
                            case 1002:
                                t.x = 1 === Math.abs(Math.floor(t.x) % 2) ? Math.ceil(t.x) - t.x : t.x - Math.floor(t.x)
                        }
                        if (t.y < 0 || 1 < t.y) switch (this.wrapT) {
                            case 1e3:
                                t.y -= Math.floor(t.y);
                                break;
                            case 1001:
                                t.y = t.y < 0 ? 0 : 1;
                                break;
                            case 1002:
                                t.y = 1 === Math.abs(Math.floor(t.y) % 2) ? Math.ceil(t.y) - t.y : t.y - Math.floor(t.y)
                        }
                        this.flipY && (t.y = 1 - t.y)
                    }
                }
            }, (0, Is.default)(B.prototype, e.prototype), Ct.prototype = {
                constructor: Ct, isVector4: !0, set: function (t, e, i, n) {
                    return this.x = t, this.y = e, this.z = i, this.w = n, this
                }, setScalar: function (t) {
                    return this.w = this.z = this.y = this.x = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setW: function (t) {
                    return this.w = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        case 3:
                            this.w = e;
                            break;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        case 3:
                            return this.w;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this.w += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
                }, multiplyScalar: function (t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t, this.w *= t) : this.w = this.z = this.y = this.x = 0, this
                }, applyMatrix4: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = this.w;
                    return t = t.elements, this.x = t[0] * e + t[4] * i + t[8] * n + t[12] * r, this.y = t[1] * e + t[5] * i + t[9] * n + t[13] * r, this.z = t[2] * e + t[6] * i + t[10] * n + t[14] * r, this.w = t[3] * e + t[7] * i + t[11] * n + t[15] * r, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, setAxisAngleFromQuaternion: function (t) {
                    this.w = 2 * Math.acos(t.w);
                    var e = Math.sqrt(1 - t.w * t.w);
                    return e < 1e-4 ? (this.x = 1, this.z = this.y = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
                }, setAxisAngleFromRotationMatrix: function (t) {
                    var e, i, n, r = (t = t.elements)[0];
                    n = t[4];
                    var a = t[8], o = t[1], s = t[5], h = t[9];
                    i = t[2], e = t[6];
                    var l = t[10];
                    return Math.abs(n - o) < .01 && Math.abs(a - i) < .01 && Math.abs(h - e) < .01 ? Math.abs(n + o) < .1 && Math.abs(a + i) < .1 && Math.abs(h + e) < .1 && Math.abs(r + s + l - 3) < .1 ? this.set(1, 0, 0, 0) : (t = Math.PI, l = (l + 1) / 2, n = (n + o) / 4, a = (a + i) / 4, h = (h + e) / 4, (s = (s + 1) / 2) < (r = (r + 1) / 2) && l < r ? n = r < .01 ? (e = 0, i = .707106781) : (i = n / (e = Math.sqrt(r)), a / e) : l < s ? n = s < .01 ? (i = 0, e = .707106781) : (e = n / (i = Math.sqrt(s)), h / i) : l < .01 ? (i = e = .707106781, n = 0) : (e = a / (n = Math.sqrt(l)), i = h / n), this.set(e, i, n, t)) : (t = Math.sqrt((e - h) * (e - h) + (a - i) * (a - i) + (o - n) * (o - n)), Math.abs(t) < .001 && (t = 1), this.x = (e - h) / t, this.y = (a - i) / t, this.z = (o - n) / t, this.w = Math.acos((r + s + l - 1) / 2)), this
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
                }, clampScalar: function (t, e) {
                    return void 0 === lr && (lr = new Ct, cr = new Ct), lr.set(t, t, t, t), cr.set(e, e, e, e), this.clamp(lr, cr)
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                }, lengthManhattan: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                }, normalize: function () {
                    return this.divideScalar(this.length())
                }, setLength: function (t) {
                    return this.multiplyScalar(t / this.length())
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this.w = t.getW(e), this
                }
            }, O.prototype = {
                constructor: O, isWebGLRenderTarget: !0, setSize: function (t, e) {
                    this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
                }, dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }, (0, Is.default)(O.prototype, e.prototype), ((n.prototype = (0, Rs.default)(O.prototype)).constructor = n).prototype.isWebGLRenderTargetCube = !0, s.prototype = {
                constructor: s, get x() {
                    return this._x
                }, set x(t) {
                    this._x = t, this.onChangeCallback()
                }, get y() {
                    return this._y
                }, set y(t) {
                    this._y = t, this.onChangeCallback()
                }, get z() {
                    return this._z
                }, set z(t) {
                    this._z = t, this.onChangeCallback()
                }, get w() {
                    return this._w
                }, set w(t) {
                    this._w = t, this.onChangeCallback()
                }, set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._w = n, this.onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                }, copy: function (t) {
                    return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this
                }, setFromEuler: function (t, e) {
                    if (!1 === (t && t.isEuler)) throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                    var i = Math.cos(t._x / 2), n = Math.cos(t._y / 2), r = Math.cos(t._z / 2), a = Math.sin(t._x / 2),
                        o = Math.sin(t._y / 2), s = Math.sin(t._z / 2), h = t.order;
                    return "XYZ" === h ? (this._x = a * n * r + i * o * s, this._y = i * o * r - a * n * s, this._z = i * n * s + a * o * r, this._w = i * n * r - a * o * s) : "YXZ" === h ? (this._x = a * n * r + i * o * s, this._y = i * o * r - a * n * s, this._z = i * n * s - a * o * r, this._w = i * n * r + a * o * s) : "ZXY" === h ? (this._x = a * n * r - i * o * s, this._y = i * o * r + a * n * s, this._z = i * n * s + a * o * r, this._w = i * n * r - a * o * s) : "ZYX" === h ? (this._x = a * n * r - i * o * s, this._y = i * o * r + a * n * s, this._z = i * n * s - a * o * r, this._w = i * n * r + a * o * s) : "YZX" === h ? (this._x = a * n * r + i * o * s, this._y = i * o * r + a * n * s, this._z = i * n * s - a * o * r, this._w = i * n * r - a * o * s) : "XZY" === h && (this._x = a * n * r - i * o * s, this._y = i * o * r - a * n * s, this._z = i * n * s + a * o * r, this._w = i * n * r + a * o * s), !1 !== e && this.onChangeCallback(), this
                }, setFromAxisAngle: function (t, e) {
                    var i = e / 2, n = Math.sin(i);
                    return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this.onChangeCallback(), this
                }, setFromRotationMatrix: function (t) {
                    var e = (i = t.elements)[0];
                    t = i[4];
                    var i, n = i[8], r = i[1], a = i[5], o = i[9], s = i[2], h = i[6], l = e + a + (i = i[10]);
                    return 0 < l ? (e = .5 / Math.sqrt(l + 1), this._w = .25 / e, this._x = (h - o) * e, this._y = (n - s) * e, this._z = (r - t) * e) : a < e && i < e ? (e = 2 * Math.sqrt(1 + e - a - i), this._w = (h - o) / e, this._x = .25 * e, this._y = (t + r) / e, this._z = (n + s) / e) : i < a ? (e = 2 * Math.sqrt(1 + a - e - i), this._w = (n - s) / e, this._x = (t + r) / e, this._y = .25 * e, this._z = (o + h) / e) : (e = 2 * Math.sqrt(1 + i - e - a), this._w = (r - t) / e, this._x = (n + s) / e, this._y = (o + h) / e, this._z = .25 * e), this.onChangeCallback(), this
                }, setFromUnitVectors: function (t, e) {
                    return void 0 === ur && (ur = new Rt), (pr = t.dot(e) + 1) < 1e-6 ? (pr = 0, Math.abs(t.x) > Math.abs(t.z) ? ur.set(-t.y, t.x, 0) : ur.set(0, -t.z, t.y)) : ur.crossVectors(t, e), this._x = ur.x, this._y = ur.y, this._z = ur.z, this._w = pr, this.normalize()
                }, inverse: function () {
                    return this.conjugate().normalize()
                }, conjugate: function () {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this
                }, dot: function (t) {
                    return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
                }, lengthSq: function () {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                }, length: function () {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                }, normalize: function () {
                    var t = this.length();
                    return 0 === t ? (this._z = this._y = this._x = 0, this._w = 1) : (t = 1 / t, this._x *= t, this._y *= t, this._z *= t, this._w *= t), this.onChangeCallback(), this
                }, multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyQuaternions(t, e) : this.multiplyQuaternions(this, t)
                }, premultiply: function (t) {
                    return this.multiplyQuaternions(t, this)
                }, multiplyQuaternions: function (t, e) {
                    var i = t._x, n = t._y, r = t._z, a = t._w, o = e._x, s = e._y, h = e._z, l = e._w;
                    return this._x = i * l + a * o + n * h - r * s, this._y = n * l + a * s + r * o - i * h, this._z = r * l + a * h + i * s - n * o, this._w = a * l - i * o - n * s - r * h, this.onChangeCallback(), this
                }, slerp: function (t, e) {
                    if (0 === e) return this;
                    if (1 === e) return this.copy(t);
                    var i = this._x, n = this._y, r = this._z, a = this._w;
                    if ((h = a * t._w + i * t._x + n * t._y + r * t._z) < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, h = -h) : this.copy(t), 1 <= h) return this._w = a, this._x = i, this._y = n, this._z = r, this;
                    var o = Math.sqrt(1 - h * h);
                    if (Math.abs(o) < .001) return this._w = .5 * (a + this._w), this._x = .5 * (i + this._x), this._y = .5 * (n + this._y), this._z = .5 * (r + this._z), this;
                    var s = Math.atan2(o, h), h = Math.sin((1 - e) * s) / o;
                    o = Math.sin(e * s) / o;
                    return this._w = a * h + this._w * o, this._x = i * h + this._x * o, this._y = n * h + this._y * o, this._z = r * h + this._z * o, this.onChangeCallback(), this
                }, equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
                }, onChange: function (t) {
                    return this.onChangeCallback = t, this
                }, onChangeCallback: function () {
                }
            }, (0, Is.default)(s, {
                slerp: function (t, e, i, n) {
                    return i.copy(t).slerp(e, n)
                }, slerpFlat: function (t, e, i, n, r, a, o) {
                    var s = i[n + 0], h = i[n + 1], l = i[n + 2];
                    i = i[n + 3], n = r[a + 0];
                    var c = r[a + 1], u = r[a + 2];
                    if (i !== (r = r[a + 3]) || s !== n || h !== c || l !== u) {
                        a = 1 - o;
                        var p = s * n + h * c + l * u + i * r, d = 0 <= p ? 1 : -1, f = 1 - p * p;
                        f > Ns.default && (f = Math.sqrt(f), p = Math.atan2(f, p * d), a = Math.sin(a * p) / f, o = Math.sin(o * p) / f), s = s * a + n * (d *= o), h = h * a + c * d, l = l * a + u * d, i = i * a + r * d, a === 1 - o && (s *= o = 1 / Math.sqrt(s * s + h * h + l * l + i * i), h *= o, l *= o, i *= o)
                    }
                    t[e] = s, t[e + 1] = h, t[e + 2] = l, t[e + 3] = i
                }
            }), Rt.prototype = {
                constructor: Rt, isVector3: !0, set: function (t, e, i) {
                    return this.x = t, this.y = e, this.z = i, this
                }, setScalar: function (t) {
                    return this.z = this.y = this.x = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        default:
                            throw Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
                }, multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyVectors(t, e) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
                }, multiplyScalar: function (t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : this.z = this.y = this.x = 0, this
                }, multiplyVectors: function (t, e) {
                    return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
                }, applyEuler: function (t) {
                    return t && t.isEuler, void 0 === _r && (_r = new s), this.applyQuaternion(_r.setFromEuler(t))
                }, applyAxisAngle: function (t, e) {
                    return void 0 === xr && (xr = new s), this.applyQuaternion(xr.setFromAxisAngle(t, e))
                }, applyMatrix3: function (t) {
                    var e = this.x, i = this.y, n = this.z;
                    return t = t.elements, this.x = t[0] * e + t[3] * i + t[6] * n, this.y = t[1] * e + t[4] * i + t[7] * n, this.z = t[2] * e + t[5] * i + t[8] * n, this
                }, applyMatrix4: function (t) {
                    var e = this.x, i = this.y, n = this.z;
                    return t = t.elements, this.x = t[0] * e + t[4] * i + t[8] * n + t[12], this.y = t[1] * e + t[5] * i + t[9] * n + t[13], this.z = t[2] * e + t[6] * i + t[10] * n + t[14], this.divideScalar(t[3] * e + t[7] * i + t[11] * n + t[15])
                }, applyQuaternion: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = t.x, a = t.y, o = t.z,
                        s = (t = t.w) * e + a * n - o * i, h = t * i + o * e - r * n, l = t * n + r * i - a * e;
                    e = -r * e - a * i - o * n;
                    return this.x = s * t + e * -r + h * -o - l * -a, this.y = h * t + e * -a + l * -r - s * -o, this.z = l * t + e * -o + s * -a - h * -r, this
                }, project: function (t) {
                    return void 0 === yr && (yr = new It), yr.multiplyMatrices(t.projectionMatrix, yr.getInverse(t.matrixWorld)), this.applyMatrix4(yr)
                }, unproject: function (t) {
                    return void 0 === vr && (vr = new It), vr.multiplyMatrices(t.matrixWorld, vr.getInverse(t.projectionMatrix)), this.applyMatrix4(vr)
                }, transformDirection: function (t) {
                    var e = this.x, i = this.y, n = this.z;
                    return t = t.elements, this.x = t[0] * e + t[4] * i + t[8] * n, this.y = t[1] * e + t[5] * i + t[9] * n, this.z = t[2] * e + t[6] * i + t[10] * n, this.normalize()
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
                }, clampScalar: function (t, e) {
                    return void 0 === mr && (mr = new Rt, gr = new Rt), mr.set(t, t, t), gr.set(e, e, e), this.clamp(mr, gr)
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i)
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                }, lengthManhattan: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                }, normalize: function () {
                    return this.divideScalar(this.length())
                }, setLength: function (t) {
                    return this.multiplyScalar(t / this.length())
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, cross: function (t, e) {
                    if (void 0 !== e) return this.crossVectors(t, e);
                    var i = this.x, n = this.y, r = this.z;
                    return this.x = n * t.z - r * t.y, this.y = r * t.x - i * t.z, this.z = i * t.y - n * t.x, this
                }, crossVectors: function (t, e) {
                    var i = t.x, n = t.y, r = t.z, a = e.x, o = e.y, s = e.z;
                    return this.x = n * s - r * o, this.y = r * a - i * s, this.z = i * o - n * a, this
                }, projectOnVector: function (t) {
                    var e = t.dot(this) / t.lengthSq();
                    return this.copy(t).multiplyScalar(e)
                }, projectOnPlane: function (t) {
                    return void 0 === fr && (fr = new Rt), fr.copy(this).projectOnVector(t), this.sub(fr)
                }, reflect: function (t) {
                    return void 0 === dr && (dr = new Rt), this.sub(dr.copy(t).multiplyScalar(2 * this.dot(t)))
                }, angleTo: function (t) {
                    return t = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq()), Math.acos(hr.clamp(t, -1, 1))
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x, i = this.y - t.y;
                    return e * e + i * i + (t = this.z - t.z) * t
                }, distanceToManhattan: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
                }, setFromSpherical: function (t) {
                    var e = Math.sin(t.phi) * t.radius;
                    return this.x = e * Math.sin(t.theta), this.y = Math.cos(t.phi) * t.radius, this.z = e * Math.cos(t.theta), this
                }, setFromCylindrical: function (t) {
                    return this.x = t.radius * Math.sin(t.theta), this.y = t.y, this.z = t.radius * Math.cos(t.theta), this
                }, setFromMatrixPosition: function (t) {
                    return this.setFromMatrixColumn(t, 3)
                }, setFromMatrixScale: function (t) {
                    var e = this.setFromMatrixColumn(t, 0).length(), i = this.setFromMatrixColumn(t, 1).length();
                    return t = this.setFromMatrixColumn(t, 2).length(), this.x = e, this.y = i, this.z = t, this
                }, setFromMatrixColumn: function (t, e) {
                    if ("number" == typeof t) {
                        var i = t;
                        t = e, e = i
                    }
                    return this.fromArray(t.elements, 4 * e)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this
                }
            }, It.prototype = {
                constructor: It, isMatrix4: !0, set: function (t, e, i, n, r, a, o, s, h, l, c, u, p, d, f, m) {
                    var g = this.elements;
                    return g[0] = t, g[4] = e, g[8] = i, g[12] = n, g[1] = r, g[5] = a, g[9] = o, g[13] = s, g[2] = h, g[6] = l, g[10] = c, g[14] = u, g[3] = p, g[7] = d, g[11] = f, g[15] = m, this
                }, identity: function () {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                }, clone: function () {
                    return (new It).fromArray(this.elements)
                }, copy: function (t) {
                    return this.elements.set(t.elements), this
                }, copyPosition: function (t) {
                    var e = this.elements;
                    return t = t.elements, e[12] = t[12], e[13] = t[13], e[14] = t[14], this
                }, extractBasis: function (t, e, i) {
                    return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this
                }, makeBasis: function (t, e, i) {
                    return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this
                }, extractRotation: function (t) {
                    void 0 === Er && (Er = new Rt);
                    var e = this.elements, i = t.elements, n = 1 / Er.setFromMatrixColumn(t, 0).length(),
                        r = 1 / Er.setFromMatrixColumn(t, 1).length();
                    return t = 1 / Er.setFromMatrixColumn(t, 2).length(), e[0] = i[0] * n, e[1] = i[1] * n, e[2] = i[2] * n, e[4] = i[4] * r, e[5] = i[5] * r, e[6] = i[6] * r, e[8] = i[8] * t, e[9] = i[9] * t, e[10] = i[10] * t, this
                }, makeRotationFromEuler: function (t) {
                    t && t.isEuler;
                    var e = this.elements, i = t.x, n = t.y, r = t.z, a = Math.cos(i),
                        o = (i = Math.sin(i), Math.cos(n)), s = (n = Math.sin(n), Math.cos(r));
                    r = Math.sin(r);
                    if ("XYZ" === t.order) {
                        t = a * s;
                        var h = a * r, l = i * s, c = i * r;
                        e[0] = o * s, e[4] = -o * r, e[8] = n, e[1] = h + l * n, e[5] = t - c * n, e[9] = -i * o, e[2] = c - t * n, e[6] = l + h * n, e[10] = a * o
                    } else "YXZ" === t.order ? (t = o * s, h = o * r, l = n * s, c = n * r, e[0] = t + c * i, e[4] = l * i - h, e[8] = a * n, e[1] = a * r, e[5] = a * s, e[9] = -i, e[2] = h * i - l, e[6] = c + t * i, e[10] = a * o) : "ZXY" === t.order ? (t = o * s, h = o * r, l = n * s, c = n * r, e[0] = t - c * i, e[4] = -a * r, e[8] = l + h * i, e[1] = h + l * i, e[5] = a * s, e[9] = c - t * i, e[2] = -a * n, e[6] = i, e[10] = a * o) : "ZYX" === t.order ? (t = a * s, h = a * r, l = i * s, c = i * r, e[0] = o * s, e[4] = l * n - h, e[8] = t * n + c, e[1] = o * r, e[5] = c * n + t, e[9] = h * n - l, e[2] = -n, e[6] = i * o, e[10] = a * o) : "YZX" === t.order ? (t = a * o, h = a * n, l = i * o, c = i * n, e[0] = o * s, e[4] = c - t * r, e[8] = l * r + h, e[1] = r, e[5] = a * s, e[9] = -i * s, e[2] = -n * s, e[6] = h * r + l, e[10] = t - c * r) : "XZY" === t.order && (t = a * o, h = a * n, l = i * o, c = i * n, e[0] = o * s, e[4] = -r, e[8] = n * s, e[1] = t * r + c, e[5] = a * s, e[9] = h * r - l, e[2] = l * r - h, e[6] = i * s, e[10] = c * r + t);
                    return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                }, makeRotationFromQuaternion: function (t) {
                    var e = this.elements, i = t.x, n = t.y, r = t.z, a = t.w, o = r + r;
                    t = i * (l = i + i);
                    var s = i * (c = n + n), h = (i = i * o, n * c), l = (n = n * o, r = r * o, a * l), c = a * c;
                    a *= o;
                    return e[0] = 1 - (h + r), e[4] = s - a, e[8] = i + c, e[1] = s + a, e[5] = 1 - (t + r), e[9] = n - l, e[2] = i - c, e[6] = n + l, e[10] = 1 - (t + h), e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                }, lookAt: function (t, e, i) {
                    void 0 === Sr && (Sr = new Rt, Tr = new Rt, Ar = new Rt);
                    var n = this.elements;
                    return Ar.subVectors(t, e).normalize(), 0 === Ar.lengthSq() && (Ar.z = 1), Sr.crossVectors(i, Ar).normalize(), 0 === Sr.lengthSq() && (Ar.z += 1e-4, Sr.crossVectors(i, Ar).normalize()), Tr.crossVectors(Ar, Sr), n[0] = Sr.x, n[4] = Tr.x, n[8] = Ar.x, n[1] = Sr.y, n[5] = Tr.y, n[9] = Ar.y, n[2] = Sr.z, n[6] = Tr.z, n[10] = Ar.z, this
                }, multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyMatrices(t, e) : this.multiplyMatrices(this, t)
                }, premultiply: function (t) {
                    return this.multiplyMatrices(t, this)
                }, multiplyMatrices: function (t, e) {
                    var i = t.elements, n = e.elements, r = this.elements, a = i[0], o = i[4], s = i[8], h = i[12],
                        l = i[1], c = i[5], u = i[9], p = i[13], d = i[2], f = i[6], m = i[10], g = i[14], v = i[3],
                        y = i[7], x = i[11], _ = (i = i[15], n[0]), M = n[4], w = n[8], b = n[12], S = n[1], T = n[5],
                        A = n[9], E = n[13], L = n[2], P = n[6], C = n[10], R = n[14], I = n[3], D = n[7], N = n[11];
                    n = n[15];
                    return r[0] = a * _ + o * S + s * L + h * I, r[4] = a * M + o * T + s * P + h * D, r[8] = a * w + o * A + s * C + h * N, r[12] = a * b + o * E + s * R + h * n, r[1] = l * _ + c * S + u * L + p * I, r[5] = l * M + c * T + u * P + p * D, r[9] = l * w + c * A + u * C + p * N, r[13] = l * b + c * E + u * R + p * n, r[2] = d * _ + f * S + m * L + g * I, r[6] = d * M + f * T + m * P + g * D, r[10] = d * w + f * A + m * C + g * N, r[14] = d * b + f * E + m * R + g * n, r[3] = v * _ + y * S + x * L + i * I, r[7] = v * M + y * T + x * P + i * D, r[11] = v * w + y * A + x * C + i * N, r[15] = v * b + y * E + x * R + i * n, this
                }, multiplyToArray: function (t, e, i) {
                    var n = this.elements;
                    return this.multiplyMatrices(t, e), i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4], i[5] = n[5], i[6] = n[6], i[7] = n[7], i[8] = n[8], i[9] = n[9], i[10] = n[10], i[11] = n[11], i[12] = n[12], i[13] = n[13], i[14] = n[14], i[15] = n[15], this
                }, multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
                }, applyToBufferAttribute: function (t) {
                    void 0 === br && (br = new Rt);
                    for (var e = 0, i = t.count; e < i; e++) br.x = t.getX(e), br.y = t.getY(e), br.z = t.getZ(e), br.applyMatrix4(this), t.setXYZ(e, br.x, br.y, br.z);
                    return t
                }, determinant: function () {
                    var t = this.elements, e = t[0], i = t[4], n = t[8], r = t[12], a = t[1], o = t[5], s = t[9],
                        h = t[13], l = t[2], c = t[6], u = t[10], p = t[14];
                    return t[3] * (+r * s * c - n * h * c - r * o * u + i * h * u + n * o * p - i * s * p) + t[7] * (+e * s * p - e * h * u + r * a * u - n * a * p + n * h * l - r * s * l) + t[11] * (+e * h * c - e * o * p - r * a * c + i * a * p + r * o * l - i * h * l) + t[15] * (-n * o * l - e * s * c + e * o * u + n * a * c - i * a * u + i * s * l)
                }, transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
                }, setPosition: function (t) {
                    var e = this.elements;
                    return e[12] = t.x, e[13] = t.y, e[14] = t.z, this
                }, getInverse: function (t, e) {
                    var i, n = this.elements, r = (i = t.elements)[0], a = i[1], o = i[2], s = i[3], h = i[4], l = i[5],
                        c = i[6], u = i[7], p = i[8], d = i[9], f = i[10], m = i[11], g = i[12], v = i[13], y = i[14],
                        x = d * y * u - v * f * u + v * c * m - l * y * m - d * c * (i = i[15]) + l * f * i,
                        _ = g * f * u - p * y * u - g * c * m + h * y * m + p * c * i - h * f * i,
                        M = p * v * u - g * d * u + g * l * m - h * v * m - p * l * i + h * d * i,
                        w = g * d * c - p * v * c - g * l * f + h * v * f + p * l * y - h * d * y,
                        b = r * x + a * _ + o * M + s * w;
                    if (0 !== b) return b = 1 / b, n[0] = x * b, n[1] = (v * f * s - d * y * s - v * o * m + a * y * m + d * o * i - a * f * i) * b, n[2] = (l * y * s - v * c * s + v * o * u - a * y * u - l * o * i + a * c * i) * b, n[3] = (d * c * s - l * f * s - d * o * u + a * f * u + l * o * m - a * c * m) * b, n[4] = _ * b, n[5] = (p * y * s - g * f * s + g * o * m - r * y * m - p * o * i + r * f * i) * b, n[6] = (g * c * s - h * y * s - g * o * u + r * y * u + h * o * i - r * c * i) * b, n[7] = (h * f * s - p * c * s + p * o * u - r * f * u - h * o * m + r * c * m) * b, n[8] = M * b, n[9] = (g * d * s - p * v * s - g * a * m + r * v * m + p * a * i - r * d * i) * b, n[10] = (h * v * s - g * l * s + g * a * u - r * v * u - h * a * i + r * l * i) * b, n[11] = (p * l * s - h * d * s - p * a * u + r * d * u + h * a * m - r * l * m) * b, n[12] = w * b, n[13] = (p * v * o - g * d * o + g * a * f - r * v * f - p * a * y + r * d * y) * b, n[14] = (g * l * o - h * v * o - g * a * c + r * v * c + h * a * y - r * l * y) * b, n[15] = (h * d * o - p * l * o + p * a * c - r * d * c - h * a * f + r * l * f) * b, this;
                    if (!0 === e) throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
                    return this.identity()
                }, scale: function (t) {
                    var e = this.elements, i = t.x, n = t.y;
                    return t = t.z, e[0] *= i, e[4] *= n, e[8] *= t, e[1] *= i, e[5] *= n, e[9] *= t, e[2] *= i, e[6] *= n, e[10] *= t, e[3] *= i, e[7] *= n, e[11] *= t, this
                }, getMaxScaleOnAxis: function () {
                    var t = this.elements;
                    return Math.sqrt(Math.max(t[0] * t[0] + t[1] * t[1] + t[2] * t[2], t[4] * t[4] + t[5] * t[5] + t[6] * t[6], t[8] * t[8] + t[9] * t[9] + t[10] * t[10]))
                }, makeTranslation: function (t, e, i) {
                    return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
                }, makeRotationX: function (t) {
                    var e = Math.cos(t);
                    return t = Math.sin(t), this.set(1, 0, 0, 0, 0, e, -t, 0, 0, t, e, 0, 0, 0, 0, 1), this
                }, makeRotationY: function (t) {
                    var e = Math.cos(t);
                    return t = Math.sin(t), this.set(e, 0, t, 0, 0, 1, 0, 0, -t, 0, e, 0, 0, 0, 0, 1), this
                }, makeRotationZ: function (t) {
                    var e = Math.cos(t);
                    return t = Math.sin(t), this.set(e, -t, 0, 0, t, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                }, makeRotationAxis: function (t, e) {
                    var i = Math.cos(e), n = Math.sin(e), r = 1 - i, a = t.x, o = t.y, s = t.z, h = r * a, l = r * o;
                    return this.set(h * a + i, h * o - n * s, h * s + n * o, 0, h * o + n * s, l * o + i, l * s - n * a, 0, h * s - n * o, l * s + n * a, r * s * s + i, 0, 0, 0, 0, 1), this
                }, makeScale: function (t, e, i) {
                    return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
                }, makeShear: function (t, e, i) {
                    return this.set(1, e, i, 0, t, 1, i, 0, t, e, 1, 0, 0, 0, 0, 1), this
                }, compose: function (t, e, i) {
                    return this.makeRotationFromQuaternion(e), this.scale(i), this.setPosition(t), this
                }, decompose: function (t, e, i) {
                    void 0 === Mr && (Mr = new Rt, wr = new It);
                    var n = this.elements, r = Mr.set(n[0], n[1], n[2]).length(), a = Mr.set(n[4], n[5], n[6]).length(),
                        o = Mr.set(n[8], n[9], n[10]).length();
                    this.determinant() < 0 && (r = -r), t.x = n[12], t.y = n[13], t.z = n[14], wr.elements.set(this.elements), t = 1 / r, n = 1 / a;
                    var s = 1 / o;
                    return wr.elements[0] *= t, wr.elements[1] *= t, wr.elements[2] *= t, wr.elements[4] *= n, wr.elements[5] *= n, wr.elements[6] *= n, wr.elements[8] *= s, wr.elements[9] *= s, wr.elements[10] *= s, e.setFromRotationMatrix(wr), i.x = r, i.y = a, i.z = o, this
                }, makePerspective: function (t, e, i, n, r, a) {
                    var o = this.elements;
                    return o[0] = 2 * r / (e - t), o[4] = 0, o[8] = (e + t) / (e - t), o[12] = 0, o[1] = 0, o[5] = 2 * r / (i - n), o[9] = (i + n) / (i - n), o[13] = 0, o[2] = 0, o[6] = 0, o[10] = -(a + r) / (a - r), o[14] = -2 * a * r / (a - r), o[3] = 0, o[7] = 0, o[11] = -1, o[15] = 0, this
                }, makeOrthographic: function (t, e, i, n, r, a) {
                    var o = this.elements, s = 1 / (e - t), h = 1 / (i - n), l = 1 / (a - r);
                    return o[0] = 2 * s, o[4] = 0, o[8] = 0, o[12] = -(e + t) * s, o[1] = 0, o[5] = 2 * h, o[9] = 0, o[13] = -(i + n) * h, o[2] = 0, o[6] = 0, o[10] = -2 * l, o[14] = -(a + r) * l, o[3] = 0, o[7] = 0, o[11] = 0, o[15] = 1, this
                }, equals: function (t) {
                    var e = this.elements;
                    t = t.elements;
                    for (var i = 0; i < 16; i++) if (e[i] !== t[i]) return !1;
                    return !0
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 16; i++) this.elements[i] = t[i + e];
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t
                }
            }, ((h.prototype = (0, Rs.default)(B.prototype)).constructor = h).prototype.isCubeTexture = !0, Object.defineProperty(h.prototype, "images", {
                get: function () {
                    return this.image
                }, set: function (t) {
                    this.image = t
                }
            });
            var Pr = new B, Cr = new h, Rr = [], Ir = [];
            I.prototype.setValue = function (t, e) {
                for (var i = this.seq, n = 0, r = i.length; n !== r; ++n) {
                    var a = i[n];
                    a.setValue(t, e[a.id])
                }
            };
            var Dr = /([\w\d_]+)(\])?(\[|\.)?/g;
            Dt.prototype.setValue = function (t, e, i) {
                void 0 !== (e = this.map[e]) && e.setValue(t, i, this.renderer)
            }, Dt.prototype.set = function (t, e, i) {
                var n = this.map[i];
                void 0 !== n && n.setValue(t, e[i], this.renderer)
            }, Dt.prototype.setOptional = function (t, e, i) {
                void 0 !== (e = e[i]) && this.setValue(t, i, e)
            }, Dt.upload = function (t, e, i, n) {
                for (var r = 0, a = e.length; r !== a; ++r) {
                    var o = e[r], s = i[o.id];
                    !1 !== s.needsUpdate && o.setValue(t, s.value, n)
                }
            }, Dt.seqWithValue = function (t, e) {
                for (var i = [], n = 0, r = t.length; n !== r; ++n) {
                    var a = t[n];
                    a.id in e && i.push(a)
                }
                return i
            };
            var Nr = {
                merge: function (t) {
                    for (var e = {}, i = 0; i < t.length; i++) {
                        var n, r = this.clone(t[i]);
                        for (n in r) e[n] = r[n]
                    }
                    return e
                }, clone: function (t) {
                    var e, i = {};
                    for (e in t) for (var n in i[e] = {}, t[e]) {
                        var r = t[e][n];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? i[e][n] = r.clone() : Array.isArray(r) ? i[e][n] = r.slice() : i[e][n] = r
                    }
                    return i
                }
            }, Ur = {
                alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
                alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
                alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
                aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
                aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                begin_vertex: "\nvec3 transformed = vec3( position );\n",
                beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
                bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
                bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
                clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
                clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
                clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
                clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
                color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
                color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
                color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
                common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
                cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
                defaultnormal_vertex: "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",
                displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
                displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
                emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
                emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
                encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
                encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
                envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
                envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
                envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
                envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
                fog_vertex: "\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",
                fog_pars_vertex: "#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",
                fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
                fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
                gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
                lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
                lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
                lights_pars: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
                lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
                lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
                lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
                lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
                lights_template: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
                logdepthbuf_fragment: "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
                logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
                logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
                logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
                map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
                map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
                map_particle_fragment: "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
                map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
                metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",
                metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
                morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
                normal_flip: "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",
                normal_fragment: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
                normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
                packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
                premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
                project_vertex: "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",
                roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",
                roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
                shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
                shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
                shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
                skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
                skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",
                skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
                specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
                tonemapping_pars_fragment: "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
                uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
                uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
                uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
                uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
                uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
                worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",
                cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
                cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
                depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
                depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
                distanceRGBA_frag: "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
                distanceRGBA_vert: "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
                equirect_frag: "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
                equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
                linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
                meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
                meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
                meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
                meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
                normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
                normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
                points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
                points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
                shadow_frag: "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",
                shadow_vert: "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"
            };
            Nt.prototype = {
                constructor: Nt, isColor: !0, r: 1, g: 1, b: 1, set: function (t) {
                    return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
                }, setScalar: function (t) {
                    return this.b = this.g = this.r = t, this
                }, setHex: function (t) {
                    return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
                }, setRGB: function (t, e, i) {
                    return this.r = t, this.g = e, this.b = i, this
                }, setHSL: function () {
                    function n(t, e, i) {
                        return i < 0 && (i += 1), 1 < i && --i, i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t
                    }

                    return function (t, e, i) {
                        return t = hr.euclideanModulo(t, 1), e = hr.clamp(e, 0, 1), i = hr.clamp(i, 0, 1), 0 === e ? this.r = this.g = this.b = i : (i = 2 * i - (e = i <= .5 ? i * (1 + e) : i + e - i * e), this.r = n(i, e, t + 1 / 3), this.g = n(i, e, t), this.b = n(i, e, t - 1 / 3)), this
                    }
                }(), setStyle: function (t) {
                    function e(t) {
                        void 0 !== t && parseFloat(t)
                    }

                    var i;
                    if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                        var n = i[2];
                        switch (i[1]) {
                            case"rgb":
                            case"rgba":
                                if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)) return this.r = Math.min(255, parseInt(i[1], 10)) / 255, this.g = Math.min(255, parseInt(i[2], 10)) / 255, this.b = Math.min(255, parseInt(i[3], 10)) / 255, e(i[5]), this;
                                if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)) return this.r = Math.min(100, parseInt(i[1], 10)) / 100, this.g = Math.min(100, parseInt(i[2], 10)) / 100, this.b = Math.min(100, parseInt(i[3], 10)) / 100, e(i[5]), this;
                                break;
                            case"hsl":
                            case"hsla":
                                if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)) {
                                    n = parseFloat(i[1]) / 360;
                                    var r = parseInt(i[2], 10) / 100, a = parseInt(i[3], 10) / 100;
                                    return e(i[5]), this.setHSL(n, r, a)
                                }
                        }
                    } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                        if (3 === (n = (i = i[1]).length)) return this.r = parseInt(i.charAt(0) + i.charAt(0), 16) / 255, this.g = parseInt(i.charAt(1) + i.charAt(1), 16) / 255, this.b = parseInt(i.charAt(2) + i.charAt(2), 16) / 255, this;
                        if (6 === n) return this.r = parseInt(i.charAt(0) + i.charAt(1), 16) / 255, this.g = parseInt(i.charAt(2) + i.charAt(3), 16) / 255, this.b = parseInt(i.charAt(4) + i.charAt(5), 16) / 255, this
                    }
                    return t && 0 < t.length && (void 0 !== (i = zr[t]) && this.setHex(i)), this
                }, clone: function () {
                    return new this.constructor(this.r, this.g, this.b)
                }, copy: function (t) {
                    return this.r = t.r, this.g = t.g, this.b = t.b, this
                }, copyGammaToLinear: function (t, e) {
                    return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
                }, copyLinearToGamma: function (t, e) {
                    void 0 === e && (e = 2);
                    var i = 0 < e ? 1 / e : 1;
                    return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this
                }, convertGammaToLinear: function () {
                    var t = this.r, e = this.g, i = this.b;
                    return this.r = t * t, this.g = e * e, this.b = i * i, this
                }, convertLinearToGamma: function () {
                    return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this
                }, getHex: function () {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                }, getHexString: function () {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                }, getHSL: function (t) {
                    t = t || {h: 0, s: 0, l: 0};
                    var e, i = this.r, n = this.g, r = this.b, a = Math.max(i, n, r),
                        o = ((h = Math.min(i, n, r)) + a) / 2;
                    if (h === a) h = e = 0; else {
                        var s = a - h, h = o <= .5 ? s / (a + h) : s / (2 - a - h);
                        switch (a) {
                            case i:
                                e = (n - r) / s + (n < r ? 6 : 0);
                                break;
                            case n:
                                e = (r - i) / s + 2;
                                break;
                            case r:
                                e = (i - n) / s + 4
                        }
                        e /= 6
                    }
                    return t.h = e, t.s = h, t.l = o, t
                }, getStyle: function () {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                }, offsetHSL: function (t, e, i) {
                    var n = this.getHSL();
                    return n.h += t, n.s += e, n.l += i, this.setHSL(n.h, n.s, n.l), this
                }, add: function (t) {
                    return this.r += t.r, this.g += t.g, this.b += t.b, this
                }, addColors: function (t, e) {
                    return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
                }, addScalar: function (t) {
                    return this.r += t, this.g += t, this.b += t, this
                }, sub: function (t) {
                    return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this
                }, multiply: function (t) {
                    return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
                }, multiplyScalar: function (t) {
                    return this.r *= t, this.g *= t, this.b *= t, this
                }, lerp: function (t, e) {
                    return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
                }, equals: function (t) {
                    return t.r === this.r && t.g === this.g && t.b === this.b
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
                }, toJSON: function () {
                    return this.getHex()
                }
            };
            var zr = {
                aliceblue: 15792383,
                antiquewhite: 16444375,
                aqua: 65535,
                aquamarine: 8388564,
                azure: 15794175,
                beige: 16119260,
                bisque: 16770244,
                black: 0,
                blanchedalmond: 16772045,
                blue: 255,
                blueviolet: 9055202,
                brown: 10824234,
                burlywood: 14596231,
                cadetblue: 6266528,
                chartreuse: 8388352,
                chocolate: 13789470,
                coral: 16744272,
                cornflowerblue: 6591981,
                cornsilk: 16775388,
                crimson: 14423100,
                cyan: 65535,
                darkblue: 139,
                darkcyan: 35723,
                darkgoldenrod: 12092939,
                darkgray: 11119017,
                darkgreen: 25600,
                darkgrey: 11119017,
                darkkhaki: 12433259,
                darkmagenta: 9109643,
                darkolivegreen: 5597999,
                darkorange: 16747520,
                darkorchid: 10040012,
                darkred: 9109504,
                darksalmon: 15308410,
                darkseagreen: 9419919,
                darkslateblue: 4734347,
                darkslategray: 3100495,
                darkslategrey: 3100495,
                darkturquoise: 52945,
                darkviolet: 9699539,
                deeppink: 16716947,
                deepskyblue: 49151,
                dimgray: 6908265,
                dimgrey: 6908265,
                dodgerblue: 2003199,
                firebrick: 11674146,
                floralwhite: 16775920,
                forestgreen: 2263842,
                fuchsia: 16711935,
                gainsboro: 14474460,
                ghostwhite: 16316671,
                gold: 16766720,
                goldenrod: 14329120,
                gray: 8421504,
                green: 32768,
                greenyellow: 11403055,
                grey: 8421504,
                honeydew: 15794160,
                hotpink: 16738740,
                indianred: 13458524,
                indigo: 4915330,
                ivory: 16777200,
                khaki: 15787660,
                lavender: 15132410,
                lavenderblush: 16773365,
                lawngreen: 8190976,
                lemonchiffon: 16775885,
                lightblue: 11393254,
                lightcoral: 15761536,
                lightcyan: 14745599,
                lightgoldenrodyellow: 16448210,
                lightgray: 13882323,
                lightgreen: 9498256,
                lightgrey: 13882323,
                lightpink: 16758465,
                lightsalmon: 16752762,
                lightseagreen: 2142890,
                lightskyblue: 8900346,
                lightslategray: 7833753,
                lightslategrey: 7833753,
                lightsteelblue: 11584734,
                lightyellow: 16777184,
                lime: 65280,
                limegreen: 3329330,
                linen: 16445670,
                magenta: 16711935,
                maroon: 8388608,
                mediumaquamarine: 6737322,
                mediumblue: 205,
                mediumorchid: 12211667,
                mediumpurple: 9662683,
                mediumseagreen: 3978097,
                mediumslateblue: 8087790,
                mediumspringgreen: 64154,
                mediumturquoise: 4772300,
                mediumvioletred: 13047173,
                midnightblue: 1644912,
                mintcream: 16121850,
                mistyrose: 16770273,
                moccasin: 16770229,
                navajowhite: 16768685,
                navy: 128,
                oldlace: 16643558,
                olive: 8421376,
                olivedrab: 7048739,
                orange: 16753920,
                orangered: 16729344,
                orchid: 14315734,
                palegoldenrod: 15657130,
                palegreen: 10025880,
                paleturquoise: 11529966,
                palevioletred: 14381203,
                papayawhip: 16773077,
                peachpuff: 16767673,
                peru: 13468991,
                pink: 16761035,
                plum: 14524637,
                powderblue: 11591910,
                purple: 8388736,
                red: 16711680,
                rosybrown: 12357519,
                royalblue: 4286945,
                saddlebrown: 9127187,
                salmon: 16416882,
                sandybrown: 16032864,
                seagreen: 3050327,
                seashell: 16774638,
                sienna: 10506797,
                silver: 12632256,
                skyblue: 8900331,
                slateblue: 6970061,
                slategray: 7372944,
                slategrey: 7372944,
                snow: 16775930,
                springgreen: 65407,
                steelblue: 4620980,
                tan: 13808780,
                teal: 32896,
                thistle: 14204888,
                tomato: 16737095,
                turquoise: 4251856,
                violet: 15631086,
                wheat: 16113331,
                white: 16777215,
                whitesmoke: 16119285,
                yellow: 16776960,
                yellowgreen: 10145074
            };
            ((D.prototype = (0, Rs.default)(B.prototype)).constructor = D).prototype.isDataTexture = !0;
            var Fr, Br, Or = {
                common: {
                    diffuse: {value: new Nt(15658734)},
                    opacity: {value: 1},
                    map: {value: null},
                    offsetRepeat: {value: new Ct(0, 0, 1, 1)},
                    specularMap: {value: null},
                    alphaMap: {value: null},
                    envMap: {value: null},
                    flipEnvMap: {value: -1},
                    reflectivity: {value: 1},
                    refractionRatio: {value: .98}
                },
                aomap: {aoMap: {value: null}, aoMapIntensity: {value: 1}},
                lightmap: {lightMap: {value: null}, lightMapIntensity: {value: 1}},
                emissivemap: {emissiveMap: {value: null}},
                bumpmap: {bumpMap: {value: null}, bumpScale: {value: 1}},
                normalmap: {normalMap: {value: null}, normalScale: {value: new V(1, 1)}},
                displacementmap: {
                    displacementMap: {value: null},
                    displacementScale: {value: 1},
                    displacementBias: {value: 0}
                },
                roughnessmap: {roughnessMap: {value: null}},
                metalnessmap: {metalnessMap: {value: null}},
                gradientmap: {gradientMap: {value: null}},
                fog: {
                    fogDensity: {value: 25e-5},
                    fogNear: {value: 1},
                    fogFar: {value: 2e3},
                    fogColor: {value: new Nt(16777215)}
                },
                lights: {
                    ambientLightColor: {value: []},
                    directionalLights: {
                        value: [],
                        properties: {
                            direction: {},
                            color: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    directionalShadowMap: {value: []},
                    directionalShadowMatrix: {value: []},
                    spotLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            direction: {},
                            distance: {},
                            coneCos: {},
                            penumbraCos: {},
                            decay: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    spotShadowMap: {value: []},
                    spotShadowMatrix: {value: []},
                    pointLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            decay: {},
                            distance: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    pointShadowMap: {value: []},
                    pointShadowMatrix: {value: []},
                    hemisphereLights: {value: [], properties: {direction: {}, skyColor: {}, groundColor: {}}},
                    rectAreaLights: {value: [], properties: {color: {}, position: {}, width: {}, height: {}}}
                },
                points: {
                    diffuse: {value: new Nt(15658734)},
                    opacity: {value: 1},
                    size: {value: 1},
                    scale: {value: 1},
                    map: {value: null},
                    offsetRepeat: {value: new Ct(0, 0, 1, 1)}
                }
            }, Gr = {
                basic: {
                    uniforms: Nr.merge([Or.common, Or.aomap, Or.lightmap, Or.fog]),
                    vertexShader: Ur.meshbasic_vert,
                    fragmentShader: Ur.meshbasic_frag
                },
                lambert: {
                    uniforms: Nr.merge([Or.common, Or.aomap, Or.lightmap, Or.emissivemap, Or.fog, Or.lights, {emissive: {value: new Nt(0)}}]),
                    vertexShader: Ur.meshlambert_vert,
                    fragmentShader: Ur.meshlambert_frag
                },
                phong: {
                    uniforms: Nr.merge([Or.common, Or.aomap, Or.lightmap, Or.emissivemap, Or.bumpmap, Or.normalmap, Or.displacementmap, Or.gradientmap, Or.fog, Or.lights, {
                        emissive: {value: new Nt(0)},
                        specular: {value: new Nt(1118481)},
                        shininess: {value: 30}
                    }]), vertexShader: Ur.meshphong_vert, fragmentShader: Ur.meshphong_frag
                },
                standard: {
                    uniforms: Nr.merge([Or.common, Or.aomap, Or.lightmap, Or.emissivemap, Or.bumpmap, Or.normalmap, Or.displacementmap, Or.roughnessmap, Or.metalnessmap, Or.fog, Or.lights, {
                        emissive: {value: new Nt(0)},
                        roughness: {value: .5},
                        metalness: {value: 0},
                        envMapIntensity: {value: 1}
                    }]), vertexShader: Ur.meshphysical_vert, fragmentShader: Ur.meshphysical_frag
                },
                points: {
                    uniforms: Nr.merge([Or.points, Or.fog]),
                    vertexShader: Ur.points_vert,
                    fragmentShader: Ur.points_frag
                },
                dashed: {
                    uniforms: Nr.merge([Or.common, Or.fog, {
                        scale: {value: 1},
                        dashSize: {value: 1},
                        totalSize: {value: 2}
                    }]), vertexShader: Ur.linedashed_vert, fragmentShader: Ur.linedashed_frag
                },
                depth: {
                    uniforms: Nr.merge([Or.common, Or.displacementmap]),
                    vertexShader: Ur.depth_vert,
                    fragmentShader: Ur.depth_frag
                },
                normal: {
                    uniforms: Nr.merge([Or.common, Or.bumpmap, Or.normalmap, Or.displacementmap, {opacity: {value: 1}}]),
                    vertexShader: Ur.normal_vert,
                    fragmentShader: Ur.normal_frag
                },
                cube: {
                    uniforms: {tCube: {value: null}, tFlip: {value: -1}, opacity: {value: 1}},
                    vertexShader: Ur.cube_vert,
                    fragmentShader: Ur.cube_frag
                },
                equirect: {
                    uniforms: {tEquirect: {value: null}, tFlip: {value: -1}},
                    vertexShader: Ur.equirect_vert,
                    fragmentShader: Ur.equirect_frag
                },
                distanceRGBA: {
                    uniforms: {lightPos: {value: new Rt}},
                    vertexShader: Ur.distanceRGBA_vert,
                    fragmentShader: Ur.distanceRGBA_frag
                }
            };
            Gr.physical = {
                uniforms: Nr.merge([Gr.standard.uniforms, {
                    clearCoat: {value: 0},
                    clearCoatRoughness: {value: 0}
                }]), vertexShader: Ur.meshphysical_vert, fragmentShader: Ur.meshphysical_frag
            }, z.prototype = {
                constructor: z, set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                }, setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                }, setFromCenterAndSize: (Br = new V, function (t, e) {
                    var i = Br.copy(e).multiplyScalar(.5);
                    return this.min.copy(t).sub(i), this.max.copy(t).add(i), this
                }), clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                }, makeEmpty: function () {
                    return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
                }, isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                }, getCenter: function (t) {
                    return t = t || new V, this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                }, getSize: function (t) {
                    return t = t || new V, this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
                }, expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                }, expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                }, expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                }, containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
                }, containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
                }, getParameter: function (t, e) {
                    return (e || new V).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
                }, intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
                }, clampPoint: function (t, e) {
                    return (e || new V).copy(t).clamp(this.min, this.max)
                }, distanceToPoint: (Fr = new V, function (t) {
                    return Fr.copy(t).clamp(this.min, this.max).sub(t).length()
                }), intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this
                }, union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                }, translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                }, equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            };
            var kr, Vr, Wr, Hr, Xr, jr, Yr, qr, Zr, Jr, Qr, Kr, $r, ta, ea, ia, na, ra, aa, oa, sa, ha, la, ca, ua, pa,
                da, fa, ma, ga, va = 0;
            N.prototype = {
                constructor: N, isMaterial: !0, get needsUpdate() {
                    return this._needsUpdate
                }, set needsUpdate(t) {
                    !0 === t && this.update(), this._needsUpdate = t
                }, setValues: function (t) {
                    if (void 0 !== t) for (var e in t) {
                        var i = t[e];
                        if (void 0 === i) ; else {
                            var n = this[e];
                            void 0 === n ? this.type : n && n.isColor ? n.set(i) : n && n.isVector3 && i && i.isVector3 ? n.copy(i) : this[e] = "overdraw" === e ? Number(i) : i
                        }
                    }
                }, toJSON: function (t) {
                    function e(t) {
                        var e, i = [];
                        for (e in t) {
                            var n = t[e];
                            delete n.metadata, i.push(n)
                        }
                        return i
                    }

                    var i = void 0 === t;
                    i && (t = {textures: {}, images: {}});
                    var n = {metadata: {version: 4.4, type: "Material", generator: "Material.toJSON"}};
                    return n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color && this.color.isColor && (n.color = this.color.getHex()), void 0 !== this.roughness && (n.roughness = this.roughness), void 0 !== this.metalness && (n.metalness = this.metalness), this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()), this.specular && this.specular.isColor && (n.specular = this.specular.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), void 0 !== this.clearCoat && (n.clearCoat = this.clearCoat), void 0 !== this.clearCoatRoughness && (n.clearCoatRoughness = this.clearCoatRoughness), this.map && this.map.isTexture && (n.map = this.map.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(t).uuid), this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(t).uuid, n.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(t).uuid, n.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(t).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(t).uuid, n.reflectivity = this.reflectivity), this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(t).uuid), void 0 !== this.size && (n.size = this.size), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), 1 !== this.blending && (n.blending = this.blending), 2 !== this.shading && (n.shading = this.shading), 0 !== this.side && (n.side = this.side), 0 !== this.vertexColors && (n.vertexColors = this.vertexColors), this.opacity < 1 && (n.opacity = this.opacity), !0 === this.transparent && (n.transparent = this.transparent), n.depthFunc = this.depthFunc, n.depthTest = this.depthTest, n.depthWrite = this.depthWrite, 0 < this.alphaTest && (n.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (n.wireframe = this.wireframe), 1 < this.wireframeLinewidth && (n.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin), n.skinning = this.skinning, n.morphTargets = this.morphTargets, i && (i = e(t.textures), t = e(t.images), 0 < i.length && (n.textures = i), 0 < t.length && (n.images = t)), n
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.shading = t.shading, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this.clipShadows = t.clipShadows, this.clipIntersection = t.clipIntersection;
                    var e = null;
                    if (null !== (t = t.clippingPlanes)) for (var i = t.length, n = (e = Array(i), 0); n !== i; ++n) e[n] = t[n].clone();
                    return this.clippingPlanes = e, this
                }, update: function () {
                    this.dispatchEvent({type: "update"})
                }, dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }, (0, Is.default)(N.prototype, e.prototype), ((Ft.prototype = (0, Rs.default)(N.prototype)).constructor = Ft).prototype.isShaderMaterial = !0, Ft.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = Nr.clone(t.uniforms), this.defines = t.defines, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
            }, Ft.prototype.toJSON = function (t) {
                return (t = N.prototype.toJSON.call(this, t)).uniforms = this.uniforms, t.vertexShader = this.vertexShader, t.fragmentShader = this.fragmentShader, t
            }, ((G.prototype = (0, Rs.default)(N.prototype)).constructor = G).prototype.isMeshDepthMaterial = !0, G.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
            }, U.prototype = {
                constructor: U, isBox3: !0, set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                }, setFromArray: function (t) {
                    for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, h = t.length; s < h; s += 3) {
                        var l = t[s], c = t[s + 1], u = t[s + 2];
                        l < e && (e = l), c < i && (i = c), u < n && (n = u), r < l && (r = l), a < c && (a = c), o < u && (o = u)
                    }
                    return this.min.set(e, i, n), this.max.set(r, a, o), this
                }, setFromBufferAttribute: function (t) {
                    for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, h = t.count; s < h; s++) {
                        var l = t.getX(s), c = t.getY(s), u = t.getZ(s);
                        l < e && (e = l), c < i && (i = c), u < n && (n = u), r < l && (r = l), a < c && (a = c), o < u && (o = u)
                    }
                    return this.min.set(e, i, n), this.max.set(r, a, o), this
                }, setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                }, setFromCenterAndSize: (jr = new Rt, function (t, e) {
                    var i = jr.copy(e).multiplyScalar(.5);
                    return this.min.copy(t).sub(i), this.max.copy(t).add(i), this
                }), setFromObject: function (t) {
                    return this.makeEmpty(), this.expandByObject(t)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                }, makeEmpty: function () {
                    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
                }, isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                }, getCenter: function (t) {
                    return t = t || new Rt, this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                }, getSize: function (t) {
                    return t = t || new Rt, this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
                }, expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                }, expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                }, expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                }, expandByObject: (Xr = new Rt, function (t) {
                    var r = this;
                    return t.updateMatrixWorld(!0), t.traverse(function (t) {
                        var e, i;
                        if (void 0 !== (e = t.geometry)) if (e.isGeometry) {
                            var n = e.vertices;
                            for (e = 0, i = n.length; e < i; e++) Xr.copy(n[e]), Xr.applyMatrix4(t.matrixWorld), r.expandByPoint(Xr)
                        } else if (e.isBufferGeometry && void 0 !== (n = e.attributes.position)) for (e = 0, i = n.count; e < i; e++) Xr.fromBufferAttribute(n, e).applyMatrix4(t.matrixWorld), r.expandByPoint(Xr)
                    }), this
                }), containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
                }, containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
                }, getParameter: function (t, e) {
                    return (e || new Rt).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
                }, intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
                }, intersectsSphere: function (t) {
                    return void 0 === Hr && (Hr = new Rt), this.clampPoint(t.center, Hr), Hr.distanceToSquared(t.center) <= t.radius * t.radius
                }, intersectsPlane: function (t) {
                    var e, i;
                    return i = 0 < t.normal.x ? (e = t.normal.x * this.min.x, t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, t.normal.x * this.min.x), 0 < t.normal.y ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), 0 < t.normal.z ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= t.constant && i >= t.constant
                }, clampPoint: function (t, e) {
                    return (e || new Rt).copy(t).clamp(this.min, this.max)
                }, distanceToPoint: (Wr = new Rt, function (t) {
                    return Wr.copy(t).clamp(this.min, this.max).sub(t).length()
                }), getBoundingSphere: (Vr = new Rt, function (t) {
                    return t = t || new Bt, this.getCenter(t.center), t.radius = .5 * this.getSize(Vr).length(), t
                }), intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
                }, union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                }, applyMatrix4: (kr = [new Rt, new Rt, new Rt, new Rt, new Rt, new Rt, new Rt, new Rt], function (t) {
                    return this.isEmpty() || (kr[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), kr[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), kr[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), kr[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), kr[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), kr[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), kr[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), kr[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(kr)), this
                }), translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                }, equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }, Bt.prototype = {
                constructor: Bt, set: function (t, e) {
                    return this.center.copy(t), this.radius = e, this
                }, setFromPoints: function (t, e) {
                    void 0 === Yr && (Yr = new U);
                    var i = this.center;
                    void 0 !== e ? i.copy(e) : Yr.setFromPoints(t).getCenter(i);
                    for (var n = 0, r = 0, a = t.length; r < a; r++) n = Math.max(n, i.distanceToSquared(t[r]));
                    return this.radius = Math.sqrt(n), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.center.copy(t.center), this.radius = t.radius, this
                }, empty: function () {
                    return this.radius <= 0
                }, containsPoint: function (t) {
                    return t.distanceToSquared(this.center) <= this.radius * this.radius
                }, distanceToPoint: function (t) {
                    return t.distanceTo(this.center) - this.radius
                }, intersectsSphere: function (t) {
                    var e = this.radius + t.radius;
                    return t.center.distanceToSquared(this.center) <= e * e
                }, intersectsBox: function (t) {
                    return t.intersectsSphere(this)
                }, intersectsPlane: function (t) {
                    return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius
                }, clampPoint: function (t, e) {
                    var i = this.center.distanceToSquared(t), n = e || new Rt;
                    return n.copy(t), i > this.radius * this.radius && (n.sub(this.center).normalize(), n.multiplyScalar(this.radius).add(this.center)), n
                }, getBoundingBox: function (t) {
                    return (t = t || new U).set(this.center, this.center), t.expandByScalar(this.radius), t
                }, applyMatrix4: function (t) {
                    return this.center.applyMatrix4(t), this.radius *= t.getMaxScaleOnAxis(), this
                }, translate: function (t) {
                    return this.center.add(t), this
                }, equals: function (t) {
                    return t.center.equals(this.center) && t.radius === this.radius
                }
            }, F.prototype = {
                constructor: F, isMatrix3: !0, set: function (t, e, i, n, r, a, o, s, h) {
                    var l = this.elements;
                    return l[0] = t, l[1] = n, l[2] = o, l[3] = e, l[4] = r, l[5] = s, l[6] = i, l[7] = a, l[8] = h, this
                }, identity: function () {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                }, clone: function () {
                    return (new this.constructor).fromArray(this.elements)
                }, copy: function (t) {
                    return t = t.elements, this.set(t[0], t[3], t[6], t[1], t[4], t[7], t[2], t[5], t[8]), this
                }, setFromMatrix4: function (t) {
                    return t = t.elements, this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]), this
                }, applyToBufferAttribute: function (t) {
                    void 0 === qr && (qr = new Rt);
                    for (var e = 0, i = t.count; e < i; e++) qr.x = t.getX(e), qr.y = t.getY(e), qr.z = t.getZ(e), qr.applyMatrix3(this), t.setXYZ(e, qr.x, qr.y, qr.z);
                    return t
                }, multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
                }, determinant: function () {
                    var t, e = (t = this.elements)[0], i = t[1], n = t[2], r = t[3], a = t[4], o = t[5], s = t[6],
                        h = t[7];
                    return e * a * (t = t[8]) - e * o * h - i * r * t + i * o * s + n * r * h - n * a * s
                }, getInverse: function (t, e) {
                    t && t.isMatrix4;
                    var i = t.elements, n = this.elements, r = i[0], a = i[1], o = i[2], s = i[3], h = i[4], l = i[5],
                        c = i[6], u = i[7], p = (i = i[8]) * h - l * u, d = l * c - i * s, f = u * s - h * c,
                        m = r * p + a * d + o * f;
                    if (0 !== m) return m = 1 / m, n[0] = p * m, n[1] = (o * u - i * a) * m, n[2] = (l * a - o * h) * m, n[3] = d * m, n[4] = (i * r - o * c) * m, n[5] = (o * s - l * r) * m, n[6] = f * m, n[7] = (a * c - u * r) * m, n[8] = (h * r - a * s) * m, this;
                    if (!0 === e) throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
                    return this.identity()
                }, transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
                }, getNormalMatrix: function (t) {
                    return this.setFromMatrix4(t).getInverse(this).transpose()
                }, transposeIntoArray: function (t) {
                    var e = this.elements;
                    return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 9; i++) this.elements[i] = t[i + e];
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t
                }
            }, k.prototype = {
                constructor: k, set: function (t, e) {
                    return this.normal.copy(t), this.constant = e, this
                }, setComponents: function (t, e, i, n) {
                    return this.normal.set(t, e, i), this.constant = n, this
                }, setFromNormalAndCoplanarPoint: function (t, e) {
                    return this.normal.copy(t), this.constant = -e.dot(this.normal), this
                }, setFromCoplanarPoints: (Kr = new Rt, $r = new Rt, function (t, e, i) {
                    return e = Kr.subVectors(i, e).cross($r.subVectors(t, e)).normalize(), this.setFromNormalAndCoplanarPoint(e, t), this
                }), clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.normal.copy(t.normal), this.constant = t.constant, this
                }, normalize: function () {
                    var t = 1 / this.normal.length();
                    return this.normal.multiplyScalar(t), this.constant *= t, this
                }, negate: function () {
                    return this.constant *= -1, this.normal.negate(), this
                }, distanceToPoint: function (t) {
                    return this.normal.dot(t) + this.constant
                }, distanceToSphere: function (t) {
                    return this.distanceToPoint(t.center) - t.radius
                }, projectPoint: function (t, e) {
                    return this.orthoPoint(t, e).sub(t).negate()
                }, orthoPoint: function (t, e) {
                    var i = this.distanceToPoint(t);
                    return (e || new Rt).copy(this.normal).multiplyScalar(i)
                }, intersectLine: (Qr = new Rt, function (t, e) {
                    var i = e || new Rt, n = t.delta(Qr), r = this.normal.dot(n);
                    return 0 !== r ? (r = -(t.start.dot(this.normal) + this.constant) / r) < 0 || 1 < r ? void 0 : i.copy(n).multiplyScalar(r).add(t.start) : 0 === this.distanceToPoint(t.start) ? i.copy(t.start) : void 0
                }), intersectsLine: function (t) {
                    var e = this.distanceToPoint(t.start);
                    return t = this.distanceToPoint(t.end), e < 0 && 0 < t || t < 0 && 0 < e
                }, intersectsBox: function (t) {
                    return t.intersectsPlane(this)
                }, intersectsSphere: function (t) {
                    return t.intersectsPlane(this)
                }, coplanarPoint: function (t) {
                    return (t || new Rt).copy(this.normal).multiplyScalar(-this.constant)
                }, applyMatrix4: (Zr = new Rt, Jr = new F, function (t, e) {
                    var i = this.coplanarPoint(Zr).applyMatrix4(t), n = e || Jr.getNormalMatrix(t);
                    return n = this.normal.applyMatrix3(n).normalize(), this.constant = -i.dot(n), this
                }), translate: function (t) {
                    return this.constant -= t.dot(this.normal), this
                }, equals: function (t) {
                    return t.normal.equals(this.normal) && t.constant === this.constant
                }
            }, Ot.prototype = {
                constructor: Ot, set: function (t, e, i, n, r, a) {
                    var o = this.planes;
                    return o[0].copy(t), o[1].copy(e), o[2].copy(i), o[3].copy(n), o[4].copy(r), o[5].copy(a), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) e[i].copy(t.planes[i]);
                    return this
                }, setFromMatrix: function (t) {
                    var e = this.planes;
                    t = (g = t.elements)[0];
                    var i = g[1], n = g[2], r = g[3], a = g[4], o = g[5], s = g[6], h = g[7], l = g[8], c = g[9],
                        u = g[10], p = g[11], d = g[12], f = g[13], m = g[14], g = g[15];
                    return e[0].setComponents(r - t, h - a, p - l, g - d).normalize(), e[1].setComponents(r + t, h + a, p + l, g + d).normalize(), e[2].setComponents(r + i, h + o, p + c, g + f).normalize(), e[3].setComponents(r - i, h - o, p - c, g - f).normalize(), e[4].setComponents(r - n, h - s, p - u, g - m).normalize(), e[5].setComponents(r + n, h + s, p + u, g + m).normalize(), this
                }, intersectsObject: (na = new Bt, function (t) {
                    var e = t.geometry;
                    return null === e.boundingSphere && e.computeBoundingSphere(), na.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), this.intersectsSphere(na)
                }), intersectsSprite: (ia = new Bt, function (t) {
                    return ia.center.set(0, 0, 0), ia.radius = .7071067811865476, ia.applyMatrix4(t.matrixWorld), this.intersectsSphere(ia)
                }), intersectsSphere: function (t) {
                    var e = this.planes, i = t.center;
                    t = -t.radius;
                    for (var n = 0; n < 6; n++) if (e[n].distanceToPoint(i) < t) return !1;
                    return !0
                }, intersectsBox: (ta = new Rt, ea = new Rt, function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) {
                        var n = e[i];
                        ta.x = 0 < n.normal.x ? t.min.x : t.max.x, ea.x = 0 < n.normal.x ? t.max.x : t.min.x, ta.y = 0 < n.normal.y ? t.min.y : t.max.y, ea.y = 0 < n.normal.y ? t.max.y : t.min.y, ta.z = 0 < n.normal.z ? t.min.z : t.max.z, ea.z = 0 < n.normal.z ? t.max.z : t.min.z;
                        var r = n.distanceToPoint(ta);
                        if (n = n.distanceToPoint(ea), r < 0 && n < 0) return !1
                    }
                    return !0
                }), containsPoint: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) if (e[i].distanceToPoint(t) < 0) return !1;
                    return !0
                }
            }, W.prototype = {
                constructor: W, set: function (t, e) {
                    return this.origin.copy(t), this.direction.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.origin.copy(t.origin), this.direction.copy(t.direction), this
                }, at: function (t, e) {
                    return (e || new Rt).copy(this.direction).multiplyScalar(t).add(this.origin)
                }, lookAt: function (t) {
                    return this.direction.copy(t).sub(this.origin).normalize(), this
                }, recast: (fa = new Rt, function (t) {
                    return this.origin.copy(this.at(t, fa)), this
                }), closestPointToPoint: function (t, e) {
                    var i = e || new Rt;
                    i.subVectors(t, this.origin);
                    var n = i.dot(this.direction);
                    return n < 0 ? i.copy(this.origin) : i.copy(this.direction).multiplyScalar(n).add(this.origin)
                }, distanceToPoint: function (t) {
                    return Math.sqrt(this.distanceSqToPoint(t))
                }, distanceSqToPoint: (da = new Rt, function (t) {
                    var e = da.subVectors(t, this.origin).dot(this.direction);
                    return e < 0 ? this.origin.distanceToSquared(t) : (da.copy(this.direction).multiplyScalar(e).add(this.origin), da.distanceToSquared(t))
                }), distanceSqToSegment: (ca = new Rt, ua = new Rt, pa = new Rt, function (t, e, i, n) {
                    ca.copy(t).add(e).multiplyScalar(.5), ua.copy(e).sub(t).normalize(), pa.copy(this.origin).sub(ca);
                    var r, a = .5 * t.distanceTo(e), o = -this.direction.dot(ua), s = pa.dot(this.direction),
                        h = -pa.dot(ua), l = pa.lengthSq(), c = Math.abs(1 - o * o);
                    return o = 0 < c ? (e = o * s - h, r = a * c, 0 <= (t = o * h - s) ? -r <= e ? e <= r ? (t *= a = 1 / c) * (t + o * (e *= a) + 2 * s) + e * (o * t + e + 2 * h) + l : (e = a, -(t = Math.max(0, -(o * e + s))) * t + e * (e + 2 * h) + l) : (e = -a, -(t = Math.max(0, -(o * e + s))) * t + e * (e + 2 * h) + l) : e <= -r ? -(t = Math.max(0, -(-o * a + s))) * t + (e = 0 < t ? -a : Math.min(Math.max(-a, -h), a)) * (e + 2 * h) + l : e <= r ? (t = 0, (e = Math.min(Math.max(-a, -h), a)) * (e + 2 * h) + l) : -(t = Math.max(0, -(o * a + s))) * t + (e = 0 < t ? a : Math.min(Math.max(-a, -h), a)) * (e + 2 * h) + l) : (e = 0 < o ? -a : a, -(t = Math.max(0, -(o * e + s))) * t + e * (e + 2 * h) + l), i && i.copy(this.direction).multiplyScalar(t).add(this.origin), n && n.copy(ua).multiplyScalar(e).add(ca), o
                }), intersectSphere: (la = new Rt, function (t, e) {
                    la.subVectors(t.center, this.origin);
                    var i = la.dot(this.direction), n = la.dot(la) - i * i, r = t.radius * t.radius;
                    return r < n ? null : (n = i - (r = Math.sqrt(r - n)), i += r, n < 0 && i < 0 ? null : n < 0 ? this.at(i, e) : this.at(n, e))
                }), intersectsSphere: function (t) {
                    return this.distanceToPoint(t.center) <= t.radius
                }, distanceToPlane: function (t) {
                    var e = t.normal.dot(this.direction);
                    return 0 === e ? 0 === t.distanceToPoint(this.origin) ? 0 : null : 0 <= (t = -(this.origin.dot(t.normal) + t.constant) / e) ? t : null
                }, intersectPlane: function (t, e) {
                    var i = this.distanceToPlane(t);
                    return null === i ? null : this.at(i, e)
                }, intersectsPlane: function (t) {
                    var e = t.distanceToPoint(this.origin);
                    return 0 === e || t.normal.dot(this.direction) * e < 0
                }, intersectBox: function (t, e) {
                    var i, n, r, a, o;
                    n = 1 / this.direction.x, a = 1 / this.direction.y, o = 1 / this.direction.z;
                    var s = this.origin;
                    return 0 <= n ? (i = (t.min.x - s.x) * n, n *= t.max.x - s.x) : (i = (t.max.x - s.x) * n, n *= t.min.x - s.x), 0 <= a ? (r = (t.min.y - s.y) * a, a *= t.max.y - s.y) : (r = (t.max.y - s.y) * a, a *= t.min.y - s.y), a < i || n < r ? null : ((i < r || i != i) && (i = r), (a < n || n != n) && (n = a), 0 <= o ? (r = (t.min.z - s.z) * o, o *= t.max.z - s.z) : (r = (t.max.z - s.z) * o, o *= t.min.z - s.z), o < i || n < r ? null : ((i < r || i != i) && (i = r), (o < n || n != n) && (n = o), n < 0 ? null : this.at(0 <= i ? i : n, e)))
                }, intersectsBox: (ha = new Rt, function (t) {
                    return null !== this.intersectBox(t, ha)
                }), intersectTriangle: (ra = new Rt, aa = new Rt, oa = new Rt, sa = new Rt, function (t, e, i, n, r) {
                    if (aa.subVectors(e, t), oa.subVectors(i, t), sa.crossVectors(aa, oa), 0 < (e = this.direction.dot(sa))) {
                        if (n) return null;
                        n = 1
                    } else {
                        if (!(e < 0)) return null;
                        n = -1, e = -e
                    }
                    return ra.subVectors(this.origin, t), (t = n * this.direction.dot(oa.crossVectors(ra, oa))) < 0 ? null : (i = n * this.direction.dot(aa.cross(ra))) < 0 || e < t + i ? null : (t = -n * ra.dot(sa)) < 0 ? null : this.at(t / e, r)
                }), applyMatrix4: function (t) {
                    return this.direction.add(this.origin).applyMatrix4(t), this.origin.applyMatrix4(t), this.direction.sub(this.origin), this.direction.normalize(), this
                }, equals: function (t) {
                    return t.origin.equals(this.origin) && t.direction.equals(this.direction)
                }
            }, H.RotationOrders = "XYZ YZX ZXY XZY YXZ ZYX".split(" "), H.DefaultOrder = "XYZ", H.prototype = {
                constructor: H, isEuler: !0, get x() {
                    return this._x
                }, set x(t) {
                    this._x = t, this.onChangeCallback()
                }, get y() {
                    return this._y
                }, set y(t) {
                    this._y = t, this.onChangeCallback()
                }, get z() {
                    return this._z
                }, set z(t) {
                    this._z = t, this.onChangeCallback()
                }, get order() {
                    return this._order
                }, set order(t) {
                    this._order = t, this.onChangeCallback()
                }, set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this.onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                }, copy: function (t) {
                    return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this
                }, setFromRotationMatrix: function (t, e, i) {
                    var n = hr.clamp;
                    t = (u = t.elements)[0];
                    var r = u[4], a = u[8], o = u[1], s = u[5], h = u[9], l = u[2], c = u[6], u = u[10];
                    return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(n(a, -1, 1)), Math.abs(a) < .99999 ? (this._x = Math.atan2(-h, u), this._z = Math.atan2(-r, t)) : (this._x = Math.atan2(c, s), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-n(h, -1, 1)), Math.abs(h) < .99999 ? (this._y = Math.atan2(a, u), this._z = Math.atan2(o, s)) : (this._y = Math.atan2(-l, t), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(n(c, -1, 1)), Math.abs(c) < .99999 ? (this._y = Math.atan2(-l, u), this._z = Math.atan2(-r, s)) : (this._y = 0, this._z = Math.atan2(o, t))) : "ZYX" === e ? (this._y = Math.asin(-n(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(c, u), this._z = Math.atan2(o, t)) : (this._x = 0, this._z = Math.atan2(-r, s))) : "YZX" === e ? (this._z = Math.asin(n(o, -1, 1)), Math.abs(o) < .99999 ? (this._x = Math.atan2(-h, s), this._y = Math.atan2(-l, t)) : (this._x = 0, this._y = Math.atan2(a, u))) : "XZY" === e && (this._z = Math.asin(-n(r, -1, 1)), Math.abs(r) < .99999 ? (this._x = Math.atan2(c, s), this._y = Math.atan2(a, t)) : (this._x = Math.atan2(-h, u), this._y = 0)), this._order = e, !1 !== i && this.onChangeCallback(), this
                }, setFromQuaternion: function (t, e, i) {
                    return void 0 === ga && (ga = new It), ga.makeRotationFromQuaternion(t), this.setFromRotationMatrix(ga, e, i)
                }, setFromVector3: function (t, e) {
                    return this.set(t.x, t.y, t.z, e || this._order)
                }, reorder: (ma = new s, function (t) {
                    return ma.setFromEuler(this), this.setFromQuaternion(ma, t)
                }), equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
                }, fromArray: function (t) {
                    return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
                }, toVector3: function (t) {
                    return t ? t.set(this._x, this._y, this._z) : new Rt(this._x, this._y, this._z)
                }, onChange: function (t) {
                    return this.onChangeCallback = t, this
                }, onChangeCallback: function () {
                }
            }, X.prototype = {
                constructor: X, set: function (t) {
                    this.mask = 1 << t
                }, enable: function (t) {
                    this.mask |= 1 << t
                }, toggle: function (t) {
                    this.mask ^= 1 << t
                }, disable: function (t) {
                    this.mask &= ~(1 << t)
                }, test: function (t) {
                    return 0 != (this.mask & t.mask)
                }
            };
            var ya, xa, _a, Ma, wa, ba, Sa, Ta, Aa, Ea, La, Pa, Ca, Ra, Ia, Da, Na, Ua, za, Fa, Ba, Oa, Ga, ka, Va, Wa,
                Ha, Xa, ja, Ya = 0;
            j.DefaultUp = new Rt(0, 1, 0), j.DefaultMatrixAutoUpdate = !0, j.prototype = {
                constructor: j, isObject3D: !0, applyMatrix: function (t) {
                    this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale)
                }, setRotationFromAxisAngle: function (t, e) {
                    this.quaternion.setFromAxisAngle(t, e)
                }, setRotationFromEuler: function (t) {
                    this.quaternion.setFromEuler(t, !0)
                }, setRotationFromMatrix: function (t) {
                    this.quaternion.setFromRotationMatrix(t)
                }, setRotationFromQuaternion: function (t) {
                    this.quaternion.copy(t)
                }, rotateOnAxis: (Da = new s, function (t, e) {
                    return Da.setFromAxisAngle(t, e), this.quaternion.multiply(Da), this
                }), rotateX: (Ia = new Rt(1, 0, 0), function (t) {
                    return this.rotateOnAxis(Ia, t)
                }), rotateY: (Ra = new Rt(0, 1, 0), function (t) {
                    return this.rotateOnAxis(Ra, t)
                }), rotateZ: (Ca = new Rt(0, 0, 1), function (t) {
                    return this.rotateOnAxis(Ca, t)
                }), translateOnAxis: (Pa = new Rt, function (t, e) {
                    return Pa.copy(t).applyQuaternion(this.quaternion), this.position.add(Pa.multiplyScalar(e)), this
                }), translateX: (La = new Rt(1, 0, 0), function (t) {
                    return this.translateOnAxis(La, t)
                }), translateY: (Ea = new Rt(0, 1, 0), function (t) {
                    return this.translateOnAxis(Ea, t)
                }), translateZ: (Aa = new Rt(0, 0, 1), function (t) {
                    return this.translateOnAxis(Aa, t)
                }), localToWorld: function (t) {
                    return t.applyMatrix4(this.matrixWorld)
                }, worldToLocal: (Ta = new It, function (t) {
                    return t.applyMatrix4(Ta.getInverse(this.matrixWorld))
                }), lookAt: (Sa = new It, function (t) {
                    Sa.lookAt(t, this.position, this.up), this.quaternion.setFromRotationMatrix(Sa)
                }), add: function (t) {
                    if (1 < arguments.length) {
                        for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
                        return this
                    }
                    return t === this || t && t.isObject3D && (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({type: "added"}), this.children.push(t)), this
                }, remove: function (t) {
                    if (1 < arguments.length) for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]);
                    -1 !== (e = this.children.indexOf(t)) && (t.parent = null, t.dispatchEvent({type: "removed"}), this.children.splice(e, 1))
                }, getObjectById: function (t) {
                    return this.getObjectByProperty("id", t)
                }, getObjectByName: function (t) {
                    return this.getObjectByProperty("name", t)
                }, getObjectByProperty: function (t, e) {
                    if (this[t] === e) return this;
                    for (var i = 0, n = this.children.length; i < n; i++) {
                        var r = this.children[i].getObjectByProperty(t, e);
                        if (void 0 !== r) return r
                    }
                }, getWorldPosition: function (t) {
                    return t = t || new Rt, this.updateMatrixWorld(!0), t.setFromMatrixPosition(this.matrixWorld)
                }, getWorldQuaternion: (wa = new Rt, ba = new Rt, function (t) {
                    return t = t || new s, this.updateMatrixWorld(!0), this.matrixWorld.decompose(wa, t, ba), t
                }), getWorldRotation: (Ma = new s, function (t) {
                    return t = t || new H, this.getWorldQuaternion(Ma), t.setFromQuaternion(Ma, this.rotation.order, !1)
                }), getWorldScale: (xa = new Rt, _a = new s, function (t) {
                    return t = t || new Rt, this.updateMatrixWorld(!0), this.matrixWorld.decompose(xa, _a, t), t
                }), getWorldDirection: (ya = new s, function (t) {
                    return t = t || new Rt, this.getWorldQuaternion(ya), t.set(0, 0, 1).applyQuaternion(ya)
                }), raycast: function () {
                }, traverse: function (t) {
                    t(this);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverse(t)
                }, traverseVisible: function (t) {
                    if (!1 !== this.visible) {
                        t(this);
                        for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverseVisible(t)
                    }
                }, traverseAncestors: function (t) {
                    var e = this.parent;
                    null !== e && (t(e), e.traverseAncestors(t))
                }, updateMatrix: function () {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                }, updateMatrixWorld: function (t) {
                    !0 === this.matrixAutoUpdate && this.updateMatrix(), !0 !== this.matrixWorldNeedsUpdate && !0 !== t || (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), t = !(this.matrixWorldNeedsUpdate = !1));
                    for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].updateMatrixWorld(t)
                }, toJSON: function (t) {
                    function e(t) {
                        var e, i = [];
                        for (e in t) {
                            var n = t[e];
                            delete n.metadata, i.push(n)
                        }
                        return i
                    }

                    var i = {};
                    (a = void 0 === t || "" === t) && (t = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {}
                    }, i.metadata = {version: 4.4, type: "Object", generator: "Object3D.toJSON"});
                    var n = {};
                    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), "{}" !== (0, Cs.default)(this.userData) && (n.userData = this.userData), !0 === this.castShadow && (n.castShadow = !0), !0 === this.receiveShadow && (n.receiveShadow = !0), !1 === this.visible && (n.visible = !1), n.matrix = this.matrix.toArray(), void 0 !== this.geometry && (void 0 === t.geometries[this.geometry.uuid] && (t.geometries[this.geometry.uuid] = this.geometry.toJSON(t)), n.geometry = this.geometry.uuid), void 0 !== this.material && (void 0 === t.materials[this.material.uuid] && (t.materials[this.material.uuid] = this.material.toJSON(t)), n.material = this.material.uuid), 0 < this.children.length) {
                        n.children = [];
                        for (var r = 0; r < this.children.length; r++) n.children.push(this.children[r].toJSON(t).object)
                    }
                    if (a) {
                        var a = e(t.geometries), o = (r = e(t.materials), e(t.textures));
                        t = e(t.images), 0 < a.length && (i.geometries = a), 0 < r.length && (i.materials = r), 0 < o.length && (i.textures = o), 0 < t.length && (i.images = t)
                    }
                    return i.object = n, i
                }, clone: function (t) {
                    return (new this.constructor).copy(this, t)
                }, copy: function (t, e) {
                    if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse((0, Cs.default)(t.userData)), !0 === e) for (var i = 0; i < t.children.length; i++) this.add(t.children[i].clone());
                    return this
                }
            }, (0, Is.default)(j.prototype, e.prototype), Y.prototype = {
                constructor: Y, set: function (t, e) {
                    return this.start.copy(t), this.end.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.start.copy(t.start), this.end.copy(t.end), this
                }, getCenter: function (t) {
                    return (t || new Rt).addVectors(this.start, this.end).multiplyScalar(.5)
                }, delta: function (t) {
                    return (t || new Rt).subVectors(this.end, this.start)
                }, distanceSq: function () {
                    return this.start.distanceToSquared(this.end)
                }, distance: function () {
                    return this.start.distanceTo(this.end)
                }, at: function (t, e) {
                    var i = e || new Rt;
                    return this.delta(i).multiplyScalar(t).add(this.start)
                }, closestPointToPointParameter: (Na = new Rt, Ua = new Rt, function (t, e) {
                    Na.subVectors(t, this.start), Ua.subVectors(this.end, this.start);
                    var i = Ua.dot(Ua);
                    return i = Ua.dot(Na) / i, e && (i = hr.clamp(i, 0, 1)), i
                }), closestPointToPoint: function (t, e, i) {
                    return t = this.closestPointToPointParameter(t, e), i = i || new Rt, this.delta(i).multiplyScalar(t).add(this.start)
                }, applyMatrix4: function (t) {
                    return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
                }, equals: function (t) {
                    return t.start.equals(this.start) && t.end.equals(this.end)
                }
            }, q.normal = (za = new Rt, function (t, e, i, n) {
                return (n = n || new Rt).subVectors(i, e), za.subVectors(t, e), n.cross(za), 0 < (t = n.lengthSq()) ? n.multiplyScalar(1 / Math.sqrt(t)) : n.set(0, 0, 0)
            }), q.barycoordFromPoint = (Fa = new Rt, Ba = new Rt, Oa = new Rt, function (t, e, i, n, r) {
                Fa.subVectors(n, e), Ba.subVectors(i, e), Oa.subVectors(t, e), t = Fa.dot(Fa), e = Fa.dot(Ba), i = Fa.dot(Oa);
                var a = Ba.dot(Ba);
                n = Ba.dot(Oa);
                var o = t * a - e * e;
                return r = r || new Rt, 0 === o ? r.set(-2, -1, -1) : (a = (a * i - e * n) * (o = 1 / o), t = (t * n - e * i) * o, r.set(1 - a - t, t, a))
            }), q.containsPoint = (Ga = new Rt, function (t, e, i, n) {
                return 0 <= (t = q.barycoordFromPoint(t, e, i, n, Ga)).x && 0 <= t.y && t.x + t.y <= 1
            }), q.prototype = {
                constructor: q, set: function (t, e, i) {
                    return this.a.copy(t), this.b.copy(e), this.c.copy(i), this
                }, setFromPointsAndIndices: function (t, e, i, n) {
                    return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
                }, area: (Xa = new Rt, ja = new Rt, function () {
                    return Xa.subVectors(this.c, this.b), ja.subVectors(this.a, this.b), .5 * Xa.cross(ja).length()
                }), midpoint: function (t) {
                    return (t || new Rt).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                }, normal: function (t) {
                    return q.normal(this.a, this.b, this.c, t)
                }, plane: function (t) {
                    return (t || new k).setFromCoplanarPoints(this.a, this.b, this.c)
                }, barycoordFromPoint: function (t, e) {
                    return q.barycoordFromPoint(t, this.a, this.b, this.c, e)
                }, containsPoint: function (t) {
                    return q.containsPoint(t, this.a, this.b, this.c)
                }, closestPointToPoint: function (t, e) {
                    void 0 === ka && (ka = new k, Va = [new Y, new Y, new Y], Wa = new Rt, Ha = new Rt);
                    var i = e || new Rt, n = 1 / 0;
                    if (ka.setFromCoplanarPoints(this.a, this.b, this.c), ka.projectPoint(t, Wa), !0 === this.containsPoint(Wa)) i.copy(Wa); else {
                        Va[0].set(this.a, this.b), Va[1].set(this.b, this.c), Va[2].set(this.c, this.a);
                        for (var r = 0; r < Va.length; r++) {
                            Va[r].closestPointToPoint(Wa, !0, Ha);
                            var a = Wa.distanceToSquared(Ha);
                            a < n && (n = a, i.copy(Ha))
                        }
                    }
                    return i
                }, equals: function (t) {
                    return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
                }
            }, Z.prototype = {
                constructor: Z, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
                    for (var e = 0, i = t.vertexNormals.length; e < i; e++) this.vertexNormals[e] = t.vertexNormals[e].clone();
                    for (e = 0, i = t.vertexColors.length; e < i; e++) this.vertexColors[e] = t.vertexColors[e].clone();
                    return this
                }
            }, ((kt.prototype = (0, Rs.default)(N.prototype)).constructor = kt).prototype.isMeshBasicMaterial = !0, kt.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
            }, J.prototype = {
                constructor: J, isBufferAttribute: !0, set needsUpdate(t) {
                    !0 === t && this.version++
                }, setArray: function (t) {
                    if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                    this.count = void 0 !== t ? t.length / this.itemSize : 0, this.array = t
                }, setDynamic: function (t) {
                    return this.dynamic = t, this
                }, copy: function (t) {
                    return this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.dynamic = t.dynamic, this
                }, copyAt: function (t, e, i) {
                    t *= this.itemSize, i *= e.itemSize;
                    for (var n = 0, r = this.itemSize; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                }, copyArray: function (t) {
                    return this.array.set(t), this
                }, copyColorsArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var a = t[n];
                        void 0 === a && (a = new Nt), e[i++] = a.r, e[i++] = a.g, e[i++] = a.b
                    }
                    return this
                }, copyIndicesArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var a = t[n];
                        e[i++] = a.a, e[i++] = a.b, e[i++] = a.c
                    }
                    return this
                }, copyVector2sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var a = t[n];
                        void 0 === a && (a = new V), e[i++] = a.x, e[i++] = a.y
                    }
                    return this
                }, copyVector3sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var a = t[n];
                        void 0 === a && (a = new Rt), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z
                    }
                    return this
                }, copyVector4sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var a = t[n];
                        void 0 === a && (a = new Ct), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z, e[i++] = a.w
                    }
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, getX: function (t) {
                    return this.array[t * this.itemSize]
                }, setX: function (t, e) {
                    return this.array[t * this.itemSize] = e, this
                }, getY: function (t) {
                    return this.array[t * this.itemSize + 1]
                }, setY: function (t, e) {
                    return this.array[t * this.itemSize + 1] = e, this
                }, getZ: function (t) {
                    return this.array[t * this.itemSize + 2]
                }, setZ: function (t, e) {
                    return this.array[t * this.itemSize + 2] = e, this
                }, getW: function (t) {
                    return this.array[t * this.itemSize + 3]
                }, setW: function (t, e) {
                    return this.array[t * this.itemSize + 3] = e, this
                }, setXY: function (t, e, i) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }, clone: function () {
                    return new this.constructor(this.array, this.itemSize).copy(this)
                }
            }, (Q.prototype = (0, Rs.default)(J.prototype)).constructor = Q, (K.prototype = (0, Rs.default)(J.prototype)).constructor = K, ($.prototype = (0, Rs.default)(J.prototype)).constructor = $, (tt.prototype = (0, Rs.default)(J.prototype)).constructor = tt, (et.prototype = (0, Rs.default)(J.prototype)).constructor = et, (it.prototype = (0, Rs.default)(J.prototype)).constructor = it, (nt.prototype = (0, Rs.default)(J.prototype)).constructor = nt, (rt.prototype = (0, Rs.default)(J.prototype)).constructor = rt, (at.prototype = (0, Rs.default)(J.prototype)).constructor = at, (0, Is.default)(ot.prototype, {
                computeGroups: function (t) {
                    var e, i = [], n = void 0;
                    t = t.faces;
                    for (var r = 0; r < t.length; r++) {
                        var a = t[r];
                        a.materialIndex !== n && (n = a.materialIndex, void 0 !== e && (e.count = 3 * r - e.start, i.push(e)), e = {
                            start: 3 * r,
                            materialIndex: n
                        })
                    }
                    void 0 !== e && (e.count = 3 * r - e.start, i.push(e)), this.groups = i
                }, fromGeometry: function (t) {
                    var e, i = t.faces, n = t.vertices, r = t.faceVertexUvs, a = r[0] && 0 < r[0].length,
                        o = r[1] && 0 < r[1].length, s = t.morphTargets, h = s.length;
                    if (0 < h) {
                        e = [];
                        for (var l = 0; l < h; l++) e[l] = [];
                        this.morphTargets.position = e
                    }
                    var c, u = t.morphNormals, p = u.length;
                    if (0 < p) {
                        for (c = [], l = 0; l < p; l++) c[l] = [];
                        this.morphTargets.normal = c
                    }
                    var d = t.skinIndices, f = t.skinWeights, m = d.length === n.length, g = f.length === n.length;
                    for (l = 0; l < i.length; l++) {
                        var v = i[l];
                        this.vertices.push(n[v.a], n[v.b], n[v.c]);
                        var y = v.vertexNormals;
                        for (3 === y.length ? this.normals.push(y[0], y[1], y[2]) : (y = v.normal, this.normals.push(y, y, y)), 3 === (y = v.vertexColors).length ? this.colors.push(y[0], y[1], y[2]) : (y = v.color, this.colors.push(y, y, y)), !0 === a && (void 0 !== (y = r[0][l]) ? this.uvs.push(y[0], y[1], y[2]) : this.uvs.push(new V, new V, new V)), !0 === o && (void 0 !== (y = r[1][l]) ? this.uvs2.push(y[0], y[1], y[2]) : this.uvs2.push(new V, new V, new V)), y = 0; y < h; y++) {
                            var x = s[y].vertices;
                            e[y].push(x[v.a], x[v.b], x[v.c])
                        }
                        for (y = 0; y < p; y++) x = u[y].vertexNormals[l], c[y].push(x.a, x.b, x.c);
                        m && this.skinIndices.push(d[v.a], d[v.b], d[v.c]), g && this.skinWeights.push(f[v.a], f[v.b], f[v.c])
                    }
                    return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                }
            });
            var qa, Za, Ja, Qa, Ka, $a, to, eo, io, no, ro, ao, oo, so, ho, lo, co = 0;
            ht.prototype = {
                constructor: ht, isGeometry: !0, applyMatrix: function (t) {
                    for (var e = (new F).getNormalMatrix(t), i = 0, n = this.vertices.length; i < n; i++) this.vertices[i].applyMatrix4(t);
                    for (i = 0, n = this.faces.length; i < n; i++) {
                        (t = this.faces[i]).normal.applyMatrix3(e).normalize();
                        for (var r = 0, a = t.vertexNormals.length; r < a; r++) t.vertexNormals[r].applyMatrix3(e).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.normalsNeedUpdate = this.verticesNeedUpdate = !0, this
                }, rotateX: function (t) {
                    return void 0 === $a && ($a = new It), $a.makeRotationX(t), this.applyMatrix($a), this
                }, rotateY: function (t) {
                    return void 0 === Ka && (Ka = new It), Ka.makeRotationY(t), this.applyMatrix(Ka), this
                }, rotateZ: function (t) {
                    return void 0 === Qa && (Qa = new It), Qa.makeRotationZ(t), this.applyMatrix(Qa), this
                }, translate: function (t, e, i) {
                    return void 0 === Ja && (Ja = new It), Ja.makeTranslation(t, e, i), this.applyMatrix(Ja), this
                }, scale: function (t, e, i) {
                    return void 0 === Za && (Za = new It), Za.makeScale(t, e, i), this.applyMatrix(Za), this
                }, lookAt: function (t) {
                    void 0 === qa && (qa = new j), qa.lookAt(t), qa.updateMatrix(), this.applyMatrix(qa.matrix)
                }, fromBufferGeometry: function (t) {
                    function e(t, e, i, n) {
                        n = new Z(t, e, i, void 0 !== o ? [c[t].clone(), c[e].clone(), c[i].clone()] : [], void 0 !== s ? [r.colors[t].clone(), r.colors[e].clone(), r.colors[i].clone()] : [], n), r.faces.push(n), void 0 !== h && r.faceVertexUvs[0].push([u[t].clone(), u[e].clone(), u[i].clone()]), void 0 !== l && r.faceVertexUvs[1].push([p[t].clone(), p[e].clone(), p[i].clone()])
                    }

                    var r = this, i = null !== t.index ? t.index.array : void 0, n = t.attributes, a = n.position.array,
                        o = void 0 !== n.normal ? n.normal.array : void 0,
                        s = void 0 !== n.color ? n.color.array : void 0, h = void 0 !== n.uv ? n.uv.array : void 0,
                        l = void 0 !== n.uv2 ? n.uv2.array : void 0;
                    void 0 !== l && (this.faceVertexUvs[1] = []);
                    for (var c = [], u = [], p = [], d = n = 0; n < a.length; n += 3, d += 2) r.vertices.push(new Rt(a[n], a[n + 1], a[n + 2])), void 0 !== o && c.push(new Rt(o[n], o[n + 1], o[n + 2])), void 0 !== s && r.colors.push(new Nt(s[n], s[n + 1], s[n + 2])), void 0 !== h && u.push(new V(h[d], h[d + 1])), void 0 !== l && p.push(new V(l[d], l[d + 1]));
                    if (void 0 !== i) if (0 < (a = t.groups).length) for (n = 0; n < a.length; n++) for (var f = a[n], m = (d = m = f.start, m + f.count); d < m; d += 3) e(i[d], i[d + 1], i[d + 2], f.materialIndex); else for (n = 0; n < i.length; n += 3) e(i[n], i[n + 1], i[n + 2]); else for (n = 0; n < a.length / 3; n += 3) e(n, n + 1, n + 2);
                    return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
                }, center: function () {
                    this.computeBoundingBox();
                    var t = this.boundingBox.getCenter().negate();
                    return this.translate(t.x, t.y, t.z), t
                }, normalize: function () {
                    this.computeBoundingSphere();
                    var t = this.boundingSphere.center, e = 0 === (e = this.boundingSphere.radius) ? 1 : 1 / e,
                        i = new It;
                    return i.set(e, 0, 0, -e * t.x, 0, e, 0, -e * t.y, 0, 0, e, -e * t.z, 0, 0, 0, 1), this.applyMatrix(i), this
                }, computeFaceNormals: function () {
                    for (var t = new Rt, e = new Rt, i = 0, n = this.faces.length; i < n; i++) {
                        var r = this.faces[i], a = this.vertices[r.a], o = this.vertices[r.b];
                        t.subVectors(this.vertices[r.c], o), e.subVectors(a, o), t.cross(e), t.normalize(), r.normal.copy(t)
                    }
                }, computeVertexNormals: function (t) {
                    var e, i, n;
                    for (void 0 === t && (t = !0), n = Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++) n[e] = new Rt;
                    if (t) {
                        var r, a, o, s = new Rt, h = new Rt;
                        for (t = 0, e = this.faces.length; t < e; t++) i = this.faces[t], r = this.vertices[i.a], a = this.vertices[i.b], o = this.vertices[i.c], s.subVectors(o, a), h.subVectors(r, a), s.cross(h), n[i.a].add(s), n[i.b].add(s), n[i.c].add(s)
                    } else for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) n[(i = this.faces[t]).a].add(i.normal), n[i.b].add(i.normal), n[i.c].add(i.normal);
                    for (e = 0, i = this.vertices.length; e < i; e++) n[e].normalize();
                    for (t = 0, e = this.faces.length; t < e; t++) 3 === (r = (i = this.faces[t]).vertexNormals).length ? (r[0].copy(n[i.a]), r[1].copy(n[i.b]), r[2].copy(n[i.c])) : (r[0] = n[i.a].clone(), r[1] = n[i.b].clone(), r[2] = n[i.c].clone());
                    0 < this.faces.length && (this.normalsNeedUpdate = !0)
                }, computeFlatVertexNormals: function () {
                    var t, e, i;
                    for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) {
                        var n = (i = this.faces[t]).vertexNormals;
                        3 === n.length ? (n[0].copy(i.normal), n[1].copy(i.normal), n[2].copy(i.normal)) : (n[0] = i.normal.clone(), n[1] = i.normal.clone(), n[2] = i.normal.clone())
                    }
                    0 < this.faces.length && (this.normalsNeedUpdate = !0)
                }, computeMorphNormals: function () {
                    var t, e, i, n, r;
                    for (i = 0, n = this.faces.length; i < n; i++) for ((r = this.faces[i]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), t = 0, e = r.vertexNormals.length; t < e; t++) r.__originalVertexNormals[t] ? r.__originalVertexNormals[t].copy(r.vertexNormals[t]) : r.__originalVertexNormals[t] = r.vertexNormals[t].clone();
                    var a = new ht;
                    for (a.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                        if (!this.morphNormals[t]) {
                            this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [], r = this.morphNormals[t].faceNormals;
                            var o, s, h = this.morphNormals[t].vertexNormals;
                            for (i = 0, n = this.faces.length; i < n; i++) o = new Rt, s = {
                                a: new Rt,
                                b: new Rt,
                                c: new Rt
                            }, r.push(o), h.push(s)
                        }
                        for (h = this.morphNormals[t], a.vertices = this.morphTargets[t].vertices, a.computeFaceNormals(), a.computeVertexNormals(), i = 0, n = this.faces.length; i < n; i++) r = this.faces[i], o = h.faceNormals[i], s = h.vertexNormals[i], o.copy(r.normal), s.a.copy(r.vertexNormals[0]), s.b.copy(r.vertexNormals[1]), s.c.copy(r.vertexNormals[2])
                    }
                    for (i = 0, n = this.faces.length; i < n; i++) (r = this.faces[i]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
                }, computeLineDistances: function () {
                    for (var t = 0, e = this.vertices, i = 0, n = e.length; i < n; i++) 0 < i && (t += e[i].distanceTo(e[i - 1])), this.lineDistances[i] = t
                }, computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new U), this.boundingBox.setFromPoints(this.vertices)
                }, computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new Bt), this.boundingSphere.setFromPoints(this.vertices)
                }, merge: function (t, e, i) {
                    if (!1 === (t && t.isGeometry)) ; else {
                        var n, r = this.vertices.length, a = this.vertices, o = t.vertices, s = this.faces, h = t.faces,
                            l = this.faceVertexUvs[0], c = t.faceVertexUvs[0], u = this.colors, p = t.colors;
                        void 0 === i && (i = 0), void 0 !== e && (n = (new F).getNormalMatrix(e)), t = 0;
                        for (var d = o.length; t < d; t++) {
                            var f = o[t].clone();
                            void 0 !== e && f.applyMatrix4(e), a.push(f)
                        }
                        for (t = 0, d = p.length; t < d; t++) u.push(p[t].clone());
                        for (t = 0, d = h.length; t < d; t++) {
                            var m = (o = h[t]).vertexNormals;
                            p = o.vertexColors;
                            for ((u = new Z(o.a + r, o.b + r, o.c + r)).normal.copy(o.normal), void 0 !== n && u.normal.applyMatrix3(n).normalize(), e = 0, a = m.length; e < a; e++) f = m[e].clone(), void 0 !== n && f.applyMatrix3(n).normalize(), u.vertexNormals.push(f);
                            for (u.color.copy(o.color), e = 0, a = p.length; e < a; e++) f = p[e], u.vertexColors.push(f.clone());
                            u.materialIndex = o.materialIndex + i, s.push(u)
                        }
                        for (t = 0, d = c.length; t < d; t++) if (n = [], void 0 !== (i = c[t])) {
                            for (e = 0, a = i.length; e < a; e++) n.push(i[e].clone());
                            l.push(n)
                        }
                    }
                }, mergeMesh: function (t) {
                    !1 === (t && t.isMesh) || (t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix))
                }, mergeVertices: function () {
                    var t, e, i, n = {}, r = [], a = [], o = Math.pow(10, 4);
                    for (e = 0, i = this.vertices.length; e < i; e++) t = this.vertices[e], void 0 === n[t = Math.round(t.x * o) + "_" + Math.round(t.y * o) + "_" + Math.round(t.z * o)] ? (n[t] = e, r.push(this.vertices[e]), a[e] = r.length - 1) : a[e] = a[n[t]];
                    for (n = [], e = 0, i = this.faces.length; e < i; e++) for ((o = this.faces[e]).a = a[o.a], o.b = a[o.b], o.c = a[o.c], o = [o.a, o.b, o.c], t = 0; t < 3; t++) if (o[t] === o[(t + 1) % 3]) {
                        n.push(e);
                        break
                    }
                    for (e = n.length - 1; 0 <= e; e--) for (o = n[e], this.faces.splice(o, 1), a = 0, i = this.faceVertexUvs.length; a < i; a++) this.faceVertexUvs[a].splice(o, 1);
                    return e = this.vertices.length - r.length, this.vertices = r, e
                }, sortFacesByMaterialIndex: function () {
                    for (var t = this.faces, e = t.length, i = 0; i < e; i++) t[i]._id = i;
                    t.sort(function (t, e) {
                        return t.materialIndex - e.materialIndex
                    });
                    var n, r, a = this.faceVertexUvs[0], o = this.faceVertexUvs[1];
                    for (a && a.length === e && (n = []), o && o.length === e && (r = []), i = 0; i < e; i++) {
                        var s = t[i]._id;
                        n && n.push(a[s]), r && r.push(o[s])
                    }
                    n && (this.faceVertexUvs[0] = n), r && (this.faceVertexUvs[1] = r)
                }, toJSON: function () {
                    function t(t, e, i) {
                        return i ? t | 1 << e : t & ~(1 << e)
                    }

                    function e(t) {
                        var e = t.x.toString() + t.y.toString() + t.z.toString();
                        return void 0 !== l[e] || (l[e] = h.length / 3, h.push(t.x, t.y, t.z)), l[e]
                    }

                    function i(t) {
                        var e = t.r.toString() + t.g.toString() + t.b.toString();
                        return void 0 !== u[e] || (u[e] = c.length, c.push(t.getHex())), u[e]
                    }

                    function n(t) {
                        var e = t.x.toString() + t.y.toString();
                        return void 0 !== d[e] || (d[e] = p.length / 2, p.push(t.x, t.y)), d[e]
                    }

                    var r = {metadata: {version: 4.4, type: "Geometry", generator: "Geometry.toJSON"}};
                    if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), void 0 !== this.parameters) {
                        var a, o = this.parameters;
                        for (a in o) void 0 !== o[a] && (r[a] = o[a]);
                        return r
                    }
                    for (o = [], a = 0; a < this.vertices.length; a++) {
                        var s = this.vertices[a];
                        o.push(s.x, s.y, s.z)
                    }
                    s = [];
                    var h = [], l = {}, c = [], u = {}, p = [], d = {};
                    for (a = 0; a < this.faces.length; a++) {
                        var f = this.faces[a], m = void 0 !== this.faceVertexUvs[0][a], g = 0 < f.normal.length(),
                            v = 0 < f.vertexNormals.length, y = 1 !== f.color.r || 1 !== f.color.g || 1 !== f.color.b,
                            x = 0 < f.vertexColors.length,
                            _ = t(_ = t(_ = t(_ = t(_ = t(_ = t(_ = t(_ = t(_ = 0, 0, 0), 1, !0), 2, !1), 3, m), 4, g), 5, v), 6, y), 7, x);
                        s.push(_), s.push(f.a, f.b, f.c), s.push(f.materialIndex), m && (m = this.faceVertexUvs[0][a], s.push(n(m[0]), n(m[1]), n(m[2]))), g && s.push(e(f.normal)), v && (g = f.vertexNormals, s.push(e(g[0]), e(g[1]), e(g[2]))), y && s.push(i(f.color)), x && (f = f.vertexColors, s.push(i(f[0]), i(f[1]), i(f[2])))
                    }
                    return r.data = {}, r.data.vertices = o, r.data.normals = h, 0 < c.length && (r.data.colors = c), 0 < p.length && (r.data.uvs = [p]), r.data.faces = s, r
                }, clone: function () {
                    return (new ht).copy(this)
                }, copy: function (t) {
                    var e, i, n, r, a, o;
                    for (this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingSphere = this.boundingBox = null, this.name = t.name, e = 0, i = (n = t.vertices).length; e < i; e++) this.vertices.push(n[e].clone());
                    for (e = 0, i = (n = t.colors).length; e < i; e++) this.colors.push(n[e].clone());
                    for (e = 0, i = (n = t.faces).length; e < i; e++) this.faces.push(n[e].clone());
                    for (e = 0, i = t.faceVertexUvs.length; e < i; e++) {
                        var s = t.faceVertexUvs[e];
                        for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []), n = 0, r = s.length; n < r; n++) {
                            var h = s[n], l = [];
                            for (a = 0, o = h.length; a < o; a++) l.push(h[a].clone());
                            this.faceVertexUvs[e].push(l)
                        }
                    }
                    for (e = 0, i = (a = t.morphTargets).length; e < i; e++) {
                        if ((o = {}).name = a[e].name, void 0 !== a[e].vertices) for (o.vertices = [], n = 0, r = a[e].vertices.length; n < r; n++) o.vertices.push(a[e].vertices[n].clone());
                        if (void 0 !== a[e].normals) for (o.normals = [], n = 0, r = a[e].normals.length; n < r; n++) o.normals.push(a[e].normals[n].clone());
                        this.morphTargets.push(o)
                    }
                    for (e = 0, i = (a = t.morphNormals).length; e < i; e++) {
                        if (o = {}, void 0 !== a[e].vertexNormals) for (o.vertexNormals = [], n = 0, r = a[e].vertexNormals.length; n < r; n++) s = a[e].vertexNormals[n], (h = {}).a = s.a.clone(), h.b = s.b.clone(), h.c = s.c.clone(), o.vertexNormals.push(h);
                        if (void 0 !== a[e].faceNormals) for (o.faceNormals = [], n = 0, r = a[e].faceNormals.length; n < r; n++) o.faceNormals.push(a[e].faceNormals[n].clone());
                        this.morphNormals.push(o)
                    }
                    for (e = 0, i = (n = t.skinWeights).length; e < i; e++) this.skinWeights.push(n[e].clone());
                    for (e = 0, i = (n = t.skinIndices).length; e < i; e++) this.skinIndices.push(n[e].clone());
                    for (e = 0, i = (n = t.lineDistances).length; e < i; e++) this.lineDistances.push(n[e]);
                    return null !== (e = t.boundingBox) && (this.boundingBox = e.clone()), null !== (e = t.boundingSphere) && (this.boundingSphere = e.clone()), this.elementsNeedUpdate = t.elementsNeedUpdate, this.verticesNeedUpdate = t.verticesNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                }, dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }, (0, Is.default)(ht.prototype, e.prototype), Vt.prototype = {
                constructor: Vt, isBufferGeometry: !0, getIndex: function () {
                    return this.index
                }, setIndex: function (t) {
                    Array.isArray(t) ? this.index = new (65535 < st(t) ? nt : et)(t, 1) : this.index = t
                }, addAttribute: function (t, e, i) {
                    if (!1 === (e && e.isBufferAttribute) && !1 === (e && e.isInterleavedBufferAttribute)) this.addAttribute(t, new J(e, i)); else {
                        if ("index" !== t) return this.attributes[t] = e, this;
                        this.setIndex(e)
                    }
                }, getAttribute: function (t) {
                    return this.attributes[t]
                }, removeAttribute: function (t) {
                    return delete this.attributes[t], this
                }, addGroup: function (t, e, i) {
                    this.groups.push({start: t, count: e, materialIndex: void 0 !== i ? i : 0})
                }, clearGroups: function () {
                    this.groups = []
                }, setDrawRange: function (t, e) {
                    this.drawRange.start = t, this.drawRange.count = e
                }, applyMatrix: function (t) {
                    var e = this.attributes.position;
                    return void 0 !== e && (t.applyToBufferAttribute(e), e.needsUpdate = !0), void 0 !== (e = this.attributes.normal) && ((new F).getNormalMatrix(t).applyToBufferAttribute(e), e.needsUpdate = !0), null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                }, rotateX: function (t) {
                    return void 0 === so && (so = new It), so.makeRotationX(t), this.applyMatrix(so), this
                }, rotateY: function (t) {
                    return void 0 === oo && (oo = new It), oo.makeRotationY(t), this.applyMatrix(oo), this
                }, rotateZ: function (t) {
                    return void 0 === ao && (ao = new It), ao.makeRotationZ(t), this.applyMatrix(ao), this
                }, translate: function (t, e, i) {
                    return void 0 === ro && (ro = new It), ro.makeTranslation(t, e, i), this.applyMatrix(ro), this
                }, scale: function (t, e, i) {
                    return void 0 === no && (no = new It), no.makeScale(t, e, i), this.applyMatrix(no), this
                }, lookAt: function (t) {
                    void 0 === io && (io = new j), io.lookAt(t), io.updateMatrix(), this.applyMatrix(io.matrix)
                }, center: function () {
                    this.computeBoundingBox();
                    var t = this.boundingBox.getCenter().negate();
                    return this.translate(t.x, t.y, t.z), t
                }, setFromObject: function (t) {
                    var e = t.geometry;
                    if (t.isPoints || t.isLine) {
                        t = new rt(3 * e.vertices.length, 3);
                        var i = new rt(3 * e.colors.length, 3);
                        this.addAttribute("position", t.copyVector3sArray(e.vertices)), this.addAttribute("color", i.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length && (t = new rt(e.lineDistances.length, 1), this.addAttribute("lineDistance", t.copyArray(e.lineDistances))), null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
                    } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
                    return this
                }, updateFromObject: function (t) {
                    var e = t.geometry;
                    if (t.isMesh) {
                        var i = e.__directGeometry;
                        if (!0 === e.elementsNeedUpdate && (i = void 0, e.elementsNeedUpdate = !1), void 0 === i) return this.fromGeometry(e);
                        i.verticesNeedUpdate = e.verticesNeedUpdate, i.normalsNeedUpdate = e.normalsNeedUpdate, i.colorsNeedUpdate = e.colorsNeedUpdate, i.uvsNeedUpdate = e.uvsNeedUpdate, i.groupsNeedUpdate = e.groupsNeedUpdate, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = i
                    }
                    return !0 === e.verticesNeedUpdate && (void 0 !== (i = this.attributes.position) && (i.copyVector3sArray(e.vertices), i.needsUpdate = !0), e.verticesNeedUpdate = !1), !0 === e.normalsNeedUpdate && (void 0 !== (i = this.attributes.normal) && (i.copyVector3sArray(e.normals), i.needsUpdate = !0), e.normalsNeedUpdate = !1), !0 === e.colorsNeedUpdate && (void 0 !== (i = this.attributes.color) && (i.copyColorsArray(e.colors), i.needsUpdate = !0), e.colorsNeedUpdate = !1), e.uvsNeedUpdate && (void 0 !== (i = this.attributes.uv) && (i.copyVector2sArray(e.uvs), i.needsUpdate = !0), e.uvsNeedUpdate = !1), e.lineDistancesNeedUpdate && (void 0 !== (i = this.attributes.lineDistance) && (i.copyArray(e.lineDistances), i.needsUpdate = !0), e.lineDistancesNeedUpdate = !1), e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this
                }, fromGeometry: function (t) {
                    return t.__directGeometry = (new ot).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
                }, fromDirectGeometry: function (t) {
                    var e = new Float32Array(3 * t.vertices.length);
                    for (var i in this.addAttribute("position", new J(e, 3).copyVector3sArray(t.vertices)), 0 < t.normals.length && (e = new Float32Array(3 * t.normals.length), this.addAttribute("normal", new J(e, 3).copyVector3sArray(t.normals))), 0 < t.colors.length && (e = new Float32Array(3 * t.colors.length), this.addAttribute("color", new J(e, 3).copyColorsArray(t.colors))), 0 < t.uvs.length && (e = new Float32Array(2 * t.uvs.length), this.addAttribute("uv", new J(e, 2).copyVector2sArray(t.uvs))), 0 < t.uvs2.length && (e = new Float32Array(2 * t.uvs2.length), this.addAttribute("uv2", new J(e, 2).copyVector2sArray(t.uvs2))), 0 < t.indices.length && (e = new (65535 < st(t.indices) ? Uint32Array : Uint16Array)(3 * t.indices.length), this.setIndex(new J(e, 1).copyIndicesArray(t.indices))), this.groups = t.groups, t.morphTargets) {
                        e = [];
                        for (var n = t.morphTargets[i], r = 0, a = n.length; r < a; r++) {
                            var o = n[r], s = new rt(3 * o.length, 3);
                            e.push(s.copyVector3sArray(o))
                        }
                        this.morphAttributes[i] = e
                    }
                    return 0 < t.skinIndices.length && (i = new rt(4 * t.skinIndices.length, 4), this.addAttribute("skinIndex", i.copyVector4sArray(t.skinIndices))), 0 < t.skinWeights.length && (i = new rt(4 * t.skinWeights.length, 4), this.addAttribute("skinWeight", i.copyVector4sArray(t.skinWeights))), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
                }, computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new U);
                    var t = this.attributes.position;
                    void 0 !== t ? this.boundingBox.setFromBufferAttribute(t) : this.boundingBox.makeEmpty(), isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)
                }, computeBoundingSphere: (to = new U, eo = new Rt, function () {
                    null === this.boundingSphere && (this.boundingSphere = new Bt);
                    var t = this.attributes.position;
                    if (t) {
                        var e = this.boundingSphere.center;
                        to.setFromBufferAttribute(t), to.getCenter(e);
                        for (var i = 0, n = 0, r = t.count; n < r; n++) eo.x = t.getX(n), eo.y = t.getY(n), eo.z = t.getZ(n), i = Math.max(i, e.distanceToSquared(eo));
                        this.boundingSphere.radius = Math.sqrt(i), isNaN(this.boundingSphere.radius)
                    }
                }), computeFaceNormals: function () {
                }, computeVertexNormals: function () {
                    var t = this.index, e = this.attributes, i = this.groups;
                    if (e.position) {
                        var n = e.position.array;
                        if (void 0 === e.normal) this.addAttribute("normal", new J(new Float32Array(n.length), 3)); else for (var r = 0, a = (l = e.normal.array).length; r < a; r++) l[r] = 0;
                        var o, s, h, l = e.normal.array, c = new Rt, u = new Rt, p = new Rt, d = new Rt, f = new Rt;
                        if (t) {
                            t = t.array, 0 === i.length && this.addGroup(0, t.length);
                            for (var m = 0, g = i.length; m < g; ++m) for (a = (r = i[m]).start, o = r.count, r = a, a += o; r < a; r += 3) o = 3 * t[r + 0], s = 3 * t[r + 1], h = 3 * t[r + 2], c.fromArray(n, o), u.fromArray(n, s), p.fromArray(n, h), d.subVectors(p, u), f.subVectors(c, u), d.cross(f), l[o] += d.x, l[o + 1] += d.y, l[o + 2] += d.z, l[s] += d.x, l[s + 1] += d.y, l[s + 2] += d.z, l[h] += d.x, l[h + 1] += d.y, l[h + 2] += d.z
                        } else for (r = 0, a = n.length; r < a; r += 9) c.fromArray(n, r), u.fromArray(n, r + 3), p.fromArray(n, r + 6), d.subVectors(p, u), f.subVectors(c, u), d.cross(f), l[r] = d.x, l[r + 1] = d.y, l[r + 2] = d.z, l[r + 3] = d.x, l[r + 4] = d.y, l[r + 5] = d.z, l[r + 6] = d.x, l[r + 7] = d.y, l[r + 8] = d.z;
                        this.normalizeNormals(), e.normal.needsUpdate = !0
                    }
                }, merge: function (t, e) {
                    if (!1 !== (t && t.isBufferGeometry)) {
                        void 0 === e && (e = 0);
                        var i, n = this.attributes;
                        for (i in n) if (void 0 !== t.attributes[i]) for (var r = n[i].array, a = (s = t.attributes[i]).array, o = 0, s = s.itemSize * e; o < a.length; o++, s++) r[s] = a[o];
                        return this
                    }
                }, normalizeNormals: function () {
                    for (var t, e, i, n = this.attributes.normal.array, r = 0, a = n.length; r < a; r += 3) t = n[r], e = n[r + 1], i = n[r + 2], t = 1 / Math.sqrt(t * t + e * e + i * i), n[r] *= t, n[r + 1] *= t, n[r + 2] *= t
                }, toNonIndexed: function () {
                    if (null === this.index) return this;
                    var t, e = new Vt, i = this.index.array, n = this.attributes;
                    for (t in n) {
                        for (var r, a = (o = n[t]).array, o = o.itemSize, s = new a.constructor(i.length * o), h = 0, l = 0, c = i.length; l < c; l++) {
                            r = i[l] * o;
                            for (var u = 0; u < o; u++) s[h++] = a[r++]
                        }
                        e.addAttribute(t, new J(s, o))
                    }
                    return e
                }, toJSON: function () {
                    var t = {metadata: {version: 4.4, type: "BufferGeometry", generator: "BufferGeometry.toJSON"}};
                    if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) {
                        var e, i = this.parameters;
                        for (e in i) void 0 !== i[e] && (t[e] = i[e]);
                        return t
                    }
                    t.data = {attributes: {}};
                    var n = this.index;
                    for (e in null !== n && (i = Array.prototype.slice.call(n.array), t.data.index = {
                        type: n.array.constructor.name,
                        array: i
                    }), n = this.attributes) {
                        var r = n[e];
                        i = Array.prototype.slice.call(r.array);
                        t.data.attributes[e] = {
                            itemSize: r.itemSize,
                            type: r.array.constructor.name,
                            array: i,
                            normalized: r.normalized
                        }
                    }
                    return 0 < (e = this.groups).length && (t.data.groups = JSON.parse((0, Cs.default)(e))), null !== (e = this.boundingSphere) && (t.data.boundingSphere = {
                        center: e.center.toArray(),
                        radius: e.radius
                    }), t
                }, clone: function () {
                    return (new Vt).copy(this)
                }, copy: function (t) {
                    var e, i, n;
                    for (e in this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingSphere = this.boundingBox = null, this.name = t.name, null !== (i = t.index) && this.setIndex(i.clone()), i = t.attributes) this.addAttribute(e, i[e].clone());
                    var r = t.morphAttributes;
                    for (e in r) {
                        var a = [], o = r[e];
                        for (i = 0, n = o.length; i < n; i++) a.push(o[i].clone());
                        this.morphAttributes[e] = a
                    }
                    for (i = 0, n = (e = t.groups).length; i < n; i++) r = e[i], this.addGroup(r.start, r.count, r.materialIndex);
                    return null !== (e = t.boundingBox) && (this.boundingBox = e.clone()), null !== (e = t.boundingSphere) && (this.boundingSphere = e.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this
                }, dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }, Vt.MaxIndex = 65535, (0, Is.default)(Vt.prototype, e.prototype), Wt.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: Wt, isMesh: !0, setDrawMode: function (t) {
                    this.drawMode = t
                }, copy: function (t) {
                    return j.prototype.copy.call(this, t), this.drawMode = t.drawMode, this
                }, updateMorphTargets: function () {
                    var t = this.geometry.morphTargets;
                    if (void 0 !== t && 0 < t.length) {
                        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
                        for (var e = 0, i = t.length; e < i; e++) this.morphTargetInfluences.push(0), this.morphTargetDictionary[t[e].name] = e
                    }
                }, raycast: function () {
                    function M(t, e, i, n, r, a, o) {
                        return q.barycoordFromPoint(t, e, i, n, s), r.multiplyScalar(s.x), a.multiplyScalar(s.y), o.multiplyScalar(s.z), r.add(a).add(o), r.clone()
                    }

                    function w(t, e, i, n, r, a, o) {
                        var s = t.material;
                        return null === (1 === s.side ? i.intersectTriangle(a, r, n, !0, o) : i.intersectTriangle(n, r, a, 2 !== s.side, o)) ? null : (h.copy(o), h.applyMatrix4(t.matrixWorld), (i = e.ray.origin.distanceTo(h)) < e.near || i > e.far ? null : {
                            distance: i,
                            point: h.clone(),
                            object: t
                        })
                    }

                    function b(t, e, i, n, r, a, o, s) {
                        return E.fromBufferAttribute(n, a), L.fromBufferAttribute(n, o), P.fromBufferAttribute(n, s), (t = w(t, e, i, E, L, P, z)) && (r && (D.fromBufferAttribute(r, a), N.fromBufferAttribute(r, o), U.fromBufferAttribute(r, s), t.uv = M(z, E, L, P, D, N, U)), t.face = new Z(a, o, s, q.normal(E, L, P)), t.faceIndex = a), t
                    }

                    var S = new It, T = new W, A = new Bt, E = new Rt, L = new Rt, P = new Rt, C = new Rt, R = new Rt,
                        I = new Rt, D = new V, N = new V, U = new V, s = new Rt, z = new Rt, h = new Rt;
                    return function (t, e) {
                        var i, n = this.geometry, r = this.material, a = this.matrixWorld;
                        if (void 0 !== r && (null === n.boundingSphere && n.computeBoundingSphere(), A.copy(n.boundingSphere), A.applyMatrix4(a), !1 !== t.ray.intersectsSphere(A) && (S.getInverse(a), T.copy(t.ray).applyMatrix4(S), null === n.boundingBox || !1 !== T.intersectsBox(n.boundingBox)))) if (n.isBufferGeometry) {
                            r = n.index;
                            var o, s, h, l, c = n.attributes.position;
                            a = n.attributes.uv;
                            if (null !== r) for (h = 0, l = r.count; h < l; h += 3) n = r.getX(h), o = r.getX(h + 1), s = r.getX(h + 2), (i = b(this, t, T, c, a, n, o, s)) && (i.faceIndex = Math.floor(h / 3), e.push(i)); else for (h = 0, l = c.count; h < l; h += 3) (i = b(this, t, T, c, a, n = h, o = h + 1, s = h + 2)) && (i.index = n, e.push(i))
                        } else if (n.isGeometry) {
                            var u, p;
                            h = !0 === (a = r && r.isMultiMaterial) ? r.materials : null, l = n.vertices, o = n.faces, 0 < (s = n.faceVertexUvs[0]).length && (c = s);
                            for (var d = 0, f = o.length; d < f; d++) {
                                var m = o[d];
                                if (void 0 !== (i = !0 === a ? h[m.materialIndex] : r)) {
                                    if (s = l[m.a], u = l[m.b], p = l[m.c], !0 === i.morphTargets) {
                                        i = n.morphTargets;
                                        var g = this.morphTargetInfluences;
                                        E.set(0, 0, 0), L.set(0, 0, 0), P.set(0, 0, 0);
                                        for (var v = 0, y = i.length; v < y; v++) {
                                            var x = g[v];
                                            if (0 !== x) {
                                                var _ = i[v].vertices;
                                                E.addScaledVector(C.subVectors(_[m.a], s), x), L.addScaledVector(R.subVectors(_[m.b], u), x), P.addScaledVector(I.subVectors(_[m.c], p), x)
                                            }
                                        }
                                        E.add(s), L.add(u), P.add(p), s = E, u = L, p = P
                                    }
                                    (i = w(this, t, T, s, u, p, z)) && (c && (g = c[d], D.copy(g[0]), N.copy(g[1]), U.copy(g[2]), i.uv = M(z, s, u, p, D, N, U)), i.face = m, i.faceIndex = d, e.push(i))
                                }
                            }
                        }
                    }
                }(), clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), (lt.prototype = (0, Rs.default)(ht.prototype)).constructor = lt, (Ht.prototype = (0, Rs.default)(Vt.prototype)).constructor = Ht, (ct.prototype = (0, Rs.default)(ht.prototype)).constructor = ct, (Xt.prototype = (0, Rs.default)(Vt.prototype)).constructor = Xt, ((ut.prototype = (0, Rs.default)(j.prototype)).constructor = ut).prototype.isCamera = !0, ut.prototype.getWorldDirection = (ho = new s, function (t) {
                return t = t || new Rt, this.getWorldQuaternion(ho), t.set(0, 0, -1).applyQuaternion(ho)
            }), ut.prototype.lookAt = (lo = new It, function (t) {
                lo.lookAt(this.position, t, this.up), this.quaternion.setFromRotationMatrix(lo)
            }), ut.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, ut.prototype.copy = function (t) {
                return j.prototype.copy.call(this, t), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this
            }, jt.prototype = (0, Is.default)((0, Rs.default)(ut.prototype), {
                constructor: jt, isPerspectiveCamera: !0, copy: function (t) {
                    return ut.prototype.copy.call(this, t), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : (0, Is.default)({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
                }, setFocalLength: function (t) {
                    t = .5 * this.getFilmHeight() / t, this.fov = 2 * hr.RAD2DEG * Math.atan(t), this.updateProjectionMatrix()
                }, getFocalLength: function () {
                    var t = Math.tan(.5 * hr.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / t
                }, getEffectiveFOV: function () {
                    return 2 * hr.RAD2DEG * Math.atan(Math.tan(.5 * hr.DEG2RAD * this.fov) / this.zoom)
                }, getFilmWidth: function () {
                    return this.filmGauge * Math.min(this.aspect, 1)
                }, getFilmHeight: function () {
                    return this.filmGauge / Math.max(this.aspect, 1)
                }, setViewOffset: function (t, e, i, n, r, a) {
                    this.aspect = t / e, this.view = {
                        fullWidth: t,
                        fullHeight: e,
                        offsetX: i,
                        offsetY: n,
                        width: r,
                        height: a
                    }, this.updateProjectionMatrix()
                }, clearViewOffset: function () {
                    this.view = null, this.updateProjectionMatrix()
                }, updateProjectionMatrix: function () {
                    var t = this.near, e = 2 * (o = t * Math.tan(.5 * hr.DEG2RAD * this.fov) / this.zoom),
                        i = -.5 * (s = this.aspect * e), n = this.view;
                    if (null !== n) {
                        var r = n.fullWidth, a = n.fullHeight, o = (i = i + n.offsetX * s / r, o - n.offsetY * e / a),
                            s = n.width / r * s;
                        e = n.height / a * e
                    }
                    0 !== (n = this.filmOffset) && (i += t * n / this.getFilmWidth()), this.projectionMatrix.makePerspective(i, i + s, o, o - e, t, this.far)
                }, toJSON: function (t) {
                    return (t = j.prototype.toJSON.call(this, t)).object.fov = this.fov, t.object.zoom = this.zoom, t.object.near = this.near, t.object.far = this.far, t.object.focus = this.focus, t.object.aspect = this.aspect, null !== this.view && (t.object.view = (0, Is.default)({}, this.view)), t.object.filmGauge = this.filmGauge, t.object.filmOffset = this.filmOffset, t
                }
            }), Yt.prototype = (0, Is.default)((0, Rs.default)(ut.prototype), {
                constructor: Yt, isOrthographicCamera: !0, copy: function (t) {
                    return ut.prototype.copy.call(this, t), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : (0, Is.default)({}, t.view), this
                }, setViewOffset: function (t, e, i, n, r, a) {
                    this.view = {
                        fullWidth: t,
                        fullHeight: e,
                        offsetX: i,
                        offsetY: n,
                        width: r,
                        height: a
                    }, this.updateProjectionMatrix()
                }, clearViewOffset: function () {
                    this.view = null, this.updateProjectionMatrix()
                }, updateProjectionMatrix: function () {
                    var t = (this.right - this.left) / (2 * this.zoom), e = (this.top - this.bottom) / (2 * this.zoom),
                        i = (n = (this.right + this.left) / 2) - t, n = n + t;
                    t = (a = (this.top + this.bottom) / 2) + e, e = a - e;
                    if (null !== this.view) {
                        n = this.zoom / (this.view.width / this.view.fullWidth), e = this.zoom / (this.view.height / this.view.fullHeight);
                        var r = (this.right - this.left) / this.view.width,
                            a = (this.top - this.bottom) / this.view.height;
                        n = (i = i + this.view.offsetX / n * r) + this.view.width / n * r, e = (t = t - this.view.offsetY / e * a) - this.view.height / e * a
                    }
                    this.projectionMatrix.makeOrthographic(i, n, t, e, this.near, this.far)
                }, toJSON: function (t) {
                    return (t = j.prototype.toJSON.call(this, t)).object.zoom = this.zoom, t.object.left = this.left, t.object.right = this.right, t.object.top = this.top, t.object.bottom = this.bottom, t.object.near = this.near, t.object.far = this.far, null !== this.view && (t.object.view = (0, Is.default)({}, this.view)), t
                }
            });
            var uo, po, fo, mo, go, vo, yo, xo, _o, Mo, wo, bo = 0;
            wt.prototype.isFogExp2 = !0, wt.prototype.clone = function () {
                return new wt(this.color.getHex(), this.density)
            }, wt.prototype.toJSON = function (t) {
                return {type: "FogExp2", color: this.color.getHex(), density: this.density}
            }, bt.prototype.isFog = !0, bt.prototype.clone = function () {
                return new bt(this.color.getHex(), this.near, this.far)
            }, bt.prototype.toJSON = function (t) {
                return {type: "Fog", color: this.color.getHex(), near: this.near, far: this.far}
            }, ((St.prototype = (0, Rs.default)(j.prototype)).constructor = St).prototype.copy = function (t, e) {
                return j.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
            }, St.prototype.toJSON = function (t) {
                var e = j.prototype.toJSON.call(this, t);
                return null !== this.background && (e.object.background = this.background.toJSON(t)), null !== this.fog && (e.object.fog = this.fog.toJSON()), e
            }, Tt.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: Tt,
                isLensFlare: !0,
                copy: function (t) {
                    j.prototype.copy.call(this, t), this.positionScreen.copy(t.positionScreen), this.customUpdateCallback = t.customUpdateCallback;
                    for (var e = 0, i = t.lensFlares.length; e < i; e++) this.lensFlares.push(t.lensFlares[e]);
                    return this
                },
                add: function (t, e, i, n, r, a) {
                    void 0 === e && (e = -1), void 0 === i && (i = 0), void 0 === a && (a = 1), void 0 === r && (r = new Nt(16777215)), void 0 === n && (n = 1), i = Math.min(i, Math.max(0, i)), this.lensFlares.push({
                        texture: t,
                        size: e,
                        distance: i,
                        x: 0,
                        y: 0,
                        z: 0,
                        scale: 1,
                        rotation: 0,
                        opacity: a,
                        color: r,
                        blending: n
                    })
                },
                updateLensFlares: function () {
                    var t, e, i = this.lensFlares.length, n = 2 * -this.positionScreen.x,
                        r = 2 * -this.positionScreen.y;
                    for (t = 0; t < i; t++) (e = this.lensFlares[t]).x = this.positionScreen.x + n * e.distance, e.y = this.positionScreen.y + r * e.distance, e.wantedRotation = e.x * Math.PI * .25, e.rotation += .25 * (e.wantedRotation - e.rotation)
                }
            }), ((At.prototype = (0, Rs.default)(N.prototype)).constructor = At).prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this
            }, Et.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: Et,
                isSprite: !0,
                raycast: (uo = new Rt, function (t, e) {
                    uo.setFromMatrixPosition(this.matrixWorld);
                    var i = t.ray.distanceSqToPoint(uo);
                    i > this.scale.x * this.scale.y / 4 || e.push({
                        distance: Math.sqrt(i),
                        point: this.position,
                        face: null,
                        object: this
                    })
                }),
                clone: function () {
                    return new this.constructor(this.material).copy(this)
                }
            }), Lt.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: Lt, copy: function (t) {
                    j.prototype.copy.call(this, t, !1);
                    for (var e = 0, i = (t = t.levels).length; e < i; e++) {
                        var n = t[e];
                        this.addLevel(n.object.clone(), n.distance)
                    }
                    return this
                }, addLevel: function (t, e) {
                    void 0 === e && (e = 0), e = Math.abs(e);
                    for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++) ;
                    i.splice(n, 0, {distance: e, object: t}), this.add(t)
                }, getObjectForDistance: function (t) {
                    for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++) ;
                    return e[i - 1].object
                }, raycast: (mo = new Rt, function (t, e) {
                    mo.setFromMatrixPosition(this.matrixWorld);
                    var i = t.ray.origin.distanceTo(mo);
                    this.getObjectForDistance(i).raycast(t, e)
                }), update: (po = new Rt, fo = new Rt, function (t) {
                    var e = this.levels;
                    if (1 < e.length) {
                        po.setFromMatrixPosition(t.matrixWorld), fo.setFromMatrixPosition(this.matrixWorld), t = po.distanceTo(fo), e[0].object.visible = !0;
                        for (var i = 1, n = e.length; i < n && t >= e[i].distance; i++) e[i - 1].object.visible = !1, e[i].object.visible = !0;
                        for (; i < n; i++) e[i].object.visible = !1
                    }
                }), toJSON: function (t) {
                    (t = j.prototype.toJSON.call(this, t)).object.levels = [];
                    for (var e = this.levels, i = 0, n = e.length; i < n; i++) {
                        var r = e[i];
                        t.object.levels.push({object: r.object.uuid, distance: r.distance})
                    }
                    return t
                }
            }), (0, Is.default)(Pt.prototype, {
                calculateInverses: function () {
                    this.boneInverses = [];
                    for (var t = 0, e = this.bones.length; t < e; t++) {
                        var i = new It;
                        this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i)
                    }
                }, pose: function () {
                    for (var t, e = 0, i = this.bones.length; e < i; e++) (t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
                    for (e = 0, i = this.bones.length; e < i; e++) (t = this.bones[e]) && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale))
                }, update: (go = new It, function () {
                    for (var t = 0, e = this.bones.length; t < e; t++) go.multiplyMatrices(this.bones[t] ? this.bones[t].matrixWorld : this.identityMatrix, this.boneInverses[t]), go.toArray(this.boneMatrices, 16 * t);
                    this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
                }), clone: function () {
                    return new Pt(this.bones, this.boneInverses, this.useVertexTexture)
                }
            }), ae.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: ae,
                isBone: !0
            }), oe.prototype = (0, Is.default)((0, Rs.default)(Wt.prototype), {
                constructor: oe, isSkinnedMesh: !0, bind: function (t, e) {
                    this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e)
                }, pose: function () {
                    this.skeleton.pose()
                }, normalizeSkinWeights: function () {
                    if (this.geometry && this.geometry.isGeometry) for (var t = 0; t < this.geometry.skinWeights.length; t++) {
                        var e = 1 / (i = this.geometry.skinWeights[t]).lengthManhattan();
                        1 / 0 !== e ? i.multiplyScalar(e) : i.set(1, 0, 0, 0)
                    } else if (this.geometry && this.geometry.isBufferGeometry) {
                        var i = new Ct, n = this.geometry.attributes.skinWeight;
                        for (t = 0; t < n.count; t++) i.x = n.getX(t), i.y = n.getY(t), i.z = n.getZ(t), i.w = n.getW(t), 1 / 0 !== (e = 1 / i.lengthManhattan()) ? i.multiplyScalar(e) : i.set(1, 0, 0, 0), n.setXYZW(t, i.x, i.y, i.z, i.w)
                    }
                }, updateMatrixWorld: function (t) {
                    Wt.prototype.updateMatrixWorld.call(this, !0), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : this.bindMode
                }, clone: function () {
                    return new this.constructor(this.geometry, this.material, this.skeleton.useVertexTexture).copy(this)
                }
            }), ((se.prototype = (0, Rs.default)(N.prototype)).constructor = se).prototype.isLineBasicMaterial = !0, se.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
            }, he.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: he, isLine: !0, raycast: (vo = new It, yo = new W, xo = new Bt, function (t, e) {
                    var i = (i = t.linePrecision) * i, n = this.geometry, r = this.matrixWorld;
                    if (null === n.boundingSphere && n.computeBoundingSphere(), xo.copy(n.boundingSphere), xo.applyMatrix4(r), !1 !== t.ray.intersectsSphere(xo)) {
                        vo.getInverse(r), yo.copy(t.ray).applyMatrix4(vo);
                        var a = new Rt, o = new Rt, s = (r = new Rt, new Rt), h = this && this.isLineSegments ? 2 : 1;
                        if (n.isBufferGeometry) {
                            var l = n.index, c = n.attributes.position.array;
                            if (null !== l) {
                                n = 0;
                                for (var u = (l = l.array).length - 1; n < u; n += h) {
                                    var p = l[n + 1];
                                    a.fromArray(c, 3 * l[n]), o.fromArray(c, 3 * p), i < (p = yo.distanceSqToSegment(a, o, s, r)) || (s.applyMatrix4(this.matrixWorld), (p = t.ray.origin.distanceTo(s)) < t.near || p > t.far || e.push({
                                        distance: p,
                                        point: r.clone().applyMatrix4(this.matrixWorld),
                                        index: n,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    }))
                                }
                            } else for (n = 0, u = c.length / 3 - 1; n < u; n += h) a.fromArray(c, 3 * n), o.fromArray(c, 3 * n + 3), i < (p = yo.distanceSqToSegment(a, o, s, r)) || (s.applyMatrix4(this.matrixWorld), (p = t.ray.origin.distanceTo(s)) < t.near || p > t.far || e.push({
                                distance: p,
                                point: r.clone().applyMatrix4(this.matrixWorld),
                                index: n,
                                face: null,
                                faceIndex: null,
                                object: this
                            }))
                        } else if (n.isGeometry) for (o = (a = n.vertices).length, n = 0; n < o - 1; n += h) i < (p = yo.distanceSqToSegment(a[n], a[n + 1], s, r)) || (s.applyMatrix4(this.matrixWorld), (p = t.ray.origin.distanceTo(s)) < t.near || p > t.far || e.push({
                            distance: p,
                            point: r.clone().applyMatrix4(this.matrixWorld),
                            index: n,
                            face: null,
                            faceIndex: null,
                            object: this
                        }))
                    }
                }), clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), le.prototype = (0, Is.default)((0, Rs.default)(he.prototype), {
                constructor: le,
                isLineSegments: !0
            }), ((ce.prototype = (0, Rs.default)(N.prototype)).constructor = ce).prototype.isPointsMaterial = !0, ce.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this
            }, ue.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: ue, isPoints: !0, raycast: (_o = new It, Mo = new W, wo = new Bt, function (a, o) {
                    function t(t, e) {
                        var i = Mo.distanceSqToPoint(t);
                        if (i < l) {
                            var n = Mo.closestPointToPoint(t);
                            n.applyMatrix4(h);
                            var r = a.ray.origin.distanceTo(n);
                            r < a.near || r > a.far || o.push({
                                distance: r,
                                distanceToRay: Math.sqrt(i),
                                point: n.clone(),
                                index: e,
                                face: null,
                                object: s
                            })
                        }
                    }

                    var s = this, e = this.geometry, h = this.matrixWorld, i = a.params.Points.threshold;
                    if (null === e.boundingSphere && e.computeBoundingSphere(), wo.copy(e.boundingSphere), wo.applyMatrix4(h), !1 !== a.ray.intersectsSphere(wo)) {
                        _o.getInverse(h), Mo.copy(a.ray).applyMatrix4(_o);
                        var l = (i /= (this.scale.x + this.scale.y + this.scale.z) / 3) * i;
                        if (i = new Rt, e.isBufferGeometry) {
                            var n = e.index;
                            if (e = e.attributes.position.array, null !== n) for (var r = n.array, c = (n = 0, r.length); n < c; n++) {
                                var u = r[n];
                                i.fromArray(e, 3 * u), t(i, u)
                            } else for (n = 0, r = e.length / 3; n < r; n++) i.fromArray(e, 3 * n), t(i, n)
                        } else for (n = 0, r = (i = e.vertices).length; n < r; n++) t(i[n], n)
                    }
                }), clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), pe.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {constructor: pe}), (de.prototype = (0, Rs.default)(B.prototype)).constructor = de, ((fe.prototype = (0, Rs.default)(B.prototype)).constructor = fe).prototype.isCompressedTexture = !0, (me.prototype = (0, Rs.default)(B.prototype)).constructor = me, ((ge.prototype = (0, Rs.default)(B.prototype)).constructor = ge).prototype.isDepthTexture = !0, (ve.prototype = (0, Rs.default)(Vt.prototype)).constructor = ve, (ye.prototype = (0, Rs.default)(ht.prototype)).constructor = ye, (xe.prototype = (0, Rs.default)(Vt.prototype)).constructor = xe, (_e.prototype = (0, Rs.default)(ht.prototype)).constructor = _e, (Me.prototype = (0, Rs.default)(Vt.prototype)).constructor = Me, (we.prototype = (0, Rs.default)(ht.prototype)).constructor = we, (be.prototype = (0, Rs.default)(Me.prototype)).constructor = be, (Se.prototype = (0, Rs.default)(ht.prototype)).constructor = Se, (Te.prototype = (0, Rs.default)(Me.prototype)).constructor = Te, (Ae.prototype = (0, Rs.default)(ht.prototype)).constructor = Ae, (Ee.prototype = (0, Rs.default)(Me.prototype)).constructor = Ee, (Le.prototype = (0, Rs.default)(ht.prototype)).constructor = Le, (Pe.prototype = (0, Rs.default)(Me.prototype)).constructor = Pe, (Ce.prototype = (0, Rs.default)(ht.prototype)).constructor = Ce, (Re.prototype = (0, Rs.default)(Vt.prototype)).constructor = Re, (Ie.prototype = (0, Rs.default)(ht.prototype)).constructor = Ie, (De.prototype = (0, Rs.default)(Vt.prototype)).constructor = De, (Ne.prototype = (0, Rs.default)(ht.prototype)).constructor = Ne, (Ue.prototype = (0, Rs.default)(Vt.prototype)).constructor = Ue;
            var So = {
                area: function (t) {
                    for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++) i += t[n].x * t[r].y - t[r].x * t[n].y;
                    return .5 * i
                }, triangulate: function (t, e) {
                    var i = t.length;
                    if (i < 3) return null;
                    var n, r, a, o = [], s = [], h = [];
                    if (0 < So.area(t)) for (r = 0; r < i; r++) s[r] = r; else for (r = 0; r < i; r++) s[r] = i - 1 - r;
                    var l = 2 * i;
                    for (r = i - 1; 2 < i && !(l-- <= 0);) {
                        var c;
                        i <= (n = r) && (n = 0), i <= (r = n + 1) && (r = 0), i <= (a = r + 1) && (a = 0);
                        t:{
                            var u, p, d, f, m, g, v, y;
                            if (u = t[s[n]].x, p = t[s[n]].y, d = t[s[r]].x, f = t[s[r]].y, m = t[s[a]].x, (d - u) * ((g = t[s[a]].y) - p) - (f - p) * (m - u) <= 0) c = !1; else {
                                var x, _, M, w, b, S, T, A, E, L;
                                for (x = m - d, _ = g - f, M = u - m, w = p - g, b = d - u, S = f - p, c = 0; c < i; c++) if (v = t[s[c]].x, y = t[s[c]].y, !(v === u && y === p || v === d && y === f || v === m && y === g) && (E = v - d, L = y - f, T = b * (A = y - p) - S * (T = v - u), A = M * (y -= g) - w * (v -= m), (E = x * L - _ * E) >= -Ns.default && A >= -Ns.default && T >= -Ns.default)) {
                                    c = !1;
                                    break t
                                }
                                c = !0
                            }
                        }
                        if (c) {
                            for (o.push([t[s[n]], t[s[r]], t[s[a]]]), h.push([s[n], s[r], s[a]]), a = (n = r) + 1; a < i; n++, a++) s[n] = s[a];
                            l = 2 * --i
                        }
                    }
                    return e ? h : o
                }, triangulateShape: function (x, t) {
                    function e(t) {
                        var e = t.length;
                        2 < e && t[e - 1].equals(t[0]) && t.pop()
                    }

                    function d(t, e, i) {
                        return t.x !== e.x ? t.x < e.x ? t.x <= i.x && i.x <= e.x : e.x <= i.x && i.x <= t.x : t.y < e.y ? t.y <= i.y && i.y <= e.y : e.y <= i.y && i.y <= t.y
                    }

                    function _(t, e, i, n, r) {
                        var a = e.x - t.x, o = e.y - t.y, s = n.x - i.x, h = n.y - i.y, l = t.x - i.x, c = t.y - i.y,
                            u = o * s - a * h, p = o * l - a * c;
                        if (Math.abs(u) > Ns.default) {
                            if (0 < u) {
                                if (p < 0 || u < p) return [];
                                if ((s = h * l - s * c) < 0 || u < s) return []
                            } else {
                                if (0 < p || p < u) return [];
                                if (0 < (s = h * l - s * c) || s < u) return []
                            }
                            return 0 === s ? !r || 0 !== p && p !== u ? [t] : [] : s === u ? !r || 0 !== p && p !== u ? [e] : [] : 0 === p ? [i] : p === u ? [n] : (r = s / u, [{
                                x: t.x + r * a,
                                y: t.y + r * o
                            }])
                        }
                        return 0 !== p || h * l != s * c ? [] : (s = 0 === s && 0 === h, (o = 0 === a && 0 === o) && s ? t.x !== i.x || t.y !== i.y ? [] : [t] : o ? d(i, n, t) ? [t] : [] : s ? d(t, e, i) ? [i] : [] : (i = 0 !== a ? (t = t.x < e.x ? (s = (a = t).x, (o = e).x) : (s = (a = e).x, (o = t).x), i.x < n.x ? (u = (e = i).x, (h = n).x) : (u = (e = n).x, (h = i).x)) : (t = t.y < e.y ? (s = (a = t).y, (o = e).y) : (s = (a = e).y, (o = t).y), i.y < n.y ? (u = (e = i).y, (h = n).y) : (u = (e = n).y, (h = i).y)), s <= u ? t < u ? [] : t === u ? r ? [] : [e] : t <= i ? [e, o] : [e, h] : i < s ? [] : s === i ? r ? [] : [a] : t <= i ? [a, o] : [a, h]))
                    }

                    function M(t, e, i, n) {
                        var r = e.x - t.x, a = e.y - t.y;
                        e = i.x - t.x, i = i.y - t.y;
                        var o = n.x - t.x;
                        return n = n.y - t.y, t = r * i - a * e, r = r * n - a * o, Math.abs(t) > Ns.default ? (e = o * i - n * e, 0 < t ? 0 <= r && 0 <= e : 0 <= r || 0 <= e) : 0 < r
                    }

                    e(x), t.forEach(e);
                    var i, n, r, a, o, s = {};
                    for (r = x.concat(), i = 0, n = t.length; i < n; i++) Array.prototype.push.apply(r, t[i]);
                    for (i = 0, n = r.length; i < n; i++) s[o = r[i].x + ":" + r[i].y], s[o] = i;
                    i = function (t, o) {
                        function e(t, e) {
                            var i = f.length - 1, n = t - 1;
                            n < 0 && (n = i);
                            var r = t + 1;
                            return i < r && (r = 0), !!(i = M(f[t], f[n], f[r], a[e])) && (i = a.length - 1, (n = e - 1) < 0 && (n = i), i < (r = e + 1) && (r = 0), !!(i = M(a[e], a[n], a[r], f[t])))
                        }

                        function i(t, e) {
                            var i, n;
                            for (i = 0; i < f.length; i++) if (n = i + 1, n %= f.length, 0 < (n = _(t, e, f[i], f[n], !0)).length) return !0;
                            return !1
                        }

                        function n(t, e) {
                            var i, n, r, a;
                            for (i = 0; i < m.length; i++) for (n = o[m[i]], r = 0; r < n.length; r++) if (a = r + 1, a %= n.length, 0 < (a = _(t, e, n[r], n[a], !0)).length) return !0;
                            return !1
                        }

                        var a, r, s, h, l, c, u, p, d, f = x.concat(), m = [], g = [], v = 0;
                        for (r = o.length; v < r; v++) m.push(v);
                        u = 0;
                        for (var y = 2 * m.length; 0 < m.length;) {
                            if (--y < 0) {
                                m.length;
                                break
                            }
                            for (s = u; s < f.length; s++) {
                                for (h = f[s], r = -1, v = 0; v < m.length; v++) if (l = m[v], void 0 === g[c = h.x + ":" + h.y + ":" + l]) {
                                    for (a = o[l], p = 0; p < a.length; p++) if (l = a[p], e(s, p) && !i(h, l) && !n(h, l)) {
                                        r = p, m.splice(v, 1), u = f.slice(0, s + 1), l = f.slice(s), p = a.slice(r), d = a.slice(0, r + 1), f = u.concat(p).concat(d).concat(l), u = s;
                                        break
                                    }
                                    if (0 <= r) break;
                                    g[c] = !0
                                }
                                if (0 <= r) break
                            }
                        }
                        return f
                    }(0, t);
                    var h = So.triangulate(i, !1);
                    for (i = 0, n = h.length; i < n; i++) for (a = h[i], r = 0; r < 3; r++) void 0 !== (o = s[o = a[r].x + ":" + a[r].y]) && (a[r] = o);
                    return h.concat()
                }, isClockWise: function (t) {
                    return So.area(t) < 0
                }
            };
            ((ze.prototype = (0, Rs.default)(ht.prototype)).constructor = ze).prototype.addShapeList = function (t, e) {
                for (var i = t.length, n = 0; n < i; n++) this.addShape(t[n], e)
            }, ze.prototype.addShape = function (t, e) {
                function i(t, e, i) {
                    return e.clone().multiplyScalar(i).add(t)
                }

                function n(t, e, i) {
                    var n, r, a;
                    r = t.x - e.x, a = t.y - e.y, n = i.x - t.x;
                    var o = i.y - t.y, s = r * r + a * a;
                    if (Math.abs(r * o - a * n) > Ns.default) {
                        var h = Math.sqrt(s), l = Math.sqrt(n * n + o * o);
                        s = e.x - a / h;
                        if (e = e.y + r / h, (a = (n = s + r * (o = ((i.x - o / l - s) * o - (i.y + n / l - e) * n) / (r * o - a * n)) - t.x) * n + (r = e + a * o - t.y) * r) <= 2) return new V(n, r);
                        a = Math.sqrt(a / 2)
                    } else t = !1, r > Ns.default ? n > Ns.default && (t = !0) : r < -Ns.default ? n < -Ns.default && (t = !0) : (0, Ds.default)(a) === (0, Ds.default)(o) && (t = !0), a = t ? (n = -a, Math.sqrt(s)) : (n = r, r = a, Math.sqrt(s / 2));
                    return new V(n / a, r / a)
                }

                function r(t, e) {
                    var i, n;
                    for (B = t.length; 0 <= --B;) {
                        (n = (i = B) - 1) < 0 && (n = t.length - 1);
                        var r, a = y + 2 * m;
                        for (r = 0; r < a; r++) {
                            var o = (o = e + i + (s = z * r)) + A, s = (s = e + n + s) + A,
                                h = (h = e + n + (l = z * (r + 1))) + A, l = (l = e + i + l) + A;
                            T.faces.push(new Z(o, s, l, null, null, 1)), T.faces.push(new Z(s, h, l, null, null, 1)), o = M.generateSideWallUV(T, o, s, h, l), T.faceVertexUvs[0].push([o[0], o[1], o[3]]), T.faceVertexUvs[0].push([o[1], o[2], o[3]])
                        }
                    }
                }

                function a(t, e, i) {
                    T.vertices.push(new Rt(t, e, i))
                }

                function o(t, e, i) {
                    t += A, e += A, i += A, T.faces.push(new Z(t, e, i, null, null, 0)), t = M.generateTopUV(T, t, e, i), T.faceVertexUvs[0].push(t)
                }

                var s, h, l, c, u, p = void 0 !== e.amount ? e.amount : 100,
                    d = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                    f = void 0 !== e.bevelSize ? e.bevelSize : d - 2,
                    m = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
                    g = void 0 === e.bevelEnabled || e.bevelEnabled,
                    v = void 0 !== e.curveSegments ? e.curveSegments : 12, y = void 0 !== e.steps ? e.steps : 1,
                    x = e.extrudePath, _ = !1, M = void 0 !== e.UVGenerator ? e.UVGenerator : ze.WorldUVGenerator;
                x && (s = x.getSpacedPoints(y), g = !(_ = !0), h = void 0 !== e.frames ? e.frames : x.computeFrenetFrames(y, !1), l = new Rt, c = new Rt, u = new Rt), g || (f = d = m = 0);
                var w, b, S, T = this, A = this.vertices.length, E = (v = (x = t.extractPoints(v)).shape, x.holes);
                if (x = !So.isClockWise(v)) {
                    for (v = v.reverse(), b = 0, S = E.length; b < S; b++) w = E[b], So.isClockWise(w) && (E[b] = w.reverse());
                    x = !1
                }
                var L = So.triangulateShape(v, E), P = v;
                for (b = 0, S = E.length; b < S; b++) w = E[b], v = v.concat(w);
                var C, R, I, D, N, U, z = v.length, F = L.length, B = (x = [], 0);
                for (C = (I = P.length) - 1, R = B + 1; B < I; B++, C++, R++) C === I && (C = 0), R === I && (R = 0), x[B] = n(P[B], P[C], P[R]);
                var O, G = [], k = x.concat();
                for (b = 0, S = E.length; b < S; b++) {
                    for (w = E[b], O = [], B = 0, C = (I = w.length) - 1, R = B + 1; B < I; B++, C++, R++) C === I && (C = 0), R === I && (R = 0), O[B] = n(w[B], w[C], w[R]);
                    G.push(O), k = k.concat(O)
                }
                for (C = 0; C < m; C++) {
                    for (I = C / m, D = d * Math.cos(I * Math.PI / 2), R = f * Math.sin(I * Math.PI / 2), B = 0, I = P.length; B < I; B++) a((N = i(P[B], x[B], R)).x, N.y, -D);
                    for (b = 0, S = E.length; b < S; b++) for (w = E[b], O = G[b], B = 0, I = w.length; B < I; B++) a((N = i(w[B], O[B], R)).x, N.y, -D)
                }
                for (R = f, B = 0; B < z; B++) N = g ? i(v[B], k[B], R) : v[B], _ ? (c.copy(h.normals[0]).multiplyScalar(N.x), l.copy(h.binormals[0]).multiplyScalar(N.y), u.copy(s[0]).add(c).add(l), a(u.x, u.y, u.z)) : a(N.x, N.y, 0);
                for (I = 1; I <= y; I++) for (B = 0; B < z; B++) N = g ? i(v[B], k[B], R) : v[B], _ ? (c.copy(h.normals[I]).multiplyScalar(N.x), l.copy(h.binormals[I]).multiplyScalar(N.y), u.copy(s[I]).add(c).add(l), a(u.x, u.y, u.z)) : a(N.x, N.y, p / y * I);
                for (C = m - 1; 0 <= C; C--) {
                    for (I = C / m, D = d * Math.cos(I * Math.PI / 2), R = f * Math.sin(I * Math.PI / 2), B = 0, I = P.length; B < I; B++) a((N = i(P[B], x[B], R)).x, N.y, p + D);
                    for (b = 0, S = E.length; b < S; b++) for (w = E[b], O = G[b], B = 0, I = w.length; B < I; B++) N = i(w[B], O[B], R), _ ? a(N.x, N.y + s[y - 1].y, s[y - 1].x + D) : a(N.x, N.y, p + D)
                }
                !function () {
                    if (g) {
                        var t = 0 * z;
                        for (B = 0; B < F; B++) o((U = L[B])[2] + t, U[1] + t, U[0] + t);
                        for (t = z * (y + 2 * m), B = 0; B < F; B++) o((U = L[B])[0] + t, U[1] + t, U[2] + t)
                    } else {
                        for (B = 0; B < F; B++) o((U = L[B])[2], U[1], U[0]);
                        for (B = 0; B < F; B++) o((U = L[B])[0] + z * y, U[1] + z * y, U[2] + z * y)
                    }
                }(), function () {
                    var t = 0;
                    for (r(P, t), t += P.length, b = 0, S = E.length; b < S; b++) r(w = E[b], t), t += w.length
                }()
            }, ze.WorldUVGenerator = {
                generateTopUV: function (t, e, i, n) {
                    return e = (t = t.vertices)[e], i = t[i], n = t[n], [new V(e.x, e.y), new V(i.x, i.y), new V(n.x, n.y)]
                }, generateSideWallUV: function (t, e, i, n, r) {
                    return e = (t = t.vertices)[e], i = t[i], n = t[n], r = t[r], Math.abs(e.y - i.y) < .01 ? [new V(e.x, 1 - e.z), new V(i.x, 1 - i.z), new V(n.x, 1 - n.z), new V(r.x, 1 - r.z)] : [new V(e.y, 1 - e.z), new V(i.y, 1 - i.z), new V(n.y, 1 - n.z), new V(r.y, 1 - r.z)]
                }
            }, (Fe.prototype = (0, Rs.default)(ze.prototype)).constructor = Fe, (Be.prototype = (0, Rs.default)(ht.prototype)).constructor = Be, (Oe.prototype = (0, Rs.default)(Vt.prototype)).constructor = Oe, (Ge.prototype = (0, Rs.default)(ht.prototype)).constructor = Ge, (ke.prototype = (0, Rs.default)(Vt.prototype)).constructor = ke, (Ve.prototype = (0, Rs.default)(ht.prototype)).constructor = Ve, (We.prototype = (0, Rs.default)(Vt.prototype)).constructor = We, (He.prototype = (0, Rs.default)(ht.prototype)).constructor = He, (Xe.prototype = (0, Rs.default)(Vt.prototype)).constructor = Xe, (je.prototype = (0, Rs.default)(Vt.prototype)).constructor = je, (Ye.prototype = (0, Rs.default)(ht.prototype)).constructor = Ye, (qe.prototype = (0, Rs.default)(Vt.prototype)).constructor = qe, (Ze.prototype = (0, Rs.default)(Ye.prototype)).constructor = Ze, (Je.prototype = (0, Rs.default)(qe.prototype)).constructor = Je, (Qe.prototype = (0, Rs.default)(ht.prototype)).constructor = Qe, (Ke.prototype = (0, Rs.default)(Vt.prototype)).constructor = Ke;
            var To = (0, Ps.default)({
                WireframeGeometry: ve,
                ParametricGeometry: ye,
                ParametricBufferGeometry: xe,
                TetrahedronGeometry: we,
                TetrahedronBufferGeometry: be,
                OctahedronGeometry: Se,
                OctahedronBufferGeometry: Te,
                IcosahedronGeometry: Ae,
                IcosahedronBufferGeometry: Ee,
                DodecahedronGeometry: Le,
                DodecahedronBufferGeometry: Pe,
                PolyhedronGeometry: _e,
                PolyhedronBufferGeometry: Me,
                TubeGeometry: Ce,
                TubeBufferGeometry: Re,
                TorusKnotGeometry: Ie,
                TorusKnotBufferGeometry: De,
                TorusGeometry: Ne,
                TorusBufferGeometry: Ue,
                TextGeometry: Fe,
                SphereGeometry: Be,
                SphereBufferGeometry: Oe,
                RingGeometry: Ge,
                RingBufferGeometry: ke,
                PlaneGeometry: ct,
                PlaneBufferGeometry: Xt,
                LatheGeometry: Ve,
                LatheBufferGeometry: We,
                ShapeGeometry: He,
                ShapeBufferGeometry: Xe,
                ExtrudeGeometry: ze,
                EdgesGeometry: je,
                ConeGeometry: Ze,
                ConeBufferGeometry: Je,
                CylinderGeometry: Ye,
                CylinderBufferGeometry: qe,
                CircleGeometry: Qe,
                CircleBufferGeometry: Ke,
                BoxGeometry: lt,
                BoxBufferGeometry: Ht
            });
            (($e.prototype = (0, Rs.default)(Ft.prototype)).constructor = $e).prototype.isShadowMaterial = !0, ti.prototype = (0, Rs.default)(Ft.prototype), ei.prototype = {
                constructor: ei,
                isMultiMaterial: (ti.prototype.constructor = ti).prototype.isRawShaderMaterial = !0,
                toJSON: function (t) {
                    for (var e = {
                        metadata: {version: 4.2, type: "material", generator: "MaterialExporter"},
                        uuid: this.uuid,
                        type: this.type,
                        materials: []
                    }, i = this.materials, n = 0, r = i.length; n < r; n++) {
                        var a = i[n].toJSON(t);
                        delete a.metadata, e.materials.push(a)
                    }
                    return e.visible = this.visible, e
                },
                clone: function () {
                    for (var t = new this.constructor, e = 0; e < this.materials.length; e++) t.materials.push(this.materials[e].clone());
                    return t.visible = this.visible, t
                }
            }, ((ii.prototype = (0, Rs.default)(N.prototype)).constructor = ii).prototype.isMeshStandardMaterial = !0, ii.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.defines = {STANDARD: ""}, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, ((ni.prototype = (0, Rs.default)(ii.prototype)).constructor = ni).prototype.isMeshPhysicalMaterial = !0, ni.prototype.copy = function (t) {
                return ii.prototype.copy.call(this, t), this.defines = {PHYSICAL: ""}, this.reflectivity = t.reflectivity, this.clearCoat = t.clearCoat, this.clearCoatRoughness = t.clearCoatRoughness, this
            }, ((ri.prototype = (0, Rs.default)(N.prototype)).constructor = ri).prototype.isMeshPhongMaterial = !0, ri.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, ((ai.prototype = (0, Rs.default)(ri.prototype)).constructor = ai).prototype.isMeshToonMaterial = !0, ai.prototype.copy = function (t) {
                return ri.prototype.copy.call(this, t), this.gradientMap = t.gradientMap, this
            }, ((oi.prototype = (0, Rs.default)(N.prototype)).constructor = oi).prototype.isMeshNormalMaterial = !0, oi.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, ((si.prototype = (0, Rs.default)(N.prototype)).constructor = si).prototype.isMeshLambertMaterial = !0, si.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, ((hi.prototype = (0, Rs.default)(N.prototype)).constructor = hi).prototype.isLineDashedMaterial = !0, hi.prototype.copy = function (t) {
                return N.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
            };
            var Ao = (0, Ps.default)({
                ShadowMaterial: $e,
                SpriteMaterial: At,
                RawShaderMaterial: ti,
                ShaderMaterial: Ft,
                PointsMaterial: ce,
                MultiMaterial: ei,
                MeshPhysicalMaterial: ni,
                MeshStandardMaterial: ii,
                MeshPhongMaterial: ri,
                MeshToonMaterial: ai,
                MeshNormalMaterial: oi,
                MeshLambertMaterial: si,
                MeshDepthMaterial: G,
                MeshBasicMaterial: kt,
                LineDashedMaterial: hi,
                LineBasicMaterial: se,
                Material: N
            }), Eo = {
                enabled: !1, files: {}, add: function (t, e) {
                    !1 !== this.enabled && (this.files[t] = e)
                }, get: function (t) {
                    if (!1 !== this.enabled) return this.files[t]
                }, remove: function (t) {
                    delete this.files[t]
                }, clear: function () {
                    this.files = {}
                }
            }, Lo = new li;
            (0, Is.default)(ci.prototype, {
                load: function (i, n, e, r) {
                    void 0 === i && (i = ""), void 0 !== this.path && (i = this.path + i);
                    var a = this, t = Eo.get(i);
                    if (void 0 !== t) return a.manager.itemStart(i), setTimeout(function () {
                        n && n(t), a.manager.itemEnd(i)
                    }, 0), t;
                    if (h = i.match(/^data:(.*?)(;base64)?,(.*)$/)) {
                        var o = h[1], s = !!h[2], h = h[3];
                        h = window.decodeURIComponent(h);
                        s && (h = window.atob(h));
                        try {
                            var l, c = (this.responseType || "").toLowerCase();
                            switch (c) {
                                case"arraybuffer":
                                case"blob":
                                    l = new ArrayBuffer(h.length);
                                    var u = new Uint8Array(l);
                                    for (s = 0; s < h.length; s++) u[s] = h.charCodeAt(s);
                                    "blob" === c && (l = new Blob([l], {type: o}));
                                    break;
                                case"document":
                                    l = (new DOMParser).parseFromString(h, o);
                                    break;
                                case"json":
                                    l = JSON.parse(h);
                                    break;
                                default:
                                    l = h
                            }
                            window.setTimeout(function () {
                                n && n(l), a.manager.itemEnd(i)
                            }, 0)
                        } catch (t) {
                            window.setTimeout(function () {
                                r && r(t), a.manager.itemError(i)
                            }, 0)
                        }
                    } else {
                        var p = new XMLHttpRequest;
                        p.open("GET", i, !0), p.addEventListener("load", function (t) {
                            var e = t.target.response;
                            Eo.add(i, e), 200 === this.status ? (n && n(e), a.manager.itemEnd(i)) : 0 === this.status ? (n && n(e), a.manager.itemEnd(i)) : (r && r(t), a.manager.itemError(i))
                        }, !1), void 0 !== e && p.addEventListener("progress", function (t) {
                            e(t)
                        }, !1), p.addEventListener("error", function (t) {
                            r && r(t), a.manager.itemError(i)
                        }, !1), void 0 !== this.responseType && (p.responseType = this.responseType), void 0 !== this.withCredentials && (p.withCredentials = this.withCredentials), p.overrideMimeType && p.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"), p.send(null)
                    }
                    return a.manager.itemStart(i), p
                }, setPath: function (t) {
                    return this.path = t, this
                }, setResponseType: function (t) {
                    return this.responseType = t, this
                }, setWithCredentials: function (t) {
                    return this.withCredentials = t, this
                }, setMimeType: function (t) {
                    return this.mimeType = t, this
                }
            }), (0, Is.default)(ui.prototype, {
                load: function (t, r, i, n) {
                    function e(e) {
                        h.load(t[e], function (t) {
                            t = a._parser(t, !0), o[e] = {
                                width: t.width,
                                height: t.height,
                                format: t.format,
                                mipmaps: t.mipmaps
                            }, 6 === (l += 1) && (1 === t.mipmapCount && (s.minFilter = 1006), s.format = t.format, s.needsUpdate = !0, r && r(s))
                        }, i, n)
                    }

                    var a = this, o = [], s = new fe;
                    s.image = o;
                    var h = new ci(this.manager);
                    if (h.setPath(this.path), h.setResponseType("arraybuffer"), Array.isArray(t)) for (var l = 0, c = 0, u = t.length; c < u; ++c) e(c); else h.load(t, function (t) {
                        if ((t = a._parser(t, !0)).isCubemap) for (var e = t.mipmaps.length / t.mipmapCount, i = 0; i < e; i++) {
                            o[i] = {mipmaps: []};
                            for (var n = 0; n < t.mipmapCount; n++) o[i].mipmaps.push(t.mipmaps[i * t.mipmapCount + n]), o[i].format = t.format, o[i].width = t.width, o[i].height = t.height
                        } else s.image.width = t.width, s.image.height = t.height, s.mipmaps = t.mipmaps;
                        1 === t.mipmapCount && (s.minFilter = 1006), s.format = t.format, s.needsUpdate = !0, r && r(s)
                    }, i, n);
                    return s
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), (0, Is.default)(pi.prototype, {
                load: function (t, e, i, n) {
                    var r = this, a = new D, o = new ci(this.manager);
                    return o.setResponseType("arraybuffer"), o.load(t, function (t) {
                        (t = r._parser(t)) && (void 0 !== t.image ? a.image = t.image : void 0 !== t.data && (a.image.width = t.width, a.image.height = t.height, a.image.data = t.data), a.wrapS = void 0 !== t.wrapS ? t.wrapS : 1001, a.wrapT = void 0 !== t.wrapT ? t.wrapT : 1001, a.magFilter = void 0 !== t.magFilter ? t.magFilter : 1006, a.minFilter = void 0 !== t.minFilter ? t.minFilter : 1008, a.anisotropy = void 0 !== t.anisotropy ? t.anisotropy : 1, void 0 !== t.format && (a.format = t.format), void 0 !== t.type && (a.type = t.type), void 0 !== t.mipmaps && (a.mipmaps = t.mipmaps), 1 === t.mipmapCount && (a.minFilter = 1006), a.needsUpdate = !0, e && e(a, t))
                    }, i, n), a
                }
            }), (0, Is.default)(di.prototype, {
                load: function (e, t, i, n) {
                    void 0 === e && (e = ""), void 0 !== this.path && (e = this.path + e);
                    var r = this, a = Eo.get(e);
                    return void 0 !== a ? (r.manager.itemStart(e), setTimeout(function () {
                        t && t(a), r.manager.itemEnd(e)
                    }, 0), a) : ((i = document.createElementNS("http://www.w3.org/1999/xhtml", "img")).addEventListener("load", function () {
                        Eo.add(e, this), t && t(this), r.manager.itemEnd(e)
                    }, !1), i.addEventListener("error", function (t) {
                        n && n(t), r.manager.itemError(e)
                    }, !1), void 0 !== this.crossOrigin && (i.crossOrigin = this.crossOrigin), r.manager.itemStart(e), i.src = e, i)
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), (0, Is.default)(fi.prototype, {
                load: function (t, i, e, n) {
                    function r(e) {
                        o.load(t[e], function (t) {
                            a.images[e] = t, 6 === ++s && (a.needsUpdate = !0, i && i(a))
                        }, void 0, n)
                    }

                    var a = new h, o = new di(this.manager);
                    o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
                    var s = 0;
                    for (e = 0; e < t.length; ++e) r(e);
                    return a
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), (0, Is.default)(mi.prototype, {
                load: function (i, n, t, e) {
                    var r = new B, a = new di(this.manager);
                    return a.setCrossOrigin(this.crossOrigin), a.setPath(this.path), a.load(i, function (t) {
                        var e = 0 < i.search(/\.(jpg|jpeg)$/) || 0 === i.search(/^data\:image\/jpeg/);
                        r.format = e ? 1022 : 1023, r.image = t, r.needsUpdate = !0, void 0 !== n && n(r)
                    }, t, e), r
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), gi.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: gi,
                isLight: !0,
                copy: function (t) {
                    return j.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
                },
                toJSON: function (t) {
                    return (t = j.prototype.toJSON.call(this, t)).object.color = this.color.getHex(), t.object.intensity = this.intensity, void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (t.object.distance = this.distance), void 0 !== this.angle && (t.object.angle = this.angle), void 0 !== this.decay && (t.object.decay = this.decay), void 0 !== this.penumbra && (t.object.penumbra = this.penumbra), void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()), t
                }
            }), vi.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {
                constructor: vi,
                isHemisphereLight: !0,
                copy: function (t) {
                    return gi.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
                }
            }), (0, Is.default)(yi.prototype, {
                copy: function (t) {
                    return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, toJSON: function () {
                    var t = {};
                    return 0 !== this.bias && (t.bias = this.bias), 1 !== this.radius && (t.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t
                }
            }), xi.prototype = (0, Is.default)((0, Rs.default)(yi.prototype), {
                constructor: xi,
                isSpotLightShadow: !0,
                update: function (t) {
                    var e = 2 * hr.RAD2DEG * t.angle, i = this.mapSize.width / this.mapSize.height;
                    t = t.distance || 500;
                    var n = this.camera;
                    e === n.fov && i === n.aspect && t === n.far || (n.fov = e, n.aspect = i, n.far = t, n.updateProjectionMatrix())
                }
            }), _i.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {
                constructor: _i,
                isSpotLight: !0,
                copy: function (t) {
                    return gi.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Mi.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {
                constructor: Mi,
                isPointLight: !0,
                copy: function (t) {
                    return gi.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
                }
            }), wi.prototype = (0, Is.default)((0, Rs.default)(yi.prototype), {constructor: wi}), bi.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {
                constructor: bi,
                isDirectionalLight: !0,
                copy: function (t) {
                    return gi.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Si.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {constructor: Si, isAmbientLight: !0});
            var Po, Co, Ro, Io, Do, No, Uo = {
                arraySlice: function (t, e, i) {
                    return Uo.isTypedArray(t) ? new t.constructor(t.subarray(e, i)) : t.slice(e, i)
                }, convertArray: function (t, e, i) {
                    return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
                }, isTypedArray: function (t) {
                    return ArrayBuffer.isView(t) && !(t instanceof DataView)
                }, getKeyframeOrder: function (i) {
                    for (var t = i.length, e = Array(t), n = 0; n !== t; ++n) e[n] = n;
                    return e.sort(function (t, e) {
                        return i[t] - i[e]
                    }), e
                }, sortedArray: function (t, e, i) {
                    for (var n = t.length, r = new t.constructor(n), a = 0, o = 0; o !== n; ++a) for (var s = i[a] * e, h = 0; h !== e; ++h) r[o++] = t[s + h];
                    return r
                }, flattenJSON: function (t, e, i, n) {
                    for (var r = 1, a = t[0]; void 0 !== a && void 0 === a[n];) a = t[r++];
                    if (void 0 !== a) {
                        var o = a[n];
                        if (void 0 !== o) if (Array.isArray(o)) for (; void 0 !== (o = a[n]) && (e.push(a.time), i.push.apply(i, o)), void 0 !== (a = t[r++]);) ; else if (void 0 !== o.toArray) for (; void 0 !== (o = a[n]) && (e.push(a.time), o.toArray(i, i.length)), void 0 !== (a = t[r++]);) ; else for (; void 0 !== (o = a[n]) && (e.push(a.time), i.push(o)), void 0 !== (a = t[r++]);) ;
                    }
                }
            };
            Ti.prototype = {
                constructor: Ti, evaluate: function (t) {
                    var e = this.parameterPositions, i = this._cachedIndex, n = e[i], r = e[i - 1];
                    t:{
                        e:{
                            i:{
                                n:if (!(t < n)) {
                                    for (var a = i + 2; ;) {
                                        if (void 0 === n) {
                                            if (t < r) break n;
                                            return this._cachedIndex = i = e.length, this.afterEnd_(i - 1, t, r)
                                        }
                                        if (i === a) break;
                                        if (r = n, t < (n = e[++i])) break e
                                    }
                                    n = e.length;
                                    break i
                                }
                                if (r <= t) break t;
                                for (t < (a = e[1]) && (i = 2, r = a), a = i - 2; ;) {
                                    if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                                    if (i === a) break;
                                    if (n = r, (r = e[--i - 1]) <= t) break e
                                }
                                n = i, i = 0
                            }
                            for (; i < n;) t < e[r = i + n >>> 1] ? n = r : i = r + 1;
                            if (n = e[i], void 0 === (r = e[i - 1])) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                            if (void 0 === n) return this._cachedIndex = i = e.length, this.afterEnd_(i - 1, r, t)
                        }
                        this._cachedIndex = i, this.intervalChanged_(i, r, n)
                    }
                    return this.interpolate_(i, r, t, n)
                }, settings: null, DefaultSettings_: {}, getSettings_: function () {
                    return this.settings || this.DefaultSettings_
                }, copySampleValue_: function (t) {
                    var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize;
                    t *= n;
                    for (var r = 0; r !== n; ++r) e[r] = i[t + r];
                    return e
                }, interpolate_: function (t, e, i, n) {
                    throw Error("call to abstract method")
                }, intervalChanged_: function (t, e, i) {
                }
            }, (0, Is.default)(Ti.prototype, {
                beforeStart_: Ti.prototype.copySampleValue_,
                afterEnd_: Ti.prototype.copySampleValue_
            }), Ai.prototype = (0, Is.default)((0, Rs.default)(Ti.prototype), {
                constructor: Ai,
                DefaultSettings_: {endingStart: 2400, endingEnd: 2400},
                intervalChanged_: function (t, e, i) {
                    var n = this.parameterPositions, r = t - 2, a = t + 1, o = n[r], s = n[a];
                    if (void 0 === o) switch (this.getSettings_().endingStart) {
                        case 2401:
                            r = t, o = 2 * e - i;
                            break;
                        case 2402:
                            o = e + n[r = n.length - 2] - n[r + 1];
                            break;
                        default:
                            r = t, o = i
                    }
                    if (void 0 === s) switch (this.getSettings_().endingEnd) {
                        case 2401:
                            a = t, s = 2 * i - e;
                            break;
                        case 2402:
                            s = i + n[a = 1] - n[0];
                            break;
                        default:
                            a = t - 1, s = e
                    }
                    t = .5 * (i - e), n = this.valueSize, this._weightPrev = t / (e - o), this._weightNext = t / (s - i), this._offsetPrev = r * n, this._offsetNext = a * n
                },
                interpolate_: function (t, e, i, n) {
                    var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = (t *= o) - o,
                        h = this._offsetPrev, l = this._offsetNext, c = this._weightPrev, u = this._weightNext,
                        p = (i - e) / (n - e);
                    for (e = -c * (n = (i = p * p) * p) + 2 * c * i - c * p, c = (1 + c) * n + (-1.5 - 2 * c) * i + (-.5 + c) * p + 1, p = (-1 - u) * n + (1.5 + u) * i + .5 * p, u = u * n - u * i, i = 0; i !== o; ++i) r[i] = e * a[h + i] + c * a[s + i] + p * a[t + i] + u * a[l + i];
                    return r
                }
            }), Ei.prototype = (0, Is.default)((0, Rs.default)(Ti.prototype), {
                constructor: Ei,
                interpolate_: function (t, e, i, n) {
                    var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = (t *= o) - o;
                    for (i = 1 - (e = (i - e) / (n - e)), n = 0; n !== o; ++n) r[n] = a[s + n] * i + a[t + n] * e;
                    return r
                }
            }), Li.prototype = (0, Is.default)((0, Rs.default)(Ti.prototype), {
                constructor: Li,
                interpolate_: function (t, e, i, n) {
                    return this.copySampleValue_(t - 1)
                }
            }), Po = {
                TimeBufferType: Float32Array,
                ValueBufferType: Float32Array,
                DefaultInterpolation: 2301,
                InterpolantFactoryMethodDiscrete: function (t) {
                    return new Li(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodLinear: function (t) {
                    return new Ei(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: function (t) {
                    return new Ai(this.times, this.values, this.getValueSize(), t)
                },
                setInterpolation: function (t) {
                    var e;
                    switch (t) {
                        case 2300:
                            e = this.InterpolantFactoryMethodDiscrete;
                            break;
                        case 2301:
                            e = this.InterpolantFactoryMethodLinear;
                            break;
                        case 2302:
                            e = this.InterpolantFactoryMethodSmooth
                    }
                    if (void 0 === e) {
                        if (e = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name, void 0 === this.createInterpolant) {
                            if (t === this.DefaultInterpolation) throw Error(e);
                            this.setInterpolation(this.DefaultInterpolation)
                        }
                    } else this.createInterpolant = e
                },
                getInterpolation: function () {
                    switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                            return 2300;
                        case this.InterpolantFactoryMethodLinear:
                            return 2301;
                        case this.InterpolantFactoryMethodSmooth:
                            return 2302
                    }
                },
                getValueSize: function () {
                    return this.values.length / this.times.length
                },
                shift: function (t) {
                    if (0 !== t) for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] += t;
                    return this
                },
                scale: function (t) {
                    if (1 !== t) for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] *= t;
                    return this
                },
                trim: function (t, e) {
                    for (var i = this.times, n = i.length, r = 0, a = n - 1; r !== n && i[r] < t;) ++r;
                    for (; -1 !== a && i[a] > e;) --a;
                    return ++a, 0 === r && a === n || (a <= r && (r = (a = Math.max(a, 1)) - 1), n = this.getValueSize(), this.times = Uo.arraySlice(i, r, a), this.values = Uo.arraySlice(this.values, r * n, a * n)), this
                },
                validate: function () {
                    var t = !0;
                    0 != (i = this.getValueSize()) - Math.floor(i) && (t = !1);
                    var e = this.times, i = this.values, n = e.length;
                    0 === n && (t = !1);
                    for (var r = null, a = 0; a !== n; a++) {
                        var o = e[a];
                        if ("number" == typeof o && isNaN(o)) {
                            t = !1;
                            break
                        }
                        if (null !== r && o < r) {
                            t = !1;
                            break
                        }
                        r = o
                    }
                    if (void 0 !== i && Uo.isTypedArray(i)) for (a = 0, e = i.length; a !== e; ++a) if (n = i[a], isNaN(n)) {
                        t = !1;
                        break
                    }
                    return t
                },
                optimize: function () {
                    for (var t = this.times, e = this.values, i = this.getValueSize(), n = 2302 === this.getInterpolation(), r = 1, a = t.length - 1, o = 1; o < a; ++o) {
                        var s = !1;
                        if ((u = t[o]) !== t[o + 1] && (1 !== o || u !== u[0])) if (n) s = !0; else for (var h = o * i, l = h - i, c = h + i, u = 0; u !== i; ++u) {
                            var p = e[h + u];
                            if (p !== e[l + u] || p !== e[c + u]) {
                                s = !0;
                                break
                            }
                        }
                        if (s) {
                            if (o !== r) for (t[r] = t[o], s = o * i, h = r * i, u = 0; u !== i; ++u) e[h + u] = e[s + u];
                            ++r
                        }
                    }
                    if (0 < a) {
                        for (t[r] = t[a], s = a * i, h = r * i, u = 0; u !== i; ++u) e[h + u] = e[s + u];
                        ++r
                    }
                    return r !== t.length && (this.times = Uo.arraySlice(t, 0, r), this.values = Uo.arraySlice(e, 0, r * i)), this
                }
            }, Ci.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: Ci,
                ValueTypeName: "vector"
            }), Ri.prototype = (0, Is.default)((0, Rs.default)(Ti.prototype), {
                constructor: Ri,
                interpolate_: function (t, e, i, n) {
                    var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize;
                    for (e = (i - e) / (n - e), i = (t *= o) + o; t !== i; t += 4) s.slerpFlat(r, 0, a, t - o, a, t, e);
                    return r
                }
            }), Ii.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: Ii,
                ValueTypeName: "quaternion",
                DefaultInterpolation: 2301,
                InterpolantFactoryMethodLinear: function (t) {
                    return new Ri(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: void 0
            }), Di.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: Di,
                ValueTypeName: "number"
            }), Ni.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: Ni,
                ValueTypeName: "string",
                ValueBufferType: Array,
                DefaultInterpolation: 2300,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), Ui.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: Ui,
                ValueTypeName: "bool",
                ValueBufferType: Array,
                DefaultInterpolation: 2300,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), zi.prototype = (0, Is.default)((0, Rs.default)(Po), {
                constructor: zi,
                ValueTypeName: "color"
            }), (Fi.prototype = Po).constructor = Fi, (0, Is.default)(Fi, {
                parse: function (t) {
                    if (void 0 === t.type) throw Error("track type undefined, can not parse");
                    var e = Fi._getTrackTypeForValueTypeName(t.type);
                    if (void 0 === t.times) {
                        var i = [], n = [];
                        Uo.flattenJSON(t.keys, i, n, "value"), t.times = i, t.values = n
                    }
                    return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation)
                }, toJSON: function (t) {
                    if (void 0 !== (e = t.constructor).toJSON) e = e.toJSON(t); else {
                        var e = {
                            name: t.name,
                            times: Uo.convertArray(t.times, Array),
                            values: Uo.convertArray(t.values, Array)
                        }, i = t.getInterpolation();
                        i !== t.DefaultInterpolation && (e.interpolation = i)
                    }
                    return e.type = t.ValueTypeName, e
                }, _getTrackTypeForValueTypeName: function (t) {
                    switch (t.toLowerCase()) {
                        case"scalar":
                        case"double":
                        case"float":
                        case"number":
                        case"integer":
                            return Di;
                        case"vector":
                        case"vector2":
                        case"vector3":
                        case"vector4":
                            return Ci;
                        case"color":
                            return zi;
                        case"quaternion":
                            return Ii;
                        case"bool":
                        case"boolean":
                            return Ui;
                        case"string":
                            return Ni
                    }
                    throw Error("Unsupported typeName: " + t)
                }
            }), Bi.prototype = {
                constructor: Bi, resetDuration: function () {
                    for (var t = 0, e = 0, i = this.tracks.length; e !== i; ++e) {
                        var n = this.tracks[e];
                        t = Math.max(t, n.times[n.times.length - 1])
                    }
                    this.duration = t
                }, trim: function () {
                    for (var t = 0; t < this.tracks.length; t++) this.tracks[t].trim(0, this.duration);
                    return this
                }, optimize: function () {
                    for (var t = 0; t < this.tracks.length; t++) this.tracks[t].optimize();
                    return this
                }
            }, (0, Is.default)(Bi, {
                parse: function (t) {
                    for (var e = [], i = t.tracks, n = 1 / (t.fps || 1), r = 0, a = i.length; r !== a; ++r) e.push(Fi.parse(i[r]).scale(n));
                    return new Bi(t.name, t.duration, e)
                }, toJSON: function (t) {
                    var e = [], i = t.tracks;
                    t = {name: t.name, duration: t.duration, tracks: e};
                    for (var n = 0, r = i.length; n !== r; ++n) e.push(Fi.toJSON(i[n]));
                    return t
                }, CreateFromMorphTargetSequence: function (t, e, i, n) {
                    for (var r = e.length, a = [], o = 0; o < r; o++) {
                        var s = [];
                        (l = []).push((o + r - 1) % r, o, (o + 1) % r), s.push(0, 1, 0);
                        var h = Uo.getKeyframeOrder(l), l = Uo.sortedArray(l, 1, h);
                        s = Uo.sortedArray(s, 1, h);
                        n || 0 !== l[0] || (l.push(r), s.push(s[0])), a.push(new Di(".morphTargetInfluences[" + e[o].name + "]", l, s).scale(1 / i))
                    }
                    return new Bi(t, -1, a)
                }, findByName: function (t, e) {
                    var i = t;
                    Array.isArray(t) || (i = t.geometry && t.geometry.animations || t.animations);
                    for (var n = 0; n < i.length; n++) if (i[n].name === e) return i[n];
                    return null
                }, CreateClipsFromMorphTargetSequences: function (t, e, i) {
                    for (var n = {}, r = /^([\w-]*?)([\d]+)$/, a = 0, o = t.length; a < o; a++) {
                        var s = t[a], h = s.name.match(r);
                        if (h && 1 < h.length) {
                            var l = h[1];
                            (h = n[l]) || (n[l] = h = []), h.push(s)
                        }
                    }
                    for (l in t = [], n) t.push(Bi.CreateFromMorphTargetSequence(l, n[l], e, i));
                    return t
                }, parseAnimation: function (t, e) {
                    if (!t) return null;
                    for (var i = function (t, e, i, n, r) {
                        if (0 !== i.length) {
                            var a = [], o = [];
                            Uo.flattenJSON(i, a, o, n), 0 !== a.length && r.push(new t(e, a, o))
                        }
                    }, n = [], r = t.name || "default", a = t.length || -1, o = t.fps || 30, s = t.hierarchy || [], h = 0; h < s.length; h++) {
                        var l = s[h].keys;
                        if (l && 0 !== l.length) if (l[0].morphTargets) {
                            a = {};
                            for (var c = 0; c < l.length; c++) if (l[c].morphTargets) for (var u = 0; u < l[c].morphTargets.length; u++) a[l[c].morphTargets[u]] = -1;
                            for (var p in a) {
                                var d = [], f = [];
                                for (u = 0; u !== l[c].morphTargets.length; ++u) {
                                    var m = l[c];
                                    d.push(m.time), f.push(m.morphTarget === p ? 1 : 0)
                                }
                                n.push(new Di(".morphTargetInfluence[" + p + "]", d, f))
                            }
                            a = a.length * (o || 1)
                        } else i(Ci, (c = ".bones[" + e[h].name + "]") + ".position", l, "pos", n), i(Ii, c + ".quaternion", l, "rot", n), i(Ci, c + ".scale", l, "scl", n)
                    }
                    return 0 === n.length ? null : new Bi(r, a, n)
                }
            }), (0, Is.default)(Oi.prototype, {
                load: function (t, e, i, n) {
                    var r = this;
                    new ci(r.manager).load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, setTextures: function (t) {
                    this.textures = t
                }, parse: function (t) {
                    function e(t) {
                        return i[t], i[t]
                    }

                    var i = this.textures, n = new Ao[t.type];
                    if (void 0 !== t.uuid && (n.uuid = t.uuid), void 0 !== t.name && (n.name = t.name), void 0 !== t.color && n.color.setHex(t.color), void 0 !== t.roughness && (n.roughness = t.roughness), void 0 !== t.metalness && (n.metalness = t.metalness), void 0 !== t.emissive && n.emissive.setHex(t.emissive), void 0 !== t.specular && n.specular.setHex(t.specular), void 0 !== t.shininess && (n.shininess = t.shininess), void 0 !== t.clearCoat && (n.clearCoat = t.clearCoat), void 0 !== t.clearCoatRoughness && (n.clearCoatRoughness = t.clearCoatRoughness), void 0 !== t.uniforms && (n.uniforms = t.uniforms), void 0 !== t.vertexShader && (n.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (n.fragmentShader = t.fragmentShader), void 0 !== t.vertexColors && (n.vertexColors = t.vertexColors), void 0 !== t.fog && (n.fog = t.fog), void 0 !== t.shading && (n.shading = t.shading), void 0 !== t.blending && (n.blending = t.blending), void 0 !== t.side && (n.side = t.side), void 0 !== t.opacity && (n.opacity = t.opacity), void 0 !== t.transparent && (n.transparent = t.transparent), void 0 !== t.alphaTest && (n.alphaTest = t.alphaTest), void 0 !== t.depthTest && (n.depthTest = t.depthTest), void 0 !== t.depthWrite && (n.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (n.colorWrite = t.colorWrite), void 0 !== t.wireframe && (n.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (n.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.wireframeLinecap && (n.wireframeLinecap = t.wireframeLinecap), void 0 !== t.wireframeLinejoin && (n.wireframeLinejoin = t.wireframeLinejoin), void 0 !== t.skinning && (n.skinning = t.skinning), void 0 !== t.morphTargets && (n.morphTargets = t.morphTargets), void 0 !== t.size && (n.size = t.size), void 0 !== t.sizeAttenuation && (n.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (n.map = e(t.map)), void 0 !== t.alphaMap && (n.alphaMap = e(t.alphaMap), n.transparent = !0), void 0 !== t.bumpMap && (n.bumpMap = e(t.bumpMap)), void 0 !== t.bumpScale && (n.bumpScale = t.bumpScale), void 0 !== t.normalMap && (n.normalMap = e(t.normalMap)), void 0 !== t.normalScale) {
                        var r = t.normalScale;
                        !1 === Array.isArray(r) && (r = [r, r]), n.normalScale = (new V).fromArray(r)
                    }
                    if (void 0 !== t.displacementMap && (n.displacementMap = e(t.displacementMap)), void 0 !== t.displacementScale && (n.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (n.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (n.roughnessMap = e(t.roughnessMap)), void 0 !== t.metalnessMap && (n.metalnessMap = e(t.metalnessMap)), void 0 !== t.emissiveMap && (n.emissiveMap = e(t.emissiveMap)), void 0 !== t.emissiveIntensity && (n.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (n.specularMap = e(t.specularMap)), void 0 !== t.envMap && (n.envMap = e(t.envMap)), void 0 !== t.reflectivity && (n.reflectivity = t.reflectivity), void 0 !== t.lightMap && (n.lightMap = e(t.lightMap)), void 0 !== t.lightMapIntensity && (n.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (n.aoMap = e(t.aoMap)), void 0 !== t.aoMapIntensity && (n.aoMapIntensity = t.aoMapIntensity), void 0 !== t.gradientMap && (n.gradientMap = e(t.gradientMap)), void 0 !== t.materials) {
                        r = 0;
                        for (var a = t.materials.length; r < a; r++) n.materials.push(this.parse(t.materials[r]))
                    }
                    return n
                }
            }), (0, Is.default)(Gi.prototype, {
                load: function (t, e, i, n) {
                    var r = this;
                    new ci(r.manager).load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    var e = new Vt, i = t.data.index, n = {
                        Int8Array: Int8Array,
                        Uint8Array: Uint8Array,
                        Uint8ClampedArray: Uint8ClampedArray,
                        Int16Array: Int16Array,
                        Uint16Array: Uint16Array,
                        Int32Array: Int32Array,
                        Uint32Array: Uint32Array,
                        Float32Array: Float32Array,
                        Float64Array: Float64Array
                    };
                    void 0 !== i && (i = new n[i.type](i.array), e.setIndex(new J(i, 1)));
                    var r, a = t.data.attributes;
                    for (r in a) {
                        var o = a[r];
                        i = new n[o.type](o.array);
                        e.addAttribute(r, new J(i, o.itemSize, o.normalized))
                    }
                    if (void 0 !== (n = t.data.groups || t.data.drawcalls || t.data.offsets)) for (r = 0, i = n.length; r !== i; ++r) a = n[r], e.addGroup(a.start, a.count, a.materialIndex);
                    return void 0 !== (t = t.data.boundingSphere) && (n = new Rt, void 0 !== t.center && n.fromArray(t.center), e.boundingSphere = new Bt(n, t.radius)), e
                }
            }), ki.prototype = {
                constructor: ki,
                crossOrigin: void 0,
                extractUrlBase: function (t) {
                    return 1 === (t = t.split("/")).length ? "./" : (t.pop(), t.join("/") + "/")
                },
                initMaterials: function (t, e, i) {
                    for (var n = [], r = 0; r < t.length; ++r) n[r] = this.createMaterial(t[r], e, i);
                    return n
                },
                createMaterial: (Do = {
                    NoBlending: 0,
                    NormalBlending: 1,
                    AdditiveBlending: 2,
                    SubtractiveBlending: 3,
                    MultiplyBlending: 4,
                    CustomBlending: 5
                }, function (t, o, s) {
                    function e(t, e, i, n, r) {
                        t = o + t;
                        var a = ki.Handlers.get(t);
                        return t = null !== a ? a.load(t) : (Ro.setCrossOrigin(s), Ro.load(t)), void 0 !== e && (t.repeat.fromArray(e), 1 !== e[0] && (t.wrapS = 1e3), 1 !== e[1] && (t.wrapT = 1e3)), void 0 !== i && t.offset.fromArray(i), void 0 !== n && ("repeat" === n[0] && (t.wrapS = 1e3), "mirror" === n[0] && (t.wrapS = 1002), "repeat" === n[1] && (t.wrapT = 1e3), "mirror" === n[1] && (t.wrapT = 1002)), void 0 !== r && (t.anisotropy = r), e = hr.generateUUID(), h[e] = t, e
                    }

                    void 0 === Co && (Co = new Nt), void 0 === Ro && (Ro = new mi), void 0 === Io && (Io = new Oi);
                    var i, h = {}, n = {uuid: hr.generateUUID(), type: "MeshLambertMaterial"};
                    for (i in t) {
                        var r = t[i];
                        switch (i) {
                            case"DbgColor":
                            case"DbgIndex":
                            case"opticalDensity":
                            case"illumination":
                                break;
                            case"DbgName":
                                n.name = r;
                                break;
                            case"blending":
                                n.blending = Do[r];
                                break;
                            case"colorAmbient":
                            case"mapAmbient":
                                break;
                            case"colorDiffuse":
                                n.color = Co.fromArray(r).getHex();
                                break;
                            case"colorSpecular":
                                n.specular = Co.fromArray(r).getHex();
                                break;
                            case"colorEmissive":
                                n.emissive = Co.fromArray(r).getHex();
                                break;
                            case"specularCoef":
                                n.shininess = r;
                                break;
                            case"shading":
                                "basic" === r.toLowerCase() && (n.type = "MeshBasicMaterial"), "phong" === r.toLowerCase() && (n.type = "MeshPhongMaterial"), "standard" === r.toLowerCase() && (n.type = "MeshStandardMaterial");
                                break;
                            case"mapDiffuse":
                                n.map = e(r, t.mapDiffuseRepeat, t.mapDiffuseOffset, t.mapDiffuseWrap, t.mapDiffuseAnisotropy);
                                break;
                            case"mapDiffuseRepeat":
                            case"mapDiffuseOffset":
                            case"mapDiffuseWrap":
                            case"mapDiffuseAnisotropy":
                                break;
                            case"mapEmissive":
                                n.emissiveMap = e(r, t.mapEmissiveRepeat, t.mapEmissiveOffset, t.mapEmissiveWrap, t.mapEmissiveAnisotropy);
                                break;
                            case"mapEmissiveRepeat":
                            case"mapEmissiveOffset":
                            case"mapEmissiveWrap":
                            case"mapEmissiveAnisotropy":
                                break;
                            case"mapLight":
                                n.lightMap = e(r, t.mapLightRepeat, t.mapLightOffset, t.mapLightWrap, t.mapLightAnisotropy);
                                break;
                            case"mapLightRepeat":
                            case"mapLightOffset":
                            case"mapLightWrap":
                            case"mapLightAnisotropy":
                                break;
                            case"mapAO":
                                n.aoMap = e(r, t.mapAORepeat, t.mapAOOffset, t.mapAOWrap, t.mapAOAnisotropy);
                                break;
                            case"mapAORepeat":
                            case"mapAOOffset":
                            case"mapAOWrap":
                            case"mapAOAnisotropy":
                                break;
                            case"mapBump":
                                n.bumpMap = e(r, t.mapBumpRepeat, t.mapBumpOffset, t.mapBumpWrap, t.mapBumpAnisotropy);
                                break;
                            case"mapBumpScale":
                                n.bumpScale = r;
                                break;
                            case"mapBumpRepeat":
                            case"mapBumpOffset":
                            case"mapBumpWrap":
                            case"mapBumpAnisotropy":
                                break;
                            case"mapNormal":
                                n.normalMap = e(r, t.mapNormalRepeat, t.mapNormalOffset, t.mapNormalWrap, t.mapNormalAnisotropy);
                                break;
                            case"mapNormalFactor":
                                n.normalScale = [r, r];
                                break;
                            case"mapNormalRepeat":
                            case"mapNormalOffset":
                            case"mapNormalWrap":
                            case"mapNormalAnisotropy":
                                break;
                            case"mapSpecular":
                                n.specularMap = e(r, t.mapSpecularRepeat, t.mapSpecularOffset, t.mapSpecularWrap, t.mapSpecularAnisotropy);
                                break;
                            case"mapSpecularRepeat":
                            case"mapSpecularOffset":
                            case"mapSpecularWrap":
                            case"mapSpecularAnisotropy":
                                break;
                            case"mapMetalness":
                                n.metalnessMap = e(r, t.mapMetalnessRepeat, t.mapMetalnessOffset, t.mapMetalnessWrap, t.mapMetalnessAnisotropy);
                                break;
                            case"mapMetalnessRepeat":
                            case"mapMetalnessOffset":
                            case"mapMetalnessWrap":
                            case"mapMetalnessAnisotropy":
                                break;
                            case"mapRoughness":
                                n.roughnessMap = e(r, t.mapRoughnessRepeat, t.mapRoughnessOffset, t.mapRoughnessWrap, t.mapRoughnessAnisotropy);
                                break;
                            case"mapRoughnessRepeat":
                            case"mapRoughnessOffset":
                            case"mapRoughnessWrap":
                            case"mapRoughnessAnisotropy":
                                break;
                            case"mapAlpha":
                                n.alphaMap = e(r, t.mapAlphaRepeat, t.mapAlphaOffset, t.mapAlphaWrap, t.mapAlphaAnisotropy);
                                break;
                            case"mapAlphaRepeat":
                            case"mapAlphaOffset":
                            case"mapAlphaWrap":
                            case"mapAlphaAnisotropy":
                                break;
                            case"flipSided":
                                n.side = 1;
                                break;
                            case"doubleSided":
                                n.side = 2;
                                break;
                            case"transparency":
                                n.opacity = r;
                                break;
                            case"depthTest":
                            case"depthWrite":
                            case"colorWrite":
                            case"opacity":
                            case"reflectivity":
                            case"transparent":
                            case"visible":
                            case"wireframe":
                                n[i] = r;
                                break;
                            case"vertexColors":
                                !0 === r && (n.vertexColors = 2), "face" === r && (n.vertexColors = 1)
                        }
                    }
                    return "MeshBasicMaterial" === n.type && delete n.emissive, "MeshPhongMaterial" !== n.type && delete n.specular, n.opacity < 1 && (n.transparent = !0), Io.setTextures(h), Io.parse(n)
                })
            }, ki.Handlers = {
                handlers: [], add: function (t, e) {
                    this.handlers.push(t, e)
                }, get: function (t) {
                    for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) {
                        var r = e[i + 1];
                        if (e[i].test(t)) return r
                    }
                    return null
                }
            }, (0, Is.default)(Vi.prototype, {
                load: function (t, i, e, n) {
                    var r = this,
                        a = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : ki.prototype.extractUrlBase(t),
                        o = new ci(this.manager);
                    o.setWithCredentials(this.withCredentials), o.load(t, function (t) {
                        var e = (t = JSON.parse(t)).metadata;
                        if (void 0 !== e && void 0 !== (e = e.type)) {
                            if ("object" === e.toLowerCase()) return;
                            if ("scene" === e.toLowerCase()) return
                        }
                        t = r.parse(t, a), i(t.geometry, t.materials)
                    }, e, n)
                }, setTexturePath: function (t) {
                    this.texturePath = t
                }, parse: function (y, t) {
                    var x = new ht, e = void 0 !== y.scale ? 1 / y.scale : 1;
                    return function (t) {
                        var e, i, n, r, a, o, s, h, l, c, u, p, d, f = y.faces;
                        o = y.vertices;
                        var m = y.normals, g = y.colors, v = 0;
                        if (void 0 !== y.uvs) {
                            for (e = 0; e < y.uvs.length; e++) y.uvs[e].length && v++;
                            for (e = 0; e < v; e++) x.faceVertexUvs[e] = []
                        }
                        for (r = 0, a = o.length; r < a;) (e = new Rt).x = o[r++] * t, e.y = o[r++] * t, e.z = o[r++] * t, x.vertices.push(e);
                        for (r = 0, a = f.length; r < a;) if (l = 1 & (t = f[r++]), n = 2 & t, e = 8 & t, s = 16 & t, c = 32 & t, o = 64 & t, t &= 128, l) {
                            if ((l = new Z).a = f[r], l.b = f[r + 1], l.c = f[r + 3], (u = new Z).a = f[r + 1], u.b = f[r + 2], u.c = f[r + 3], r += 4, n && (n = f[r++], l.materialIndex = n, u.materialIndex = n), n = x.faces.length, e) for (e = 0; e < v; e++) for (p = y.uvs[e], x.faceVertexUvs[e][n] = [], x.faceVertexUvs[e][n + 1] = [], i = 0; i < 4; i++) d = new V(d = p[2 * (h = f[r++])], h = p[2 * h + 1]), 2 !== i && x.faceVertexUvs[e][n].push(d), 0 !== i && x.faceVertexUvs[e][n + 1].push(d);
                            if (s && (s = 3 * f[r++], l.normal.set(m[s++], m[s++], m[s]), u.normal.copy(l.normal)), c) for (e = 0; e < 4; e++) s = 3 * f[r++], c = new Rt(m[s++], m[s++], m[s]), 2 !== e && l.vertexNormals.push(c), 0 !== e && u.vertexNormals.push(c);
                            if (o && (o = g[o = f[r++]], l.color.setHex(o), u.color.setHex(o)), t) for (e = 0; e < 4; e++) o = g[o = f[r++]], 2 !== e && l.vertexColors.push(new Nt(o)), 0 !== e && u.vertexColors.push(new Nt(o));
                            x.faces.push(l), x.faces.push(u)
                        } else {
                            if ((l = new Z).a = f[r++], l.b = f[r++], l.c = f[r++], n && (n = f[r++], l.materialIndex = n), n = x.faces.length, e) for (e = 0; e < v; e++) for (p = y.uvs[e], x.faceVertexUvs[e][n] = [], i = 0; i < 3; i++) d = new V(d = p[2 * (h = f[r++])], h = p[2 * h + 1]), x.faceVertexUvs[e][n].push(d);
                            if (s && (s = 3 * f[r++], l.normal.set(m[s++], m[s++], m[s])), c) for (e = 0; e < 3; e++) s = 3 * f[r++], c = new Rt(m[s++], m[s++], m[s]), l.vertexNormals.push(c);
                            if (o && (o = f[r++], l.color.setHex(g[o])), t) for (e = 0; e < 3; e++) o = f[r++], l.vertexColors.push(new Nt(g[o]));
                            x.faces.push(l)
                        }
                    }(e), function () {
                        var t = void 0 !== y.influencesPerVertex ? y.influencesPerVertex : 2;
                        if (y.skinWeights) for (var e = 0, i = y.skinWeights.length; e < i; e += t) x.skinWeights.push(new Ct(y.skinWeights[e], 1 < t ? y.skinWeights[e + 1] : 0, 2 < t ? y.skinWeights[e + 2] : 0, 3 < t ? y.skinWeights[e + 3] : 0));
                        if (y.skinIndices) for (e = 0, i = y.skinIndices.length; e < i; e += t) x.skinIndices.push(new Ct(y.skinIndices[e], 1 < t ? y.skinIndices[e + 1] : 0, 2 < t ? y.skinIndices[e + 2] : 0, 3 < t ? y.skinIndices[e + 3] : 0));
                        x.bones = y.bones, x.bones && 0 < x.bones.length && (x.skinWeights.length !== x.skinIndices.length || x.skinIndices.length !== x.vertices.length) && (x.vertices.length, x.skinIndices.length, x.skinWeights.length)
                    }(), function (t) {
                        if (void 0 !== y.morphTargets) for (var e = 0, i = y.morphTargets.length; e < i; e++) {
                            x.morphTargets[e] = {}, x.morphTargets[e].name = y.morphTargets[e].name, x.morphTargets[e].vertices = [];
                            for (var n = x.morphTargets[e].vertices, r = y.morphTargets[e].vertices, a = 0, o = r.length; a < o; a += 3) {
                                var s = new Rt;
                                s.x = r[a] * t, s.y = r[a + 1] * t, s.z = r[a + 2] * t, n.push(s)
                            }
                        }
                        if (void 0 !== y.morphColors && 0 < y.morphColors.length) for (t = x.faces, n = y.morphColors[0].colors, e = 0, i = t.length; e < i; e++) t[e].color.fromArray(n, 3 * e)
                    }(e), function () {
                        var t = [], e = [];
                        void 0 !== y.animation && e.push(y.animation), void 0 !== y.animations && (y.animations.length ? e = e.concat(y.animations) : e.push(y.animations));
                        for (var i = 0; i < e.length; i++) {
                            var n = Bi.parseAnimation(e[i], x.bones);
                            n && t.push(n)
                        }
                        x.morphTargets && (e = Bi.CreateClipsFromMorphTargetSequences(x.morphTargets, 10), t = t.concat(e)), 0 < t.length && (x.animations = t)
                    }(), x.computeFaceNormals(), x.computeBoundingSphere(), void 0 === y.materials || 0 === y.materials.length ? {geometry: x} : (e = ki.prototype.initMaterials(y.materials, t, this.crossOrigin), {
                        geometry: x,
                        materials: e
                    })
                }
            }), (0, Is.default)(Wi.prototype, {
                load: function (t, i, e, n) {
                    "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1));
                    var r = this;
                    new ci(r.manager).load(t, function (t) {
                        var e = null;
                        try {
                            e = JSON.parse(t)
                        } catch (t) {
                            return void 0 !== n && n(t), void t.message
                        }
                        void 0 === (t = e.metadata) || void 0 === t.type || "geometry" === t.type.toLowerCase() || r.parse(e, i)
                    }, e, n)
                }, setTexturePath: function (t) {
                    this.texturePath = t
                }, setCrossOrigin: function (t) {
                    this.crossOrigin = t
                }, parse: function (t, e) {
                    var i = this.parseGeometries(t.geometries), n = this.parseImages(t.images, function () {
                            void 0 !== e && e(r)
                        }),
                        r = (n = this.parseTextures(t.textures, n), n = this.parseMaterials(t.materials, n), this.parseObject(t.object, i, n));
                    return t.animations && (r.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 === e || e(r), r
                }, parseGeometries: function (t) {
                    var e = {};
                    if (void 0 !== t) for (var i = new Vi, n = new Gi, r = 0, a = t.length; r < a; r++) {
                        var o, s = t[r];
                        switch (s.type) {
                            case"PlaneGeometry":
                            case"PlaneBufferGeometry":
                                o = new To[s.type](s.width, s.height, s.widthSegments, s.heightSegments);
                                break;
                            case"BoxGeometry":
                            case"BoxBufferGeometry":
                            case"CubeGeometry":
                                o = new To[s.type](s.width, s.height, s.depth, s.widthSegments, s.heightSegments, s.depthSegments);
                                break;
                            case"CircleGeometry":
                            case"CircleBufferGeometry":
                                o = new To[s.type](s.radius, s.segments, s.thetaStart, s.thetaLength);
                                break;
                            case"CylinderGeometry":
                            case"CylinderBufferGeometry":
                                o = new To[s.type](s.radiusTop, s.radiusBottom, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
                                break;
                            case"ConeGeometry":
                            case"ConeBufferGeometry":
                                o = new To[s.type](s.radius, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
                                break;
                            case"SphereGeometry":
                            case"SphereBufferGeometry":
                                o = new To[s.type](s.radius, s.widthSegments, s.heightSegments, s.phiStart, s.phiLength, s.thetaStart, s.thetaLength);
                                break;
                            case"DodecahedronGeometry":
                            case"IcosahedronGeometry":
                            case"OctahedronGeometry":
                            case"TetrahedronGeometry":
                                o = new To[s.type](s.radius, s.detail);
                                break;
                            case"RingGeometry":
                            case"RingBufferGeometry":
                                o = new To[s.type](s.innerRadius, s.outerRadius, s.thetaSegments, s.phiSegments, s.thetaStart, s.thetaLength);
                                break;
                            case"TorusGeometry":
                            case"TorusBufferGeometry":
                                o = new To[s.type](s.radius, s.tube, s.radialSegments, s.tubularSegments, s.arc);
                                break;
                            case"TorusKnotGeometry":
                            case"TorusKnotBufferGeometry":
                                o = new To[s.type](s.radius, s.tube, s.tubularSegments, s.radialSegments, s.p, s.q);
                                break;
                            case"LatheGeometry":
                            case"LatheBufferGeometry":
                                o = new To[s.type](s.points, s.segments, s.phiStart, s.phiLength);
                                break;
                            case"BufferGeometry":
                                o = n.parse(s);
                                break;
                            case"Geometry":
                                o = i.parse(s.data, this.texturePath).geometry;
                                break;
                            default:
                                s.type;
                                continue
                        }
                        o.uuid = s.uuid, void 0 !== s.name && (o.name = s.name), e[s.uuid] = o
                    }
                    return e
                }, parseMaterials: function (t, e) {
                    var i = {};
                    if (void 0 !== t) {
                        var n = new Oi;
                        n.setTextures(e);
                        for (var r = 0, a = t.length; r < a; r++) {
                            var o = n.parse(t[r]);
                            i[o.uuid] = o
                        }
                    }
                    return i
                }, parseAnimations: function (t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var n = Bi.parse(t[i]);
                        e.push(n)
                    }
                    return e
                }, parseImages: function (t, e) {
                    function i(t) {
                        return n.manager.itemStart(t), a.load(t, function () {
                            n.manager.itemEnd(t)
                        }, void 0, function () {
                            n.manager.itemError(t)
                        })
                    }

                    var n = this, r = {};
                    if (void 0 !== t && 0 < t.length) {
                        var a = new di(o = new li(e));
                        a.setCrossOrigin(this.crossOrigin);
                        for (var o = 0, s = t.length; o < s; o++) {
                            var h = t[o], l = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url) ? h.url : n.texturePath + h.url;
                            r[h.uuid] = i(l)
                        }
                    }
                    return r
                }, parseTextures: function (t, e) {
                    function i(t, e) {
                        return "number" == typeof t ? t : e[t]
                    }

                    var n = {
                        UVMapping: 300,
                        CubeReflectionMapping: 301,
                        CubeRefractionMapping: 302,
                        EquirectangularReflectionMapping: 303,
                        EquirectangularRefractionMapping: 304,
                        SphericalReflectionMapping: 305,
                        CubeUVReflectionMapping: 306,
                        CubeUVRefractionMapping: 307
                    }, r = {RepeatWrapping: 1e3, ClampToEdgeWrapping: 1001, MirroredRepeatWrapping: 1002}, a = {
                        NearestFilter: 1003,
                        NearestMipMapNearestFilter: 1004,
                        NearestMipMapLinearFilter: 1005,
                        LinearFilter: 1006,
                        LinearMipMapNearestFilter: 1007,
                        LinearMipMapLinearFilter: 1008
                    }, o = {};
                    if (void 0 !== t) for (var s = 0, h = t.length; s < h; s++) {
                        var l = t[s];
                        void 0 === l.image && l.uuid, void 0 === e[l.image] && l.image;
                        var c = new B(e[l.image]);
                        c.needsUpdate = !0, c.uuid = l.uuid, void 0 !== l.name && (c.name = l.name), void 0 !== l.mapping && (c.mapping = i(l.mapping, n)), void 0 !== l.offset && c.offset.fromArray(l.offset), void 0 !== l.repeat && c.repeat.fromArray(l.repeat), void 0 !== l.wrap && (c.wrapS = i(l.wrap[0], r), c.wrapT = i(l.wrap[1], r)), void 0 !== l.minFilter && (c.minFilter = i(l.minFilter, a)), void 0 !== l.magFilter && (c.magFilter = i(l.magFilter, a)), void 0 !== l.anisotropy && (c.anisotropy = l.anisotropy), void 0 !== l.flipY && (c.flipY = l.flipY), o[l.uuid] = c
                    }
                    return o
                }, parseObject: (No = new It, function (t, e, i) {
                    function n(t) {
                        return e[t], e[t]
                    }

                    function r(t) {
                        if (void 0 !== t) return i[t], i[t]
                    }

                    var a;
                    switch (t.type) {
                        case"Scene":
                            a = new St, void 0 !== t.background && (0, Ls.default)(t.background) && (a.background = new Nt(t.background)), void 0 !== t.fog && ("Fog" === t.fog.type ? a.fog = new bt(t.fog.color, t.fog.near, t.fog.far) : "FogExp2" === t.fog.type && (a.fog = new wt(t.fog.color, t.fog.density)));
                            break;
                        case"PerspectiveCamera":
                            a = new jt(t.fov, t.aspect, t.near, t.far), void 0 !== t.focus && (a.focus = t.focus), void 0 !== t.zoom && (a.zoom = t.zoom), void 0 !== t.filmGauge && (a.filmGauge = t.filmGauge), void 0 !== t.filmOffset && (a.filmOffset = t.filmOffset), void 0 !== t.view && (a.view = (0, Is.default)({}, t.view));
                            break;
                        case"OrthographicCamera":
                            a = new Yt(t.left, t.right, t.top, t.bottom, t.near, t.far);
                            break;
                        case"AmbientLight":
                            a = new Si(t.color, t.intensity);
                            break;
                        case"DirectionalLight":
                            a = new bi(t.color, t.intensity);
                            break;
                        case"PointLight":
                            a = new Mi(t.color, t.intensity, t.distance, t.decay);
                            break;
                        case"SpotLight":
                            a = new _i(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
                            break;
                        case"HemisphereLight":
                            a = new vi(t.color, t.groundColor, t.intensity);
                            break;
                        case"Mesh":
                            a = n(t.geometry);
                            var o = r(t.material);
                            a = a.bones && 0 < a.bones.length ? new oe(a, o) : new Wt(a, o);
                            break;
                        case"LOD":
                            a = new Lt;
                            break;
                        case"Line":
                            a = new he(n(t.geometry), r(t.material), t.mode);
                            break;
                        case"LineSegments":
                            a = new le(n(t.geometry), r(t.material));
                            break;
                        case"PointCloud":
                        case"Points":
                            a = new ue(n(t.geometry), r(t.material));
                            break;
                        case"Sprite":
                            a = new Et(r(t.material));
                            break;
                        case"Group":
                            a = new pe;
                            break;
                        case"SkinnedMesh":
                        default:
                            a = new j
                    }
                    if (a.uuid = t.uuid, void 0 !== t.name && (a.name = t.name), void 0 !== t.matrix ? (No.fromArray(t.matrix), No.decompose(a.position, a.quaternion, a.scale)) : (void 0 !== t.position && a.position.fromArray(t.position), void 0 !== t.rotation && a.rotation.fromArray(t.rotation), void 0 !== t.quaternion && a.quaternion.fromArray(t.quaternion), void 0 !== t.scale && a.scale.fromArray(t.scale)), void 0 !== t.castShadow && (a.castShadow = t.castShadow), void 0 !== t.receiveShadow && (a.receiveShadow = t.receiveShadow), t.shadow && (void 0 !== t.shadow.bias && (a.shadow.bias = t.shadow.bias), void 0 !== t.shadow.radius && (a.shadow.radius = t.shadow.radius), void 0 !== t.shadow.mapSize && a.shadow.mapSize.fromArray(t.shadow.mapSize), void 0 !== t.shadow.camera && (a.shadow.camera = this.parseObject(t.shadow.camera))), void 0 !== t.visible && (a.visible = t.visible), void 0 !== t.userData && (a.userData = t.userData), void 0 !== t.children) for (var s in t.children) a.add(this.parseObject(t.children[s], e, i));
                    if ("LOD" === t.type) for (t = t.levels, o = 0; o < t.length; o++) {
                        var h = t[o];
                        void 0 !== (s = a.getObjectByProperty("uuid", h.object)) && a.addLevel(s, h.distance)
                    }
                    return a
                })
            }), Yi.prototype = {
                constructor: Yi, getPoint: function (t) {
                    return null
                }, getPointAt: function (t) {
                    return t = this.getUtoTmapping(t), this.getPoint(t)
                }, getPoints: function (t) {
                    isNaN(t) && (t = 5);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
                    return e
                }, getSpacedPoints: function (t) {
                    isNaN(t) && (t = 5);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPointAt(i / t));
                    return e
                }, getLength: function () {
                    var t = this.getLengths();
                    return t[t.length - 1]
                }, getLengths: function (t) {
                    if (isNaN(t) && (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var e, i, n = [], r = this.getPoint(0), a = 0;
                    for (n.push(0), i = 1; i <= t; i++) a += (e = this.getPoint(i / t)).distanceTo(r), n.push(a), r = e;
                    return this.cacheArcLengths = n
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.getLengths()
                }, getUtoTmapping: function (t, e) {
                    var i, n, r = this.getLengths(), a = r.length;
                    n = e || t * r[a - 1];
                    for (var o, s = 0, h = a - 1; s <= h;) if ((o = r[i = Math.floor(s + (h - s) / 2)] - n) < 0) s = i + 1; else {
                        if (!(0 < o)) {
                            h = i;
                            break
                        }
                        h = i - 1
                    }
                    return r[i = h] === n ? i / (a - 1) : (i + (n - (s = r[i])) / (r[i + 1] - s)) / (a - 1)
                }, getTangent: function (t) {
                    var e = t - 1e-4;
                    return e < 0 && (e = 0), 1 < (t += 1e-4) && (t = 1), e = this.getPoint(e), this.getPoint(t).clone().sub(e).normalize()
                }, getTangentAt: function (t) {
                    return t = this.getUtoTmapping(t), this.getTangent(t)
                }, computeFrenetFrames: function (t, e) {
                    var i, n, r = new Rt, a = [], o = [], s = [], h = new Rt, l = new It;
                    for (i = 0; i <= t; i++) n = i / t, a[i] = this.getTangentAt(n), a[i].normalize();
                    o[0] = new Rt, s[0] = new Rt, i = Number.MAX_VALUE, n = Math.abs(a[0].x);
                    var c = Math.abs(a[0].y), u = Math.abs(a[0].z);
                    for (n <= i && (i = n, r.set(1, 0, 0)), c <= i && (i = c, r.set(0, 1, 0)), u <= i && r.set(0, 0, 1), h.crossVectors(a[0], r).normalize(), o[0].crossVectors(a[0], h), s[0].crossVectors(a[0], o[0]), i = 1; i <= t; i++) o[i] = o[i - 1].clone(), s[i] = s[i - 1].clone(), h.crossVectors(a[i - 1], a[i]), h.length() > Ns.default && (h.normalize(), r = Math.acos(hr.clamp(a[i - 1].dot(a[i]), -1, 1)), o[i].applyMatrix4(l.makeRotationAxis(h, r))), s[i].crossVectors(a[i], o[i]);
                    if (!0 === e) for (r = Math.acos(hr.clamp(o[0].dot(o[t]), -1, 1)), r /= t, 0 < a[0].dot(h.crossVectors(o[0], o[t])) && (r = -r), i = 1; i <= t; i++) o[i].applyMatrix4(l.makeRotationAxis(a[i], r * i)), s[i].crossVectors(a[i], o[i]);
                    return {tangents: a, normals: o, binormals: s}
                }
            }, ((qi.prototype = (0, Rs.default)(Yi.prototype)).constructor = qi).prototype.isLineCurve = !0, qi.prototype.getPoint = function (t) {
                if (1 === t) return this.v2.clone();
                var e = this.v2.clone().sub(this.v1);
                return e.multiplyScalar(t).add(this.v1), e
            }, qi.prototype.getPointAt = function (t) {
                return this.getPoint(t)
            }, qi.prototype.getTangent = function (t) {
                return this.v2.clone().sub(this.v1).normalize()
            }, Zi.prototype = (0, Is.default)((0, Rs.default)(Yi.prototype), {
                constructor: Zi, add: function (t) {
                    this.curves.push(t)
                }, closePath: function () {
                    var t = this.curves[0].getPoint(0), e = this.curves[this.curves.length - 1].getPoint(1);
                    t.equals(e) || this.curves.push(new qi(e, t))
                }, getPoint: function (t) {
                    var e = t * this.getLength(), i = this.getCurveLengths();
                    for (t = 0; t < i.length;) {
                        if (i[t] >= e) return e = i[t] - e, i = (t = this.curves[t]).getLength(), t.getPointAt(0 === i ? 0 : 1 - e / i);
                        t++
                    }
                    return null
                }, getLength: function () {
                    var t = this.getCurveLengths();
                    return t[t.length - 1]
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.cacheLengths = null, this.getLengths()
                }, getCurveLengths: function () {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
                    for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++) e += this.curves[i].getLength(), t.push(e);
                    return this.cacheLengths = t
                }, getSpacedPoints: function (t) {
                    isNaN(t) && (t = 40);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
                    return this.autoClose && e.push(e[0]), e
                }, getPoints: function (t) {
                    t = t || 12;
                    for (var e, i = [], n = 0, r = this.curves; n < r.length; n++) for (var a = (a = r[n]).getPoints(a && a.isEllipseCurve ? 2 * t : a && a.isLineCurve ? 1 : a && a.isSplineCurve ? t * a.points.length : t), o = 0; o < a.length; o++) {
                        var s = a[o];
                        e && e.equals(s) || (i.push(s), e = s)
                    }
                    return this.autoClose && 1 < i.length && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i
                }, createPointsGeometry: function (t) {
                    return t = this.getPoints(t), this.createGeometry(t)
                }, createSpacedPointsGeometry: function (t) {
                    return t = this.getSpacedPoints(t), this.createGeometry(t)
                }, createGeometry: function (t) {
                    for (var e = new ht, i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        e.vertices.push(new Rt(r.x, r.y, r.z || 0))
                    }
                    return e
                }
            }), ((Ji.prototype = (0, Rs.default)(Yi.prototype)).constructor = Ji).prototype.isEllipseCurve = !0, Ji.prototype.getPoint = function (t) {
                for (var e = 2 * Math.PI, i = this.aEndAngle - this.aStartAngle, n = Math.abs(i) < Ns.default; i < 0;) i += e;
                for (; e < i;) i -= e;
                i < Ns.default && (i = n ? 0 : e), !0 !== this.aClockwise || n || (i = i === e ? -e : i - e), e = this.aStartAngle + t * i, t = this.aX + this.xRadius * Math.cos(e);
                var r = this.aY + this.yRadius * Math.sin(e);
                return 0 !== this.aRotation && (e = Math.cos(this.aRotation), i = Math.sin(this.aRotation), t = (n = t - this.aX) * e - (r -= this.aY) * i + this.aX, r = n * i + r * e + this.aY), new V(t, r)
            }, ((Qi.prototype = (0, Rs.default)(Yi.prototype)).constructor = Qi).prototype.isSplineCurve = !0, Qi.prototype.getPoint = function (t) {
                var e = (e = ((a = this.points).length - 1) * t) - (t = Math.floor(e)), i = a[0 === t ? t : t - 1],
                    n = a[t], r = a[t > a.length - 2 ? a.length - 1 : t + 1],
                    a = a[t > a.length - 3 ? a.length - 1 : t + 2];
                return new V(Hi(e, i.x, n.x, r.x, a.x), Hi(e, i.y, n.y, r.y, a.y))
            }, ((Ki.prototype = (0, Rs.default)(Yi.prototype)).constructor = Ki).prototype.getPoint = function (t) {
                var e = this.v0, i = this.v1, n = this.v2, r = this.v3;
                return new V(ji(t, e.x, i.x, n.x, r.x), ji(t, e.y, i.y, n.y, r.y))
            }, (($i.prototype = (0, Rs.default)(Yi.prototype)).constructor = $i).prototype.getPoint = function (t) {
                var e = this.v0, i = this.v1, n = this.v2;
                return new V(Xi(t, e.x, i.x, n.x), Xi(t, e.y, i.y, n.y))
            };
            var zo = (0, Is.default)((0, Rs.default)(Zi.prototype), {
                fromPoints: function (t) {
                    this.moveTo(t[0].x, t[0].y);
                    for (var e = 1, i = t.length; e < i; e++) this.lineTo(t[e].x, t[e].y)
                }, moveTo: function (t, e) {
                    this.currentPoint.set(t, e)
                }, lineTo: function (t, e) {
                    var i = new qi(this.currentPoint.clone(), new V(t, e));
                    this.curves.push(i), this.currentPoint.set(t, e)
                }, quadraticCurveTo: function (t, e, i, n) {
                    t = new $i(this.currentPoint.clone(), new V(t, e), new V(i, n)), this.curves.push(t), this.currentPoint.set(i, n)
                }, bezierCurveTo: function (t, e, i, n, r, a) {
                    t = new Ki(this.currentPoint.clone(), new V(t, e), new V(i, n), new V(r, a)), this.curves.push(t), this.currentPoint.set(r, a)
                }, splineThru: function (t) {
                    var e = new Qi(e = [this.currentPoint.clone()].concat(t));
                    this.curves.push(e), this.currentPoint.copy(t[t.length - 1])
                }, arc: function (t, e, i, n, r, a) {
                    this.absarc(t + this.currentPoint.x, e + this.currentPoint.y, i, n, r, a)
                }, absarc: function (t, e, i, n, r, a) {
                    this.absellipse(t, e, i, i, n, r, a)
                }, ellipse: function (t, e, i, n, r, a, o, s) {
                    this.absellipse(t + this.currentPoint.x, e + this.currentPoint.y, i, n, r, a, o, s)
                }, absellipse: function (t, e, i, n, r, a, o, s) {
                    t = new Ji(t, e, i, n, r, a, o, s), 0 < this.curves.length && ((e = t.getPoint(0)).equals(this.currentPoint) || this.lineTo(e.x, e.y)), this.curves.push(t), t = t.getPoint(1), this.currentPoint.copy(t)
                }
            });
            (tn.prototype = zo).constructor = tn, en.prototype = (0, Is.default)((0, Rs.default)(zo), {
                constructor: en,
                getPointsHoles: function (t) {
                    for (var e = [], i = 0, n = this.holes.length; i < n; i++) e[i] = this.holes[i].getPoints(t);
                    return e
                },
                extractAllPoints: function (t) {
                    return {shape: this.getPoints(t), holes: this.getPointsHoles(t)}
                },
                extractPoints: function (t) {
                    return this.extractAllPoints(t)
                }
            }), nn.prototype = {
                moveTo: function (t, e) {
                    this.currentPath = new tn, this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, e)
                }, lineTo: function (t, e) {
                    this.currentPath.lineTo(t, e)
                }, quadraticCurveTo: function (t, e, i, n) {
                    this.currentPath.quadraticCurveTo(t, e, i, n)
                }, bezierCurveTo: function (t, e, i, n, r, a) {
                    this.currentPath.bezierCurveTo(t, e, i, n, r, a)
                }, splineThru: function (t) {
                    this.currentPath.splineThru(t)
                }, toShapes: function (t, e) {
                    function i(t) {
                        for (var e = [], i = 0, n = t.length; i < n; i++) {
                            var r = t[i], a = new en;
                            a.curves = r.curves, e.push(a)
                        }
                        return e
                    }

                    function n(t, e) {
                        for (var i = e.length, n = !1, r = i - 1, a = 0; a < i; r = a++) {
                            var o = e[r], s = e[a], h = s.x - o.x, l = s.y - o.y;
                            if (Math.abs(l) > Ns.default) {
                                if (l < 0 && (o = e[a], h = -h, s = e[r], l = -l), !(t.y < o.y || t.y > s.y)) if (t.y === o.y) {
                                    if (t.x === o.x) return !0
                                } else {
                                    if (0 === (r = l * (t.x - o.x) - h * (t.y - o.y))) return !0;
                                    r < 0 || (n = !n)
                                }
                            } else if (t.y === o.y && (s.x <= t.x && t.x <= o.x || o.x <= t.x && t.x <= s.x)) return !0
                        }
                        return n
                    }

                    var r = So.isClockWise, a = this.subPaths;
                    if (0 === a.length) return [];
                    if (!0 === e) return i(a);
                    var o, s, h, l = [];
                    if (1 === a.length) return s = a[0], (h = new en).curves = s.curves, l.push(h), l;
                    var c = !r(a[0].getPoints());
                    c = t ? !c : c;
                    h = [];
                    var u, p = [], d = [], f = 0;
                    p[f] = void 0, d[f] = [];
                    for (var m = 0, g = a.length; m < g; m++) o = r(u = (s = a[m]).getPoints()), (o = t ? !o : o) ? (!c && p[f] && f++, p[f] = {
                        s: new en,
                        p: u
                    }, p[f].s.curves = s.curves, c && f++, d[f] = []) : d[f].push({h: s, p: u[0]});
                    if (!p[0]) return i(a);
                    if (1 < p.length) {
                        for (m = !1, s = [], r = 0, a = p.length; r < a; r++) h[r] = [];
                        for (r = 0, a = p.length; r < a; r++) for (o = d[r], c = 0; c < o.length; c++) {
                            for (f = o[c], u = !0, g = 0; g < p.length; g++) n(f.p, p[g].p) && (r !== g && s.push({
                                froms: r,
                                tos: g,
                                hole: c
                            }), u ? (u = !1, h[g].push(f)) : m = !0);
                            u && h[r].push(f)
                        }
                        0 < s.length && (m || (d = h))
                    }
                    for (m = 0, r = p.length; m < r; m++) for (h = p[m].s, l.push(h), a = 0, o = (s = d[m]).length; a < o; a++) h.holes.push(s[a].h);
                    return l
                }
            }, (0, Is.default)(rn.prototype, {
                isFont: !0, generateShapes: function (t, e, i) {
                    void 0 === e && (e = 100), void 0 === i && (i = 4);
                    var n = this.data;
                    t = String(t).split("");
                    var r = e / n.resolution, a = (n.boundingBox.yMax - n.boundingBox.yMin + n.underlineThickness) * r,
                        o = 0, s = 0;
                    e = [];
                    for (var h = 0; h < t.length; h++) {
                        var l = t[h];
                        if ("\n" === l) o = 0, s -= a; else {
                            var c;
                            c = r;
                            var u = o, p = s;
                            if (l = n.glyphs[l] || n.glyphs["?"]) {
                                var d, f, m, g, v, y, x, _, M = new nn, w = [];
                                if (l.o) for (var b = l._cachedOutline || (l._cachedOutline = l.o.split(" ")), S = 0, T = b.length; S < T;) switch (b[S++]) {
                                    case"m":
                                        d = b[S++] * c + u, f = b[S++] * c + p, M.moveTo(d, f);
                                        break;
                                    case"l":
                                        d = b[S++] * c + u, f = b[S++] * c + p, M.lineTo(d, f);
                                        break;
                                    case"q":
                                        if (d = b[S++] * c + u, f = b[S++] * c + p, v = b[S++] * c + u, y = b[S++] * c + p, M.quadraticCurveTo(v, y, d, f), g = w[w.length - 1]) {
                                            m = g.x, g = g.y;
                                            for (var A = 1; A <= i; A++) {
                                                var E = A / i;
                                                Xi(E, m, v, d), Xi(E, g, y, f)
                                            }
                                        }
                                        break;
                                    case"b":
                                        if (d = b[S++] * c + u, f = b[S++] * c + p, v = b[S++] * c + u, y = b[S++] * c + p, x = b[S++] * c + u, _ = b[S++] * c + p, M.bezierCurveTo(v, y, x, _, d, f), g = w[w.length - 1]) for (m = g.x, g = g.y, A = 1; A <= i; A++) ji(E = A / i, m, v, x, d), ji(E, g, y, _, f)
                                }
                                c = {offsetX: l.ha * c, path: M}
                            } else c = void 0;
                            o += c.offsetX, e.push(c.path)
                        }
                    }
                    for (i = [], n = 0, t = e.length; n < t; n++) Array.prototype.push.apply(i, e[n].toShapes());
                    return i
                }
            }), (0, Is.default)(an.prototype, {
                load: function (t, n, e, i) {
                    var r = this;
                    new ci(this.manager).load(t, function (e) {
                        var i;
                        try {
                            i = JSON.parse(e)
                        } catch (t) {
                            i = JSON.parse(e.substring(65, e.length - 2))
                        }
                        e = r.parse(i), n && n(e)
                    }, e, i)
                }, parse: function (t) {
                    return new rn(t)
                }
            });
            var Fo, Bo, Oo, Go, ko, Vo, Wo, Ho, Xo, jo, Yo, qo, Zo, Jo, Qo, Ko, $o, ts, es, is, ns, rs, as, os, ss, hs,
                ls, cs, us, ps, ds, fs, ms, gs, vs, ys, xs, _s, Ms, ws = {
                    getContext: function () {
                        return void 0 === Fo && (Fo = new (window.AudioContext || window.webkitAudioContext)), Fo
                    }, setContext: function (t) {
                        Fo = t
                    }
                };
            (0, Is.default)(on.prototype, {
                load: function (t, e, i, n) {
                    var r = new ci(this.manager);
                    r.setResponseType("arraybuffer"), r.load(t, function (t) {
                        ws.getContext().decodeAudioData(t, function (t) {
                            e(t)
                        })
                    }, i, n)
                }
            }), sn.prototype = (0, Is.default)((0, Rs.default)(gi.prototype), {
                constructor: sn,
                isRectAreaLight: !0,
                copy: function (t) {
                    return gi.prototype.copy.call(this, t), this.width = t.width, this.height = t.height, this
                }
            }), (0, Is.default)(hn.prototype, {
                update: (Xo = new It, jo = new It, function (t) {
                    if (Bo !== this || Oo !== t.focus || Go !== t.fov || ko !== t.aspect * this.aspect || Vo !== t.near || Wo !== t.far || Ho !== t.zoom) {
                        Bo = this, Oo = t.focus, Go = t.fov, ko = t.aspect * this.aspect, Vo = t.near, Wo = t.far, Ho = t.zoom;
                        var e, i = t.projectionMatrix.clone(), n = this.eyeSep / 2, r = n * Vo / Oo,
                            a = Vo * Math.tan(hr.DEG2RAD * Go * .5) / Ho;
                        jo.elements[12] = -n, Xo.elements[12] = n, n = -a * ko + r, e = a * ko + r, i.elements[0] = 2 * Vo / (e - n), i.elements[8] = (e + n) / (e - n), this.cameraL.projectionMatrix.copy(i), n = -a * ko - r, e = a * ko - r, i.elements[0] = 2 * Vo / (e - n), i.elements[8] = (e + n) / (e - n), this.cameraR.projectionMatrix.copy(i)
                    }
                    this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(jo), this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Xo)
                })
            }), (ln.prototype = (0, Rs.default)(j.prototype)).constructor = ln, cn.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: cn, getInput: function () {
                    return this.gain
                }, removeFilter: function () {
                    null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null)
                }, getFilter: function () {
                    return this.filter
                }, setFilter: function (t) {
                    null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination)
                }, getMasterVolume: function () {
                    return this.gain.gain.value
                }, setMasterVolume: function (t) {
                    this.gain.gain.value = t
                }, updateMatrixWorld: (Yo = new Rt, qo = new s, Zo = new Rt, Jo = new Rt, function (t) {
                    j.prototype.updateMatrixWorld.call(this, t), t = this.context.listener;
                    var e = this.up;
                    this.matrixWorld.decompose(Yo, qo, Zo), Jo.set(0, 0, -1).applyQuaternion(qo), t.positionX ? (t.positionX.setValueAtTime(Yo.x, this.context.currentTime), t.positionY.setValueAtTime(Yo.y, this.context.currentTime), t.positionZ.setValueAtTime(Yo.z, this.context.currentTime), t.forwardX.setValueAtTime(Jo.x, this.context.currentTime), t.forwardY.setValueAtTime(Jo.y, this.context.currentTime), t.forwardZ.setValueAtTime(Jo.z, this.context.currentTime), t.upX.setValueAtTime(e.x, this.context.currentTime), t.upY.setValueAtTime(e.y, this.context.currentTime), t.upZ.setValueAtTime(e.z, this.context.currentTime)) : (t.setPosition(Yo.x, Yo.y, Yo.z), t.setOrientation(Jo.x, Jo.y, Jo.z, e.x, e.y, e.z))
                })
            }), un.prototype = (0, Is.default)((0, Rs.default)(j.prototype), {
                constructor: un, getOutput: function () {
                    return this.gain
                }, setNodeSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this
                }, setBuffer: function (t) {
                    return this.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this
                }, play: function () {
                    if (!0 === this.isPlaying) ; else if (!1 !== this.hasPlaybackControl) {
                        var t = this.context.createBufferSource();
                        return t.buffer = this.buffer, t.loop = this.loop, t.onended = this.onEnded.bind(this), t.playbackRate.setValueAtTime(this.playbackRate, this.startTime), t.start(0, this.startTime), this.isPlaying = !0, this.source = t, this.connect()
                    }
                }, pause: function () {
                    if (!1 !== this.hasPlaybackControl) return this.source.stop(), this.startTime = this.context.currentTime, this.isPlaying = !1, this
                }, stop: function () {
                    if (!1 !== this.hasPlaybackControl) return this.source.stop(), this.startTime = 0, this.isPlaying = !1, this
                }, connect: function () {
                    if (0 < this.filters.length) {
                        this.source.connect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].connect(this.filters[t]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                }, disconnect: function () {
                    if (0 < this.filters.length) {
                        this.source.disconnect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].disconnect(this.filters[t]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                }, getFilters: function () {
                    return this.filters
                }, setFilters: function (t) {
                    return t || (t = []), !0 === this.isPlaying ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this
                }, getFilter: function () {
                    return this.getFilters()[0]
                }, setFilter: function (t) {
                    return this.setFilters(t ? [t] : [])
                }, setPlaybackRate: function (t) {
                    if (!1 !== this.hasPlaybackControl) return this.playbackRate = t, !0 === this.isPlaying && this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime), this
                }, getPlaybackRate: function () {
                    return this.playbackRate
                }, onEnded: function () {
                    this.isPlaying = !1
                }, getLoop: function () {
                    return !1 !== this.hasPlaybackControl && this.loop
                }, setLoop: function (t) {
                    if (!1 !== this.hasPlaybackControl) return this.loop = t, !0 === this.isPlaying && (this.source.loop = this.loop), this
                }, getVolume: function () {
                    return this.gain.gain.value
                }, setVolume: function (t) {
                    return this.gain.gain.value = t, this
                }
            }), pn.prototype = (0, Is.default)((0, Rs.default)(un.prototype), {
                constructor: pn, getOutput: function () {
                    return this.panner
                }, getRefDistance: function () {
                    return this.panner.refDistance
                }, setRefDistance: function (t) {
                    this.panner.refDistance = t
                }, getRolloffFactor: function () {
                    return this.panner.rolloffFactor
                }, setRolloffFactor: function (t) {
                    this.panner.rolloffFactor = t
                }, getDistanceModel: function () {
                    return this.panner.distanceModel
                }, setDistanceModel: function (t) {
                    this.panner.distanceModel = t
                }, getMaxDistance: function () {
                    return this.panner.maxDistance
                }, setMaxDistance: function (t) {
                    this.panner.maxDistance = t
                }, updateMatrixWorld: (Qo = new Rt, function (t) {
                    j.prototype.updateMatrixWorld.call(this, t), Qo.setFromMatrixPosition(this.matrixWorld), this.panner.setPosition(Qo.x, Qo.y, Qo.z)
                })
            }), (0, Is.default)(dn.prototype, {
                getFrequencyData: function () {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                }, getAverageFrequency: function () {
                    for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++) t += e[i];
                    return t / e.length
                }
            }), fn.prototype = {
                constructor: fn, accumulate: function (t, e) {
                    var i = this.buffer, n = this.valueSize, r = t * n + n, a = this.cumulativeWeight;
                    if (0 === a) {
                        for (a = 0; a !== n; ++a) i[r + a] = i[a];
                        a = e
                    } else a += e, this._mixBufferRegion(i, r, 0, e / a, n);
                    this.cumulativeWeight = a
                }, apply: function (t) {
                    var e = this.valueSize, i = this.buffer;
                    t = t * e + e;
                    var n = this.cumulativeWeight, r = this.binding;
                    this.cumulativeWeight = 0, n < 1 && this._mixBufferRegion(i, t, 3 * e, 1 - n, e);
                    n = e;
                    for (var a = e + e; n !== a; ++n) if (i[n] !== i[n + e]) {
                        r.setValue(i, t);
                        break
                    }
                }, saveOriginalState: function () {
                    var t = this.buffer, e = this.valueSize, i = 3 * e;
                    this.binding.getValue(t, i);
                    for (var n = e; n !== i; ++n) t[n] = t[i + n % e];
                    this.cumulativeWeight = 0
                }, restoreOriginalState: function () {
                    this.binding.setValue(this.buffer, 3 * this.valueSize)
                }, _select: function (t, e, i, n, r) {
                    if (.5 <= n) for (n = 0; n !== r; ++n) t[e + n] = t[i + n]
                }, _slerp: function (t, e, i, n, r) {
                    s.slerpFlat(t, e, t, e, t, i, n)
                }, _lerp: function (t, e, i, n, r) {
                    for (var a = 1 - n, o = 0; o !== r; ++o) {
                        var s = e + o;
                        t[s] = t[s] * a + t[i + o] * n
                    }
                }
            }, mn.prototype = {
                constructor: mn, getValue: function (t, e) {
                    this.bind(), this.getValue(t, e)
                }, setValue: function (t, e) {
                    this.bind(), this.setValue(t, e)
                }, bind: function () {
                    var t = this.node, e = this.parsedPath, i = e.objectName, n = e.propertyName, r = e.propertyIndex;
                    if (t || (this.node = t = mn.findNode(this.rootNode, e.nodeName) || this.rootNode), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, t) {
                        if (i) {
                            var a = e.objectIndex;
                            switch (i) {
                                case"materials":
                                    if (!t.material) return;
                                    if (!t.material.materials) return;
                                    t = t.material.materials;
                                    break;
                                case"bones":
                                    if (!t.skeleton) return;
                                    for (t = t.skeleton.bones, i = 0; i < t.length; i++) if (t[i].name === a) {
                                        a = i;
                                        break
                                    }
                                    break;
                                default:
                                    if (void 0 === t[i]) return;
                                    t = t[i]
                            }
                            if (void 0 !== a) {
                                if (void 0 === t[a]) return;
                                t = t[a]
                            }
                        }
                        if (void 0 === (a = t[n])) e.nodeName; else {
                            if (e = this.Versioning.None, void 0 !== t.needsUpdate ? (e = this.Versioning.NeedsUpdate, this.targetObject = t) : void 0 !== t.matrixWorldNeedsUpdate && (e = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = t), i = this.BindingType.Direct, void 0 !== r) {
                                if ("morphTargetInfluences" === n) {
                                    if (!t.geometry) return;
                                    if (!t.geometry.morphTargets) return;
                                    for (i = 0; i < this.node.geometry.morphTargets.length; i++) if (t.geometry.morphTargets[i].name === r) {
                                        r = i;
                                        break
                                    }
                                }
                                i = this.BindingType.ArrayElement, this.resolvedProperty = a, this.propertyIndex = r
                            } else void 0 !== a.fromArray && void 0 !== a.toArray ? (i = this.BindingType.HasFromToArray, this.resolvedProperty = a) : void 0 !== a.length ? (i = this.BindingType.EntireArray, this.resolvedProperty = a) : this.propertyName = n;
                            this.getValue = this.GetterByBindingType[i], this.setValue = this.SetterByBindingTypeAndVersioning[i][e]
                        }
                    } else this.path
                }, unbind: function () {
                    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                }
            }, (0, Is.default)(mn.prototype, {
                _getValue_unavailable: function () {
                },
                _setValue_unavailable: function () {
                },
                _getValue_unbound: mn.prototype.getValue,
                _setValue_unbound: mn.prototype.setValue,
                BindingType: {Direct: 0, EntireArray: 1, ArrayElement: 2, HasFromToArray: 3},
                Versioning: {None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2},
                GetterByBindingType: [function (t, e) {
                    t[e] = this.node[this.propertyName]
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) t[e++] = i[n]
                }, function (t, e) {
                    t[e] = this.resolvedProperty[this.propertyIndex]
                }, function (t, e) {
                    this.resolvedProperty.toArray(t, e)
                }],
                SetterByBindingTypeAndVersioning: [[function (t, e) {
                    this.node[this.propertyName] = t[e]
                }, function (t, e) {
                    this.node[this.propertyName] = t[e], this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.node[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++]
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                    this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                    this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e]
                }, function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    this.resolvedProperty.fromArray(t, e)
                }, function (t, e) {
                    this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0
                }]]
            }), (mn.Composite = function (t, e, i) {
                i = i || mn.parseTrackName(e), this._targetGroup = t, this._bindings = t.subscribe_(e, i)
            }).prototype = {
                constructor: mn.Composite, getValue: function (t, e) {
                    this.bind();
                    var i = this._bindings[this._targetGroup.nCachedObjects_];
                    void 0 !== i && i.getValue(t, e)
                }, setValue: function (t, e) {
                    for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n) i[n].setValue(t, e)
                }, bind: function () {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].bind()
                }, unbind: function () {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].unbind()
                }
            }, mn.create = function (t, e, i) {
                return t && t.isAnimationObjectGroup ? new mn.Composite(t, e, i) : new mn(t, e, i)
            }, mn.parseTrackName = function (t) {
                var e = /^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(t);
                if (!e) throw Error("cannot parse trackName at all: " + t);
                if (null === (e = {
                    nodeName: e[2],
                    objectName: e[3],
                    objectIndex: e[4],
                    propertyName: e[5],
                    propertyIndex: e[6]
                }).propertyName || 0 === e.propertyName.length) throw Error("can not parse propertyName from trackName: " + t);
                return e
            }, mn.findNode = function (t, r) {
                if (!r || "" === r || "root" === r || "." === r || -1 === r || r === t.name || r === t.uuid) return t;
                if (t.skeleton) {
                    var e = function (t) {
                        for (var e = 0; e < t.bones.length; e++) {
                            var i = t.bones[e];
                            if (i.name === r) return i
                        }
                        return null
                    }(t.skeleton);
                    if (e) return e
                }
                if (t.children) {
                    if (e = function t(e) {
                        for (var i = 0; i < e.length; i++) {
                            var n = e[i];
                            if (n.name === r || n.uuid === r || (n = t(n.children))) return n
                        }
                        return null
                    }(t.children)) return e
                }
                return null
            }, gn.prototype = {
                constructor: gn, isAnimationObjectGroup: !0, add: function (t) {
                    for (var e = this._objects, i = e.length, n = this.nCachedObjects_, r = this._indicesByUUID, a = this._paths, o = this._parsedPaths, s = this._bindings, h = s.length, l = 0, c = arguments.length; l !== c; ++l) {
                        var u = arguments[l], p = r[d = u.uuid];
                        if (void 0 === p) {
                            p = i++, r[d] = p, e.push(u);
                            for (var d = 0, f = h; d !== f; ++d) s[d].push(new mn(u, a[d], o[d]))
                        } else if (p < n) {
                            var m = --n;
                            for (e[r[(f = e[m]).uuid] = p] = f, e[r[d] = m] = u, d = 0, f = h; d !== f; ++d) {
                                var g = s[d], v = g[p];
                                g[p] = g[m], void 0 === v && (v = new mn(u, a[d], o[d])), g[m] = v
                            }
                        } else e[p]
                    }
                    this.nCachedObjects_ = n
                }, remove: function (t) {
                    for (var e = this._objects, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, a = r.length, o = 0, s = arguments.length; o !== s; ++o) {
                        var h = arguments[o], l = h.uuid, c = n[l];
                        if (void 0 !== c && i <= c) {
                            var u = i++;
                            for (e[n[(p = e[u]).uuid] = c] = p, e[n[l] = u] = h, h = 0, l = a; h !== l; ++h) {
                                var p, d = (p = r[h])[c];
                                p[c] = p[u], p[u] = d
                            }
                        }
                    }
                    this.nCachedObjects_ = i
                }, uncache: function (t) {
                    for (var e = this._objects, i = e.length, n = this.nCachedObjects_, r = this._indicesByUUID, a = this._bindings, o = a.length, s = 0, h = arguments.length; s !== h; ++s) {
                        var l = r[c = arguments[s].uuid];
                        if (void 0 !== l) if (delete r[c], l < n) {
                            var c, u = e[c = --n], p = --i, d = e[p];
                            for (e[r[u.uuid] = l] = u, e[r[d.uuid] = c] = d, e.pop(), u = 0, d = o; u !== d; ++u) {
                                var f = a[u], m = f[p];
                                f[l] = f[c], f[c] = m, f.pop()
                            }
                        } else for (e[r[(d = e[p = --i]).uuid] = l] = d, e.pop(), u = 0, d = o; u !== d; ++u) (f = a[u])[l] = f[p], f.pop()
                    }
                    this.nCachedObjects_ = n
                }, subscribe_: function (t, e) {
                    var i = this._bindingsIndicesByPath, n = i[t], r = this._bindings;
                    if (void 0 !== n) return r[n];
                    var a = this._paths, o = this._parsedPaths, s = this._objects, h = this.nCachedObjects_,
                        l = Array(s.length);
                    n = r.length;
                    for (i[t] = n, a.push(t), o.push(e), r.push(l), i = h, n = s.length; i !== n; ++i) l[i] = new mn(s[i], t, e);
                    return l
                }, unsubscribe_: function (t) {
                    var e = this._bindingsIndicesByPath, i = e[t];
                    if (void 0 !== i) {
                        var n = this._paths, r = this._parsedPaths, a = this._bindings, o = a.length - 1, s = a[o];
                        a[e[t[o]] = i] = s, a.pop(), r[i] = r[o], r.pop(), n[i] = n[o], n.pop()
                    }
                }
            }, vn.prototype = {
                constructor: vn, play: function () {
                    return this._mixer._activateAction(this), this
                }, stop: function () {
                    return this._mixer._deactivateAction(this), this.reset()
                }, reset: function () {
                    return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                }, isRunning: function () {
                    return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                }, isScheduled: function () {
                    return this._mixer._isActiveAction(this)
                }, startAt: function (t) {
                    return this._startTime = t, this
                }, setLoop: function (t, e) {
                    return this.loop = t, this.repetitions = e, this
                }, setEffectiveWeight: function (t) {
                    return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading()
                }, getEffectiveWeight: function () {
                    return this._effectiveWeight
                }, fadeIn: function (t) {
                    return this._scheduleFading(t, 0, 1)
                }, fadeOut: function (t) {
                    return this._scheduleFading(t, 1, 0)
                }, crossFadeFrom: function (t, e, i) {
                    if (t.fadeOut(e), this.fadeIn(e), i) {
                        i = this._clip.duration;
                        var n = t._clip.duration, r = i / n;
                        t.warp(1, n / i, e), this.warp(r, 1, e)
                    }
                    return this
                }, crossFadeTo: function (t, e, i) {
                    return t.crossFadeFrom(this, e, i)
                }, stopFading: function () {
                    var t = this._weightInterpolant;
                    return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                }, setEffectiveTimeScale: function (t) {
                    return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping()
                }, getEffectiveTimeScale: function () {
                    return this._effectiveTimeScale
                }, setDuration: function (t) {
                    return this.timeScale = this._clip.duration / t, this.stopWarping()
                }, syncWith: function (t) {
                    return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping()
                }, halt: function (t) {
                    return this.warp(this._effectiveTimeScale, 0, t)
                }, warp: function (t, e, i) {
                    var n = this._mixer, r = n.time, a = this._timeScaleInterpolant, o = this.timeScale;
                    return null === a && (this._timeScaleInterpolant = a = n._lendControlInterpolant()), n = a.parameterPositions, a = a.sampleValues, n[0] = r, n[1] = r + i, a[0] = t / o, a[1] = e / o, this
                }, stopWarping: function () {
                    var t = this._timeScaleInterpolant;
                    return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                }, getMixer: function () {
                    return this._mixer
                }, getClip: function () {
                    return this._clip
                }, getRoot: function () {
                    return this._localRoot || this._mixer._root
                }, _update: function (t, e, i, n) {
                    if (null !== (r = this._startTime)) {
                        if ((e = (t - r) * i) < 0 || 0 === i) return;
                        this._startTime = null, e *= i
                    }
                    if (e *= this._updateTimeScale(t), i = this._updateTime(e), 0 < (t = this._updateWeight(t))) {
                        e = this._interpolants;
                        for (var r = this._propertyBindings, a = 0, o = e.length; a !== o; ++a) e[a].evaluate(i), r[a].accumulate(n, t)
                    }
                }, _updateWeight: function (t) {
                    var e = 0;
                    if (this.enabled) {
                        e = this.weight;
                        var i = this._weightInterpolant;
                        if (null !== i) {
                            var n = i.evaluate(t)[0];
                            e = e * n;
                            t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1))
                        }
                    }
                    return this._effectiveWeight = e
                }, _updateTimeScale: function (t) {
                    var e = 0;
                    if (!this.paused) {
                        e = this.timeScale;
                        var i = this._timeScaleInterpolant;
                        if (null !== i) {
                            e = e * i.evaluate(t)[0];
                            t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e)
                        }
                    }
                    return this._effectiveTimeScale = e
                }, _updateTime: function (t) {
                    var e = this.time + t;
                    if (0 === t) return e;
                    var i = this._clip.duration, n = this.loop, r = this._loopCount;
                    if (2200 === n) t:{
                        if (-1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1)), i <= e) e = i; else {
                            if (!(e < 0)) break t;
                            e = 0
                        }
                        this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this._mixer.dispatchEvent({
                            type: "finished",
                            action: this,
                            direction: t < 0 ? -1 : 1
                        })
                    } else {
                        if (n = 2202 === n, -1 === r && (0 <= t ? (r = 0, this._setEndings(!0, 0 === this.repetitions, n)) : this._setEndings(0 === this.repetitions, !0, n)), i <= e || e < 0) {
                            var a = Math.floor(e / i), o = (e = e - i * a, r = r + Math.abs(a), this.repetitions - r);
                            o < 0 ? (this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = 0 < t ? i : 0, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: 0 < t ? 1 : -1
                            })) : (0 === o ? (t = t < 0, this._setEndings(t, !t, n)) : this._setEndings(!1, !1, n), this._loopCount = r, this._mixer.dispatchEvent({
                                type: "loop",
                                action: this,
                                loopDelta: a
                            }))
                        }
                        if (n && 1 == (1 & r)) return i - (this.time = e)
                    }
                    return this.time = e
                }, _setEndings: function (t, e, i) {
                    var n = this._interpolantSettings;
                    i ? (n.endingStart = 2401, n.endingEnd = 2401) : (n.endingStart = t ? this.zeroSlopeAtStart ? 2401 : 2400 : 2402, n.endingEnd = e ? this.zeroSlopeAtEnd ? 2401 : 2400 : 2402)
                }, _scheduleFading: function (t, e, i) {
                    var n = this._mixer, r = n.time, a = this._weightInterpolant;
                    return null === a && (this._weightInterpolant = a = n._lendControlInterpolant()), n = a.parameterPositions, a = a.sampleValues, n[0] = r, a[0] = e, n[1] = r + t, a[1] = i, this
                }
            }, yn.prototype = {
                constructor: yn, clipAction: function (t, e) {
                    var i = (r = e || this._root).uuid, n = "string" == typeof t ? Bi.findByName(r, t) : t,
                        r = null !== n ? n.uuid : t, a = this._actionsByClip[r], o = null;
                    if (void 0 !== a) {
                        if (void 0 !== (o = a.actionByRoot[i])) return o;
                        o = a.knownActions[0], null === n && (n = o._clip)
                    }
                    return null === n ? null : (n = new vn(this, n, e), this._bindAction(n, o), this._addInactiveAction(n, r, i), n)
                }, existingAction: function (t, e) {
                    var i = (n = e || this._root).uuid, n = "string" == typeof t ? Bi.findByName(n, t) : t;
                    return void 0 !== (n = this._actionsByClip[n ? n.uuid : t]) && n.actionByRoot[i] || null
                }, stopAllAction: function () {
                    for (var t = this._actions, e = this._nActiveActions, i = this._bindings, n = this._nActiveBindings, r = this._nActiveBindings = this._nActiveActions = 0; r !== e; ++r) t[r].reset();
                    for (r = 0; r !== n; ++r) i[r].useCount = 0;
                    return this
                }, update: function (t) {
                    t *= this.timeScale;
                    for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = (0, Ds.default)(t), a = this._accuIndex ^= 1, o = 0; o !== i; ++o) {
                        var s = e[o];
                        s.enabled && s._update(n, t, r, a)
                    }
                    for (t = this._bindings, e = this._nActiveBindings, o = 0; o !== e; ++o) t[o].apply(a);
                    return this
                }, getRoot: function () {
                    return this._root
                }, uncacheClip: function (t) {
                    var e = this._actions;
                    t = t.uuid;
                    var i = this._actionsByClip;
                    if (void 0 !== (n = i[t])) {
                        for (var n, r = 0, a = (n = n.knownActions).length; r !== a; ++r) {
                            var o = n[r];
                            this._deactivateAction(o);
                            var s = o._cacheIndex, h = e[e.length - 1];
                            o._cacheIndex = null, o._byClipCacheIndex = null, e[h._cacheIndex = s] = h, e.pop(), this._removeInactiveBindingsForAction(o)
                        }
                        delete i[t]
                    }
                }, uncacheRoot: function (t) {
                    t = t.uuid;
                    var e, i = this._actionsByClip;
                    for (e in i) {
                        var n = i[e].actionByRoot[t];
                        void 0 !== n && (this._deactivateAction(n), this._removeInactiveAction(n))
                    }
                    if (void 0 !== (e = this._bindingsByRootAndName[t])) for (var r in e) (t = e[r]).restoreOriginalState(), this._removeInactiveBinding(t)
                }, uncacheAction: function (t, e) {
                    var i = this.existingAction(t, e);
                    null !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
                }
            }, (0, Is.default)(yn.prototype, {
                _bindAction: function (t, e) {
                    var i = t._localRoot || this._root, n = t._clip.tracks, r = n.length, a = t._propertyBindings,
                        o = t._interpolants, s = i.uuid, h = this._bindingsByRootAndName, l = h[s];
                    for (void 0 === l && (l = {}, h[s] = l), h = 0; h !== r; ++h) {
                        var c = n[h], u = c.name, p = l[u];
                        if (void 0 === p) {
                            if (void 0 !== (p = a[h])) {
                                null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, u));
                                continue
                            }
                            ++(p = new fn(mn.create(i, u, e && e._propertyBindings[h].binding.parsedPath), c.ValueTypeName, c.getValueSize())).referenceCount, this._addInactiveBinding(p, s, u)
                        }
                        a[h] = p, o[h].resultBuffer = p.buffer
                    }
                }, _activateAction: function (t) {
                    if (!this._isActiveAction(t)) {
                        if (null === t._cacheIndex) {
                            var e = (t._localRoot || this._root).uuid, i = t._clip.uuid, n = this._actionsByClip[i];
                            this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e)
                        }
                        for (i = 0, n = (e = t._propertyBindings).length; i !== n; ++i) {
                            var r = e[i];
                            0 == r.useCount++ && (this._lendBinding(r), r.saveOriginalState())
                        }
                        this._lendAction(t)
                    }
                }, _deactivateAction: function (t) {
                    if (this._isActiveAction(t)) {
                        for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                            var r = e[i];
                            0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                        }
                        this._takeBackAction(t)
                    }
                }, _initMemoryManager: function () {
                    this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                    var t = this;
                    this.stats = {
                        actions: {
                            get total() {
                                return t._actions.length
                            }, get inUse() {
                                return t._nActiveActions
                            }
                        }, bindings: {
                            get total() {
                                return t._bindings.length
                            }, get inUse() {
                                return t._nActiveBindings
                            }
                        }, controlInterpolants: {
                            get total() {
                                return t._controlInterpolants.length
                            }, get inUse() {
                                return t._nActiveControlInterpolants
                            }
                        }
                    }
                }, _isActiveAction: function (t) {
                    return null !== (t = t._cacheIndex) && t < this._nActiveActions
                }, _addInactiveAction: function (t, e, i) {
                    var n = this._actions, r = this._actionsByClip, a = r[e];
                    void 0 === a ? (a = {
                        knownActions: [t],
                        actionByRoot: {}
                    }, t._byClipCacheIndex = 0, r[e] = a) : (e = a.knownActions, t._byClipCacheIndex = e.length, e.push(t)), t._cacheIndex = n.length, n.push(t), a.actionByRoot[i] = t
                }, _removeInactiveAction: function (t) {
                    var e = this._actions, i = e[e.length - 1], n = t._cacheIndex;
                    e[i._cacheIndex = n] = i, e.pop(), t._cacheIndex = null;
                    i = t._clip.uuid;
                    var r = (n = this._actionsByClip)[i], a = r.knownActions, o = a[a.length - 1],
                        s = t._byClipCacheIndex;
                    a[o._byClipCacheIndex = s] = o, a.pop(), t._byClipCacheIndex = null, delete r.actionByRoot[(e._localRoot || this._root).uuid], 0 === a.length && delete n[i], this._removeInactiveBindingsForAction(t)
                }, _removeInactiveBindingsForAction: function (t) {
                    for (var e = 0, i = (t = t._propertyBindings).length; e !== i; ++e) {
                        var n = t[e];
                        0 == --n.referenceCount && this._removeInactiveBinding(n)
                    }
                }, _lendAction: function (t) {
                    var e = this._actions, i = t._cacheIndex, n = this._nActiveActions++, r = e[n];
                    e[t._cacheIndex = n] = t, e[r._cacheIndex = i] = r
                }, _takeBackAction: function (t) {
                    var e = this._actions, i = t._cacheIndex, n = --this._nActiveActions, r = e[n];
                    e[t._cacheIndex = n] = t, e[r._cacheIndex = i] = r
                }, _addInactiveBinding: function (t, e, i) {
                    var n = this._bindingsByRootAndName, r = n[e], a = this._bindings;
                    void 0 === r && (r = {}, n[e] = r), (r[i] = t)._cacheIndex = a.length, a.push(t)
                }, _removeInactiveBinding: function (t) {
                    var e = this._bindings, i = (n = t.binding).rootNode.uuid, n = n.path,
                        r = this._bindingsByRootAndName, a = r[i], o = e[e.length - 1];
                    t = t._cacheIndex, e[o._cacheIndex = t] = o, e.pop(), delete a[n];
                    t:{
                        for (var s in a) break t;
                        delete r[i]
                    }
                }, _lendBinding: function (t) {
                    var e = this._bindings, i = t._cacheIndex, n = this._nActiveBindings++, r = e[n];
                    e[t._cacheIndex = n] = t, e[r._cacheIndex = i] = r
                }, _takeBackBinding: function (t) {
                    var e = this._bindings, i = t._cacheIndex, n = --this._nActiveBindings, r = e[n];
                    e[t._cacheIndex = n] = t, e[r._cacheIndex = i] = r
                }, _lendControlInterpolant: function () {
                    var t = this._controlInterpolants, e = this._nActiveControlInterpolants++, i = t[e];
                    return void 0 === i && (t[(i = new Ei(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = e] = i), i
                }, _takeBackControlInterpolant: function (t) {
                    var e = this._controlInterpolants, i = t.__cacheIndex, n = --this._nActiveControlInterpolants,
                        r = e[n];
                    e[t.__cacheIndex = n] = t, e[r.__cacheIndex = i] = r
                }, _controlInterpolantsResultBuffer: new Float32Array(1)
            }), (0, Is.default)(yn.prototype, e.prototype), xn.prototype.clone = function () {
                return new xn(void 0 === this.value.clone ? this.value : this.value.clone())
            }, ((_n.prototype = (0, Rs.default)(Vt.prototype)).constructor = _n).prototype.isInstancedBufferGeometry = !0, _n.prototype.addGroup = function (t, e, i) {
                this.groups.push({start: t, count: e, materialIndex: i})
            }, _n.prototype.copy = function (t) {
                null !== (i = t.index) && this.setIndex(i.clone());
                var e, i = t.attributes;
                for (e in i) this.addAttribute(e, i[e].clone());
                for (e = 0, i = (t = t.groups).length; e < i; e++) {
                    var n = t[e];
                    this.addGroup(n.start, n.count, n.materialIndex)
                }
                return this
            }, Mn.prototype = {
                constructor: Mn, isInterleavedBufferAttribute: !0, get count() {
                    return this.data.count
                }, get array() {
                    return this.data.array
                }, setX: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset] = e, this
                }, setY: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 1] = e, this
                }, setZ: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 2] = e, this
                }, setW: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 3] = e, this
                }, getX: function (t) {
                    return this.data.array[t * this.data.stride + this.offset]
                }, getY: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 1]
                }, getZ: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 2]
                }, getW: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 3]
                }, setXY: function (t, e, i) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this
                }
            }, wn.prototype = {
                constructor: wn, isInterleavedBuffer: !0, set needsUpdate(t) {
                    !0 === t && this.version++
                }, setArray: function (t) {
                    if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                    this.count = void 0 !== t ? t.length / this.stride : 0, this.array = t
                }, setDynamic: function (t) {
                    return this.dynamic = t, this
                }, copy: function (t) {
                    return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.dynamic = t.dynamic, this
                }, copyAt: function (t, e, i) {
                    t *= this.stride, i *= e.stride;
                    for (var n = 0, r = this.stride; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }
            }, ((bn.prototype = (0, Rs.default)(wn.prototype)).constructor = bn).prototype.isInstancedInterleavedBuffer = !0, bn.prototype.copy = function (t) {
                return wn.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
            }, ((Sn.prototype = (0, Rs.default)(J.prototype)).constructor = Sn).prototype.isInstancedBufferAttribute = !0, Sn.prototype.copy = function (t) {
                return J.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
            }, Tn.prototype = {
                constructor: Tn, linePrecision: 1, set: function (t, e) {
                    this.ray.set(t, e)
                }, setFromCamera: function (t, e) {
                    e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld), this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize()) : e && e.isOrthographicCamera && (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e), this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld))
                }, intersectObject: function (t, e) {
                    var i = [];
                    return En(t, this, i, e), i.sort(An), i
                }, intersectObjects: function (t, e) {
                    var i = [];
                    if (!1 === Array.isArray(t)) return i;
                    for (var n = 0, r = t.length; n < r; n++) En(t[n], this, i, e);
                    return i.sort(An), i
                }
            }, Ln.prototype = {
                constructor: Ln, start: function () {
                    this.oldTime = this.startTime = (performance || Date).now(), this.elapsedTime = 0, this.running = !0
                }, stop: function () {
                    this.getElapsedTime(), this.running = !1
                }, getElapsedTime: function () {
                    return this.getDelta(), this.elapsedTime
                }, getDelta: function () {
                    var t = 0;
                    if (this.autoStart && !this.running && this.start(), this.running) {
                        var e = (performance || Date).now();
                        t = (e - this.oldTime) / 1e3;
                        this.oldTime = e, this.elapsedTime += t
                    }
                    return t
                }
            }, Pn.prototype = {
                constructor: Pn, set: function (t, e, i) {
                    return this.radius = t, this.phi = e, this.theta = i, this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this
                }, makeSafe: function () {
                    return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                }, setFromVector3: function (t) {
                    return this.radius = t.length(), 0 === this.radius ? this.phi = this.theta = 0 : (this.theta = Math.atan2(t.x, t.z), this.phi = Math.acos(hr.clamp(t.y / this.radius, -1, 1))), this
                }
            }, Cn.prototype = {
                constructor: Cn, set: function (t, e, i) {
                    return this.radius = t, this.theta = e, this.y = i, this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this
                }, setFromVector3: function (t) {
                    return this.radius = Math.sqrt(t.x * t.x + t.z * t.z), this.theta = Math.atan2(t.x, t.z), this.y = t.y, this
                }
            }, ((Rn.prototype = (0, Rs.default)(Wt.prototype)).constructor = Rn).prototype.createAnimation = function (t, e, i, n) {
                e = {
                    start: e,
                    end: i,
                    length: i - e + 1,
                    fps: n,
                    duration: (i - e) / n,
                    lastFrame: 0,
                    currentFrame: 0,
                    active: !1,
                    time: 0,
                    direction: 1,
                    weight: 1,
                    directionBackwards: !1,
                    mirroredLoop: !1
                }, this.animationsMap[t] = e, this.animationsList.push(e)
            }, Rn.prototype.autoCreateAnimations = function (t) {
                for (var e, i = /([a-z]+)_?(\d+)/i, n = {}, r = this.geometry, a = 0, o = r.morphTargets.length; a < o; a++) {
                    var s = r.morphTargets[a].name.match(i);
                    if (s && 1 < s.length) {
                        var h = s[1];
                        n[h] || (n[h] = {
                            start: 1 / 0,
                            end: -1 / 0
                        }), a < (s = n[h]).start && (s.start = a), a > s.end && (s.end = a), e || (e = h)
                    }
                }
                for (h in n) s = n[h], this.createAnimation(h, s.start, s.end, t);
                this.firstAnimation = e
            }, Rn.prototype.setAnimationDirectionForward = function (t) {
                (t = this.animationsMap[t]) && (t.direction = 1, t.directionBackwards = !1)
            }, Rn.prototype.setAnimationDirectionBackward = function (t) {
                (t = this.animationsMap[t]) && (t.direction = -1, t.directionBackwards = !0)
            }, Rn.prototype.setAnimationFPS = function (t, e) {
                var i = this.animationsMap[t];
                i && (i.fps = e, i.duration = (i.end - i.start) / i.fps)
            }, Rn.prototype.setAnimationDuration = function (t, e) {
                var i = this.animationsMap[t];
                i && (i.duration = e, i.fps = (i.end - i.start) / i.duration)
            }, Rn.prototype.setAnimationWeight = function (t, e) {
                var i = this.animationsMap[t];
                i && (i.weight = e)
            }, Rn.prototype.setAnimationTime = function (t, e) {
                var i = this.animationsMap[t];
                i && (i.time = e)
            }, Rn.prototype.getAnimationTime = function (t) {
                var e = 0;
                return (t = this.animationsMap[t]) && (e = t.time), e
            }, Rn.prototype.getAnimationDuration = function (t) {
                var e = -1;
                return (t = this.animationsMap[t]) && (e = t.duration), e
            }, Rn.prototype.playAnimation = function (t) {
                var e = this.animationsMap[t];
                e && (e.time = 0, e.active = !0)
            }, Rn.prototype.stopAnimation = function (t) {
                (t = this.animationsMap[t]) && (t.active = !1)
            }, Rn.prototype.update = function (t) {
                for (var e = 0, i = this.animationsList.length; e < i; e++) {
                    var n = this.animationsList[e];
                    if (n.active) {
                        var r = n.duration / n.length;
                        n.time += n.direction * t, n.mirroredLoop ? (n.time > n.duration || n.time < 0) && (n.direction *= -1, n.time > n.duration && (n.time = n.duration, n.directionBackwards = !0), n.time < 0 && (n.time = 0, n.directionBackwards = !1)) : (n.time %= n.duration, n.time < 0 && (n.time += n.duration));
                        var a = n.start + hr.clamp(Math.floor(n.time / r), 0, n.length - 1), o = n.weight;
                        a !== n.currentFrame && (this.morphTargetInfluences[n.lastFrame] = 0, this.morphTargetInfluences[n.currentFrame] = 1 * o, this.morphTargetInfluences[a] = 0, n.lastFrame = n.currentFrame, n.currentFrame = a), r = n.time % r / r, n.directionBackwards && (r = 1 - r), n.currentFrame !== n.lastFrame ? (this.morphTargetInfluences[n.currentFrame] = r * o, this.morphTargetInfluences[n.lastFrame] = (1 - r) * o) : this.morphTargetInfluences[n.currentFrame] = o
                    }
                }
            }, ((In.prototype = (0, Rs.default)(j.prototype)).constructor = In).prototype.isImmediateRenderObject = !0, ((Dn.prototype = (0, Rs.default)(le.prototype)).constructor = Dn).prototype.update = (Ko = new Rt, $o = new Rt, ts = new F, function () {
                var t = ["a", "b", "c"];
                this.object.updateMatrixWorld(!0), ts.getNormalMatrix(this.object.matrixWorld);
                var e = this.object.matrixWorld, i = this.geometry.attributes.position, n = this.object.geometry;
                if (n && n.isGeometry) for (var r = n.vertices, a = n.faces, o = n = 0, s = a.length; o < s; o++) for (var h = a[o], l = 0, c = h.vertexNormals.length; l < c; l++) {
                    var u = h.vertexNormals[l];
                    Ko.copy(r[h[t[l]]]).applyMatrix4(e), $o.copy(u).applyMatrix3(ts).normalize().multiplyScalar(this.size).add(Ko), i.setXYZ(n, Ko.x, Ko.y, Ko.z), n += 1, i.setXYZ(n, $o.x, $o.y, $o.z), n += 1
                } else if (n && n.isBufferGeometry) for (t = n.attributes.position, r = n.attributes.normal, l = n = 0, c = t.count; l < c; l++) Ko.set(t.getX(l), t.getY(l), t.getZ(l)).applyMatrix4(e), $o.set(r.getX(l), r.getY(l), r.getZ(l)), $o.applyMatrix3(ts).normalize().multiplyScalar(this.size).add(Ko), i.setXYZ(n, Ko.x, Ko.y, Ko.z), n += 1, i.setXYZ(n, $o.x, $o.y, $o.z), n += 1;
                return i.needsUpdate = !0, this
            }), ((Nn.prototype = (0, Rs.default)(j.prototype)).constructor = Nn).prototype.dispose = function () {
                this.cone.geometry.dispose(), this.cone.material.dispose()
            }, Nn.prototype.update = (es = new Rt, is = new Rt, function () {
                var t = this.light.distance ? this.light.distance : 1e3, e = t * Math.tan(this.light.angle);
                this.cone.scale.set(e, e, t), es.setFromMatrixPosition(this.light.matrixWorld), is.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(is.sub(es)), this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
            }), ((Un.prototype = (0, Rs.default)(le.prototype)).constructor = Un).prototype.getBoneList = function (t) {
                var e = [];
                t && t.isBone && e.push(t);
                for (var i = 0; i < t.children.length; i++) e.push.apply(e, this.getBoneList(t.children[i]));
                return e
            }, Un.prototype.update = (ns = new Rt, rs = new It, as = new It, function () {
                var t = this.geometry, e = t.getAttribute("position");
                as.getInverse(this.root.matrixWorld);
                for (var i = 0, n = 0; i < this.bones.length; i++) {
                    var r = this.bones[i];
                    r.parent && r.parent.isBone && (rs.multiplyMatrices(as, r.matrixWorld), ns.setFromMatrixPosition(rs), e.setXYZ(n, ns.x, ns.y, ns.z), rs.multiplyMatrices(as, r.parent.matrixWorld), ns.setFromMatrixPosition(rs), e.setXYZ(n + 1, ns.x, ns.y, ns.z), n += 2)
                }
                t.getAttribute("position").needsUpdate = !0
            }), ((zn.prototype = (0, Rs.default)(Wt.prototype)).constructor = zn).prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, zn.prototype.update = function () {
                this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
            }, ((Fn.prototype = (0, Rs.default)(j.prototype)).constructor = Fn).prototype.dispose = function () {
                this.children[0].geometry.dispose(), this.children[0].material.dispose(), this.children[1].geometry.dispose(), this.children[1].material.dispose()
            }, Fn.prototype.update = (os = new Rt, ss = new Rt, function () {
                var t = this.children[0], e = this.children[1];
                if (this.light.target) {
                    os.setFromMatrixPosition(this.light.matrixWorld), ss.setFromMatrixPosition(this.light.target.matrixWorld);
                    var i = ss.clone().sub(os);
                    t.lookAt(i), e.lookAt(i)
                }
                t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), e.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), e = .5 * this.light.width, i = .5 * this.light.height;
                var n = (t = t.geometry.getAttribute("position")).array;
                n[0] = e, n[1] = -i, n[2] = 0, n[3] = e, n[4] = i, n[5] = 0, n[6] = -e, n[7] = i, n[8] = 0, n[9] = -e, n[10] = i, n[11] = 0, n[12] = -e, n[13] = -i, n[14] = 0, n[15] = e, n[16] = -i, n[17] = 0, t.needsUpdate = !0
            }), ((Bn.prototype = (0, Rs.default)(j.prototype)).constructor = Bn).prototype.dispose = function () {
                this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, Bn.prototype.update = (hs = new Rt, ls = new Nt, cs = new Nt, function () {
                var t = this.children[0], e = t.geometry.getAttribute("color");
                ls.copy(this.light.color).multiplyScalar(this.light.intensity), cs.copy(this.light.groundColor).multiplyScalar(this.light.intensity);
                for (var i = 0, n = e.count; i < n; i++) {
                    var r = i < n / 2 ? ls : cs;
                    e.setXYZ(i, r.r, r.g, r.b)
                }
                t.lookAt(hs.setFromMatrixPosition(this.light.matrixWorld).negate()), e.needsUpdate = !0
            }), (On.prototype = (0, Rs.default)(le.prototype)).constructor = On, (Gn.prototype = (0, Rs.default)(le.prototype)).constructor = Gn, ((kn.prototype = (0, Rs.default)(le.prototype)).constructor = kn).prototype.update = (us = new Rt, ps = new Rt, ds = new F, function () {
                this.object.updateMatrixWorld(!0), ds.getNormalMatrix(this.object.matrixWorld);
                for (var t, e = this.object.matrixWorld, i = this.geometry.attributes.position, n = (t = this.object.geometry).vertices, r = 0, a = 0, o = (t = t.faces).length; a < o; a++) {
                    var s = t[a], h = s.normal;
                    us.copy(n[s.a]).add(n[s.b]).add(n[s.c]).divideScalar(3).applyMatrix4(e), ps.copy(h).applyMatrix3(ds).normalize().multiplyScalar(this.size).add(us), i.setXYZ(r, us.x, us.y, us.z), r += 1, i.setXYZ(r, ps.x, ps.y, ps.z), r += 1
                }
                return i.needsUpdate = !0, this
            }), ((Vn.prototype = (0, Rs.default)(j.prototype)).constructor = Vn).prototype.dispose = function () {
                var t = this.children[0], e = this.children[1];
                t.geometry.dispose(), t.material.dispose(), e.geometry.dispose(), e.material.dispose()
            }, Vn.prototype.update = (fs = new Rt, ms = new Rt, gs = new Rt, function () {
                fs.setFromMatrixPosition(this.light.matrixWorld), ms.setFromMatrixPosition(this.light.target.matrixWorld), gs.subVectors(ms, fs);
                var t = this.children[0], e = this.children[1];
                t.lookAt(gs), t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), e.lookAt(gs), e.scale.z = gs.length()
            }), ((Wn.prototype = (0, Rs.default)(le.prototype)).constructor = Wn).prototype.update = function () {
                function t(t, e, i, n) {
                    if (o.set(e, i, n).unproject(s), void 0 !== (t = a[t])) for (e = r.getAttribute("position"), i = 0, n = t.length; i < n; i++) e.setXYZ(t[i], o.x, o.y, o.z)
                }

                var r, a, o = new Rt, s = new ut;
                return function () {
                    r = this.geometry, a = this.pointMap, s.projectionMatrix.copy(this.camera.projectionMatrix), t("c", 0, 0, -1), t("t", 0, 0, 1), t("n1", -1, -1, -1), t("n2", 1, -1, -1), t("n3", -1, 1, -1), t("n4", 1, 1, -1), t("f1", -1, -1, 1), t("f2", 1, -1, 1), t("f3", -1, 1, 1), t("f4", 1, 1, 1), t("u1", .7, 1.1, -1), t("u2", -.7, 1.1, -1), t("u3", 0, 2, -1), t("cf1", -1, 0, 1), t("cf2", 1, 0, 1), t("cf3", 0, -1, 1), t("cf4", 0, 1, 1), t("cn1", -1, 0, -1), t("cn2", 1, 0, -1), t("cn3", 0, -1, -1), t("cn4", 0, 1, -1), r.getAttribute("position").needsUpdate = !0
                }
            }(), ((Hn.prototype = (0, Rs.default)(le.prototype)).constructor = Hn).prototype.update = (vs = new U, function (t) {
                if (t && t.isBox3 ? vs.copy(t) : vs.setFromObject(t), !vs.isEmpty()) {
                    t = vs.min;
                    var e = vs.max, i = this.geometry.attributes.position, n = i.array;
                    n[0] = e.x, n[1] = e.y, n[2] = e.z, n[3] = t.x, n[4] = e.y, n[5] = e.z, n[6] = t.x, n[7] = t.y, n[8] = e.z, n[9] = e.x, n[10] = t.y, n[11] = e.z, n[12] = e.x, n[13] = e.y, n[14] = t.z, n[15] = t.x, n[16] = e.y, n[17] = t.z, n[18] = t.x, n[19] = t.y, n[20] = t.z, n[21] = e.x, n[22] = t.y, n[23] = t.z, i.needsUpdate = !0, this.geometry.computeBoundingSphere()
                }
            }), ((Xn.prototype = (0, Rs.default)(j.prototype)).constructor = Xn).prototype.setDirection = (Ms = new Rt, function (t) {
                .99999 < t.y ? this.quaternion.set(0, 0, 0, 1) : t.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (Ms.set(t.z, 0, -t.x).normalize(), _s = Math.acos(t.y), this.quaternion.setFromAxisAngle(Ms, _s))
            }), Xn.prototype.setLength = function (t, e, i) {
                void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix()
            }, Xn.prototype.setColor = function (t) {
                this.line.material.color.copy(t), this.cone.material.color.copy(t)
            }, (jn.prototype = (0, Rs.default)(le.prototype)).constructor = jn;
            var bs, Ss = new Rt, Ts = new Yn, As = new Yn, Es = new Yn;
            ((qn.prototype = (0, Rs.default)(Yi.prototype)).constructor = qn).prototype.getPoint = function (t) {
                var e, i, n, r = this.points;
                if (t *= (s = r.length) - (this.closed ? 0 : 1), t -= a = Math.floor(t), this.closed ? a += 0 < a ? 0 : (Math.floor(Math.abs(a) / r.length) + 1) * r.length : 0 === t && a === s - 1 && (a = s - 2, t = 1), e = this.closed || 0 < a ? r[(a - 1) % s] : (Ss.subVectors(r[0], r[1]).add(r[0]), Ss), i = r[a % s], n = r[(a + 1) % s], r = this.closed || a + 2 < s ? r[(a + 2) % s] : (Ss.subVectors(r[s - 1], r[s - 2]).add(r[s - 1]), Ss), void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
                    var a, o = "chordal" === this.type ? .5 : .25, s = Math.pow(e.distanceToSquared(i), o);
                    (a = Math.pow(i.distanceToSquared(n), o)) < 1e-4 && (a = 1), s < 1e-4 && (s = a), (o = Math.pow(n.distanceToSquared(r), o)) < 1e-4 && (o = a), Ts.initNonuniformCatmullRom(e.x, i.x, n.x, r.x, s, a, o), As.initNonuniformCatmullRom(e.y, i.y, n.y, r.y, s, a, o), Es.initNonuniformCatmullRom(e.z, i.z, n.z, r.z, s, a, o)
                } else "catmullrom" === this.type && (s = void 0 !== this.tension ? this.tension : .5, Ts.initCatmullRom(e.x, i.x, n.x, r.x, s), As.initCatmullRom(e.y, i.y, n.y, r.y, s), Es.initCatmullRom(e.z, i.z, n.z, r.z, s));
                return new Rt(Ts.calc(t), As.calc(t), Es.calc(t))
            }, ((Zn.prototype = (0, Rs.default)(Yi.prototype)).constructor = Zn).prototype.getPoint = function (t) {
                var e = this.v0, i = this.v1, n = this.v2, r = this.v3;
                return new Rt(ji(t, e.x, i.x, n.x, r.x), ji(t, e.y, i.y, n.y, r.y), ji(t, e.z, i.z, n.z, r.z))
            }, ((Jn.prototype = (0, Rs.default)(Yi.prototype)).constructor = Jn).prototype.getPoint = function (t) {
                var e = this.v0, i = this.v1, n = this.v2;
                return new Rt(Xi(t, e.x, i.x, n.x), Xi(t, e.y, i.y, n.y), Xi(t, e.z, i.z, n.z))
            }, ((Qn.prototype = (0, Rs.default)(Yi.prototype)).constructor = Qn).prototype.getPoint = function (t) {
                if (1 === t) return this.v2.clone();
                var e = new Rt;
                return e.subVectors(this.v2, this.v1), e.multiplyScalar(t), e.add(this.v1), e
            }, (Kn.prototype = (0, Rs.default)(Ji.prototype)).constructor = Kn, Yi.create = function (t, e) {
                return t.prototype = (0, Rs.default)(Yi.prototype), (t.prototype.constructor = t).prototype.getPoint = e, t
            }, $n.prototype = (0, Rs.default)(qn.prototype), tr.prototype = (0, Rs.default)(qn.prototype), er.prototype = (0, Rs.default)(qn.prototype), (0, Is.default)(er.prototype, {
                initFromArray: function (t) {
                }, getControlPointsArray: function (t) {
                }, reparametrizeByArcLength: function (t) {
                }
            }), On.prototype.setColors = function () {
            }, (0, Is.default)(z.prototype, {
                center: function (t) {
                    return this.getCenter(t)
                }, empty: function () {
                    return this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, size: function (t) {
                    return this.getSize(t)
                }
            }), (0, Is.default)(U.prototype, {
                center: function (t) {
                    return this.getCenter(t)
                }, empty: function () {
                    return this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, isIntersectionSphere: function (t) {
                    return this.intersectsSphere(t)
                }, size: function (t) {
                    return this.getSize(t)
                }
            }), Y.prototype.center = function (t) {
                return this.getCenter(t)
            }, hr.random16 = function () {
                return Math.random()
            }, (0, Is.default)(F.prototype, {
                flattenToArrayOffset: function (t, e) {
                    return this.toArray(t, e)
                }, multiplyVector3: function (t) {
                    return t.applyMatrix3(this)
                }, multiplyVector3Array: function (t) {
                    return this.applyToVector3Array(t)
                }, applyToBuffer: function (t, e, i) {
                    return this.applyToBufferAttribute(t)
                }, applyToVector3Array: function (t, e, i) {
                }
            }), (0, Is.default)(It.prototype, {
                extractPosition: function (t) {
                    return this.copyPosition(t)
                }, flattenToArrayOffset: function (t, e) {
                    return this.toArray(t, e)
                }, getPosition: function () {
                    return void 0 === bs && (bs = new Rt), bs.setFromMatrixColumn(this, 3)
                }, setRotationFromQuaternion: function (t) {
                    return this.makeRotationFromQuaternion(t)
                }, multiplyVector3: function (t) {
                    return t.applyMatrix4(this)
                }, multiplyVector4: function (t) {
                    return t.applyMatrix4(this)
                }, multiplyVector3Array: function (t) {
                    return this.applyToVector3Array(t)
                }, rotateAxis: function (t) {
                    t.transformDirection(this)
                }, crossVector: function (t) {
                    return t.applyMatrix4(this)
                }, translate: function () {
                }, rotateX: function () {
                }, rotateY: function () {
                }, rotateZ: function () {
                }, rotateByAxis: function () {
                }, applyToBuffer: function (t, e, i) {
                    return this.applyToBufferAttribute(t)
                }, applyToVector3Array: function (t, e, i) {
                }, makeFrustum: function (t, e, i, n, r, a) {
                    return this.makePerspective(t, e, n, i, r, a)
                }
            }), k.prototype.isIntersectionLine = function (t) {
                return this.intersectsLine(t)
            }, s.prototype.multiplyVector3 = function (t) {
                return t.applyQuaternion(this)
            }, (0, Is.default)(W.prototype, {
                isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, isIntersectionPlane: function (t) {
                    return this.intersectsPlane(t)
                }, isIntersectionSphere: function (t) {
                    return this.intersectsSphere(t)
                }
            }), (0, Is.default)(en.prototype, {
                extrude: function (t) {
                    return new ze(this, t)
                }, makeGeometry: function (t) {
                    return new He(this, t)
                }
            }), (0, Is.default)(V.prototype, {
                fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }
            }), (0, Is.default)(Rt.prototype, {
                setEulerFromRotationMatrix: function () {
                }, setEulerFromQuaternion: function () {
                }, getPositionFromMatrix: function (t) {
                    return this.setFromMatrixPosition(t)
                }, getScaleFromMatrix: function (t) {
                    return this.setFromMatrixScale(t)
                }, getColumnFromMatrix: function (t, e) {
                    return this.setFromMatrixColumn(e, t)
                }, applyProjection: function (t) {
                    return this.applyMatrix4(t)
                }, fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }
            }), (0, Is.default)(Ct.prototype, {
                fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }
            }), ht.prototype.computeTangents = function () {
            }, (0, Is.default)(j.prototype, {
                getChildByName: function (t) {
                    return this.getObjectByName(t)
                }, renderDepth: function () {
                }, translate: function (t, e) {
                    return this.translateOnAxis(e, t)
                }
            }), (0, Us.default)(j.prototype, {
                eulerOrder: {
                    get: function () {
                        return this.rotation.order
                    }, set: function (t) {
                        this.rotation.order = t
                    }
                }, useQuaternion: {
                    get: function () {
                    }, set: function () {
                    }
                }
            }), (0, Us.default)(Lt.prototype, {
                objects: {
                    get: function () {
                        return this.levels
                    }
                }
            }), jt.prototype.setLens = function (t, e) {
                void 0 !== e && (this.filmGauge = e), this.setFocalLength(t)
            }, (0, Us.default)(gi.prototype, {
                onlyShadow: {
                    set: function () {
                    }
                }, shadowCameraFov: {
                    set: function (t) {
                        this.shadow.camera.fov = t
                    }
                }, shadowCameraLeft: {
                    set: function (t) {
                        this.shadow.camera.left = t
                    }
                }, shadowCameraRight: {
                    set: function (t) {
                        this.shadow.camera.right = t
                    }
                }, shadowCameraTop: {
                    set: function (t) {
                        this.shadow.camera.top = t
                    }
                }, shadowCameraBottom: {
                    set: function (t) {
                        this.shadow.camera.bottom = t
                    }
                }, shadowCameraNear: {
                    set: function (t) {
                        this.shadow.camera.near = t
                    }
                }, shadowCameraFar: {
                    set: function (t) {
                        this.shadow.camera.far = t
                    }
                }, shadowCameraVisible: {
                    set: function () {
                    }
                }, shadowBias: {
                    set: function (t) {
                        this.shadow.bias = t
                    }
                }, shadowDarkness: {
                    set: function () {
                    }
                }, shadowMapWidth: {
                    set: function (t) {
                        this.shadow.mapSize.width = t
                    }
                }, shadowMapHeight: {
                    set: function (t) {
                        this.shadow.mapSize.height = t
                    }
                }
            }), (0, Us.default)(J.prototype, {
                length: {
                    get: function () {
                        return this.array.length
                    }
                }
            }), (0, Is.default)(Vt.prototype, {
                addIndex: function (t) {
                    this.setIndex(t)
                }, addDrawCall: function (t, e, i) {
                    this.addGroup(t, e)
                }, clearDrawCalls: function () {
                    this.clearGroups()
                }, computeTangents: function () {
                }, computeOffsets: function () {
                }
            }), (0, Us.default)(Vt.prototype, {
                drawcalls: {
                    get: function () {
                        return this.groups
                    }
                }, offsets: {
                    get: function () {
                        return this.groups
                    }
                }
            }), (0, Us.default)(xn.prototype, {
                dynamic: {
                    set: function () {
                    }
                }, onUpdate: {
                    value: function () {
                        return this
                    }
                }
            }), (0, Us.default)(N.prototype, {
                wrapAround: {
                    get: function () {
                        this.type
                    }, set: function () {
                        this.type
                    }
                }, wrapRGB: {
                    get: function () {
                        return this.type, new Nt
                    }
                }
            }), (0, Us.default)(ri.prototype, {
                metal: {
                    get: function () {
                        return !1
                    }, set: function () {
                    }
                }
            }), (0, Us.default)(Ft.prototype, {
                derivatives: {
                    get: function () {
                        return this.extensions.derivatives
                    }, set: function (t) {
                        this.extensions.derivatives = t
                    }
                }
            }), (0, Is.default)(Mt.prototype, {
                supportsFloatTextures: function () {
                    return this.extensions.get("OES_texture_float")
                }, supportsHalfFloatTextures: function () {
                    return this.extensions.get("OES_texture_half_float")
                }, supportsStandardDerivatives: function () {
                    return this.extensions.get("OES_standard_derivatives")
                }, supportsCompressedTextureS3TC: function () {
                    return this.extensions.get("WEBGL_compressed_texture_s3tc")
                }, supportsCompressedTexturePVRTC: function () {
                    return this.extensions.get("WEBGL_compressed_texture_pvrtc")
                }, supportsBlendMinMax: function () {
                    return this.extensions.get("EXT_blend_minmax")
                }, supportsVertexTextures: function () {
                    return this.capabilities.vertexTextures
                }, supportsInstancedArrays: function () {
                    return this.extensions.get("ANGLE_instanced_arrays")
                }, enableScissorTest: function (t) {
                    this.setScissorTest(t)
                }, initMaterial: function () {
                }, addPrePlugin: function () {
                }, addPostPlugin: function () {
                }, updateShadowMap: function () {
                }
            }), (0, Us.default)(Mt.prototype, {
                shadowMapEnabled: {
                    get: function () {
                        return this.shadowMap.enabled
                    }, set: function (t) {
                        this.shadowMap.enabled = t
                    }
                }, shadowMapType: {
                    get: function () {
                        return this.shadowMap.type
                    }, set: function (t) {
                        this.shadowMap.type = t
                    }
                }, shadowMapCullFace: {
                    get: function () {
                        return this.shadowMap.cullFace
                    }, set: function (t) {
                        this.shadowMap.cullFace = t
                    }
                }
            }), (0, Us.default)(Gt.prototype, {
                cullFace: {
                    get: function () {
                        return this.renderReverseSided ? 2 : 1
                    }, set: function (t) {
                        t = 1 !== t, this.renderReverseSided = t
                    }
                }
            }), (0, Us.default)(O.prototype, {
                wrapS: {
                    get: function () {
                        return this.texture.wrapS
                    }, set: function (t) {
                        this.texture.wrapS = t
                    }
                }, wrapT: {
                    get: function () {
                        return this.texture.wrapT
                    }, set: function (t) {
                        this.texture.wrapT = t
                    }
                }, magFilter: {
                    get: function () {
                        return this.texture.magFilter
                    }, set: function (t) {
                        this.texture.magFilter = t
                    }
                }, minFilter: {
                    get: function () {
                        return this.texture.minFilter
                    }, set: function (t) {
                        this.texture.minFilter = t
                    }
                }, anisotropy: {
                    get: function () {
                        return this.texture.anisotropy
                    }, set: function (t) {
                        this.texture.anisotropy = t
                    }
                }, offset: {
                    get: function () {
                        return this.texture.offset
                    }, set: function (t) {
                        this.texture.offset = t
                    }
                }, repeat: {
                    get: function () {
                        return this.texture.repeat
                    }, set: function (t) {
                        this.texture.repeat = t
                    }
                }, format: {
                    get: function () {
                        return this.texture.format
                    }, set: function (t) {
                        this.texture.format = t
                    }
                }, type: {
                    get: function () {
                        return this.texture.type
                    }, set: function (t) {
                        this.texture.type = t
                    }
                }, generateMipmaps: {
                    get: function () {
                        return this.texture.generateMipmaps
                    }, set: function (t) {
                        this.texture.generateMipmaps = t
                    }
                }
            }), un.prototype.load = function (t) {
                var e = this;
                return (new on).load(t, function (t) {
                    e.setBuffer(t)
                }), this
            }, dn.prototype.getData = function () {
                return this.getFrequencyData()
            }, t.WebGLRenderTargetCube = n, t.WebGLRenderTarget = O, t.WebGLRenderer = Mt, t.ShaderLib = Gr, t.UniformsLib = Or, t.UniformsUtils = Nr, t.ShaderChunk = Ur, t.FogExp2 = wt, t.Fog = bt, t.Scene = St, t.LensFlare = Tt, t.Sprite = Et, t.LOD = Lt, t.SkinnedMesh = oe, t.Skeleton = Pt, t.Bone = ae, t.Mesh = Wt, t.LineSegments = le, t.Line = he, t.Points = ue, t.Group = pe, t.VideoTexture = de, t.DataTexture = D, t.CompressedTexture = fe, t.CubeTexture = h, t.CanvasTexture = me, t.DepthTexture = ge, t.Texture = B, t.CompressedTextureLoader = ui, t.DataTextureLoader = pi, t.CubeTextureLoader = fi, t.TextureLoader = mi, t.ObjectLoader = Wi, t.MaterialLoader = Oi, t.BufferGeometryLoader = Gi, t.DefaultLoadingManager = Lo, t.LoadingManager = li, t.JSONLoader = Vi, t.ImageLoader = di, t.FontLoader = an, t.FileLoader = ci, t.Loader = ki, t.Cache = Eo, t.AudioLoader = on, t.SpotLightShadow = xi, t.SpotLight = _i, t.PointLight = Mi, t.RectAreaLight = sn, t.HemisphereLight = vi, t.DirectionalLightShadow = wi, t.DirectionalLight = bi, t.AmbientLight = Si, t.LightShadow = yi, t.Light = gi, t.StereoCamera = hn, t.PerspectiveCamera = jt, t.OrthographicCamera = Yt, t.CubeCamera = ln,t.Camera = ut,t.AudioListener = cn,t.PositionalAudio = pn,t.AudioContext = ws,t.AudioAnalyser = dn,t.Audio = un,t.VectorKeyframeTrack = Ci,t.StringKeyframeTrack = Ni,t.QuaternionKeyframeTrack = Ii,t.NumberKeyframeTrack = Di,t.ColorKeyframeTrack = zi,t.BooleanKeyframeTrack = Ui,t.PropertyMixer = fn,t.PropertyBinding = mn,t.KeyframeTrack = Fi,t.AnimationUtils = Uo,t.AnimationObjectGroup = gn,t.AnimationMixer = yn,t.AnimationClip = Bi,t.Uniform = xn,t.InstancedBufferGeometry = _n,t.BufferGeometry = Vt,t.GeometryIdCount = function () {
                return co++
            },t.Geometry = ht,t.InterleavedBufferAttribute = Mn,t.InstancedInterleavedBuffer = bn,t.InterleavedBuffer = wn,t.InstancedBufferAttribute = Sn,t.Face3 = Z,t.Object3D = j,t.Raycaster = Tn,t.Layers = X,t.EventDispatcher = e,t.Clock = Ln,t.QuaternionLinearInterpolant = Ri,t.LinearInterpolant = Ei,t.DiscreteInterpolant = Li,t.CubicInterpolant = Ai,t.Interpolant = Ti,t.Triangle = q,t.Math = hr,t.Spherical = Pn,t.Cylindrical = Cn,t.Plane = k,t.Frustum = Ot,t.Sphere = Bt,t.Ray = W,t.Matrix4 = It,t.Matrix3 = F,t.Box3 = U,t.Box2 = z,t.Line3 = Y,t.Euler = H,t.Vector4 = Ct,t.Vector3 = Rt,t.Vector2 = V,t.Quaternion = s,t.Color = Nt,t.MorphBlendMesh = Rn,t.ImmediateRenderObject = In,t.VertexNormalsHelper = Dn,t.SpotLightHelper = Nn,t.SkeletonHelper = Un,t.PointLightHelper = zn,t.RectAreaLightHelper = Fn,t.HemisphereLightHelper = Bn,t.GridHelper = On,t.PolarGridHelper = Gn,t.FaceNormalsHelper = kn,t.DirectionalLightHelper = Vn,t.CameraHelper = Wn,t.BoxHelper = Hn,t.ArrowHelper = Xn,t.AxisHelper = jn,t.CatmullRomCurve3 = qn,t.CubicBezierCurve3 = Zn,t.QuadraticBezierCurve3 = Jn,t.LineCurve3 = Qn,t.ArcCurve = Kn,t.EllipseCurve = Ji,t.SplineCurve = Qi,t.CubicBezierCurve = Ki,t.QuadraticBezierCurve = $i,t.LineCurve = qi,t.Shape = en,t.Path = tn,t.ShapePath = nn,t.Font = rn,t.CurvePath = Zi,t.Curve = Yi,t.ShapeUtils = So,t.SceneUtils = {
                createMultiMaterialObject: function (t, e) {
                    for (var i = new pe, n = 0, r = e.length; n < r; n++) i.add(new Wt(t, e[n]));
                    return i
                }, detach: function (t, e, i) {
                    t.applyMatrix(e.matrixWorld), e.remove(t), i.add(t)
                }, attach: function (t, e, i) {
                    var n = new It;
                    n.getInverse(i.matrixWorld), t.applyMatrix(n), e.remove(t), i.add(t)
                }
            },t.WireframeGeometry = ve,t.ParametricGeometry = ye,t.ParametricBufferGeometry = xe,t.TetrahedronGeometry = we,t.TetrahedronBufferGeometry = be,t.OctahedronGeometry = Se,t.OctahedronBufferGeometry = Te,t.IcosahedronGeometry = Ae,t.IcosahedronBufferGeometry = Ee,t.DodecahedronGeometry = Le,t.DodecahedronBufferGeometry = Pe,t.PolyhedronGeometry = _e,t.PolyhedronBufferGeometry = Me,t.TubeGeometry = Ce,t.TubeBufferGeometry = Re,t.TorusKnotGeometry = Ie,t.TorusKnotBufferGeometry = De,t.TorusGeometry = Ne,t.TorusBufferGeometry = Ue,t.TextGeometry = Fe,t.SphereGeometry = Be,t.SphereBufferGeometry = Oe,t.RingGeometry = Ge,t.RingBufferGeometry = ke,t.PlaneGeometry = ct,t.PlaneBufferGeometry = Xt,t.LatheGeometry = Ve,t.LatheBufferGeometry = We,t.ShapeGeometry = He,t.ShapeBufferGeometry = Xe,t.ExtrudeGeometry = ze,t.EdgesGeometry = je,t.ConeGeometry = Ze,t.ConeBufferGeometry = Je,t.CylinderGeometry = Ye,t.CylinderBufferGeometry = qe,t.CircleGeometry = Qe,t.CircleBufferGeometry = Ke,t.BoxGeometry = lt,t.BoxBufferGeometry = Ht,t.ShadowMaterial = $e,t.SpriteMaterial = At,t.RawShaderMaterial = ti,t.ShaderMaterial = Ft,t.PointsMaterial = ce,t.MultiMaterial = ei,t.MeshPhysicalMaterial = ni,t.MeshStandardMaterial = ii,t.MeshPhongMaterial = ri,t.MeshToonMaterial = ai,t.MeshNormalMaterial = oi,t.MeshLambertMaterial = si,t.MeshDepthMaterial = G,t.MeshBasicMaterial = kt,t.LineDashedMaterial = hi,t.LineBasicMaterial = se,t.Material = N,t.Float64BufferAttribute = at,t.Float32BufferAttribute = rt,t.Uint32BufferAttribute = nt,t.Int32BufferAttribute = it,t.Uint16BufferAttribute = et,t.Int16BufferAttribute = tt,t.Uint8ClampedBufferAttribute = $,t.Uint8BufferAttribute = K,t.Int8BufferAttribute = Q,t.BufferAttribute = J,t.REVISION = "84",t.MOUSE = {
                LEFT: 0,
                MIDDLE: 1,
                RIGHT: 2
            },t.CullFaceNone = 0,t.CullFaceBack = 1,t.CullFaceFront = 2,t.CullFaceFrontBack = 3,t.FrontFaceDirectionCW = 0,t.FrontFaceDirectionCCW = 1,t.BasicShadowMap = 0,t.PCFShadowMap = 1,t.PCFSoftShadowMap = 2,t.FrontSide = 0,t.BackSide = 1,t.DoubleSide = 2,t.FlatShading = 1,t.SmoothShading = 2,t.NoColors = 0,t.FaceColors = 1,t.VertexColors = 2,t.NoBlending = 0,t.NormalBlending = 1,t.AdditiveBlending = 2,t.SubtractiveBlending = 3,t.MultiplyBlending = 4,t.CustomBlending = 5,t.AddEquation = 100,t.SubtractEquation = 101,t.ReverseSubtractEquation = 102,t.MinEquation = 103,t.MaxEquation = 104,t.ZeroFactor = 200,t.OneFactor = 201,t.SrcColorFactor = 202,t.OneMinusSrcColorFactor = 203,t.SrcAlphaFactor = 204,t.OneMinusSrcAlphaFactor = 205,t.DstAlphaFactor = 206,t.OneMinusDstAlphaFactor = 207,t.DstColorFactor = 208,t.OneMinusDstColorFactor = 209,t.SrcAlphaSaturateFactor = 210,t.NeverDepth = 0,t.AlwaysDepth = 1,t.LessDepth = 2,t.LessEqualDepth = 3,t.EqualDepth = 4,t.GreaterEqualDepth = 5,t.GreaterDepth = 6,t.NotEqualDepth = 7,t.MultiplyOperation = 0,t.MixOperation = 1,t.AddOperation = 2,t.NoToneMapping = 0,t.LinearToneMapping = 1,t.ReinhardToneMapping = 2,t.Uncharted2ToneMapping = 3,t.CineonToneMapping = 4,t.UVMapping = 300,t.CubeReflectionMapping = 301,t.CubeRefractionMapping = 302,t.EquirectangularReflectionMapping = 303,t.EquirectangularRefractionMapping = 304,t.SphericalReflectionMapping = 305,t.CubeUVReflectionMapping = 306,t.CubeUVRefractionMapping = 307,t.RepeatWrapping = 1e3,t.ClampToEdgeWrapping = 1001,t.MirroredRepeatWrapping = 1002,t.NearestFilter = 1003,t.NearestMipMapNearestFilter = 1004,t.NearestMipMapLinearFilter = 1005,t.LinearFilter = 1006,t.LinearMipMapNearestFilter = 1007,t.LinearMipMapLinearFilter = 1008,t.UnsignedByteType = 1009,t.ByteType = 1010,t.ShortType = 1011,t.UnsignedShortType = 1012,t.IntType = 1013,t.UnsignedIntType = 1014,t.FloatType = 1015,t.HalfFloatType = 1016,t.UnsignedShort4444Type = 1017,t.UnsignedShort5551Type = 1018,t.UnsignedShort565Type = 1019,t.UnsignedInt248Type = 1020,t.AlphaFormat = 1021,t.RGBFormat = 1022,t.RGBAFormat = 1023,t.LuminanceFormat = 1024,t.LuminanceAlphaFormat = 1025,t.RGBEFormat = 1023,t.DepthFormat = 1026,t.DepthStencilFormat = 1027,t.RGB_S3TC_DXT1_Format = 2001,t.RGBA_S3TC_DXT1_Format = 2002,t.RGBA_S3TC_DXT3_Format = 2003,t.RGBA_S3TC_DXT5_Format = 2004,t.RGB_PVRTC_4BPPV1_Format = 2100,t.RGB_PVRTC_2BPPV1_Format = 2101,t.RGBA_PVRTC_4BPPV1_Format = 2102,t.RGBA_PVRTC_2BPPV1_Format = 2103,t.RGB_ETC1_Format = 2151,t.LoopOnce = 2200,t.LoopRepeat = 2201,t.LoopPingPong = 2202,t.InterpolateDiscrete = 2300,t.InterpolateLinear = 2301,t.InterpolateSmooth = 2302,t.ZeroCurvatureEnding = 2400,t.ZeroSlopeEnding = 2401,t.WrapAroundEnding = 2402,t.TrianglesDrawMode = 0,t.TriangleStripDrawMode = 1,t.TriangleFanDrawMode = 2,t.LinearEncoding = 3e3,t.sRGBEncoding = 3001,t.GammaEncoding = 3007,t.RGBEEncoding = 3002,t.LogLuvEncoding = 3003,t.RGBM7Encoding = 3004,t.RGBM16Encoding = 3005,t.RGBDEncoding = 3006,t.BasicDepthPacking = 3200,t.RGBADepthPacking = 3201,t.CubeGeometry = lt,t.Face4 = function (t, e, i, n, r, a, o) {
                return new Z(t, e, i, r, a, o)
            },t.LineStrip = 0,t.LinePieces = 1,t.MeshFaceMaterial = function (t) {
                return new ei(t)
            },t.PointCloud = function (t, e) {
                return new ue(t, e)
            },t.Particle = function (t) {
                return new Et(t)
            },t.ParticleSystem = function (t, e) {
                return new ue(t, e)
            },t.PointCloudMaterial = function (t) {
                return new ce(t)
            },t.ParticleBasicMaterial = function (t) {
                return new ce(t)
            },t.ParticleSystemMaterial = function (t) {
                return new ce(t)
            },t.Vertex = function (t, e, i) {
                return new Rt(t, e, i)
            },t.DynamicBufferAttribute = function (t, e) {
                return new J(t, e).setDynamic(!0)
            },t.Int8Attribute = function (t, e) {
                return new Q(t, e)
            },t.Uint8Attribute = function (t, e) {
                return new K(t, e)
            },t.Uint8ClampedAttribute = function (t, e) {
                return new $(t, e)
            },t.Int16Attribute = function (t, e) {
                return new tt(t, e)
            },t.Uint16Attribute = function (t, e) {
                return new et(t, e)
            },t.Int32Attribute = function (t, e) {
                return new it(t, e)
            },t.Uint32Attribute = function (t, e) {
                return new nt(t, e)
            },t.Float32Attribute = function (t, e) {
                return new rt(t, e)
            },t.Float64Attribute = function (t, e) {
                return new at(t, e)
            },t.ClosedSplineCurve3 = $n,t.SplineCurve3 = tr,t.Spline = er,t.BoundingBoxHelper = function (t, e) {
                return new Hn(t, e)
            },t.EdgesHelper = function (t, e) {
                return new le(new je(t.geometry), new se({color: void 0 !== e ? e : 16777215}))
            },t.WireframeHelper = function (t, e) {
                return new le(new ve(t.geometry), new se({color: void 0 !== e ? e : 16777215}))
            },t.XHRLoader = function (t) {
                return new ci(t)
            },t.BinaryTextureLoader = function (t) {
                return new pi(t)
            },t.GeometryUtils = {
                merge: function (t, e, i) {
                    var n;
                    e.isMesh && (e.matrixAutoUpdate && e.updateMatrix(), n = e.matrix, e = e.geometry), t.merge(e, n, i)
                }, center: function (t) {
                    return t.center()
                }
            },t.ImageUtils = {
                crossOrigin: void 0, loadTexture: function (t, e, i, n) {
                    var r = new mi;
                    return r.setCrossOrigin(this.crossOrigin), t = r.load(t, i, void 0, n), e && (t.mapping = e), t
                }, loadTextureCube: function (t, e, i, n) {
                    var r = new fi;
                    return r.setCrossOrigin(this.crossOrigin), t = r.load(t, i, void 0, n), e && (t.mapping = e), t
                }, loadCompressedTexture: function () {
                }, loadCompressedTextureCube: function () {
                }
            },t.Projector = function () {
                this.projectVector = function (t, e) {
                    t.project(e)
                }, this.unprojectVector = function (t, e) {
                    t.unproject(e)
                }, this.pickingRay = function () {
                }
            },t.CanvasRenderer = function () {
                this.domElement = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), this.clear = function () {
                }, this.render = function () {
                }, this.setClearColor = function () {
                }, this.setSize = function () {
                }
            },Object.defineProperty(t, "__esModule", {value: !0})
        }, "object" === (0, zs.default)(e) && void 0 !== t ? o(e) : (r = [e], void 0 === (a = "function" == typeof (n = o) ? n.apply(e, r) : n) || (t.exports = a))
    }, 77: function (t, e, i) {
        "use strict";
        var n = i(130);
        t.exports = n
    }
}]);
